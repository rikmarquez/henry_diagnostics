(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function Ny(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pf={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function Oy(){if(Wp)return Yo;Wp=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:t,type:n,key:l,ref:a!==void 0?a:null,props:o}}return Yo.Fragment=e,Yo.jsx=r,Yo.jsxs=r,Yo}var Jp;function Ty(){return Jp||(Jp=1,Pf.exports=Oy()),Pf.exports}var p=Ty(),Lf={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function Dy(){if(ev)return Me;ev=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function S(j,ae,F){this.props=j,this.context=ae,this.refs=w,this.updater=F||_}S.prototype.isReactComponent={},S.prototype.setState=function(j,ae){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ae,"setState")},S.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=S.prototype;function E(j,ae,F){this.props=j,this.context=ae,this.refs=w,this.updater=F||_}var N=E.prototype=new T;N.constructor=E,b(N,S.prototype),N.isPureReactComponent=!0;var R=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function Z(j,ae,F,q,me,Be){return F=Be.ref,{$$typeof:t,type:j,key:ae,ref:F!==void 0?F:null,props:Be}}function ee(j,ae){return Z(j.type,ae,void 0,void 0,void 0,j.props)}function ie(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function se(j){var ae={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(F){return ae[F]})}var ye=/\/+/g;function le(j,ae){return typeof j=="object"&&j!==null&&j.key!=null?se(""+j.key):ae.toString(36)}function ve(){}function ce(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ve,ve):(j.status="pending",j.then(function(ae){j.status==="pending"&&(j.status="fulfilled",j.value=ae)},function(ae){j.status==="pending"&&(j.status="rejected",j.reason=ae)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function he(j,ae,F,q,me){var Be=typeof j;(Be==="undefined"||Be==="boolean")&&(j=null);var Oe=!1;if(j===null)Oe=!0;else switch(Be){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(j.$$typeof){case t:case e:Oe=!0;break;case m:return Oe=j._init,he(Oe(j._payload),ae,F,q,me)}}if(Oe)return me=me(j),Oe=q===""?"."+le(j,0):q,R(me)?(F="",Oe!=null&&(F=Oe.replace(ye,"$&/")+"/"),he(me,ae,F,"",function(Pr){return Pr})):me!=null&&(ie(me)&&(me=ee(me,F+(me.key==null||j&&j.key===me.key?"":(""+me.key).replace(ye,"$&/")+"/")+Oe)),ae.push(me)),1;Oe=0;var Kt=q===""?".":q+":";if(R(j))for(var ot=0;ot<j.length;ot++)q=j[ot],Be=Kt+le(q,ot),Oe+=he(q,ae,F,Be,me);else if(ot=y(j),typeof ot=="function")for(j=ot.call(j),ot=0;!(q=j.next()).done;)q=q.value,Be=Kt+le(q,ot++),Oe+=he(q,ae,F,Be,me);else if(Be==="object"){if(typeof j.then=="function")return he(ce(j),ae,F,q,me);throw ae=String(j),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function P(j,ae,F){if(j==null)return j;var q=[],me=0;return he(j,q,"","",function(Be){return ae.call(F,Be,me++)}),q}function oe(j){if(j._status===-1){var ae=j._result;ae=ae(),ae.then(function(F){(j._status===0||j._status===-1)&&(j._status=1,j._result=F)},function(F){(j._status===0||j._status===-1)&&(j._status=2,j._result=F)}),j._status===-1&&(j._status=0,j._result=ae)}if(j._status===1)return j._result.default;throw j._result}var re=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Ae(){}return Me.Children={map:P,forEach:function(j,ae,F){P(j,function(){ae.apply(this,arguments)},F)},count:function(j){var ae=0;return P(j,function(){ae++}),ae},toArray:function(j){return P(j,function(ae){return ae})||[]},only:function(j){if(!ie(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Me.Component=S,Me.Fragment=r,Me.Profiler=a,Me.PureComponent=E,Me.StrictMode=n,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Me.__COMPILER_RUNTIME={__proto__:null,c:function(j){return M.H.useMemoCache(j)}},Me.cache=function(j){return function(){return j.apply(null,arguments)}},Me.cloneElement=function(j,ae,F){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var q=b({},j.props),me=j.key,Be=void 0;if(ae!=null)for(Oe in ae.ref!==void 0&&(Be=void 0),ae.key!==void 0&&(me=""+ae.key),ae)!k.call(ae,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ae.ref===void 0||(q[Oe]=ae[Oe]);var Oe=arguments.length-2;if(Oe===1)q.children=F;else if(1<Oe){for(var Kt=Array(Oe),ot=0;ot<Oe;ot++)Kt[ot]=arguments[ot+2];q.children=Kt}return Z(j.type,me,void 0,void 0,Be,q)},Me.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Me.createElement=function(j,ae,F){var q,me={},Be=null;if(ae!=null)for(q in ae.key!==void 0&&(Be=""+ae.key),ae)k.call(ae,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(me[q]=ae[q]);var Oe=arguments.length-2;if(Oe===1)me.children=F;else if(1<Oe){for(var Kt=Array(Oe),ot=0;ot<Oe;ot++)Kt[ot]=arguments[ot+2];me.children=Kt}if(j&&j.defaultProps)for(q in Oe=j.defaultProps,Oe)me[q]===void 0&&(me[q]=Oe[q]);return Z(j,Be,void 0,void 0,null,me)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(j){return{$$typeof:c,render:j}},Me.isValidElement=ie,Me.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:oe}},Me.memo=function(j,ae){return{$$typeof:h,type:j,compare:ae===void 0?null:ae}},Me.startTransition=function(j){var ae=M.T,F={};M.T=F;try{var q=j(),me=M.S;me!==null&&me(F,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Ae,re)}catch(Be){re(Be)}finally{M.T=ae}},Me.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Me.use=function(j){return M.H.use(j)},Me.useActionState=function(j,ae,F){return M.H.useActionState(j,ae,F)},Me.useCallback=function(j,ae){return M.H.useCallback(j,ae)},Me.useContext=function(j){return M.H.useContext(j)},Me.useDebugValue=function(){},Me.useDeferredValue=function(j,ae){return M.H.useDeferredValue(j,ae)},Me.useEffect=function(j,ae,F){var q=M.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(j,ae)},Me.useId=function(){return M.H.useId()},Me.useImperativeHandle=function(j,ae,F){return M.H.useImperativeHandle(j,ae,F)},Me.useInsertionEffect=function(j,ae){return M.H.useInsertionEffect(j,ae)},Me.useLayoutEffect=function(j,ae){return M.H.useLayoutEffect(j,ae)},Me.useMemo=function(j,ae){return M.H.useMemo(j,ae)},Me.useOptimistic=function(j,ae){return M.H.useOptimistic(j,ae)},Me.useReducer=function(j,ae,F){return M.H.useReducer(j,ae,F)},Me.useRef=function(j){return M.H.useRef(j)},Me.useState=function(j){return M.H.useState(j)},Me.useSyncExternalStore=function(j,ae,F){return M.H.useSyncExternalStore(j,ae,F)},Me.useTransition=function(){return M.H.useTransition()},Me.version="19.1.0",Me}var tv;function Bd(){return tv||(tv=1,Lf.exports=Dy()),Lf.exports}var W=Bd();const en=Ny(W);var kf={exports:{}},$o={},Ff={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function Ry(){return rv||(rv=1,function(t){function e(P,oe){var re=P.length;P.push(oe);e:for(;0<re;){var Ae=re-1>>>1,j=P[Ae];if(0<a(j,oe))P[Ae]=oe,P[re]=j,re=Ae;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var oe=P[0],re=P.pop();if(re!==oe){P[0]=re;e:for(var Ae=0,j=P.length,ae=j>>>1;Ae<ae;){var F=2*(Ae+1)-1,q=P[F],me=F+1,Be=P[me];if(0>a(q,re))me<j&&0>a(Be,q)?(P[Ae]=Be,P[me]=re,Ae=me):(P[Ae]=q,P[F]=re,Ae=F);else if(me<j&&0>a(Be,re))P[Ae]=Be,P[me]=re,Ae=me;else break e}}return oe}function a(P,oe){var re=P.sortIndex-oe.sortIndex;return re!==0?re:P.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,x=null,y=3,_=!1,b=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(P){for(var oe=r(h);oe!==null;){if(oe.callback===null)n(h);else if(oe.startTime<=P)n(h),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=r(h)}}function M(P){if(w=!1,R(P),!b)if(r(d)!==null)b=!0,k||(k=!0,le());else{var oe=r(h);oe!==null&&he(M,oe.startTime-P)}}var k=!1,Z=-1,ee=5,ie=-1;function se(){return S?!0:!(t.unstable_now()-ie<ee)}function ye(){if(S=!1,k){var P=t.unstable_now();ie=P;var oe=!0;try{e:{b=!1,w&&(w=!1,E(Z),Z=-1),_=!0;var re=y;try{t:{for(R(P),x=r(d);x!==null&&!(x.expirationTime>P&&se());){var Ae=x.callback;if(typeof Ae=="function"){x.callback=null,y=x.priorityLevel;var j=Ae(x.expirationTime<=P);if(P=t.unstable_now(),typeof j=="function"){x.callback=j,R(P),oe=!0;break t}x===r(d)&&n(d),R(P)}else n(d);x=r(d)}if(x!==null)oe=!0;else{var ae=r(h);ae!==null&&he(M,ae.startTime-P),oe=!1}}break e}finally{x=null,y=re,_=!1}oe=void 0}}finally{oe?le():k=!1}}}var le;if(typeof N=="function")le=function(){N(ye)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ce=ve.port2;ve.port1.onmessage=ye,le=function(){ce.postMessage(null)}}else le=function(){T(ye,0)};function he(P,oe){Z=T(function(){P(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(P){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var re=y;y=oe;try{return P()}finally{y=re}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(P,oe){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var re=y;y=P;try{return oe()}finally{y=re}},t.unstable_scheduleCallback=function(P,oe,re){var Ae=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ae+re:Ae):re=Ae,P){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=re+j,P={id:m++,callback:oe,priorityLevel:P,startTime:re,expirationTime:j,sortIndex:-1},re>Ae?(P.sortIndex=re,e(h,P),r(d)===null&&P===r(h)&&(w?(E(Z),Z=-1):w=!0,he(M,re-Ae))):(P.sortIndex=j,e(d,P),b||_||(b=!0,k||(k=!0,le()))),P},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(P){var oe=y;return function(){var re=y;y=oe;try{return P.apply(this,arguments)}finally{y=re}}}}(Uf)),Uf}var nv;function Iy(){return nv||(nv=1,Ff.exports=Ry()),Ff.exports}var zf={exports:{}},ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function jy(){if(av)return ir;av=1;var t=Bd();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,h,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ir.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},ir.flushSync=function(d){var h=l.T,m=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=h,n.p=m,n.d.f()}},ir.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},ir.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ir.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,x=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:_}):m==="script"&&n.d.X(d,{crossOrigin:x,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ir.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},ir.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,x=c(m,h.crossOrigin);n.d.L(d,m,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ir.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},ir.requestFormReset=function(d){n.d.r(d)},ir.unstable_batchedUpdates=function(d,h){return d(h)},ir.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},ir.version="19.1.0",ir}var iv;function My(){if(iv)return zf.exports;iv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zf.exports=jy(),zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function By(){if(ov)return $o;ov=1;var t=Iy(),e=Bd(),r=My();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(n(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var u=i,f=s;;){var v=u.return;if(v===null)break;var g=v.alternate;if(g===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===g.child){for(g=v.child;g;){if(g===u)return c(v),i;if(g===f)return c(v),s;g=g.sibling}throw Error(n(188))}if(u.return!==f.return)u=v,f=g;else{for(var A=!1,C=v.child;C;){if(C===u){A=!0,u=v,f=g;break}if(C===f){A=!0,f=v,u=g;break}C=C.sibling}if(!A){for(C=g.child;C;){if(C===u){A=!0,u=g,f=v;break}if(C===f){A=!0,f=g,u=v;break}C=C.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=ye&&i[ye]||i["@@iterator"],typeof i=="function"?i:null)}var ve=Symbol.for("react.client.reference");function ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ve?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case k:return"SuspenseList";case ie:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case N:return(i.displayName||"Context")+".Provider";case E:return(i._context.displayName||"Context")+".Consumer";case R:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Z:return s=i.displayName||null,s!==null?s:ce(i.type)||"Memo";case ee:s=i._payload,i=i._init;try{return ce(i(s))}catch{}}return null}var he=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ae=[],j=-1;function ae(i){return{current:i}}function F(i){0>j||(i.current=Ae[j],Ae[j]=null,j--)}function q(i,s){j++,Ae[j]=i.current,i.current=s}var me=ae(null),Be=ae(null),Oe=ae(null),Kt=ae(null);function ot(i,s){switch(q(Oe,s),q(Be,i),q(me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Cp(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Cp(s),i=Np(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(me),q(me,i)}function Pr(){F(me),F(Be),F(Oe)}function ma(i){i.memoizedState!==null&&q(Kt,i);var s=me.current,u=Np(s,i.type);s!==u&&(q(Be,i),q(me,u))}function Ka(i){Be.current===i&&(F(me),F(Be)),Kt.current===i&&(F(Kt),Ho._currentValue=re)}var Qa=Object.prototype.hasOwnProperty,Ki=t.unstable_scheduleCallback,Wa=t.unstable_cancelCallback,bs=t.unstable_shouldYield,wu=t.unstable_requestPaint,Lr=t.unstable_now,l0=t.unstable_getCurrentPriorityLevel,Qi=t.unstable_ImmediatePriority,I=t.unstable_UserBlockingPriority,H=t.unstable_NormalPriority,Q=t.unstable_LowPriority,pe=t.unstable_IdlePriority,de=t.log,ue=t.unstable_setDisableYieldValue,be=null,Ie=null;function Ve(i){if(typeof de=="function"&&ue(i),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(be,i)}catch{}}var ut=Math.clz32?Math.clz32:Au,Ja=Math.log,un=Math.LN2;function Au(i){return i>>>=0,i===0?32:31-(Ja(i)/un|0)|0}var kn=256,Fn=4194304;function _n(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xa(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var v=0,g=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var C=f&134217727;return C!==0?(f=C&~g,f!==0?v=_n(f):(A&=C,A!==0?v=_n(A):u||(u=C&~i,u!==0&&(v=_n(u))))):(C=f&~g,C!==0?v=_n(C):A!==0?v=_n(A):u||(u=f&~i,u!==0&&(v=_n(u)))),v===0?0:s!==0&&s!==v&&(s&g)===0&&(g=v&-v,u=s&-s,g>=u||g===32&&(u&4194048)!==0)?s:v}function ga(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ws(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u0(){var i=kn;return kn<<=1,(kn&4194048)===0&&(kn=256),i}function c0(){var i=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),i}function Eu(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Wi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vg(i,s,u,f,v,g){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var C=i.entanglements,D=i.expirationTimes,z=i.hiddenUpdates;for(u=A&~u;0<u;){var K=31-ut(u),te=1<<K;C[K]=0,D[K]=-1;var G=z[K];if(G!==null)for(z[K]=null,K=0;K<G.length;K++){var X=G[K];X!==null&&(X.lane&=-536870913)}u&=~te}f!==0&&f0(i,f,0),g!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=g&~(A&~s))}function f0(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-ut(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function d0(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-ut(u),v=1<<f;v&s|i[f]&s&&(i[f]|=s),u&=~v}}function Su(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Cu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function h0(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:Xp(i.type))}function mg(i,s){var u=oe.p;try{return oe.p=i,s()}finally{oe.p=u}}var Un=Math.random().toString(36).slice(2),nr="__reactFiber$"+Un,vr="__reactProps$"+Un,ei="__reactContainer$"+Un,Nu="__reactEvents$"+Un,xg="__reactListeners$"+Un,gg="__reactHandles$"+Un,p0="__reactResources$"+Un,Ji="__reactMarker$"+Un;function Ou(i){delete i[nr],delete i[vr],delete i[Nu],delete i[xg],delete i[gg]}function ti(i){var s=i[nr];if(s)return s;for(var u=i.parentNode;u;){if(s=u[ei]||u[nr]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Rp(i);i!==null;){if(u=i[nr])return u;i=Rp(i)}return s}i=u,u=i.parentNode}return null}function ri(i){if(i=i[nr]||i[ei]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function eo(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function ni(i){var s=i[p0];return s||(s=i[p0]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ut(i){i[Ji]=!0}var v0=new Set,m0={};function ya(i,s){ai(i,s),ai(i+"Capture",s)}function ai(i,s){for(m0[i]=s,i=0;i<s.length;i++)v0.add(s[i])}var yg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),x0={},g0={};function _g(i){return Qa.call(g0,i)?!0:Qa.call(x0,i)?!1:yg.test(i)?g0[i]=!0:(x0[i]=!0,!1)}function As(i,s,u){if(_g(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function Es(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function bn(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}var Tu,y0;function ii(i){if(Tu===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Tu=s&&s[1]||"",y0=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tu+i+y0}var Du=!1;function Ru(i,s){if(!i||Du)return"";Du=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var G=X}Reflect.construct(i,[],te)}else{try{te.call()}catch(X){G=X}i.call(te.prototype)}}else{try{throw Error()}catch(X){G=X}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),A=g[0],C=g[1];if(A&&C){var D=A.split(`
`),z=C.split(`
`);for(v=f=0;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;for(;v<z.length&&!z[v].includes("DetermineComponentFrameRoot");)v++;if(f===D.length||v===z.length)for(f=D.length-1,v=z.length-1;1<=f&&0<=v&&D[f]!==z[v];)v--;for(;1<=f&&0<=v;f--,v--)if(D[f]!==z[v]){if(f!==1||v!==1)do if(f--,v--,0>v||D[f]!==z[v]){var K=`
`+D[f].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=f&&0<=v);break}}}finally{Du=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?ii(u):""}function bg(i){switch(i.tag){case 26:case 27:case 5:return ii(i.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return Ru(i.type,!1);case 11:return Ru(i.type.render,!1);case 1:return Ru(i.type,!0);case 31:return ii("Activity");default:return""}}function _0(i){try{var s="";do s+=bg(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function kr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function b0(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wg(i){var s=b0(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return v.call(this)},set:function(A){f=""+A,g.call(this,A)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ss(i){i._valueTracker||(i._valueTracker=wg(i))}function w0(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=b0(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function Cs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ag=/[\n"\\]/g;function Fr(i){return i.replace(Ag,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Iu(i,s,u,f,v,g,A,C){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+kr(s)):i.value!==""+kr(s)&&(i.value=""+kr(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?ju(i,A,kr(s)):u!=null?ju(i,A,kr(u)):f!=null&&i.removeAttribute("value"),v==null&&g!=null&&(i.defaultChecked=!!g),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+kr(C):i.removeAttribute("name")}function A0(i,s,u,f,v,g,A,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||u!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;u=u!=null?""+kr(u):"",s=s!=null?""+kr(s):u,C||s===i.value||(i.value=s),i.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=C?i.checked:!!f,i.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function ju(i,s,u){s==="number"&&Cs(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function oi(i,s,u,f){if(i=i.options,s){s={};for(var v=0;v<u.length;v++)s["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=s.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&f&&(i[u].defaultSelected=!0)}else{for(u=""+kr(u),s=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}s!==null||i[v].disabled||(s=i[v])}s!==null&&(s.selected=!0)}}function E0(i,s,u){if(s!=null&&(s=""+kr(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+kr(u):""}function S0(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(n(92));if(he(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=kr(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function si(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function C0(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||Eg.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function N0(i,s,u){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&u[v]!==f&&C0(i,v,f)}else for(var g in s)s.hasOwnProperty(g)&&C0(i,g,s[g])}function Mu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(i){return Cg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Bu=null;function Pu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var li=null,ui=null;function O0(i){var s=ri(i);if(s&&(i=s.stateNode)){var u=i[vr]||null;e:switch(i=s.stateNode,s.type){case"input":if(Iu(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Fr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var v=f[vr]||null;if(!v)throw Error(n(90));Iu(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&w0(f)}break e;case"textarea":E0(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&oi(i,!!u.multiple,s,!1)}}}var Lu=!1;function T0(i,s,u){if(Lu)return i(s,u);Lu=!0;try{var f=i(s);return f}finally{if(Lu=!1,(li!==null||ui!==null)&&(dl(),li&&(s=li,i=ui,ui=li=null,O0(s),i)))for(s=0;s<i.length;s++)O0(i[s])}}function to(i,s){var u=i.stateNode;if(u===null)return null;var f=u[vr]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=!1;if(wn)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){ku=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{ku=!1}var zn=null,Fu=null,Os=null;function D0(){if(Os)return Os;var i,s=Fu,u=s.length,f,v="value"in zn?zn.value:zn.textContent,g=v.length;for(i=0;i<u&&s[i]===v[i];i++);var A=u-i;for(f=1;f<=A&&s[u-f]===v[g-f];f++);return Os=v.slice(i,1<f?1-f:void 0)}function Ts(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ds(){return!0}function R0(){return!1}function mr(i){function s(u,f,v,g,A){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ds:R0,this.isPropagationStopped=R0,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),s}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=mr(_a),no=m({},_a,{view:0,detail:0}),Ng=mr(no),Uu,zu,ao,Is=m({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ao&&(ao&&i.type==="mousemove"?(Uu=i.screenX-ao.screenX,zu=i.screenY-ao.screenY):zu=Uu=0,ao=i),Uu)},movementY:function(i){return"movementY"in i?i.movementY:zu}}),I0=mr(Is),Og=m({},Is,{dataTransfer:0}),Tg=mr(Og),Dg=m({},no,{relatedTarget:0}),Vu=mr(Dg),Rg=m({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=mr(Rg),jg=m({},_a,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Mg=mr(jg),Bg=m({},_a,{data:0}),j0=mr(Bg),Pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fg(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=kg[i])?!!s[i]:!1}function Hu(){return Fg}var Ug=m({},no,{key:function(i){if(i.key){var s=Pg[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ts(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Lg[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(i){return i.type==="keypress"?Ts(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ts(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zg=mr(Ug),Vg=m({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M0=mr(Vg),Hg=m({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),Gg=mr(Hg),Zg=m({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xg=mr(Zg),qg=m({},Is,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Yg=mr(qg),$g=m({},_a,{newState:0,oldState:0}),Kg=mr($g),Qg=[9,13,27,32],Gu=wn&&"CompositionEvent"in window,io=null;wn&&"documentMode"in document&&(io=document.documentMode);var Wg=wn&&"TextEvent"in window&&!io,B0=wn&&(!Gu||io&&8<io&&11>=io),P0=" ",L0=!1;function k0(i,s){switch(i){case"keyup":return Qg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ci=!1;function Jg(i,s){switch(i){case"compositionend":return F0(s);case"keypress":return s.which!==32?null:(L0=!0,P0);case"textInput":return i=s.data,i===P0&&L0?null:i;default:return null}}function e2(i,s){if(ci)return i==="compositionend"||!Gu&&k0(i,s)?(i=D0(),Os=Fu=zn=null,ci=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return B0&&s.locale!=="ko"?null:s.data;default:return null}}var t2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!t2[i.type]:s==="textarea"}function z0(i,s,u,f){li?ui?ui.push(f):ui=[f]:li=f,s=gl(s,"onChange"),0<s.length&&(u=new Rs("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var oo=null,so=null;function r2(i){bp(i,0)}function js(i){var s=eo(i);if(w0(s))return i}function V0(i,s){if(i==="change")return s}var H0=!1;if(wn){var Zu;if(wn){var Xu="oninput"in document;if(!Xu){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Xu=typeof G0.oninput=="function"}Zu=Xu}else Zu=!1;H0=Zu&&(!document.documentMode||9<document.documentMode)}function Z0(){oo&&(oo.detachEvent("onpropertychange",X0),so=oo=null)}function X0(i){if(i.propertyName==="value"&&js(so)){var s=[];z0(s,so,i,Pu(i)),T0(r2,s)}}function n2(i,s,u){i==="focusin"?(Z0(),oo=s,so=u,oo.attachEvent("onpropertychange",X0)):i==="focusout"&&Z0()}function a2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return js(so)}function i2(i,s){if(i==="click")return js(s)}function o2(i,s){if(i==="input"||i==="change")return js(s)}function s2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Nr=typeof Object.is=="function"?Object.is:s2;function lo(i,s){if(Nr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!Qa.call(s,v)||!Nr(i[v],s[v]))return!1}return!0}function q0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Y0(i,s){var u=q0(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=q0(u)}}function $0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function K0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Cs(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Cs(i.document)}return s}function qu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var l2=wn&&"documentMode"in document&&11>=document.documentMode,fi=null,Yu=null,uo=null,$u=!1;function Q0(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$u||fi==null||fi!==Cs(f)||(f=fi,"selectionStart"in f&&qu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),uo&&lo(uo,f)||(uo=f,f=gl(Yu,"onSelect"),0<f.length&&(s=new Rs("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=fi)))}function ba(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var di={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Ku={},W0={};wn&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function wa(i){if(Ku[i])return Ku[i];if(!di[i])return i;var s=di[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in W0)return Ku[i]=s[u];return i}var J0=wa("animationend"),eh=wa("animationiteration"),th=wa("animationstart"),u2=wa("transitionrun"),c2=wa("transitionstart"),f2=wa("transitioncancel"),rh=wa("transitionend"),nh=new Map,Qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qu.push("scrollEnd");function Kr(i,s){nh.set(i,s),ya(s,[i])}var ah=new WeakMap;function Ur(i,s){if(typeof i=="object"&&i!==null){var u=ah.get(i);return u!==void 0?u:(s={value:i,source:s,stack:_0(s)},ah.set(i,s),s)}return{value:i,source:s,stack:_0(s)}}var zr=[],hi=0,Wu=0;function Ms(){for(var i=hi,s=Wu=hi=0;s<i;){var u=zr[s];zr[s++]=null;var f=zr[s];zr[s++]=null;var v=zr[s];zr[s++]=null;var g=zr[s];if(zr[s++]=null,f!==null&&v!==null){var A=f.pending;A===null?v.next=v:(v.next=A.next,A.next=v),f.pending=v}g!==0&&ih(u,v,g)}}function Bs(i,s,u,f){zr[hi++]=i,zr[hi++]=s,zr[hi++]=u,zr[hi++]=f,Wu|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Ju(i,s,u,f){return Bs(i,s,u,f),Ps(i)}function pi(i,s){return Bs(i,null,null,s),Ps(i)}function ih(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var v=!1,g=i.return;g!==null;)g.childLanes|=u,f=g.alternate,f!==null&&(f.childLanes|=u),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(v=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,v&&s!==null&&(v=31-ut(u),i=g.hiddenUpdates,f=i[v],f===null?i[v]=[s]:f.push(s),s.lane=u|536870912),g):null}function Ps(i){if(50<Bo)throw Bo=0,of=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var vi={};function d2(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(i,s,u,f){return new d2(i,s,u,f)}function ec(i){return i=i.prototype,!(!i||!i.isReactComponent)}function An(i,s){var u=i.alternate;return u===null?(u=Or(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function oh(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ls(i,s,u,f,v,g){var A=0;if(f=i,typeof i=="function")ec(i)&&(A=1);else if(typeof i=="string")A=py(i,u,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ie:return i=Or(31,u,s,v),i.elementType=ie,i.lanes=g,i;case b:return Aa(u.children,v,g,s);case w:A=8,v|=24;break;case S:return i=Or(12,u,s,v|2),i.elementType=S,i.lanes=g,i;case M:return i=Or(13,u,s,v),i.elementType=M,i.lanes=g,i;case k:return i=Or(19,u,s,v),i.elementType=k,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case N:A=10;break e;case E:A=9;break e;case R:A=11;break e;case Z:A=14;break e;case ee:A=16,f=null;break e}A=29,u=Error(n(130,i===null?"null":typeof i,"")),f=null}return s=Or(A,u,s,v),s.elementType=i,s.type=f,s.lanes=g,s}function Aa(i,s,u,f){return i=Or(7,i,f,s),i.lanes=u,i}function tc(i,s,u){return i=Or(6,i,null,s),i.lanes=u,i}function rc(i,s,u){return s=Or(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var mi=[],xi=0,ks=null,Fs=0,Vr=[],Hr=0,Ea=null,En=1,Sn="";function Sa(i,s){mi[xi++]=Fs,mi[xi++]=ks,ks=i,Fs=s}function sh(i,s,u){Vr[Hr++]=En,Vr[Hr++]=Sn,Vr[Hr++]=Ea,Ea=i;var f=En;i=Sn;var v=32-ut(f)-1;f&=~(1<<v),u+=1;var g=32-ut(s)+v;if(30<g){var A=v-v%5;g=(f&(1<<A)-1).toString(32),f>>=A,v-=A,En=1<<32-ut(s)+v|u<<v|f,Sn=g+i}else En=1<<g|u<<v|f,Sn=i}function nc(i){i.return!==null&&(Sa(i,1),sh(i,1,0))}function ac(i){for(;i===ks;)ks=mi[--xi],mi[xi]=null,Fs=mi[--xi],mi[xi]=null;for(;i===Ea;)Ea=Vr[--Hr],Vr[Hr]=null,Sn=Vr[--Hr],Vr[Hr]=null,En=Vr[--Hr],Vr[Hr]=null}var ur=null,_t=null,Ye=!1,Ca=null,cn=!1,ic=Error(n(519));function Na(i){var s=Error(n(418,""));throw ho(Ur(s,i)),ic}function lh(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[nr]=i,s[vr]=f,u){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(u=0;u<Lo.length;u++)ze(Lo[u],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),A0(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ss(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),S0(s,f.value,f.defaultValue,f.children),Ss(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||Sp(s.textContent,u)?(f.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),f.onScroll!=null&&ze("scroll",s),f.onScrollEnd!=null&&ze("scrollend",s),f.onClick!=null&&(s.onclick=yl),s=!0):s=!1,s||Na(i)}function uh(i){for(ur=i.return;ur;)switch(ur.tag){case 5:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:ur=ur.return}}function co(i){if(i!==ur)return!1;if(!Ye)return uh(i),Ye=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||wf(i.type,i.memoizedProps)),u=!u),u&&_t&&Na(i),uh(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){_t=Wr(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}_t=null}}else s===27?(s=_t,na(i.type)?(i=Cf,Cf=null,_t=i):_t=s):_t=ur?Wr(i.stateNode.nextSibling):null;return!0}function fo(){_t=ur=null,Ye=!1}function ch(){var i=Ca;return i!==null&&(yr===null?yr=i:yr.push.apply(yr,i),Ca=null),i}function ho(i){Ca===null?Ca=[i]:Ca.push(i)}var oc=ae(null),Oa=null,Cn=null;function Vn(i,s,u){q(oc,s._currentValue),s._currentValue=u}function Nn(i){i._currentValue=oc.current,F(oc)}function sc(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function lc(i,s,u,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var g=v.dependencies;if(g!==null){var A=v.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=v;for(var D=0;D<s.length;D++)if(C.context===s[D]){g.lanes|=u,C=g.alternate,C!==null&&(C.lanes|=u),sc(g.return,u,i),f||(A=null);break e}g=C.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(n(341));A.lanes|=u,g=A.alternate,g!==null&&(g.lanes|=u),sc(A,u,i),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===i){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function po(i,s,u,f){i=null;for(var v=s,g=!1;v!==null;){if(!g){if((v.flags&524288)!==0)g=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var C=v.type;Nr(v.pendingProps.value,A.value)||(i!==null?i.push(C):i=[C])}}else if(v===Kt.current){if(A=v.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Ho):i=[Ho])}v=v.return}i!==null&&lc(s,i,u,f),s.flags|=262144}function Us(i){for(i=i.firstContext;i!==null;){if(!Nr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){Oa=i,Cn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ar(i){return fh(Oa,i)}function zs(i,s){return Oa===null&&Ta(i),fh(i,s)}function fh(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Cn===null){if(i===null)throw Error(n(308));Cn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Cn=Cn.next=s;return u}var h2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},p2=t.unstable_scheduleCallback,v2=t.unstable_NormalPriority,Rt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uc(){return{controller:new h2,data:new Map,refCount:0}}function vo(i){i.refCount--,i.refCount===0&&p2(v2,function(){i.controller.abort()})}var mo=null,cc=0,gi=0,yi=null;function m2(i,s){if(mo===null){var u=mo=[];cc=0,gi=hf(),yi={status:"pending",value:void 0,then:function(f){u.push(f)}}}return cc++,s.then(dh,dh),s}function dh(){if(--cc===0&&mo!==null){yi!==null&&(yi.status="fulfilled");var i=mo;mo=null,gi=0,yi=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function x2(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<u.length;v++)(0,u[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var hh=P.S;P.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&m2(i,s),hh!==null&&hh(i,s)};var Da=ae(null);function fc(){var i=Da.current;return i!==null?i:ct.pooledCache}function Vs(i,s){s===null?q(Da,Da.current):q(Da,s.pool)}function ph(){var i=fc();return i===null?null:{parent:Rt._currentValue,pool:i}}var xo=Error(n(460)),vh=Error(n(474)),Hs=Error(n(542)),dc={then:function(){}};function mh(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gs(){}function xh(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Gs,Gs),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,yh(i),i;default:if(typeof s.status=="string")s.then(Gs,Gs);else{if(i=ct,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,yh(i),i}throw go=s,xo}}var go=null;function gh(){if(go===null)throw Error(n(459));var i=go;return go=null,i}function yh(i){if(i===xo||i===Hs)throw Error(n(483))}var Hn=!1;function hc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pc(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zn(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(We&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=Ps(i),ih(i,null,u),s}return Bs(i,f,s,u),Ps(i)}function yo(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,d0(i,u)}}function vc(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,g=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};g===null?v=g=A:g=g.next=A,u=u.next}while(u!==null);g===null?v=g=s:g=g.next=s}else v=g=s;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var mc=!1;function _o(){if(mc){var i=yi;if(i!==null)throw i}}function bo(i,s,u,f){mc=!1;var v=i.updateQueue;Hn=!1;var g=v.firstBaseUpdate,A=v.lastBaseUpdate,C=v.shared.pending;if(C!==null){v.shared.pending=null;var D=C,z=D.next;D.next=null,A===null?g=z:A.next=z,A=D;var K=i.alternate;K!==null&&(K=K.updateQueue,C=K.lastBaseUpdate,C!==A&&(C===null?K.firstBaseUpdate=z:C.next=z,K.lastBaseUpdate=D))}if(g!==null){var te=v.baseState;A=0,K=z=D=null,C=g;do{var G=C.lane&-536870913,X=G!==C.lane;if(X?(He&G)===G:(f&G)===G){G!==0&&G===gi&&(mc=!0),K!==null&&(K=K.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Re=i,Ne=C;G=s;var at=u;switch(Ne.tag){case 1:if(Re=Ne.payload,typeof Re=="function"){te=Re.call(at,te,G);break e}te=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ne.payload,G=typeof Re=="function"?Re.call(at,te,G):Re,G==null)break e;te=m({},te,G);break e;case 2:Hn=!0}}G=C.callback,G!==null&&(i.flags|=64,X&&(i.flags|=8192),X=v.callbacks,X===null?v.callbacks=[G]:X.push(G))}else X={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},K===null?(z=K=X,D=te):K=K.next=X,A|=G;if(C=C.next,C===null){if(C=v.shared.pending,C===null)break;X=C,C=X.next,X.next=null,v.lastBaseUpdate=X,v.shared.pending=null}}while(!0);K===null&&(D=te),v.baseState=D,v.firstBaseUpdate=z,v.lastBaseUpdate=K,g===null&&(v.shared.lanes=0),Jn|=A,i.lanes=A,i.memoizedState=te}}function _h(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function bh(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)_h(u[i],s)}var _i=ae(null),Zs=ae(0);function wh(i,s){i=Mn,q(Zs,i),q(_i,s),Mn=i|s.baseLanes}function xc(){q(Zs,Mn),q(_i,_i.current)}function gc(){Mn=Zs.current,F(_i),F(Zs)}var Xn=0,Pe=null,rt=null,Nt=null,Xs=!1,bi=!1,Ra=!1,qs=0,wo=0,wi=null,g2=0;function wt(){throw Error(n(321))}function yc(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Nr(i[u],s[u]))return!1;return!0}function _c(i,s,u,f,v,g){return Xn=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=i===null||i.memoizedState===null?i1:o1,Ra=!1,g=u(f,v),Ra=!1,bi&&(g=Eh(s,u,f,v)),Ah(i),g}function Ah(i){P.H=Js;var s=rt!==null&&rt.next!==null;if(Xn=0,Nt=rt=Pe=null,Xs=!1,wo=0,wi=null,s)throw Error(n(300));i===null||zt||(i=i.dependencies,i!==null&&Us(i)&&(zt=!0))}function Eh(i,s,u,f){Pe=i;var v=0;do{if(bi&&(wi=null),wo=0,bi=!1,25<=v)throw Error(n(301));if(v+=1,Nt=rt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=S2,g=s(u,f)}while(bi);return g}function y2(){var i=P.H,s=i.useState()[0];return s=typeof s.then=="function"?Ao(s):s,i=i.useState()[0],(rt!==null?rt.memoizedState:null)!==i&&(Pe.flags|=1024),s}function bc(){var i=qs!==0;return qs=0,i}function wc(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Ac(i){if(Xs){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Xs=!1}Xn=0,Nt=rt=Pe=null,bi=!1,wo=qs=0,wi=null}function xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Pe.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function Ot(){if(rt===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=rt.next;var s=Nt===null?Pe.memoizedState:Nt.next;if(s!==null)Nt=s,rt=i;else{if(i===null)throw Pe.alternate===null?Error(n(467)):Error(n(310));rt=i,i={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Nt===null?Pe.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(i){var s=wo;return wo+=1,wi===null&&(wi=[]),i=xh(wi,i,s),s=Pe,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?i1:o1),i}function Ys(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ao(i);if(i.$$typeof===N)return ar(i)}throw Error(n(438,String(i)))}function Sc(i){var s=null,u=Pe.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Pe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Ec(),Pe.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=se;return s.index++,u}function On(i,s){return typeof s=="function"?s(i):s}function $s(i){var s=Ot();return Cc(s,rt,i)}function Cc(i,s,u){var f=i.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var v=i.baseQueue,g=f.pending;if(g!==null){if(v!==null){var A=v.next;v.next=g.next,g.next=A}s.baseQueue=v=g,f.pending=null}if(g=i.baseState,v===null)i.memoizedState=g;else{s=v.next;var C=A=null,D=null,z=s,K=!1;do{var te=z.lane&-536870913;if(te!==z.lane?(He&te)===te:(Xn&te)===te){var G=z.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),te===gi&&(K=!0);else if((Xn&G)===G){z=z.next,G===gi&&(K=!0);continue}else te={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(C=D=te,A=g):D=D.next=te,Pe.lanes|=G,Jn|=G;te=z.action,Ra&&u(g,te),g=z.hasEagerState?z.eagerState:u(g,te)}else G={lane:te,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(C=D=G,A=g):D=D.next=G,Pe.lanes|=te,Jn|=te;z=z.next}while(z!==null&&z!==s);if(D===null?A=g:D.next=C,!Nr(g,i.memoizedState)&&(zt=!0,K&&(u=yi,u!==null)))throw u;i.memoizedState=g,i.baseState=A,i.baseQueue=D,f.lastRenderedState=g}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Nc(i){var s=Ot(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,v=u.pending,g=s.memoizedState;if(v!==null){u.pending=null;var A=v=v.next;do g=i(g,A.action),A=A.next;while(A!==v);Nr(g,s.memoizedState)||(zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),u.lastRenderedState=g}return[g,f]}function Sh(i,s,u){var f=Pe,v=Ot(),g=Ye;if(g){if(u===void 0)throw Error(n(407));u=u()}else u=s();var A=!Nr((rt||v).memoizedState,u);A&&(v.memoizedState=u,zt=!0),v=v.queue;var C=Oh.bind(null,f,v,i);if(Eo(2048,8,C,[i]),v.getSnapshot!==s||A||Nt!==null&&Nt.memoizedState.tag&1){if(f.flags|=2048,Ai(9,Ks(),Nh.bind(null,f,v,u,s),null),ct===null)throw Error(n(349));g||(Xn&124)!==0||Ch(f,s,u)}return u}function Ch(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Pe.updateQueue,s===null?(s=Ec(),Pe.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Nh(i,s,u,f){s.value=u,s.getSnapshot=f,Th(s)&&Dh(i)}function Oh(i,s,u){return u(function(){Th(s)&&Dh(i)})}function Th(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Nr(i,u)}catch{return!0}}function Dh(i){var s=pi(i,2);s!==null&&jr(s,i,2)}function Oc(i){var s=xr();if(typeof i=="function"){var u=i;if(i=u(),Ra){Ve(!0);try{u()}finally{Ve(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:i},s}function Rh(i,s,u,f){return i.baseState=u,Cc(i,rt,typeof f=="function"?f:On)}function _2(i,s,u,f,v){if(Ws(i))throw Error(n(485));if(i=s.action,i!==null){var g={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};P.T!==null?u(!0):g.isTransition=!1,f(g),u=s.pending,u===null?(g.next=s.pending=g,Ih(s,g)):(g.next=u.next,s.pending=u.next=g)}}function Ih(i,s){var u=s.action,f=s.payload,v=i.state;if(s.isTransition){var g=P.T,A={};P.T=A;try{var C=u(v,f),D=P.S;D!==null&&D(A,C),jh(i,s,C)}catch(z){Tc(i,s,z)}finally{P.T=g}}else try{g=u(v,f),jh(i,s,g)}catch(z){Tc(i,s,z)}}function jh(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Mh(i,s,f)},function(f){return Tc(i,s,f)}):Mh(i,s,u)}function Mh(i,s,u){s.status="fulfilled",s.value=u,Bh(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,Ih(i,u)))}function Tc(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,Bh(s),s=s.next;while(s!==f)}i.action=null}function Bh(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Ph(i,s){return s}function Lh(i,s){if(Ye){var u=ct.formState;if(u!==null){e:{var f=Pe;if(Ye){if(_t){t:{for(var v=_t,g=cn;v.nodeType!==8;){if(!g){v=null;break t}if(v=Wr(v.nextSibling),v===null){v=null;break t}}g=v.data,v=g==="F!"||g==="F"?v:null}if(v){_t=Wr(v.nextSibling),f=v.data==="F!";break e}}Na(f)}f=!1}f&&(s=u[0])}}return u=xr(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:s},u.queue=f,u=r1.bind(null,Pe,f),f.dispatch=u,f=Oc(!1),g=Mc.bind(null,Pe,!1,f.queue),f=xr(),v={state:s,dispatch:null,action:i,pending:null},f.queue=v,u=_2.bind(null,Pe,v,g,u),v.dispatch=u,f.memoizedState=i,[s,u,!1]}function kh(i){var s=Ot();return Fh(s,rt,i)}function Fh(i,s,u){if(s=Cc(i,s,Ph)[0],i=$s(On)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Ao(s)}catch(A){throw A===xo?Hs:A}else f=s;s=Ot();var v=s.queue,g=v.dispatch;return u!==s.memoizedState&&(Pe.flags|=2048,Ai(9,Ks(),b2.bind(null,v,u),null)),[f,g,i]}function b2(i,s){i.action=s}function Uh(i){var s=Ot(),u=rt;if(u!==null)return Fh(s,u,i);Ot(),s=s.memoizedState,u=Ot();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function Ai(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Ec(),Pe.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function Ks(){return{destroy:void 0,resource:void 0}}function zh(){return Ot().memoizedState}function Qs(i,s,u,f){var v=xr();f=f===void 0?null:f,Pe.flags|=i,v.memoizedState=Ai(1|s,Ks(),u,f)}function Eo(i,s,u,f){var v=Ot();f=f===void 0?null:f;var g=v.memoizedState.inst;rt!==null&&f!==null&&yc(f,rt.memoizedState.deps)?v.memoizedState=Ai(s,g,u,f):(Pe.flags|=i,v.memoizedState=Ai(1|s,g,u,f))}function Vh(i,s){Qs(8390656,8,i,s)}function Hh(i,s){Eo(2048,8,i,s)}function Gh(i,s){return Eo(4,2,i,s)}function Zh(i,s){return Eo(4,4,i,s)}function Xh(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qh(i,s,u){u=u!=null?u.concat([i]):null,Eo(4,4,Xh.bind(null,s,i),u)}function Dc(){}function Yh(i,s){var u=Ot();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&yc(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function $h(i,s){var u=Ot();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&yc(s,f[1]))return f[0];if(f=i(),Ra){Ve(!0);try{i()}finally{Ve(!1)}}return u.memoizedState=[f,s],f}function Rc(i,s,u){return u===void 0||(Xn&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=W1(),Pe.lanes|=i,Jn|=i,u)}function Kh(i,s,u,f){return Nr(u,s)?u:_i.current!==null?(i=Rc(i,u,f),Nr(i,s)||(zt=!0),i):(Xn&42)===0?(zt=!0,i.memoizedState=u):(i=W1(),Pe.lanes|=i,Jn|=i,s)}function Qh(i,s,u,f,v){var g=oe.p;oe.p=g!==0&&8>g?g:8;var A=P.T,C={};P.T=C,Mc(i,!1,s,u);try{var D=v(),z=P.S;if(z!==null&&z(C,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=x2(D,f);So(i,s,K,Ir(i))}else So(i,s,f,Ir(i))}catch(te){So(i,s,{then:function(){},status:"rejected",reason:te},Ir())}finally{oe.p=g,P.T=A}}function w2(){}function Ic(i,s,u,f){if(i.tag!==5)throw Error(n(476));var v=Wh(i).queue;Qh(i,v,s,re,u===null?w2:function(){return Jh(i),u(f)})}function Wh(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:re},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Jh(i){var s=Wh(i).next.queue;So(i,s,{},Ir())}function jc(){return ar(Ho)}function e1(){return Ot().memoizedState}function t1(){return Ot().memoizedState}function A2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Ir();i=Gn(u);var f=Zn(s,i,u);f!==null&&(jr(f,s,u),yo(f,s,u)),s={cache:uc()},i.payload=s;return}s=s.return}}function E2(i,s,u){var f=Ir();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Ws(i)?n1(s,u):(u=Ju(i,s,u,f),u!==null&&(jr(u,i,f),a1(u,s,f)))}function r1(i,s,u){var f=Ir();So(i,s,u,f)}function So(i,s,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ws(i))n1(s,v);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var A=s.lastRenderedState,C=g(A,u);if(v.hasEagerState=!0,v.eagerState=C,Nr(C,A))return Bs(i,s,v,0),ct===null&&Ms(),!1}catch{}finally{}if(u=Ju(i,s,v,f),u!==null)return jr(u,i,f),a1(u,s,f),!0}return!1}function Mc(i,s,u,f){if(f={lane:2,revertLane:hf(),action:f,hasEagerState:!1,eagerState:null,next:null},Ws(i)){if(s)throw Error(n(479))}else s=Ju(i,u,f,2),s!==null&&jr(s,i,2)}function Ws(i){var s=i.alternate;return i===Pe||s!==null&&s===Pe}function n1(i,s){bi=Xs=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function a1(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,d0(i,u)}}var Js={readContext:ar,use:Ys,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},i1={readContext:ar,use:Ys,useCallback:function(i,s){return xr().memoizedState=[i,s===void 0?null:s],i},useContext:ar,useEffect:Vh,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Qs(4194308,4,Xh.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Qs(4194308,4,i,s)},useInsertionEffect:function(i,s){Qs(4,2,i,s)},useMemo:function(i,s){var u=xr();s=s===void 0?null:s;var f=i();if(Ra){Ve(!0);try{i()}finally{Ve(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=xr();if(u!==void 0){var v=u(s);if(Ra){Ve(!0);try{u(s)}finally{Ve(!1)}}}else v=s;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=E2.bind(null,Pe,i),[f.memoizedState,i]},useRef:function(i){var s=xr();return i={current:i},s.memoizedState=i},useState:function(i){i=Oc(i);var s=i.queue,u=r1.bind(null,Pe,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:Dc,useDeferredValue:function(i,s){var u=xr();return Rc(u,i,s)},useTransition:function(){var i=Oc(!1);return i=Qh.bind(null,Pe,i.queue,!0,!1),xr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=Pe,v=xr();if(Ye){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),ct===null)throw Error(n(349));(He&124)!==0||Ch(f,s,u)}v.memoizedState=u;var g={value:u,getSnapshot:s};return v.queue=g,Vh(Oh.bind(null,f,g,i),[i]),f.flags|=2048,Ai(9,Ks(),Nh.bind(null,f,g,u,s),null),u},useId:function(){var i=xr(),s=ct.identifierPrefix;if(Ye){var u=Sn,f=En;u=(f&~(1<<32-ut(f)-1)).toString(32)+u,s="«"+s+"R"+u,u=qs++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=g2++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:jc,useFormState:Lh,useActionState:Lh,useOptimistic:function(i){var s=xr();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Mc.bind(null,Pe,!0,u),u.dispatch=s,[i,s]},useMemoCache:Sc,useCacheRefresh:function(){return xr().memoizedState=A2.bind(null,Pe)}},o1={readContext:ar,use:Ys,useCallback:Yh,useContext:ar,useEffect:Hh,useImperativeHandle:qh,useInsertionEffect:Gh,useLayoutEffect:Zh,useMemo:$h,useReducer:$s,useRef:zh,useState:function(){return $s(On)},useDebugValue:Dc,useDeferredValue:function(i,s){var u=Ot();return Kh(u,rt.memoizedState,i,s)},useTransition:function(){var i=$s(On)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Ao(i),s]},useSyncExternalStore:Sh,useId:e1,useHostTransitionStatus:jc,useFormState:kh,useActionState:kh,useOptimistic:function(i,s){var u=Ot();return Rh(u,rt,i,s)},useMemoCache:Sc,useCacheRefresh:t1},S2={readContext:ar,use:Ys,useCallback:Yh,useContext:ar,useEffect:Hh,useImperativeHandle:qh,useInsertionEffect:Gh,useLayoutEffect:Zh,useMemo:$h,useReducer:Nc,useRef:zh,useState:function(){return Nc(On)},useDebugValue:Dc,useDeferredValue:function(i,s){var u=Ot();return rt===null?Rc(u,i,s):Kh(u,rt.memoizedState,i,s)},useTransition:function(){var i=Nc(On)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Ao(i),s]},useSyncExternalStore:Sh,useId:e1,useHostTransitionStatus:jc,useFormState:Uh,useActionState:Uh,useOptimistic:function(i,s){var u=Ot();return rt!==null?Rh(u,rt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Sc,useCacheRefresh:t1},Ei=null,Co=0;function el(i){var s=Co;return Co+=1,Ei===null&&(Ei=[]),xh(Ei,i,s)}function No(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function tl(i,s){throw s.$$typeof===x?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function s1(i){var s=i._init;return s(i._payload)}function l1(i){function s(L,B){if(i){var U=L.deletions;U===null?(L.deletions=[B],L.flags|=16):U.push(B)}}function u(L,B){if(!i)return null;for(;B!==null;)s(L,B),B=B.sibling;return null}function f(L){for(var B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function v(L,B){return L=An(L,B),L.index=0,L.sibling=null,L}function g(L,B,U){return L.index=U,i?(U=L.alternate,U!==null?(U=U.index,U<B?(L.flags|=67108866,B):U):(L.flags|=67108866,B)):(L.flags|=1048576,B)}function A(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function C(L,B,U,J){return B===null||B.tag!==6?(B=tc(U,L.mode,J),B.return=L,B):(B=v(B,U),B.return=L,B)}function D(L,B,U,J){var xe=U.type;return xe===b?K(L,B,U.props.children,J,U.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ee&&s1(xe)===B.type)?(B=v(B,U.props),No(B,U),B.return=L,B):(B=Ls(U.type,U.key,U.props,null,L.mode,J),No(B,U),B.return=L,B)}function z(L,B,U,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==U.containerInfo||B.stateNode.implementation!==U.implementation?(B=rc(U,L.mode,J),B.return=L,B):(B=v(B,U.children||[]),B.return=L,B)}function K(L,B,U,J,xe){return B===null||B.tag!==7?(B=Aa(U,L.mode,J,xe),B.return=L,B):(B=v(B,U),B.return=L,B)}function te(L,B,U){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=tc(""+B,L.mode,U),B.return=L,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return U=Ls(B.type,B.key,B.props,null,L.mode,U),No(U,B),U.return=L,U;case _:return B=rc(B,L.mode,U),B.return=L,B;case ee:var J=B._init;return B=J(B._payload),te(L,B,U)}if(he(B)||le(B))return B=Aa(B,L.mode,U,null),B.return=L,B;if(typeof B.then=="function")return te(L,el(B),U);if(B.$$typeof===N)return te(L,zs(L,B),U);tl(L,B)}return null}function G(L,B,U,J){var xe=B!==null?B.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return xe!==null?null:C(L,B,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case y:return U.key===xe?D(L,B,U,J):null;case _:return U.key===xe?z(L,B,U,J):null;case ee:return xe=U._init,U=xe(U._payload),G(L,B,U,J)}if(he(U)||le(U))return xe!==null?null:K(L,B,U,J,null);if(typeof U.then=="function")return G(L,B,el(U),J);if(U.$$typeof===N)return G(L,B,zs(L,U),J);tl(L,U)}return null}function X(L,B,U,J,xe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(U)||null,C(B,L,""+J,xe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return L=L.get(J.key===null?U:J.key)||null,D(B,L,J,xe);case _:return L=L.get(J.key===null?U:J.key)||null,z(B,L,J,xe);case ee:var ke=J._init;return J=ke(J._payload),X(L,B,U,J,xe)}if(he(J)||le(J))return L=L.get(U)||null,K(B,L,J,xe,null);if(typeof J.then=="function")return X(L,B,U,el(J),xe);if(J.$$typeof===N)return X(L,B,U,zs(B,J),xe);tl(B,J)}return null}function Re(L,B,U,J){for(var xe=null,ke=null,we=B,Te=B=0,Ht=null;we!==null&&Te<U.length;Te++){we.index>Te?(Ht=we,we=null):Ht=we.sibling;var Xe=G(L,we,U[Te],J);if(Xe===null){we===null&&(we=Ht);break}i&&we&&Xe.alternate===null&&s(L,we),B=g(Xe,B,Te),ke===null?xe=Xe:ke.sibling=Xe,ke=Xe,we=Ht}if(Te===U.length)return u(L,we),Ye&&Sa(L,Te),xe;if(we===null){for(;Te<U.length;Te++)we=te(L,U[Te],J),we!==null&&(B=g(we,B,Te),ke===null?xe=we:ke.sibling=we,ke=we);return Ye&&Sa(L,Te),xe}for(we=f(we);Te<U.length;Te++)Ht=X(we,L,Te,U[Te],J),Ht!==null&&(i&&Ht.alternate!==null&&we.delete(Ht.key===null?Te:Ht.key),B=g(Ht,B,Te),ke===null?xe=Ht:ke.sibling=Ht,ke=Ht);return i&&we.forEach(function(la){return s(L,la)}),Ye&&Sa(L,Te),xe}function Ne(L,B,U,J){if(U==null)throw Error(n(151));for(var xe=null,ke=null,we=B,Te=B=0,Ht=null,Xe=U.next();we!==null&&!Xe.done;Te++,Xe=U.next()){we.index>Te?(Ht=we,we=null):Ht=we.sibling;var la=G(L,we,Xe.value,J);if(la===null){we===null&&(we=Ht);break}i&&we&&la.alternate===null&&s(L,we),B=g(la,B,Te),ke===null?xe=la:ke.sibling=la,ke=la,we=Ht}if(Xe.done)return u(L,we),Ye&&Sa(L,Te),xe;if(we===null){for(;!Xe.done;Te++,Xe=U.next())Xe=te(L,Xe.value,J),Xe!==null&&(B=g(Xe,B,Te),ke===null?xe=Xe:ke.sibling=Xe,ke=Xe);return Ye&&Sa(L,Te),xe}for(we=f(we);!Xe.done;Te++,Xe=U.next())Xe=X(we,L,Te,Xe.value,J),Xe!==null&&(i&&Xe.alternate!==null&&we.delete(Xe.key===null?Te:Xe.key),B=g(Xe,B,Te),ke===null?xe=Xe:ke.sibling=Xe,ke=Xe);return i&&we.forEach(function(Cy){return s(L,Cy)}),Ye&&Sa(L,Te),xe}function at(L,B,U,J){if(typeof U=="object"&&U!==null&&U.type===b&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case y:e:{for(var xe=U.key;B!==null;){if(B.key===xe){if(xe=U.type,xe===b){if(B.tag===7){u(L,B.sibling),J=v(B,U.props.children),J.return=L,L=J;break e}}else if(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ee&&s1(xe)===B.type){u(L,B.sibling),J=v(B,U.props),No(J,U),J.return=L,L=J;break e}u(L,B);break}else s(L,B);B=B.sibling}U.type===b?(J=Aa(U.props.children,L.mode,J,U.key),J.return=L,L=J):(J=Ls(U.type,U.key,U.props,null,L.mode,J),No(J,U),J.return=L,L=J)}return A(L);case _:e:{for(xe=U.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===U.containerInfo&&B.stateNode.implementation===U.implementation){u(L,B.sibling),J=v(B,U.children||[]),J.return=L,L=J;break e}else{u(L,B);break}else s(L,B);B=B.sibling}J=rc(U,L.mode,J),J.return=L,L=J}return A(L);case ee:return xe=U._init,U=xe(U._payload),at(L,B,U,J)}if(he(U))return Re(L,B,U,J);if(le(U)){if(xe=le(U),typeof xe!="function")throw Error(n(150));return U=xe.call(U),Ne(L,B,U,J)}if(typeof U.then=="function")return at(L,B,el(U),J);if(U.$$typeof===N)return at(L,B,zs(L,U),J);tl(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,B!==null&&B.tag===6?(u(L,B.sibling),J=v(B,U),J.return=L,L=J):(u(L,B),J=tc(U,L.mode,J),J.return=L,L=J),A(L)):u(L,B)}return function(L,B,U,J){try{Co=0;var xe=at(L,B,U,J);return Ei=null,xe}catch(we){if(we===xo||we===Hs)throw we;var ke=Or(29,we,null,L.mode);return ke.lanes=J,ke.return=L,ke}finally{}}}var Si=l1(!0),u1=l1(!1),Gr=ae(null),fn=null;function qn(i){var s=i.alternate;q(It,It.current&1),q(Gr,i),fn===null&&(s===null||_i.current!==null||s.memoizedState!==null)&&(fn=i)}function c1(i){if(i.tag===22){if(q(It,It.current),q(Gr,i),fn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(fn=i)}}else Yn()}function Yn(){q(It,It.current),q(Gr,Gr.current)}function Tn(i){F(Gr),fn===i&&(fn=null),F(It)}var It=ae(0);function rl(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Sf(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Bc(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:m({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Pc={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=Ir(),v=Gn(f);v.payload=s,u!=null&&(v.callback=u),s=Zn(i,v,f),s!==null&&(jr(s,i,f),yo(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=Ir(),v=Gn(f);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=Zn(i,v,f),s!==null&&(jr(s,i,f),yo(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ir(),f=Gn(u);f.tag=2,s!=null&&(f.callback=s),s=Zn(i,f,u),s!==null&&(jr(s,i,u),yo(s,i,u))}};function f1(i,s,u,f,v,g,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,A):s.prototype&&s.prototype.isPureReactComponent?!lo(u,f)||!lo(v,g):!0}function d1(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&Pc.enqueueReplaceState(s,s.state,null)}function Ia(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=m({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}var nl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function h1(i){nl(i)}function p1(i){console.error(i)}function v1(i){nl(i)}function al(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function m1(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Lc(i,s,u){return u=Gn(u),u.tag=3,u.payload={element:null},u.callback=function(){al(i,s)},u}function x1(i){return i=Gn(i),i.tag=3,i}function g1(i,s,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var g=f.value;i.payload=function(){return v(g)},i.callback=function(){m1(s,u,f)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){m1(s,u,f),typeof v!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function C2(i,s,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&po(s,u,v,!0),u=Gr.current,u!==null){switch(u.tag){case 13:return fn===null?lf():u.alternate===null&&bt===0&&(bt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===dc?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),cf(i,f,v)),!1;case 22:return u.flags|=65536,f===dc?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),cf(i,f,v)),!1}throw Error(n(435,u.tag))}return cf(i,f,v),lf(),!1}if(Ye)return s=Gr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==ic&&(i=Error(n(422),{cause:f}),ho(Ur(i,u)))):(f!==ic&&(s=Error(n(423),{cause:f}),ho(Ur(s,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=Ur(f,u),v=Lc(i.stateNode,f,v),vc(i,v),bt!==4&&(bt=2)),!1;var g=Error(n(520),{cause:f});if(g=Ur(g,u),Mo===null?Mo=[g]:Mo.push(g),bt!==4&&(bt=2),s===null)return!0;f=Ur(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Lc(u.stateNode,f,i),vc(u,i),!1;case 1:if(s=u.type,g=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ea===null||!ea.has(g))))return u.flags|=65536,v&=-v,u.lanes|=v,v=x1(v),g1(v,i,u,f),vc(u,v),!1}u=u.return}while(u!==null);return!1}var y1=Error(n(461)),zt=!1;function Qt(i,s,u,f){s.child=i===null?u1(s,null,u,f):Si(s,i.child,u,f)}function _1(i,s,u,f,v){u=u.render;var g=s.ref;if("ref"in f){var A={};for(var C in f)C!=="ref"&&(A[C]=f[C])}else A=f;return Ta(s),f=_c(i,s,u,A,g,v),C=bc(),i!==null&&!zt?(wc(i,s,v),Dn(i,s,v)):(Ye&&C&&nc(s),s.flags|=1,Qt(i,s,f,v),s.child)}function b1(i,s,u,f,v){if(i===null){var g=u.type;return typeof g=="function"&&!ec(g)&&g.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=g,w1(i,s,g,f,v)):(i=Ls(u.type,null,f,s,s.mode,v),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Zc(i,v)){var A=g.memoizedProps;if(u=u.compare,u=u!==null?u:lo,u(A,f)&&i.ref===s.ref)return Dn(i,s,v)}return s.flags|=1,i=An(g,f),i.ref=s.ref,i.return=s,s.child=i}function w1(i,s,u,f,v){if(i!==null){var g=i.memoizedProps;if(lo(g,f)&&i.ref===s.ref)if(zt=!1,s.pendingProps=f=g,Zc(i,v))(i.flags&131072)!==0&&(zt=!0);else return s.lanes=i.lanes,Dn(i,s,v)}return kc(i,s,u,f,v)}function A1(i,s,u){var f=s.pendingProps,v=f.children,g=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=g!==null?g.baseLanes|u:u,i!==null){for(v=s.child=i.child,g=0;v!==null;)g=g|v.lanes|v.childLanes,v=v.sibling;s.childLanes=g&~f}else s.childLanes=0,s.child=null;return E1(i,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vs(s,g!==null?g.cachePool:null),g!==null?wh(s,g):xc(),c1(s);else return s.lanes=s.childLanes=536870912,E1(i,s,g!==null?g.baseLanes|u:u,u)}else g!==null?(Vs(s,g.cachePool),wh(s,g),Yn(),s.memoizedState=null):(i!==null&&Vs(s,null),xc(),Yn());return Qt(i,s,v,u),s.child}function E1(i,s,u,f){var v=fc();return v=v===null?null:{parent:Rt._currentValue,pool:v},s.memoizedState={baseLanes:u,cachePool:v},i!==null&&Vs(s,null),xc(),c1(s),i!==null&&po(i,s,f,!0),null}function il(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function kc(i,s,u,f,v){return Ta(s),u=_c(i,s,u,f,void 0,v),f=bc(),i!==null&&!zt?(wc(i,s,v),Dn(i,s,v)):(Ye&&f&&nc(s),s.flags|=1,Qt(i,s,u,v),s.child)}function S1(i,s,u,f,v,g){return Ta(s),s.updateQueue=null,u=Eh(s,f,u,v),Ah(i),f=bc(),i!==null&&!zt?(wc(i,s,g),Dn(i,s,g)):(Ye&&f&&nc(s),s.flags|=1,Qt(i,s,u,g),s.child)}function C1(i,s,u,f,v){if(Ta(s),s.stateNode===null){var g=vi,A=u.contextType;typeof A=="object"&&A!==null&&(g=ar(A)),g=new u(f,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Pc,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=f,g.state=s.memoizedState,g.refs={},hc(s),A=u.contextType,g.context=typeof A=="object"&&A!==null?ar(A):vi,g.state=s.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Bc(s,u,A,f),g.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&Pc.enqueueReplaceState(g,g.state,null),bo(s,f,g,v),_o(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){g=s.stateNode;var C=s.memoizedProps,D=Ia(u,C);g.props=D;var z=g.context,K=u.contextType;A=vi,typeof K=="object"&&K!==null&&(A=ar(K));var te=u.getDerivedStateFromProps;K=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,K||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||z!==A)&&d1(s,g,f,A),Hn=!1;var G=s.memoizedState;g.state=G,bo(s,f,g,v),_o(),z=s.memoizedState,C||G!==z||Hn?(typeof te=="function"&&(Bc(s,u,te,f),z=s.memoizedState),(D=Hn||f1(s,u,D,f,G,z,A))?(K||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=z),g.props=f,g.state=z,g.context=A,f=D):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{g=s.stateNode,pc(i,s),A=s.memoizedProps,K=Ia(u,A),g.props=K,te=s.pendingProps,G=g.context,z=u.contextType,D=vi,typeof z=="object"&&z!==null&&(D=ar(z)),C=u.getDerivedStateFromProps,(z=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==te||G!==D)&&d1(s,g,f,D),Hn=!1,G=s.memoizedState,g.state=G,bo(s,f,g,v),_o();var X=s.memoizedState;A!==te||G!==X||Hn||i!==null&&i.dependencies!==null&&Us(i.dependencies)?(typeof C=="function"&&(Bc(s,u,C,f),X=s.memoizedState),(K=Hn||f1(s,u,K,f,G,X,D)||i!==null&&i.dependencies!==null&&Us(i.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,X,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,X,D)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=X),g.props=f,g.state=X,g.context=D,f=K):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),f=!1)}return g=f,il(i,s),f=(s.flags&128)!==0,g||f?(g=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&f?(s.child=Si(s,i.child,null,v),s.child=Si(s,null,u,v)):Qt(i,s,u,v),s.memoizedState=g.state,i=s.child):i=Dn(i,s,v),i}function N1(i,s,u,f){return fo(),s.flags|=256,Qt(i,s,u,f),s.child}var Fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uc(i){return{baseLanes:i,cachePool:ph()}}function zc(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=Zr),i}function O1(i,s,u){var f=s.pendingProps,v=!1,g=(s.flags&128)!==0,A;if((A=g)||(A=i!==null&&i.memoizedState===null?!1:(It.current&2)!==0),A&&(v=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ye){if(v?qn(s):Yn(),Ye){var C=_t,D;if(D=C){e:{for(D=C,C=cn;D.nodeType!==8;){if(!C){C=null;break e}if(D=Wr(D.nextSibling),D===null){C=null;break e}}C=D}C!==null?(s.memoizedState={dehydrated:C,treeContext:Ea!==null?{id:En,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},D=Or(18,null,null,0),D.stateNode=C,D.return=s,s.child=D,ur=s,_t=null,D=!0):D=!1}D||Na(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Sf(C)?s.lanes=32:s.lanes=536870912,null;Tn(s)}return C=f.children,f=f.fallback,v?(Yn(),v=s.mode,C=ol({mode:"hidden",children:C},v),f=Aa(f,v,u,null),C.return=s,f.return=s,C.sibling=f,s.child=C,v=s.child,v.memoizedState=Uc(u),v.childLanes=zc(i,A,u),s.memoizedState=Fc,f):(qn(s),Vc(s,C))}if(D=i.memoizedState,D!==null&&(C=D.dehydrated,C!==null)){if(g)s.flags&256?(qn(s),s.flags&=-257,s=Hc(i,s,u)):s.memoizedState!==null?(Yn(),s.child=i.child,s.flags|=128,s=null):(Yn(),v=f.fallback,C=s.mode,f=ol({mode:"visible",children:f.children},C),v=Aa(v,C,u,null),v.flags|=2,f.return=s,v.return=s,f.sibling=v,s.child=f,Si(s,i.child,null,u),f=s.child,f.memoizedState=Uc(u),f.childLanes=zc(i,A,u),s.memoizedState=Fc,s=v);else if(qn(s),Sf(C)){if(A=C.nextSibling&&C.nextSibling.dataset,A)var z=A.dgst;A=z,f=Error(n(419)),f.stack="",f.digest=A,ho({value:f,source:null,stack:null}),s=Hc(i,s,u)}else if(zt||po(i,s,u,!1),A=(u&i.childLanes)!==0,zt||A){if(A=ct,A!==null&&(f=u&-u,f=(f&42)!==0?1:Su(f),f=(f&(A.suspendedLanes|u))!==0?0:f,f!==0&&f!==D.retryLane))throw D.retryLane=f,pi(i,f),jr(A,i,f),y1;C.data==="$?"||lf(),s=Hc(i,s,u)}else C.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,_t=Wr(C.nextSibling),ur=s,Ye=!0,Ca=null,cn=!1,i!==null&&(Vr[Hr++]=En,Vr[Hr++]=Sn,Vr[Hr++]=Ea,En=i.id,Sn=i.overflow,Ea=s),s=Vc(s,f.children),s.flags|=4096);return s}return v?(Yn(),v=f.fallback,C=s.mode,D=i.child,z=D.sibling,f=An(D,{mode:"hidden",children:f.children}),f.subtreeFlags=D.subtreeFlags&65011712,z!==null?v=An(z,v):(v=Aa(v,C,u,null),v.flags|=2),v.return=s,f.return=s,f.sibling=v,s.child=f,f=v,v=s.child,C=i.child.memoizedState,C===null?C=Uc(u):(D=C.cachePool,D!==null?(z=Rt._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=ph(),C={baseLanes:C.baseLanes|u,cachePool:D}),v.memoizedState=C,v.childLanes=zc(i,A,u),s.memoizedState=Fc,f):(qn(s),u=i.child,i=u.sibling,u=An(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=u,s.memoizedState=null,u)}function Vc(i,s){return s=ol({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ol(i,s){return i=Or(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Hc(i,s,u){return Si(s,i.child,null,u),i=Vc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function T1(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),sc(i.return,s,u)}function Gc(i,s,u,f,v){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=f,g.tail=u,g.tailMode=v)}function D1(i,s,u){var f=s.pendingProps,v=f.revealOrder,g=f.tail;if(Qt(i,s,f.children,u),f=It.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&T1(i,u,s);else if(i.tag===19)T1(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(q(It,f),v){case"forwards":for(u=s.child,v=null;u!==null;)i=u.alternate,i!==null&&rl(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=s.child,s.child=null):(v=u.sibling,u.sibling=null),Gc(s,!1,v,u,g);break;case"backwards":for(u=null,v=s.child,s.child=null;v!==null;){if(i=v.alternate,i!==null&&rl(i)===null){s.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Gc(s,!0,u,null,g);break;case"together":Gc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Dn(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Jn|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(po(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,u=An(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=An(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Zc(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Us(i)))}function N2(i,s,u){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),Vn(s,Rt,i.memoizedState.cache),fo();break;case 27:case 5:ma(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:Vn(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(qn(s),s.flags|=128,null):(u&s.child.childLanes)!==0?O1(i,s,u):(qn(s),i=Dn(i,s,u),i!==null?i.sibling:null);qn(s);break;case 19:var v=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(po(i,s,u,!1),f=(u&s.childLanes)!==0),v){if(f)return D1(i,s,u);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),q(It,It.current),f)break;return null;case 22:case 23:return s.lanes=0,A1(i,s,u);case 24:Vn(s,Rt,i.memoizedState.cache)}return Dn(i,s,u)}function R1(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)zt=!0;else{if(!Zc(i,u)&&(s.flags&128)===0)return zt=!1,N2(i,s,u);zt=(i.flags&131072)!==0}else zt=!1,Ye&&(s.flags&1048576)!==0&&sh(s,Fs,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,v=f._init;if(f=v(f._payload),s.type=f,typeof f=="function")ec(f)?(i=Ia(f,i),s.tag=1,s=C1(null,s,f,i,u)):(s.tag=0,s=kc(null,s,f,i,u));else{if(f!=null){if(v=f.$$typeof,v===R){s.tag=11,s=_1(null,s,f,i,u);break e}else if(v===Z){s.tag=14,s=b1(null,s,f,i,u);break e}}throw s=ce(f)||f,Error(n(306,s,""))}}return s;case 0:return kc(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,v=Ia(f,s.pendingProps),C1(i,s,f,v,u);case 3:e:{if(ot(s,s.stateNode.containerInfo),i===null)throw Error(n(387));f=s.pendingProps;var g=s.memoizedState;v=g.element,pc(i,s),bo(s,f,null,u);var A=s.memoizedState;if(f=A.cache,Vn(s,Rt,f),f!==g.cache&&lc(s,[Rt],u,!0),_o(),f=A.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=N1(i,s,f,u);break e}else if(f!==v){v=Ur(Error(n(424)),s),ho(v),s=N1(i,s,f,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_t=Wr(i.firstChild),ur=s,Ye=!0,Ca=null,cn=!0,u=u1(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(fo(),f===v){s=Dn(i,s,u);break e}Qt(i,s,f,u)}s=s.child}return s;case 26:return il(i,s),i===null?(u=Bp(s.type,null,s.pendingProps,null))?s.memoizedState=u:Ye||(u=s.type,i=s.pendingProps,f=_l(Oe.current).createElement(u),f[nr]=s,f[vr]=i,Jt(f,u,i),Ut(f),s.stateNode=f):s.memoizedState=Bp(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ma(s),i===null&&Ye&&(f=s.stateNode=Ip(s.type,s.pendingProps,Oe.current),ur=s,cn=!0,v=_t,na(s.type)?(Cf=v,_t=Wr(f.firstChild)):_t=v),Qt(i,s,s.pendingProps.children,u),il(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ye&&((v=f=_t)&&(f=ty(f,s.type,s.pendingProps,cn),f!==null?(s.stateNode=f,ur=s,_t=Wr(f.firstChild),cn=!1,v=!0):v=!1),v||Na(s)),ma(s),v=s.type,g=s.pendingProps,A=i!==null?i.memoizedProps:null,f=g.children,wf(v,g)?f=null:A!==null&&wf(v,A)&&(s.flags|=32),s.memoizedState!==null&&(v=_c(i,s,y2,null,null,u),Ho._currentValue=v),il(i,s),Qt(i,s,f,u),s.child;case 6:return i===null&&Ye&&((i=u=_t)&&(u=ry(u,s.pendingProps,cn),u!==null?(s.stateNode=u,ur=s,_t=null,i=!0):i=!1),i||Na(s)),null;case 13:return O1(i,s,u);case 4:return ot(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Si(s,null,f,u):Qt(i,s,f,u),s.child;case 11:return _1(i,s,s.type,s.pendingProps,u);case 7:return Qt(i,s,s.pendingProps,u),s.child;case 8:return Qt(i,s,s.pendingProps.children,u),s.child;case 12:return Qt(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,Vn(s,s.type,f.value),Qt(i,s,f.children,u),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Ta(s),v=ar(v),f=f(v),s.flags|=1,Qt(i,s,f,u),s.child;case 14:return b1(i,s,s.type,s.pendingProps,u);case 15:return w1(i,s,s.type,s.pendingProps,u);case 19:return D1(i,s,u);case 31:return f=s.pendingProps,u=s.mode,f={mode:f.mode,children:f.children},i===null?(u=ol(f,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=An(i.child,f),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return A1(i,s,u);case 24:return Ta(s),f=ar(Rt),i===null?(v=fc(),v===null&&(v=ct,g=uc(),v.pooledCache=g,g.refCount++,g!==null&&(v.pooledCacheLanes|=u),v=g),s.memoizedState={parent:f,cache:v},hc(s),Vn(s,Rt,v)):((i.lanes&u)!==0&&(pc(i,s),bo(s,null,null,u),_o()),v=i.memoizedState,g=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Vn(s,Rt,f)):(f=g.cache,Vn(s,Rt,f),f!==v.cache&&lc(s,[Rt],u,!0))),Qt(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Rn(i){i.flags|=4}function I1(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Up(s)){if(s=Gr.current,s!==null&&((He&4194048)===He?fn!==null:(He&62914560)!==He&&(He&536870912)===0||s!==fn))throw go=dc,vh;i.flags|=8192}}function sl(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?c0():536870912,i.lanes|=s,Ti|=s)}function Oo(i,s){if(!Ye)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function O2(i,s,u){var f=s.pendingProps;switch(ac(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Nn(Rt),Pr(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(co(s)?Rn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ch())),gt(s),null;case 26:return u=s.memoizedState,i===null?(Rn(s),u!==null?(gt(s),I1(s,u)):(gt(s),s.flags&=-16777217)):u?u!==i.memoizedState?(Rn(s),gt(s),I1(s,u)):(gt(s),s.flags&=-16777217):(i.memoizedProps!==f&&Rn(s),gt(s),s.flags&=-16777217),null;case 27:Ka(s),u=Oe.current;var v=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Rn(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return gt(s),null}i=me.current,co(s)?lh(s):(i=Ip(v,f,u),s.stateNode=i,Rn(s))}return gt(s),null;case 5:if(Ka(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Rn(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return gt(s),null}if(i=me.current,co(s))lh(s);else{switch(v=_l(Oe.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}i[nr]=s,i[vr]=f;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=i;e:switch(Jt(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Rn(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Rn(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(i=Oe.current,co(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,v=ur,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[nr]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Sp(i.nodeValue,u)),i||Na(s)}else i=_l(i).createTextNode(f),i[nr]=s,s.stateNode=i}return gt(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=co(s),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[nr]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),v=!1}else v=ch(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Tn(s),s):(Tn(s),null)}if(Tn(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var g=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==v&&(f.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),sl(s,s.updateQueue),gt(s),null;case 4:return Pr(),i===null&&xf(s.stateNode.containerInfo),gt(s),null;case 10:return Nn(s.type),gt(s),null;case 19:if(F(It),v=s.memoizedState,v===null)return gt(s),null;if(f=(s.flags&128)!==0,g=v.rendering,g===null)if(f)Oo(v,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=rl(i),g!==null){for(s.flags|=128,Oo(v,!1),i=g.updateQueue,s.updateQueue=i,sl(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)oh(u,i),u=u.sibling;return q(It,It.current&1|2),s.child}i=i.sibling}v.tail!==null&&Lr()>cl&&(s.flags|=128,f=!0,Oo(v,!1),s.lanes=4194304)}else{if(!f)if(i=rl(g),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,sl(s,i),Oo(v,!0),v.tail===null&&v.tailMode==="hidden"&&!g.alternate&&!Ye)return gt(s),null}else 2*Lr()-v.renderingStartTime>cl&&u!==536870912&&(s.flags|=128,f=!0,Oo(v,!1),s.lanes=4194304);v.isBackwards?(g.sibling=s.child,s.child=g):(i=v.last,i!==null?i.sibling=g:s.child=g,v.last=g)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Lr(),s.sibling=null,i=It.current,q(It,f?i&1|2:i&1),s):(gt(s),null);case 22:case 23:return Tn(s),gc(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),u=s.updateQueue,u!==null&&sl(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&F(Da),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Nn(Rt),gt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function T2(i,s){switch(ac(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Nn(Rt),Pr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ka(s),null;case 13:if(Tn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));fo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return F(It),null;case 4:return Pr(),null;case 10:return Nn(s.type),null;case 22:case 23:return Tn(s),gc(),i!==null&&F(Da),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Nn(Rt),null;case 25:return null;default:return null}}function j1(i,s){switch(ac(s),s.tag){case 3:Nn(Rt),Pr();break;case 26:case 27:case 5:Ka(s);break;case 4:Pr();break;case 13:Tn(s);break;case 19:F(It);break;case 10:Nn(s.type);break;case 22:case 23:Tn(s),gc(),i!==null&&F(Da);break;case 24:Nn(Rt)}}function To(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&i)===i){f=void 0;var g=u.create,A=u.inst;f=g(),A.destroy=f}u=u.next}while(u!==v)}}catch(C){st(s,s.return,C)}}function $n(i,s,u){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var g=v.next;f=g;do{if((f.tag&i)===i){var A=f.inst,C=A.destroy;if(C!==void 0){A.destroy=void 0,v=s;var D=u,z=C;try{z()}catch(K){st(v,D,K)}}}f=f.next}while(f!==g)}}catch(K){st(s,s.return,K)}}function M1(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{bh(s,u)}catch(f){st(i,i.return,f)}}}function B1(i,s,u){u.props=Ia(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){st(i,s,f)}}function Do(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(v){st(i,s,v)}}function dn(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){st(i,s,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){st(i,s,v)}else u.current=null}function P1(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){st(i,i.return,v)}}function Xc(i,s,u){try{var f=i.stateNode;K2(f,i.type,u,s),f[vr]=s}catch(v){st(i,i.return,v)}}function L1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&na(i.type)||i.tag===4}function qc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||L1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&na(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yc(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=yl));else if(f!==4&&(f===27&&na(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(Yc(i,s,u),i=i.sibling;i!==null;)Yc(i,s,u),i=i.sibling}function ll(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&na(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(ll(i,s,u),i=i.sibling;i!==null;)ll(i,s,u),i=i.sibling}function k1(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Jt(s,f,u),s[nr]=i,s[vr]=u}catch(g){st(i,i.return,g)}}var In=!1,At=!1,$c=!1,F1=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function D2(i,s){if(i=i.containerInfo,_f=Cl,i=K0(i),qu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{u.nodeType,g.nodeType}catch{u=null;break e}var A=0,C=-1,D=-1,z=0,K=0,te=i,G=null;t:for(;;){for(var X;te!==u||v!==0&&te.nodeType!==3||(C=A+v),te!==g||f!==0&&te.nodeType!==3||(D=A+f),te.nodeType===3&&(A+=te.nodeValue.length),(X=te.firstChild)!==null;)G=te,te=X;for(;;){if(te===i)break t;if(G===u&&++z===v&&(C=A),G===g&&++K===f&&(D=A),(X=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=X}u=C===-1||D===-1?null:{start:C,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(bf={focusedElem:i,selectionRange:u},Cl=!1,Vt=s;Vt!==null;)if(s=Vt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Vt=i;else for(;Vt!==null;){switch(s=Vt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,u=s,v=g.memoizedProps,g=g.memoizedState,f=u.stateNode;try{var Re=Ia(u.type,v,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(Re,g),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ne){st(u,u.return,Ne)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Ef(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ef(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Vt=i;break}Vt=s.return}}function U1(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Kn(i,u),f&4&&To(5,u);break;case 1:if(Kn(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(A){st(u,u.return,A)}else{var v=Ia(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(v,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){st(u,u.return,A)}}f&64&&M1(u),f&512&&Do(u,u.return);break;case 3:if(Kn(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{bh(i,s)}catch(A){st(u,u.return,A)}}break;case 27:s===null&&f&4&&k1(u);case 26:case 5:Kn(i,u),s===null&&f&4&&P1(u),f&512&&Do(u,u.return);break;case 12:Kn(i,u);break;case 13:Kn(i,u),f&4&&H1(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=F2.bind(null,u),ny(i,u))));break;case 22:if(f=u.memoizedState!==null||In,!f){s=s!==null&&s.memoizedState!==null||At,v=In;var g=At;In=f,(At=s)&&!g?Qn(i,u,(u.subtreeFlags&8772)!==0):Kn(i,u),In=v,At=g}break;case 30:break;default:Kn(i,u)}}function z1(i){var s=i.alternate;s!==null&&(i.alternate=null,z1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ou(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var vt=null,gr=!1;function jn(i,s,u){for(u=u.child;u!==null;)V1(i,s,u),u=u.sibling}function V1(i,s,u){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(be,u)}catch{}switch(u.tag){case 26:At||dn(u,s),jn(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:At||dn(u,s);var f=vt,v=gr;na(u.type)&&(vt=u.stateNode,gr=!1),jn(i,s,u),Fo(u.stateNode),vt=f,gr=v;break;case 5:At||dn(u,s);case 6:if(f=vt,v=gr,vt=null,jn(i,s,u),vt=f,gr=v,vt!==null)if(gr)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(u.stateNode)}catch(g){st(u,s,g)}else try{vt.removeChild(u.stateNode)}catch(g){st(u,s,g)}break;case 18:vt!==null&&(gr?(i=vt,Dp(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),qo(i)):Dp(vt,u.stateNode));break;case 4:f=vt,v=gr,vt=u.stateNode.containerInfo,gr=!0,jn(i,s,u),vt=f,gr=v;break;case 0:case 11:case 14:case 15:At||$n(2,u,s),At||$n(4,u,s),jn(i,s,u);break;case 1:At||(dn(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&B1(u,s,f)),jn(i,s,u);break;case 21:jn(i,s,u);break;case 22:At=(f=At)||u.memoizedState!==null,jn(i,s,u),At=f;break;default:jn(i,s,u)}}function H1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qo(i)}catch(u){st(s,s.return,u)}}function R2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new F1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new F1),s;default:throw Error(n(435,i.tag))}}function Kc(i,s){var u=R2(i);s.forEach(function(f){var v=U2.bind(null,i,f);u.has(f)||(u.add(f),f.then(v,v))})}function Tr(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],g=i,A=s,C=A;e:for(;C!==null;){switch(C.tag){case 27:if(na(C.type)){vt=C.stateNode,gr=!1;break e}break;case 5:vt=C.stateNode,gr=!1;break e;case 3:case 4:vt=C.stateNode.containerInfo,gr=!0;break e}C=C.return}if(vt===null)throw Error(n(160));V1(g,A,v),vt=null,gr=!1,g=v.alternate,g!==null&&(g.return=null),v.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)G1(s,i),s=s.sibling}var Qr=null;function G1(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tr(s,i),Dr(i),f&4&&($n(3,i,i.return),To(3,i),$n(5,i,i.return));break;case 1:Tr(s,i),Dr(i),f&512&&(At||u===null||dn(u,u.return)),f&64&&In&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=Qr;if(Tr(s,i),Dr(i),f&512&&(At||u===null||dn(u,u.return)),f&4){var g=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":g=v.getElementsByTagName("title")[0],(!g||g[Ji]||g[nr]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=v.createElement(f),v.head.insertBefore(g,v.querySelector("head > title"))),Jt(g,f,u),g[nr]=i,Ut(g),f=g;break e;case"link":var A=kp("link","href",v).get(f+(u.href||""));if(A){for(var C=0;C<A.length;C++)if(g=A[C],g.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&g.getAttribute("rel")===(u.rel==null?null:u.rel)&&g.getAttribute("title")===(u.title==null?null:u.title)&&g.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(C,1);break t}}g=v.createElement(f),Jt(g,f,u),v.head.appendChild(g);break;case"meta":if(A=kp("meta","content",v).get(f+(u.content||""))){for(C=0;C<A.length;C++)if(g=A[C],g.getAttribute("content")===(u.content==null?null:""+u.content)&&g.getAttribute("name")===(u.name==null?null:u.name)&&g.getAttribute("property")===(u.property==null?null:u.property)&&g.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&g.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(C,1);break t}}g=v.createElement(f),Jt(g,f,u),v.head.appendChild(g);break;default:throw Error(n(468,f))}g[nr]=i,Ut(g),f=g}i.stateNode=f}else Fp(v,i.type,i.stateNode);else i.stateNode=Lp(v,f,i.memoizedProps);else g!==f?(g===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):g.count--,f===null?Fp(v,i.type,i.stateNode):Lp(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Xc(i,i.memoizedProps,u.memoizedProps)}break;case 27:Tr(s,i),Dr(i),f&512&&(At||u===null||dn(u,u.return)),u!==null&&f&4&&Xc(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Tr(s,i),Dr(i),f&512&&(At||u===null||dn(u,u.return)),i.flags&32){v=i.stateNode;try{si(v,"")}catch(X){st(i,i.return,X)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,Xc(i,v,u!==null?u.memoizedProps:v)),f&1024&&($c=!0);break;case 6:if(Tr(s,i),Dr(i),f&4){if(i.stateNode===null)throw Error(n(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(X){st(i,i.return,X)}}break;case 3:if(Al=null,v=Qr,Qr=bl(s.containerInfo),Tr(s,i),Qr=v,Dr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{qo(s.containerInfo)}catch(X){st(i,i.return,X)}$c&&($c=!1,Z1(i));break;case 4:f=Qr,Qr=bl(i.stateNode.containerInfo),Tr(s,i),Dr(i),Qr=f;break;case 12:Tr(s,i),Dr(i);break;case 13:Tr(s,i),Dr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(rf=Lr()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Kc(i,f)));break;case 22:v=i.memoizedState!==null;var D=u!==null&&u.memoizedState!==null,z=In,K=At;if(In=z||v,At=K||D,Tr(s,i),At=K,In=z,Dr(i),f&8192)e:for(s=i.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(u===null||D||In||At||ja(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){D=u=s;try{if(g=D.stateNode,v)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{C=D.stateNode;var te=D.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(X){st(D,D.return,X)}}}else if(s.tag===6){if(u===null){D=s;try{D.stateNode.nodeValue=v?"":D.memoizedProps}catch(X){st(D,D.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Kc(i,u))));break;case 19:Tr(s,i),Dr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Kc(i,f)));break;case 30:break;case 21:break;default:Tr(s,i),Dr(i)}}function Dr(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(L1(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var v=u.stateNode,g=qc(i);ll(i,g,v);break;case 5:var A=u.stateNode;u.flags&32&&(si(A,""),u.flags&=-33);var C=qc(i);ll(i,C,A);break;case 3:case 4:var D=u.stateNode.containerInfo,z=qc(i);Yc(i,z,D);break;default:throw Error(n(161))}}catch(K){st(i,i.return,K)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Z1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Z1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Kn(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)U1(i,s.alternate,s),s=s.sibling}function ja(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:$n(4,s,s.return),ja(s);break;case 1:dn(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&B1(s,s.return,u),ja(s);break;case 27:Fo(s.stateNode);case 26:case 5:dn(s,s.return),ja(s);break;case 22:s.memoizedState===null&&ja(s);break;case 30:ja(s);break;default:ja(s)}i=i.sibling}}function Qn(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=i,g=s,A=g.flags;switch(g.tag){case 0:case 11:case 15:Qn(v,g,u),To(4,g);break;case 1:if(Qn(v,g,u),f=g,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(z){st(f,f.return,z)}if(f=g,v=f.updateQueue,v!==null){var C=f.stateNode;try{var D=v.shared.hiddenCallbacks;if(D!==null)for(v.shared.hiddenCallbacks=null,v=0;v<D.length;v++)_h(D[v],C)}catch(z){st(f,f.return,z)}}u&&A&64&&M1(g),Do(g,g.return);break;case 27:k1(g);case 26:case 5:Qn(v,g,u),u&&f===null&&A&4&&P1(g),Do(g,g.return);break;case 12:Qn(v,g,u);break;case 13:Qn(v,g,u),u&&A&4&&H1(v,g);break;case 22:g.memoizedState===null&&Qn(v,g,u),Do(g,g.return);break;case 30:break;default:Qn(v,g,u)}s=s.sibling}}function Qc(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&vo(u))}function Wc(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vo(i))}function hn(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)X1(i,s,u,f),s=s.sibling}function X1(i,s,u,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:hn(i,s,u,f),v&2048&&To(9,s);break;case 1:hn(i,s,u,f);break;case 3:hn(i,s,u,f),v&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vo(i)));break;case 12:if(v&2048){hn(i,s,u,f),i=s.stateNode;try{var g=s.memoizedProps,A=g.id,C=g.onPostCommit;typeof C=="function"&&C(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){st(s,s.return,D)}}else hn(i,s,u,f);break;case 13:hn(i,s,u,f);break;case 23:break;case 22:g=s.stateNode,A=s.alternate,s.memoizedState!==null?g._visibility&2?hn(i,s,u,f):Ro(i,s):g._visibility&2?hn(i,s,u,f):(g._visibility|=2,Ci(i,s,u,f,(s.subtreeFlags&10256)!==0)),v&2048&&Qc(A,s);break;case 24:hn(i,s,u,f),v&2048&&Wc(s.alternate,s);break;default:hn(i,s,u,f)}}function Ci(i,s,u,f,v){for(v=v&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,A=s,C=u,D=f,z=A.flags;switch(A.tag){case 0:case 11:case 15:Ci(g,A,C,D,v),To(8,A);break;case 23:break;case 22:var K=A.stateNode;A.memoizedState!==null?K._visibility&2?Ci(g,A,C,D,v):Ro(g,A):(K._visibility|=2,Ci(g,A,C,D,v)),v&&z&2048&&Qc(A.alternate,A);break;case 24:Ci(g,A,C,D,v),v&&z&2048&&Wc(A.alternate,A);break;default:Ci(g,A,C,D,v)}s=s.sibling}}function Ro(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,v=f.flags;switch(f.tag){case 22:Ro(u,f),v&2048&&Qc(f.alternate,f);break;case 24:Ro(u,f),v&2048&&Wc(f.alternate,f);break;default:Ro(u,f)}s=s.sibling}}var Io=8192;function Ni(i){if(i.subtreeFlags&Io)for(i=i.child;i!==null;)q1(i),i=i.sibling}function q1(i){switch(i.tag){case 26:Ni(i),i.flags&Io&&i.memoizedState!==null&&my(Qr,i.memoizedState,i.memoizedProps);break;case 5:Ni(i);break;case 3:case 4:var s=Qr;Qr=bl(i.stateNode.containerInfo),Ni(i),Qr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Io,Io=16777216,Ni(i),Io=s):Ni(i));break;default:Ni(i)}}function Y1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function jo(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Vt=f,K1(f,i)}Y1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$1(i),i=i.sibling}function $1(i){switch(i.tag){case 0:case 11:case 15:jo(i),i.flags&2048&&$n(9,i,i.return);break;case 3:jo(i);break;case 12:jo(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ul(i)):jo(i);break;default:jo(i)}}function ul(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Vt=f,K1(f,i)}Y1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:$n(8,s,s.return),ul(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,ul(s));break;default:ul(s)}i=i.sibling}}function K1(i,s){for(;Vt!==null;){var u=Vt;switch(u.tag){case 0:case 11:case 15:$n(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:vo(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Vt=f;else e:for(u=i;Vt!==null;){f=Vt;var v=f.sibling,g=f.return;if(z1(f),f===u){Vt=null;break e}if(v!==null){v.return=g,Vt=v;break e}Vt=g}}}var I2={getCacheForType:function(i){var s=ar(Rt),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},j2=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,Ue=null,He=0,Je=0,Rr=null,Wn=!1,Oi=!1,Jc=!1,Mn=0,bt=0,Jn=0,Ma=0,ef=0,Zr=0,Ti=0,Mo=null,yr=null,tf=!1,rf=0,cl=1/0,fl=null,ea=null,Wt=0,ta=null,Di=null,Ri=0,nf=0,af=null,Q1=null,Bo=0,of=null;function Ir(){if((We&2)!==0&&He!==0)return He&-He;if(P.T!==null){var i=gi;return i!==0?i:hf()}return h0()}function W1(){Zr===0&&(Zr=(He&536870912)===0||Ye?u0():536870912);var i=Gr.current;return i!==null&&(i.flags|=32),Zr}function jr(i,s,u){(i===ct&&(Je===2||Je===9)||i.cancelPendingCommit!==null)&&(Ii(i,0),ra(i,He,Zr,!1)),Wi(i,u),((We&2)===0||i!==ct)&&(i===ct&&((We&2)===0&&(Ma|=u),bt===4&&ra(i,He,Zr,!1)),pn(i))}function J1(i,s,u){if((We&6)!==0)throw Error(n(327));var f=!u&&(s&124)===0&&(s&i.expiredLanes)===0||ga(i,s),v=f?P2(i,s):uf(i,s,!0),g=f;do{if(v===0){Oi&&!f&&ra(i,s,0,!1);break}else{if(u=i.current.alternate,g&&!M2(u)){v=uf(i,s,!1),g=!1;continue}if(v===2){if(g=s,i.errorRecoveryDisabledLanes&g)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var C=i;v=Mo;var D=C.current.memoizedState.isDehydrated;if(D&&(Ii(C,A).flags|=256),A=uf(C,A,!1),A!==2){if(Jc&&!D){C.errorRecoveryDisabledLanes|=g,Ma|=g,v=4;break e}g=yr,yr=v,g!==null&&(yr===null?yr=g:yr.push.apply(yr,g))}v=A}if(g=!1,v!==2)continue}}if(v===1){Ii(i,0),ra(i,s,0,!0);break}e:{switch(f=i,g=v,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:ra(f,s,Zr,!Wn);break e;case 2:yr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(v=rf+300-Lr(),10<v)){if(ra(f,s,Zr,!Wn),xa(f,0,!0)!==0)break e;f.timeoutHandle=Op(ep.bind(null,f,u,yr,fl,tf,s,Zr,Ma,Ti,Wn,g,2,-0,0),v);break e}ep(f,u,yr,fl,tf,s,Zr,Ma,Ti,Wn,g,0,-0,0)}}break}while(!0);pn(i)}function ep(i,s,u,f,v,g,A,C,D,z,K,te,G,X){if(i.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Vo={stylesheets:null,count:0,unsuspend:vy},q1(s),te=xy(),te!==null)){i.cancelPendingCommit=te(sp.bind(null,i,s,g,u,f,v,A,C,D,K,1,G,X)),ra(i,g,A,!z);return}sp(i,s,g,u,f,v,A,C,D)}function M2(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],g=v.getSnapshot;v=v.value;try{if(!Nr(g(),v))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ra(i,s,u,f){s&=~ef,s&=~Ma,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var v=s;0<v;){var g=31-ut(v),A=1<<g;f[g]=-1,v&=~A}u!==0&&f0(i,u,s)}function dl(){return(We&6)===0?(Po(0),!1):!0}function sf(){if(Ue!==null){if(Je===0)var i=Ue.return;else i=Ue,Cn=Oa=null,Ac(i),Ei=null,Co=0,i=Ue;for(;i!==null;)j1(i.alternate,i),i=i.return;Ue=null}}function Ii(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,W2(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),sf(),ct=i,Ue=u=An(i.current,null),He=s,Je=0,Rr=null,Wn=!1,Oi=ga(i,s),Jc=!1,Ti=Zr=ef=Ma=Jn=bt=0,yr=Mo=null,tf=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var v=31-ut(f),g=1<<v;s|=i[v],f&=~g}return Mn=s,Ms(),u}function tp(i,s){Pe=null,P.H=Js,s===xo||s===Hs?(s=gh(),Je=3):s===vh?(s=gh(),Je=4):Je=s===y1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rr=s,Ue===null&&(bt=1,al(i,Ur(s,i.current)))}function rp(){var i=P.H;return P.H=Js,i===null?Js:i}function np(){var i=P.A;return P.A=I2,i}function lf(){bt=4,Wn||(He&4194048)!==He&&Gr.current!==null||(Oi=!0),(Jn&134217727)===0&&(Ma&134217727)===0||ct===null||ra(ct,He,Zr,!1)}function uf(i,s,u){var f=We;We|=2;var v=rp(),g=np();(ct!==i||He!==s)&&(fl=null,Ii(i,s)),s=!1;var A=bt;e:do try{if(Je!==0&&Ue!==null){var C=Ue,D=Rr;switch(Je){case 8:sf(),A=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(s=!0);var z=Je;if(Je=0,Rr=null,ji(i,C,D,z),u&&Oi){A=0;break e}break;default:z=Je,Je=0,Rr=null,ji(i,C,D,z)}}B2(),A=bt;break}catch(K){tp(i,K)}while(!0);return s&&i.shellSuspendCounter++,Cn=Oa=null,We=f,P.H=v,P.A=g,Ue===null&&(ct=null,He=0,Ms()),A}function B2(){for(;Ue!==null;)ap(Ue)}function P2(i,s){var u=We;We|=2;var f=rp(),v=np();ct!==i||He!==s?(fl=null,cl=Lr()+500,Ii(i,s)):Oi=ga(i,s);e:do try{if(Je!==0&&Ue!==null){s=Ue;var g=Rr;t:switch(Je){case 1:Je=0,Rr=null,ji(i,s,g,1);break;case 2:case 9:if(mh(g)){Je=0,Rr=null,ip(s);break}s=function(){Je!==2&&Je!==9||ct!==i||(Je=7),pn(i)},g.then(s,s);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:mh(g)?(Je=0,Rr=null,ip(s)):(Je=0,Rr=null,ji(i,s,g,7));break;case 5:var A=null;switch(Ue.tag){case 26:A=Ue.memoizedState;case 5:case 27:var C=Ue;if(!A||Up(A)){Je=0,Rr=null;var D=C.sibling;if(D!==null)Ue=D;else{var z=C.return;z!==null?(Ue=z,hl(z)):Ue=null}break t}}Je=0,Rr=null,ji(i,s,g,5);break;case 6:Je=0,Rr=null,ji(i,s,g,6);break;case 8:sf(),bt=6;break e;default:throw Error(n(462))}}L2();break}catch(K){tp(i,K)}while(!0);return Cn=Oa=null,P.H=f,P.A=v,We=u,Ue!==null?0:(ct=null,He=0,Ms(),bt)}function L2(){for(;Ue!==null&&!bs();)ap(Ue)}function ap(i){var s=R1(i.alternate,i,Mn);i.memoizedProps=i.pendingProps,s===null?hl(i):Ue=s}function ip(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=S1(u,s,s.pendingProps,s.type,void 0,He);break;case 11:s=S1(u,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Ac(s);default:j1(u,s),s=Ue=oh(s,Mn),s=R1(u,s,Mn)}i.memoizedProps=i.pendingProps,s===null?hl(i):Ue=s}function ji(i,s,u,f){Cn=Oa=null,Ac(s),Ei=null,Co=0;var v=s.return;try{if(C2(i,v,s,u,He)){bt=1,al(i,Ur(u,i.current)),Ue=null;return}}catch(g){if(v!==null)throw Ue=v,g;bt=1,al(i,Ur(u,i.current)),Ue=null;return}s.flags&32768?(Ye||f===1?i=!0:Oi||(He&536870912)!==0?i=!1:(Wn=i=!0,(f===2||f===9||f===3||f===6)&&(f=Gr.current,f!==null&&f.tag===13&&(f.flags|=16384))),op(s,i)):hl(s)}function hl(i){var s=i;do{if((s.flags&32768)!==0){op(s,Wn);return}i=s.return;var u=O2(s.alternate,s,Mn);if(u!==null){Ue=u;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=i}while(s!==null);bt===0&&(bt=5)}function op(i,s){do{var u=T2(i.alternate,i);if(u!==null){u.flags&=32767,Ue=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=u}while(i!==null);bt=6,Ue=null}function sp(i,s,u,f,v,g,A,C,D){i.cancelPendingCommit=null;do pl();while(Wt!==0);if((We&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(g=s.lanes|s.childLanes,g|=Wu,vg(i,u,g,A,C,D),i===ct&&(Ue=ct=null,He=0),Di=s,ta=i,Ri=u,nf=g,af=v,Q1=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,z2(H,function(){return dp(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=P.T,P.T=null,v=oe.p,oe.p=2,A=We,We|=4;try{D2(i,s,u)}finally{We=A,oe.p=v,P.T=f}}Wt=1,lp(),up(),cp()}}function lp(){if(Wt===1){Wt=0;var i=ta,s=Di,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=P.T,P.T=null;var f=oe.p;oe.p=2;var v=We;We|=4;try{G1(s,i);var g=bf,A=K0(i.containerInfo),C=g.focusedElem,D=g.selectionRange;if(A!==C&&C&&C.ownerDocument&&$0(C.ownerDocument.documentElement,C)){if(D!==null&&qu(C)){var z=D.start,K=D.end;if(K===void 0&&(K=z),"selectionStart"in C)C.selectionStart=z,C.selectionEnd=Math.min(K,C.value.length);else{var te=C.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var X=G.getSelection(),Re=C.textContent.length,Ne=Math.min(D.start,Re),at=D.end===void 0?Ne:Math.min(D.end,Re);!X.extend&&Ne>at&&(A=at,at=Ne,Ne=A);var L=Y0(C,Ne),B=Y0(C,at);if(L&&B&&(X.rangeCount!==1||X.anchorNode!==L.node||X.anchorOffset!==L.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var U=te.createRange();U.setStart(L.node,L.offset),X.removeAllRanges(),Ne>at?(X.addRange(U),X.extend(B.node,B.offset)):(U.setEnd(B.node,B.offset),X.addRange(U))}}}}for(te=[],X=C;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<te.length;C++){var J=te[C];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Cl=!!_f,bf=_f=null}finally{We=v,oe.p=f,P.T=u}}i.current=s,Wt=2}}function up(){if(Wt===2){Wt=0;var i=ta,s=Di,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=P.T,P.T=null;var f=oe.p;oe.p=2;var v=We;We|=4;try{U1(i,s.alternate,s)}finally{We=v,oe.p=f,P.T=u}}Wt=3}}function cp(){if(Wt===4||Wt===3){Wt=0,wu();var i=ta,s=Di,u=Ri,f=Q1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,Di=ta=null,fp(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(ea=null),Cu(u),s=s.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(be,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=P.T,v=oe.p,oe.p=2,P.T=null;try{for(var g=i.onRecoverableError,A=0;A<f.length;A++){var C=f[A];g(C.value,{componentStack:C.stack})}}finally{P.T=s,oe.p=v}}(Ri&3)!==0&&pl(),pn(i),v=i.pendingLanes,(u&4194090)!==0&&(v&42)!==0?i===of?Bo++:(Bo=0,of=i):Bo=0,Po(0)}}function fp(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,vo(s)))}function pl(i){return lp(),up(),cp(),dp()}function dp(){if(Wt!==5)return!1;var i=ta,s=nf;nf=0;var u=Cu(Ri),f=P.T,v=oe.p;try{oe.p=32>u?32:u,P.T=null,u=af,af=null;var g=ta,A=Ri;if(Wt=0,Di=ta=null,Ri=0,(We&6)!==0)throw Error(n(331));var C=We;if(We|=4,$1(g.current),X1(g,g.current,A,u),We=C,Po(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(be,g)}catch{}return!0}finally{oe.p=v,P.T=f,fp(i,s)}}function hp(i,s,u){s=Ur(u,s),s=Lc(i.stateNode,s,2),i=Zn(i,s,2),i!==null&&(Wi(i,2),pn(i))}function st(i,s,u){if(i.tag===3)hp(i,i,u);else for(;s!==null;){if(s.tag===3){hp(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ea===null||!ea.has(f))){i=Ur(u,i),u=x1(2),f=Zn(s,u,2),f!==null&&(g1(u,f,s,i),Wi(f,2),pn(f));break}}s=s.return}}function cf(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new j2;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(u)||(Jc=!0,v.add(u),i=k2.bind(null,i,s,u),s.then(i,i))}function k2(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,ct===i&&(He&u)===u&&(bt===4||bt===3&&(He&62914560)===He&&300>Lr()-rf?(We&2)===0&&Ii(i,0):ef|=u,Ti===He&&(Ti=0)),pn(i)}function pp(i,s){s===0&&(s=c0()),i=pi(i,s),i!==null&&(Wi(i,s),pn(i))}function F2(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),pp(i,u)}function U2(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(s),pp(i,u)}function z2(i,s){return Ki(i,s)}var vl=null,Mi=null,ff=!1,ml=!1,df=!1,Ba=0;function pn(i){i!==Mi&&i.next===null&&(Mi===null?vl=Mi=i:Mi=Mi.next=i),ml=!0,ff||(ff=!0,H2())}function Po(i,s){if(!df&&ml){df=!0;do for(var u=!1,f=vl;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var g=0;else{var A=f.suspendedLanes,C=f.pingedLanes;g=(1<<31-ut(42|i)+1)-1,g&=v&~(A&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(u=!0,gp(f,g))}else g=He,g=xa(f,f===ct?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||ga(f,g)||(u=!0,gp(f,g));f=f.next}while(u);df=!1}}function V2(){vp()}function vp(){ml=ff=!1;var i=0;Ba!==0&&(Q2()&&(i=Ba),Ba=0);for(var s=Lr(),u=null,f=vl;f!==null;){var v=f.next,g=mp(f,s);g===0?(f.next=null,u===null?vl=v:u.next=v,v===null&&(Mi=u)):(u=f,(i!==0||(g&3)!==0)&&(ml=!0)),f=v}Po(i)}function mp(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var A=31-ut(g),C=1<<A,D=v[A];D===-1?((C&u)===0||(C&f)!==0)&&(v[A]=ws(C,s)):D<=s&&(i.expiredLanes|=C),g&=~C}if(s=ct,u=He,u=xa(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(Je===2||Je===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Wa(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ga(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&Wa(f),Cu(u)){case 2:case 8:u=I;break;case 32:u=H;break;case 268435456:u=pe;break;default:u=H}return f=xp.bind(null,i),u=Ki(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&Wa(f),i.callbackPriority=2,i.callbackNode=null,2}function xp(i,s){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(pl()&&i.callbackNode!==u)return null;var f=He;return f=xa(i,i===ct?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(J1(i,f,s),mp(i,Lr()),i.callbackNode!=null&&i.callbackNode===u?xp.bind(null,i):null)}function gp(i,s){if(pl())return null;J1(i,s,!0)}function H2(){J2(function(){(We&6)!==0?Ki(Qi,V2):vp()})}function hf(){return Ba===0&&(Ba=u0()),Ba}function yp(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ns(""+i)}function _p(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function G2(i,s,u,f,v){if(s==="submit"&&u&&u.stateNode===v){var g=yp((v[vr]||null).action),A=f.submitter;A&&(s=(s=A[vr]||null)?yp(s.formAction):A.getAttribute("formAction"),s!==null&&(g=s,A=null));var C=new Rs("action","action",null,f,v);i.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ba!==0){var D=A?_p(v,A):new FormData(v);Ic(u,{pending:!0,data:D,method:v.method,action:g},null,D)}}else typeof g=="function"&&(C.preventDefault(),D=A?_p(v,A):new FormData(v),Ic(u,{pending:!0,data:D,method:v.method,action:g},g,D))},currentTarget:v}]})}}for(var pf=0;pf<Qu.length;pf++){var vf=Qu[pf],Z2=vf.toLowerCase(),X2=vf[0].toUpperCase()+vf.slice(1);Kr(Z2,"on"+X2)}Kr(J0,"onAnimationEnd"),Kr(eh,"onAnimationIteration"),Kr(th,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(u2,"onTransitionRun"),Kr(c2,"onTransitionStart"),Kr(f2,"onTransitionCancel"),Kr(rh,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function bp(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],v=f.event;f=f.listeners;e:{var g=void 0;if(s)for(var A=f.length-1;0<=A;A--){var C=f[A],D=C.instance,z=C.currentTarget;if(C=C.listener,D!==g&&v.isPropagationStopped())break e;g=C,v.currentTarget=z;try{g(v)}catch(K){nl(K)}v.currentTarget=null,g=D}else for(A=0;A<f.length;A++){if(C=f[A],D=C.instance,z=C.currentTarget,C=C.listener,D!==g&&v.isPropagationStopped())break e;g=C,v.currentTarget=z;try{g(v)}catch(K){nl(K)}v.currentTarget=null,g=D}}}}function ze(i,s){var u=s[Nu];u===void 0&&(u=s[Nu]=new Set);var f=i+"__bubble";u.has(f)||(wp(s,i,2,!1),u.add(f))}function mf(i,s,u){var f=0;s&&(f|=4),wp(u,i,f,s)}var xl="_reactListening"+Math.random().toString(36).slice(2);function xf(i){if(!i[xl]){i[xl]=!0,v0.forEach(function(u){u!=="selectionchange"&&(q2.has(u)||mf(u,!1,i),mf(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[xl]||(s[xl]=!0,mf("selectionchange",!1,s))}}function wp(i,s,u,f){switch(Xp(s)){case 2:var v=_y;break;case 8:v=by;break;default:v=Rf}u=v.bind(null,s,u,i),v=void 0,!ku||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(s,u,{capture:!0,passive:v}):i.addEventListener(s,u,!0):v!==void 0?i.addEventListener(s,u,{passive:v}):i.addEventListener(s,u,!1)}function gf(i,s,u,f,v){var g=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var C=f.stateNode.containerInfo;if(C===v)break;if(A===4)for(A=f.return;A!==null;){var D=A.tag;if((D===3||D===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;C!==null;){if(A=ti(C),A===null)return;if(D=A.tag,D===5||D===6||D===26||D===27){f=g=A;continue e}C=C.parentNode}}f=f.return}T0(function(){var z=g,K=Pu(u),te=[];e:{var G=nh.get(i);if(G!==void 0){var X=Rs,Re=i;switch(i){case"keypress":if(Ts(u)===0)break e;case"keydown":case"keyup":X=zg;break;case"focusin":Re="focus",X=Vu;break;case"focusout":Re="blur",X=Vu;break;case"beforeblur":case"afterblur":X=Vu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Gg;break;case J0:case eh:case th:X=Ig;break;case rh:X=Xg;break;case"scroll":case"scrollend":X=Ng;break;case"wheel":X=Yg;break;case"copy":case"cut":case"paste":X=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=M0;break;case"toggle":case"beforetoggle":X=Kg}var Ne=(s&4)!==0,at=!Ne&&(i==="scroll"||i==="scrollend"),L=Ne?G!==null?G+"Capture":null:G;Ne=[];for(var B=z,U;B!==null;){var J=B;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||L===null||(J=to(B,L),J!=null&&Ne.push(ko(B,J,U))),at)break;B=B.return}0<Ne.length&&(G=new X(G,Re,null,u,K),te.push({event:G,listeners:Ne}))}}if((s&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",G&&u!==Bu&&(Re=u.relatedTarget||u.fromElement)&&(ti(Re)||Re[ei]))break e;if((X||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,X?(Re=u.relatedTarget||u.toElement,X=z,Re=Re?ti(Re):null,Re!==null&&(at=o(Re),Ne=Re.tag,Re!==at||Ne!==5&&Ne!==27&&Ne!==6)&&(Re=null)):(X=null,Re=z),X!==Re)){if(Ne=I0,J="onMouseLeave",L="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Ne=M0,J="onPointerLeave",L="onPointerEnter",B="pointer"),at=X==null?G:eo(X),U=Re==null?G:eo(Re),G=new Ne(J,B+"leave",X,u,K),G.target=at,G.relatedTarget=U,J=null,ti(K)===z&&(Ne=new Ne(L,B+"enter",Re,u,K),Ne.target=U,Ne.relatedTarget=at,J=Ne),at=J,X&&Re)t:{for(Ne=X,L=Re,B=0,U=Ne;U;U=Bi(U))B++;for(U=0,J=L;J;J=Bi(J))U++;for(;0<B-U;)Ne=Bi(Ne),B--;for(;0<U-B;)L=Bi(L),U--;for(;B--;){if(Ne===L||L!==null&&Ne===L.alternate)break t;Ne=Bi(Ne),L=Bi(L)}Ne=null}else Ne=null;X!==null&&Ap(te,G,X,Ne,!1),Re!==null&&at!==null&&Ap(te,at,Re,Ne,!0)}}e:{if(G=z?eo(z):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var xe=V0;else if(U0(G))if(H0)xe=o2;else{xe=a2;var ke=n2}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?z&&Mu(z.elementType)&&(xe=V0):xe=i2;if(xe&&(xe=xe(i,z))){z0(te,xe,u,K);break e}ke&&ke(i,G,z),i==="focusout"&&z&&G.type==="number"&&z.memoizedProps.value!=null&&ju(G,"number",G.value)}switch(ke=z?eo(z):window,i){case"focusin":(U0(ke)||ke.contentEditable==="true")&&(fi=ke,Yu=z,uo=null);break;case"focusout":uo=Yu=fi=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,Q0(te,u,K);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":Q0(te,u,K)}var we;if(Gu)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ci?k0(i,u)&&(Te="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Te="onCompositionStart");Te&&(B0&&u.locale!=="ko"&&(ci||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ci&&(we=D0()):(zn=K,Fu="value"in zn?zn.value:zn.textContent,ci=!0)),ke=gl(z,Te),0<ke.length&&(Te=new j0(Te,i,null,u,K),te.push({event:Te,listeners:ke}),we?Te.data=we:(we=F0(u),we!==null&&(Te.data=we)))),(we=Wg?Jg(i,u):e2(i,u))&&(Te=gl(z,"onBeforeInput"),0<Te.length&&(ke=new j0("onBeforeInput","beforeinput",null,u,K),te.push({event:ke,listeners:Te}),ke.data=we)),G2(te,i,z,u,K)}bp(te,s)})}function ko(i,s,u){return{instance:i,listener:s,currentTarget:u}}function gl(i,s){for(var u=s+"Capture",f=[];i!==null;){var v=i,g=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||g===null||(v=to(i,u),v!=null&&f.unshift(ko(i,v,g)),v=to(i,s),v!=null&&f.push(ko(i,v,g))),i.tag===3)return f;i=i.return}return[]}function Bi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ap(i,s,u,f,v){for(var g=s._reactName,A=[];u!==null&&u!==f;){var C=u,D=C.alternate,z=C.stateNode;if(C=C.tag,D!==null&&D===f)break;C!==5&&C!==26&&C!==27||z===null||(D=z,v?(z=to(u,g),z!=null&&A.unshift(ko(u,z,D))):v||(z=to(u,g),z!=null&&A.push(ko(u,z,D)))),u=u.return}A.length!==0&&i.push({event:s,listeners:A})}var Y2=/\r\n?/g,$2=/\u0000|\uFFFD/g;function Ep(i){return(typeof i=="string"?i:""+i).replace(Y2,`
`).replace($2,"")}function Sp(i,s){return s=Ep(s),Ep(i)===s}function yl(){}function nt(i,s,u,f,v,g){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||si(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&si(i,""+f);break;case"className":Es(i,"class",f);break;case"tabIndex":Es(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Es(i,u,f);break;case"style":N0(i,f,g);break;case"data":if(s!=="object"){Es(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ns(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(u==="formAction"?(s!=="input"&&nt(i,s,"name",v.name,v,null),nt(i,s,"formEncType",v.formEncType,v,null),nt(i,s,"formMethod",v.formMethod,v,null),nt(i,s,"formTarget",v.formTarget,v,null)):(nt(i,s,"encType",v.encType,v,null),nt(i,s,"method",v.method,v,null),nt(i,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ns(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=yl);break;case"onScroll":f!=null&&ze("scroll",i);break;case"onScrollEnd":f!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Ns(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":ze("beforetoggle",i),ze("toggle",i),As(i,"popover",f);break;case"xlinkActuate":bn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":bn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":bn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":bn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":bn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":bn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":bn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":bn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":bn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":As(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Sg.get(u)||u,As(i,u,f))}}function yf(i,s,u,f,v,g){switch(u){case"style":N0(i,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof f=="string"?si(i,f):(typeof f=="number"||typeof f=="bigint")&&si(i,""+f);break;case"onScroll":f!=null&&ze("scroll",i);break;case"onScrollEnd":f!=null&&ze("scrollend",i);break;case"onClick":f!=null&&(i.onclick=yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!m0.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),s=u.slice(2,v?u.length-7:void 0),g=i[vr]||null,g=g!=null?g[u]:null,typeof g=="function"&&i.removeEventListener(s,g,v),typeof f=="function")){typeof g!="function"&&g!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,v);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):As(i,u,f)}}}function Jt(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var f=!1,v=!1,g;for(g in u)if(u.hasOwnProperty(g)){var A=u[g];if(A!=null)switch(g){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:nt(i,s,g,A,u,null)}}v&&nt(i,s,"srcSet",u.srcSet,u,null),f&&nt(i,s,"src",u.src,u,null);return;case"input":ze("invalid",i);var C=g=A=v=null,D=null,z=null;for(f in u)if(u.hasOwnProperty(f)){var K=u[f];if(K!=null)switch(f){case"name":v=K;break;case"type":A=K;break;case"checked":D=K;break;case"defaultChecked":z=K;break;case"value":g=K;break;case"defaultValue":C=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,s));break;default:nt(i,s,f,K,u,null)}}A0(i,g,C,D,z,A,v,!1),Ss(i);return;case"select":ze("invalid",i),f=A=g=null;for(v in u)if(u.hasOwnProperty(v)&&(C=u[v],C!=null))switch(v){case"value":g=C;break;case"defaultValue":A=C;break;case"multiple":f=C;default:nt(i,s,v,C,u,null)}s=g,u=A,i.multiple=!!f,s!=null?oi(i,!!f,s,!1):u!=null&&oi(i,!!f,u,!0);return;case"textarea":ze("invalid",i),g=v=f=null;for(A in u)if(u.hasOwnProperty(A)&&(C=u[A],C!=null))switch(A){case"value":f=C;break;case"defaultValue":v=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:nt(i,s,A,C,u,null)}S0(i,f,v,g),Ss(i);return;case"option":for(D in u)if(u.hasOwnProperty(D)&&(f=u[D],f!=null))switch(D){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:nt(i,s,D,f,u,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(f=0;f<Lo.length;f++)ze(Lo[f],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in u)if(u.hasOwnProperty(z)&&(f=u[z],f!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:nt(i,s,z,f,u,null)}return;default:if(Mu(s)){for(K in u)u.hasOwnProperty(K)&&(f=u[K],f!==void 0&&yf(i,s,K,f,u,void 0));return}}for(C in u)u.hasOwnProperty(C)&&(f=u[C],f!=null&&nt(i,s,C,f,u,null))}function K2(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,g=null,A=null,C=null,D=null,z=null,K=null;for(X in u){var te=u[X];if(u.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=te;default:f.hasOwnProperty(X)||nt(i,s,X,null,f,te)}}for(var G in f){var X=f[G];if(te=u[G],f.hasOwnProperty(G)&&(X!=null||te!=null))switch(G){case"type":g=X;break;case"name":v=X;break;case"checked":z=X;break;case"defaultChecked":K=X;break;case"value":A=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,s));break;default:X!==te&&nt(i,s,G,X,f,te)}}Iu(i,A,C,D,z,K,g,v);return;case"select":X=A=C=G=null;for(g in u)if(D=u[g],u.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":X=D;default:f.hasOwnProperty(g)||nt(i,s,g,null,f,D)}for(v in f)if(g=f[v],D=u[v],f.hasOwnProperty(v)&&(g!=null||D!=null))switch(v){case"value":G=g;break;case"defaultValue":C=g;break;case"multiple":A=g;default:g!==D&&nt(i,s,v,g,f,D)}s=C,u=A,f=X,G!=null?oi(i,!!u,G,!1):!!f!=!!u&&(s!=null?oi(i,!!u,s,!0):oi(i,!!u,u?[]:"",!1));return;case"textarea":X=G=null;for(C in u)if(v=u[C],u.hasOwnProperty(C)&&v!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:nt(i,s,C,null,f,v)}for(A in f)if(v=f[A],g=u[A],f.hasOwnProperty(A)&&(v!=null||g!=null))switch(A){case"value":G=v;break;case"defaultValue":X=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==g&&nt(i,s,A,v,f,g)}E0(i,G,X);return;case"option":for(var Re in u)if(G=u[Re],u.hasOwnProperty(Re)&&G!=null&&!f.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:nt(i,s,Re,null,f,G)}for(D in f)if(G=f[D],X=u[D],f.hasOwnProperty(D)&&G!==X&&(G!=null||X!=null))switch(D){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:nt(i,s,D,G,f,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in u)G=u[Ne],u.hasOwnProperty(Ne)&&G!=null&&!f.hasOwnProperty(Ne)&&nt(i,s,Ne,null,f,G);for(z in f)if(G=f[z],X=u[z],f.hasOwnProperty(z)&&G!==X&&(G!=null||X!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,s));break;default:nt(i,s,z,G,f,X)}return;default:if(Mu(s)){for(var at in u)G=u[at],u.hasOwnProperty(at)&&G!==void 0&&!f.hasOwnProperty(at)&&yf(i,s,at,void 0,f,G);for(K in f)G=f[K],X=u[K],!f.hasOwnProperty(K)||G===X||G===void 0&&X===void 0||yf(i,s,K,G,f,X);return}}for(var L in u)G=u[L],u.hasOwnProperty(L)&&G!=null&&!f.hasOwnProperty(L)&&nt(i,s,L,null,f,G);for(te in f)G=f[te],X=u[te],!f.hasOwnProperty(te)||G===X||G==null&&X==null||nt(i,s,te,G,f,X)}var _f=null,bf=null;function _l(i){return i.nodeType===9?i:i.ownerDocument}function Cp(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function wf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Af=null;function Q2(){var i=window.event;return i&&i.type==="popstate"?i===Af?!1:(Af=i,!0):(Af=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,J2=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(i){return Tp.resolve(null).then(i).catch(ey)}:Op;function ey(i){setTimeout(function(){throw i})}function na(i){return i==="head"}function Dp(i,s){var u=s,f=0,v=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(0<f&&8>f){u=f;var A=i.ownerDocument;if(u&1&&Fo(A.documentElement),u&2&&Fo(A.body),u&4)for(u=A.head,Fo(u),A=u.firstChild;A;){var C=A.nextSibling,D=A.nodeName;A[Ji]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=C}}if(v===0){i.removeChild(g),qo(s);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=g}while(u);qo(s)}function Ef(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ef(u),Ou(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function ty(i,s,u,f){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ji])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Wr(i.nextSibling),i===null)break}return null}function ry(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Wr(i.nextSibling),i===null))return null;return i}function Sf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function ny(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Wr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Cf=null;function Rp(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function Ip(i,s,u){switch(s=_l(u),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Fo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ou(i)}var Xr=new Map,jp=new Set;function bl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Bn=oe.d;oe.d={f:ay,r:iy,D:oy,C:sy,L:ly,m:uy,X:fy,S:cy,M:dy};function ay(){var i=Bn.f(),s=dl();return i||s}function iy(i){var s=ri(i);s!==null&&s.tag===5&&s.type==="form"?Jh(s):Bn.r(i)}var Pi=typeof document>"u"?null:document;function Mp(i,s,u){var f=Pi;if(f&&typeof s=="string"&&s){var v=Fr(s);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),jp.has(v)||(jp.add(v),i={rel:i,crossOrigin:u,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),Jt(s,"link",i),Ut(s),f.head.appendChild(s)))}}function oy(i){Bn.D(i),Mp("dns-prefetch",i,null)}function sy(i,s){Bn.C(i,s),Mp("preconnect",i,s)}function ly(i,s,u){Bn.L(i,s,u);var f=Pi;if(f&&i&&s){var v='link[rel="preload"][as="'+Fr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Fr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Fr(u.imageSizes)+'"]')):v+='[href="'+Fr(i)+'"]';var g=v;switch(s){case"style":g=Li(i);break;case"script":g=ki(i)}Xr.has(g)||(i=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Xr.set(g,i),f.querySelector(v)!==null||s==="style"&&f.querySelector(Uo(g))||s==="script"&&f.querySelector(zo(g))||(s=f.createElement("link"),Jt(s,"link",i),Ut(s),f.head.appendChild(s)))}}function uy(i,s){Bn.m(i,s);var u=Pi;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Fr(f)+'"][href="'+Fr(i)+'"]',g=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ki(i)}if(!Xr.has(g)&&(i=m({rel:"modulepreload",href:i},s),Xr.set(g,i),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(zo(g)))return}f=u.createElement("link"),Jt(f,"link",i),Ut(f),u.head.appendChild(f)}}}function cy(i,s,u){Bn.S(i,s,u);var f=Pi;if(f&&i){var v=ni(f).hoistableStyles,g=Li(i);s=s||"default";var A=v.get(g);if(!A){var C={loading:0,preload:null};if(A=f.querySelector(Uo(g)))C.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Xr.get(g))&&Nf(i,u);var D=A=f.createElement("link");Ut(D),Jt(D,"link",i),D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),D.addEventListener("load",function(){C.loading|=1}),D.addEventListener("error",function(){C.loading|=2}),C.loading|=4,wl(A,s,f)}A={type:"stylesheet",instance:A,count:1,state:C},v.set(g,A)}}}function fy(i,s){Bn.X(i,s);var u=Pi;if(u&&i){var f=ni(u).hoistableScripts,v=ki(i),g=f.get(v);g||(g=u.querySelector(zo(v)),g||(i=m({src:i,async:!0},s),(s=Xr.get(v))&&Of(i,s),g=u.createElement("script"),Ut(g),Jt(g,"link",i),u.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(v,g))}}function dy(i,s){Bn.M(i,s);var u=Pi;if(u&&i){var f=ni(u).hoistableScripts,v=ki(i),g=f.get(v);g||(g=u.querySelector(zo(v)),g||(i=m({src:i,async:!0,type:"module"},s),(s=Xr.get(v))&&Of(i,s),g=u.createElement("script"),Ut(g),Jt(g,"link",i),u.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(v,g))}}function Bp(i,s,u,f){var v=(v=Oe.current)?bl(v):null;if(!v)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Li(u.href),u=ni(v).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Li(u.href);var g=ni(v).hoistableStyles,A=g.get(i);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,A),(g=v.querySelector(Uo(i)))&&!g._p&&(A.instance=g,A.state.loading=5),Xr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Xr.set(i,u),g||hy(v,i,u,A.state))),s&&f===null)throw Error(n(528,""));return A}if(s&&f!==null)throw Error(n(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ki(u),u=ni(v).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Li(i){return'href="'+Fr(i)+'"'}function Uo(i){return'link[rel="stylesheet"]['+i+"]"}function Pp(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function hy(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Jt(s,"link",u),Ut(s),i.head.appendChild(s))}function ki(i){return'[src="'+Fr(i)+'"]'}function zo(i){return"script[async]"+i}function Lp(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Fr(u.href)+'"]');if(f)return s.instance=f,Ut(f),f;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Ut(f),Jt(f,"style",v),wl(f,u.precedence,i),s.instance=f;case"stylesheet":v=Li(u.href);var g=i.querySelector(Uo(v));if(g)return s.state.loading|=4,s.instance=g,Ut(g),g;f=Pp(u),(v=Xr.get(v))&&Nf(f,v),g=(i.ownerDocument||i).createElement("link"),Ut(g);var A=g;return A._p=new Promise(function(C,D){A.onload=C,A.onerror=D}),Jt(g,"link",f),s.state.loading|=4,wl(g,u.precedence,i),s.instance=g;case"script":return g=ki(u.src),(v=i.querySelector(zo(g)))?(s.instance=v,Ut(v),v):(f=u,(v=Xr.get(g))&&(f=m({},u),Of(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),Ut(v),Jt(v,"link",f),i.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,wl(f,u.precedence,i));return s.instance}function wl(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,g=v,A=0;A<f.length;A++){var C=f[A];if(C.dataset.precedence===s)g=C;else if(g!==v)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Nf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Of(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Al=null;function kp(i,s,u){if(Al===null){var f=new Map,v=Al=new Map;v.set(u,f)}else v=Al,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var g=u[v];if(!(g[Ji]||g[nr]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(s)||"";A=i+A;var C=f.get(A);C?C.push(g):f.set(A,[g])}}return f}function Fp(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function py(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Up(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Vo=null;function vy(){}function my(i,s,u){if(Vo===null)throw Error(n(475));var f=Vo;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var v=Li(u.href),g=i.querySelector(Uo(v));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=El.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=g,Ut(g);return}g=i.ownerDocument||i,u=Pp(u),(v=Xr.get(v))&&Nf(u,v),g=g.createElement("link"),Ut(g);var A=g;A._p=new Promise(function(C,D){A.onload=C,A.onerror=D}),Jt(g,"link",u),s.instance=g}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=El.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function xy(){if(Vo===null)throw Error(n(475));var i=Vo;return i.stylesheets&&i.count===0&&Tf(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&Tf(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function El(){if(this.count--,this.count===0){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sl=null;function Tf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sl=new Map,s.forEach(gy,i),Sl=null,El.call(i))}function gy(i,s){if(!(s.state.loading&4)){var u=Sl.get(i);if(u)var f=u.get(null);else{u=new Map,Sl.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<v.length;g++){var A=v[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),f=A)}f&&u.set(null,f)}v=s.instance,A=v.getAttribute("data-precedence"),g=u.get(A)||f,g===f&&u.set(null,v),u.set(A,v),this.count++,f=El.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),g?g.parentNode.insertBefore(v,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),s.state.loading|=4}}var Ho={$$typeof:N,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function yy(i,s,u,f,v,g,A,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eu(0),this.hiddenUpdates=Eu(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function zp(i,s,u,f,v,g,A,C,D,z,K,te){return i=new yy(i,s,u,A,C,D,z,te),s=1,g===!0&&(s|=24),g=Or(3,null,null,s),i.current=g,g.stateNode=i,s=uc(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:f,isDehydrated:u,cache:s},hc(g),i}function Vp(i){return i?(i=vi,i):vi}function Hp(i,s,u,f,v,g){v=Vp(v),f.context===null?f.context=v:f.pendingContext=v,f=Gn(s),f.payload={element:u},g=g===void 0?null:g,g!==null&&(f.callback=g),u=Zn(i,f,s),u!==null&&(jr(u,i,s),yo(u,i,s))}function Gp(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Df(i,s){Gp(i,s),(i=i.alternate)&&Gp(i,s)}function Zp(i){if(i.tag===13){var s=pi(i,67108864);s!==null&&jr(s,i,67108864),Df(i,67108864)}}var Cl=!0;function _y(i,s,u,f){var v=P.T;P.T=null;var g=oe.p;try{oe.p=2,Rf(i,s,u,f)}finally{oe.p=g,P.T=v}}function by(i,s,u,f){var v=P.T;P.T=null;var g=oe.p;try{oe.p=8,Rf(i,s,u,f)}finally{oe.p=g,P.T=v}}function Rf(i,s,u,f){if(Cl){var v=If(f);if(v===null)gf(i,s,f,Nl,u),qp(i,f);else if(Ay(v,i,s,u,f))f.stopPropagation();else if(qp(i,f),s&4&&-1<wy.indexOf(i)){for(;v!==null;){var g=ri(v);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=_n(g.pendingLanes);if(A!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;A;){var D=1<<31-ut(A);C.entanglements[1]|=D,A&=~D}pn(g),(We&6)===0&&(cl=Lr()+500,Po(0))}}break;case 13:C=pi(g,2),C!==null&&jr(C,g,2),dl(),Df(g,2)}if(g=If(f),g===null&&gf(i,s,f,Nl,u),g===v)break;v=g}v!==null&&f.stopPropagation()}else gf(i,s,f,null,u)}}function If(i){return i=Pu(i),jf(i)}var Nl=null;function jf(i){if(Nl=null,i=ti(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Nl=i,null}function Xp(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(l0()){case Qi:return 2;case I:return 8;case H:case Q:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Mf=!1,aa=null,ia=null,oa=null,Go=new Map,Zo=new Map,sa=[],wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(i,s){switch(i){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Go.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(s.pointerId)}}function Xo(i,s,u,f,v,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:g,targetContainers:[v]},s!==null&&(s=ri(s),s!==null&&Zp(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),i)}function Ay(i,s,u,f,v){switch(s){case"focusin":return aa=Xo(aa,i,s,u,f,v),!0;case"dragenter":return ia=Xo(ia,i,s,u,f,v),!0;case"mouseover":return oa=Xo(oa,i,s,u,f,v),!0;case"pointerover":var g=v.pointerId;return Go.set(g,Xo(Go.get(g)||null,i,s,u,f,v)),!0;case"gotpointercapture":return g=v.pointerId,Zo.set(g,Xo(Zo.get(g)||null,i,s,u,f,v)),!0}return!1}function Yp(i){var s=ti(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,mg(i.priority,function(){if(u.tag===13){var f=Ir();f=Su(f);var v=pi(u,f);v!==null&&jr(v,u,f),Df(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ol(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=If(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Bu=f,u.target.dispatchEvent(f),Bu=null}else return s=ri(u),s!==null&&Zp(s),i.blockedOn=u,!1;s.shift()}return!0}function $p(i,s,u){Ol(i)&&u.delete(s)}function Ey(){Mf=!1,aa!==null&&Ol(aa)&&(aa=null),ia!==null&&Ol(ia)&&(ia=null),oa!==null&&Ol(oa)&&(oa=null),Go.forEach($p),Zo.forEach($p)}function Tl(i,s){i.blockedOn===s&&(i.blockedOn=null,Mf||(Mf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ey)))}var Dl=null;function Kp(i){Dl!==i&&(Dl=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dl===i&&(Dl=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],v=i[s+2];if(typeof f!="function"){if(jf(f||u)===null)continue;break}var g=ri(u);g!==null&&(i.splice(s,3),s-=3,Ic(g,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function qo(i){function s(D){return Tl(D,i)}aa!==null&&Tl(aa,i),ia!==null&&Tl(ia,i),oa!==null&&Tl(oa,i),Go.forEach(s),Zo.forEach(s);for(var u=0;u<sa.length;u++){var f=sa[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<sa.length&&(u=sa[0],u.blockedOn===null);)Yp(u),u.blockedOn===null&&sa.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],g=u[f+1],A=v[vr]||null;if(typeof g=="function")A||Kp(u);else if(A){var C=null;if(g&&g.hasAttribute("formAction")){if(v=g,A=g[vr]||null)C=A.formAction;else if(jf(v)!==null)continue}else C=A.action;typeof C=="function"?u[f+1]=C:(u.splice(f,3),f-=3),Kp(u)}}}function Bf(i){this._internalRoot=i}Rl.prototype.render=Bf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var u=s.current,f=Ir();Hp(u,f,i,s,null,null)},Rl.prototype.unmount=Bf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Hp(i.current,2,null,i,null,null),dl(),s[ei]=null}};function Rl(i){this._internalRoot=i}Rl.prototype.unstable_scheduleHydration=function(i){if(i){var s=h0();i={blockedOn:null,target:i,priority:s};for(var u=0;u<sa.length&&s!==0&&s<sa[u].priority;u++);sa.splice(u,0,i),u===0&&Yp(i)}};var Qp=e.version;if(Qp!=="19.1.0")throw Error(n(527,Qp,"19.1.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var Sy={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{be=Il.inject(Sy),Ie=Il}catch{}}return $o.createRoot=function(i,s){if(!a(i))throw Error(n(299));var u=!1,f="",v=h1,g=p1,A=v1,C=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=zp(i,1,!1,null,null,u,f,v,g,A,C,null),i[ei]=s.current,xf(i),new Bf(s)},$o.hydrateRoot=function(i,s,u){if(!a(i))throw Error(n(299));var f=!1,v="",g=h1,A=p1,C=v1,D=null,z=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(g=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(C=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(D=u.unstable_transitionCallbacks),u.formState!==void 0&&(z=u.formState)),s=zp(i,1,!0,s,u??null,f,v,g,A,C,D,z),s.context=Vp(null),u=s.current,f=Ir(),f=Su(f),v=Gn(f),v.callback=null,Zn(u,v,f),u=f,s.current.lanes=u,Wi(s,u),pn(s),i[ei]=s.current,xf(i),new Rl(s)},$o.version="19.1.0",$o}var sv;function Py(){if(sv)return kf.exports;sv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kf.exports=By(),kf.exports}var Ly=Py(),iu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ou=typeof window>"u"||"Deno"in globalThis;function rn(){}function ky(t,e){return typeof t=="function"?t(e):t}function Fy(t){return typeof t=="number"&&t>=0&&t!==1/0}function Uy(t,e){return Math.max(t+(e||0)-Date.now(),0)}function id(t,e){return typeof t=="function"?t(e):t}function zy(t,e){return typeof t=="function"?t(e):t}function lv(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:l,stale:c}=t;if(l){if(n){if(e.queryHash!==Pd(l,e.options))return!1}else if(!ds(e.queryKey,l))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||a&&a!==e.state.fetchStatus||o&&!o(e))}function uv(t,e){const{exact:r,status:n,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(fs(e.options.mutationKey)!==fs(o))return!1}else if(!ds(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function Pd(t,e){return(e?.queryKeyHashFn||fs)(t)}function fs(t){return JSON.stringify(t,(e,r)=>od(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function ds(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ds(t[r],e[r])):!1}function Zm(t,e){if(t===e)return t;const r=cv(t)&&cv(e);if(r||od(t)&&od(e)){const n=r?t:Object.keys(t),a=n.length,o=r?e:Object.keys(e),l=o.length,c=r?[]:{},d=new Set(n);let h=0;for(let m=0;m<l;m++){const x=r?m:o[m];(!r&&d.has(x)||r)&&t[x]===void 0&&e[x]===void 0?(c[x]=void 0,h++):(c[x]=Zm(t[x],e[x]),c[x]===t[x]&&t[x]!==void 0&&h++)}return a===l&&h===a?t:c}return e}function cv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function od(t){if(!fv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!fv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fv(t){return Object.prototype.toString.call(t)==="[object Object]"}function Vy(t){return new Promise(e=>{setTimeout(e,t)})}function Hy(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Zm(t,e):e}function Gy(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Zy(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Ld=Symbol();function Xm(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Ld?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xy=class extends iu{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!ou&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},qm=new Xy,qy=class extends iu{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!ou&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Kl=new qy;function Yy(){let t,e;const r=new Promise((a,o)=>{t=a,e=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function $y(t){return Math.min(1e3*2**t,3e4)}function Ym(t){return(t??"online")==="online"?Kl.isOnline():!0}var $m=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Vf(t){return t instanceof $m}function Km(t){let e=!1,r=0,n=!1,a;const o=Yy(),l=w=>{n||(y(new $m(w)),t.abort?.())},c=()=>{e=!0},d=()=>{e=!1},h=()=>qm.isFocused()&&(t.networkMode==="always"||Kl.isOnline())&&t.canRun(),m=()=>Ym(t.networkMode)&&t.canRun(),x=w=>{n||(n=!0,t.onSuccess?.(w),a?.(),o.resolve(w))},y=w=>{n||(n=!0,t.onError?.(w),a?.(),o.reject(w))},_=()=>new Promise(w=>{a=S=>{(n||h())&&w(S)},t.onPause?.()}).then(()=>{a=void 0,n||t.onContinue?.()}),b=()=>{if(n)return;let w;const S=r===0?t.initialPromise:void 0;try{w=S??t.fn()}catch(T){w=Promise.reject(T)}Promise.resolve(w).then(x).catch(T=>{if(n)return;const E=t.retry??(ou?0:3),N=t.retryDelay??$y,R=typeof N=="function"?N(r,T):N,M=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,T);if(e||!M){y(T);return}r++,t.onFail?.(r,T),Vy(R).then(()=>h()?void 0:_()).then(()=>{e?y(T):b()})})};return{promise:o,cancel:l,continue:()=>(a?.(),o),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?b():_().then(b),o)}}var Ky=t=>setTimeout(t,0);function Qy(){let t=[],e=0,r=c=>{c()},n=c=>{c()},a=Ky;const o=c=>{e?t.push(c):a(()=>{r(c)})},l=()=>{const c=t;t=[],c.length&&a(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var pr=Qy(),Qm=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fy(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ou?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Wy=class extends Qm{#e;#t;#r;#a;#n;#o;#s;constructor(t){super(),this.#s=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#r=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=e_(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Hy(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>zy(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ld||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>id(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Uy(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},a=()=>{const d=Xm(this.options,e),m=(()=>{const x={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(x),x})();return this.#s=!1,this.options.persister?this.options.persister(d,m,this):d(m)},l=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(d),d})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta});const c=d=>{Vf(d)&&d.silent||this.#i({type:"error",error:d}),Vf(d)||(this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#n=Km({initialPromise:e?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){c(h);return}this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Jy(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Vf(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function Jy(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ym(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function e_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var t_=class extends iu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,a=e.queryHash??Pd(n,e);let o=this.get(a);return o||(o=new Wy({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>lv(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>lv(t,r)):e}notify(t){pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},r_=class extends Qm{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||n_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#a({type:"continue"})};this.#r=Km({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#a({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#a({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#a({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#a({type:"pending",context:o,variables:t,isPaused:n})}const a=await this.#r.start();return await this.#t.config.onSuccess?.(a,t,this.state.context,this),await this.options.onSuccess?.(a,t,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,t,this.state.context),this.#a({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,t,this.state.context,this),await this.options.onError?.(a,t,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,t,this.state.context),a}finally{this.#a({type:"error",error:a})}}finally{this.#t.runNext(this)}}#a(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),pr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function n_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var a_=class extends iu{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new r_({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=jl(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=jl(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=jl(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(a=>a.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=jl(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>uv(e,r))}findAll(t={}){return this.getAll().filter(e=>uv(t,e))}notify(t){pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return pr.batch(()=>Promise.all(t.map(e=>e.continue().catch(rn))))}};function jl(t){return t.options.scope?.id}function dv(t){return{onFetch:(e,r)=>{const n=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=Xm(e.options,e.fetchOptions),_=async(b,w,S)=>{if(m)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:w,direction:S?"backward":"forward",meta:e.options.meta};return x(k),k})(),N=await y(E),{maxPages:R}=e.options,M=S?Zy:Gy;return{pages:M(b.pages,N,R),pageParams:M(b.pageParams,w,R)}};if(a&&o.length){const b=a==="backward",w=b?i_:hv,S={pages:o,pageParams:l},T=w(n,S);c=await _(S,T,b)}else{const b=t??o.length;do{const w=d===0?l[0]??n.initialPageParam:hv(n,c);if(d>0&&w==null)break;c=await _(c,w),d++}while(d<b)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h}}}function hv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function i_(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var o_=class{#e;#t;#r;#a;#n;#o;#s;#i;constructor(t={}){this.#e=t.queryCache||new t_,this.#t=t.mutationCache||new a_,this.#r=t.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=qm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Kl.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(id(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(n.queryHash)?.state.data,l=ky(e,o);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return pr.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;pr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return pr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=pr.batch(()=>this.#e.findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(rn).catch(rn)}invalidateQueries(t,e={}){return pr.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=pr.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(rn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(id(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rn).catch(rn)}fetchInfiniteQuery(t){return t.behavior=dv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rn).catch(rn)}ensureInfiniteQueryData(t){return t.behavior=dv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#a.set(fs(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#a.values()],r={};return e.forEach(n=>{ds(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(fs(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{ds(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Pd(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ld&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},s_=W.createContext(void 0),l_=({client:t,children:e})=>(W.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(s_.Provider,{value:t,children:e}));function Wm(t,e){return function(){return t.apply(e,arguments)}}const{toString:u_}=Object.prototype,{getPrototypeOf:kd}=Object,{iterator:su,toStringTag:Jm}=Symbol,lu=(t=>e=>{const r=u_.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ln=t=>(t=t.toLowerCase(),e=>lu(e)===t),uu=t=>e=>typeof e===t,{isArray:Xi}=Array,hs=uu("undefined");function c_(t){return t!==null&&!hs(t)&&t.constructor!==null&&!hs(t.constructor)&&Ar(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ex=ln("ArrayBuffer");function f_(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ex(t.buffer),e}const d_=uu("string"),Ar=uu("function"),tx=uu("number"),cu=t=>t!==null&&typeof t=="object",h_=t=>t===!0||t===!1,Hl=t=>{if(lu(t)!=="object")return!1;const e=kd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Jm in t)&&!(su in t)},p_=ln("Date"),v_=ln("File"),m_=ln("Blob"),x_=ln("FileList"),g_=t=>cu(t)&&Ar(t.pipe),y_=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ar(t.append)&&((e=lu(t))==="formdata"||e==="object"&&Ar(t.toString)&&t.toString()==="[object FormData]"))},__=ln("URLSearchParams"),[b_,w_,A_,E_]=["ReadableStream","Request","Response","Headers"].map(ln),S_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ms(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Xi(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(n=0;n<l;n++)c=o[n],e.call(null,t[c],c,t)}}function rx(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const Fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nx=t=>!hs(t)&&t!==Fa;function sd(){const{caseless:t}=nx(this)&&this||{},e={},r=(n,a)=>{const o=t&&rx(e,a)||a;Hl(e[o])&&Hl(n)?e[o]=sd(e[o],n):Hl(n)?e[o]=sd({},n):Xi(n)?e[o]=n.slice():e[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&ms(arguments[n],r);return e}const C_=(t,e,r,{allOwnKeys:n}={})=>(ms(e,(a,o)=>{r&&Ar(a)?t[o]=Wm(a,r):t[o]=a},{allOwnKeys:n}),t),N_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),O_=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},T_=(t,e,r,n)=>{let a,o,l;const c={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)l=a[o],(!n||n(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=r!==!1&&kd(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},D_=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},R_=t=>{if(!t)return null;if(Xi(t))return t;let e=t.length;if(!tx(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},I_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&kd(Uint8Array)),j_=(t,e)=>{const n=(t&&t[su]).call(t);let a;for(;(a=n.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},M_=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},B_=ln("HTMLFormElement"),P_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),pv=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),L_=ln("RegExp"),ax=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ms(r,(a,o)=>{let l;(l=e(a,o,t))!==!1&&(n[o]=l||a)}),Object.defineProperties(t,n)},k_=t=>{ax(t,(e,r)=>{if(Ar(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ar(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},F_=(t,e)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return Xi(t)?n(t):n(String(t).split(e)),r},U_=()=>{},z_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function V_(t){return!!(t&&Ar(t.append)&&t[Jm]==="FormData"&&t[su])}const H_=t=>{const e=new Array(10),r=(n,a)=>{if(cu(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const o=Xi(n)?[]:{};return ms(n,(l,c)=>{const d=r(l,a+1);!hs(d)&&(o[c]=d)}),e[a]=void 0,o}}return n};return r(t,0)},G_=ln("AsyncFunction"),Z_=t=>t&&(cu(t)||Ar(t))&&Ar(t.then)&&Ar(t.catch),ix=((t,e)=>t?setImmediate:e?((r,n)=>(Fa.addEventListener("message",({source:a,data:o})=>{a===Fa&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Fa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ar(Fa.postMessage)),X_=typeof queueMicrotask<"u"?queueMicrotask.bind(Fa):typeof process<"u"&&process.nextTick||ix,q_=t=>t!=null&&Ar(t[su]),Y={isArray:Xi,isArrayBuffer:ex,isBuffer:c_,isFormData:y_,isArrayBufferView:f_,isString:d_,isNumber:tx,isBoolean:h_,isObject:cu,isPlainObject:Hl,isReadableStream:b_,isRequest:w_,isResponse:A_,isHeaders:E_,isUndefined:hs,isDate:p_,isFile:v_,isBlob:m_,isRegExp:L_,isFunction:Ar,isStream:g_,isURLSearchParams:__,isTypedArray:I_,isFileList:x_,forEach:ms,merge:sd,extend:C_,trim:S_,stripBOM:N_,inherits:O_,toFlatObject:T_,kindOf:lu,kindOfTest:ln,endsWith:D_,toArray:R_,forEachEntry:j_,matchAll:M_,isHTMLForm:B_,hasOwnProperty:pv,hasOwnProp:pv,reduceDescriptors:ax,freezeMethods:k_,toObjectSet:F_,toCamelCase:P_,noop:U_,toFiniteNumber:z_,findKey:rx,global:Fa,isContextDefined:nx,isSpecCompliantForm:V_,toJSONObject:H_,isAsyncFn:G_,isThenable:Z_,setImmediate:ix,asap:X_,isIterable:q_};function je(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const ox=je.prototype,sx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sx[t]={value:t}});Object.defineProperties(je,sx);Object.defineProperty(ox,"isAxiosError",{value:!0});je.from=(t,e,r,n,a,o)=>{const l=Object.create(ox);return Y.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),je.call(l,t.message,e,r,n,a),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const Y_=null;function ld(t){return Y.isPlainObject(t)||Y.isArray(t)}function lx(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function vv(t,e,r){return t?t.concat(e).map(function(a,o){return a=lx(a),!r&&o?"["+a+"]":a}).join(r?".":""):e}function $_(t){return Y.isArray(t)&&!t.some(ld)}const K_=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function fu(t,e,r){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!Y.isUndefined(S[w])});const n=r.metaTokens,a=r.visitor||m,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(Y.isDate(b))return b.toISOString();if(Y.isBoolean(b))return b.toString();if(!d&&Y.isBlob(b))throw new je("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(b)||Y.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,w,S){let T=b;if(b&&!S&&typeof b=="object"){if(Y.endsWith(w,"{}"))w=n?w:w.slice(0,-2),b=JSON.stringify(b);else if(Y.isArray(b)&&$_(b)||(Y.isFileList(b)||Y.endsWith(w,"[]"))&&(T=Y.toArray(b)))return w=lx(w),T.forEach(function(N,R){!(Y.isUndefined(N)||N===null)&&e.append(l===!0?vv([w],R,o):l===null?w:w+"[]",h(N))}),!1}return ld(b)?!0:(e.append(vv(S,w,o),h(b)),!1)}const x=[],y=Object.assign(K_,{defaultVisitor:m,convertValue:h,isVisitable:ld});function _(b,w){if(!Y.isUndefined(b)){if(x.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));x.push(b),Y.forEach(b,function(T,E){(!(Y.isUndefined(T)||T===null)&&a.call(e,T,Y.isString(E)?E.trim():E,w,y))===!0&&_(T,w?w.concat(E):[E])}),x.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return _(t),e}function mv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Fd(t,e){this._pairs=[],t&&fu(t,this,e)}const ux=Fd.prototype;ux.append=function(e,r){this._pairs.push([e,r])};ux.toString=function(e){const r=e?function(n){return e.call(this,n,mv)}:mv;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Q_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cx(t,e,r){if(!e)return t;const n=r&&r.encode||Q_;Y.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(e,r):o=Y.isURLSearchParams(e)?e.toString():new Fd(e,r).toString(n),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class xv{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(n){n!==null&&e(n)})}}const fx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},W_=typeof URLSearchParams<"u"?URLSearchParams:Fd,J_=typeof FormData<"u"?FormData:null,eb=typeof Blob<"u"?Blob:null,tb={isBrowser:!0,classes:{URLSearchParams:W_,FormData:J_,Blob:eb},protocols:["http","https","file","blob","url","data"]},Ud=typeof window<"u"&&typeof document<"u",ud=typeof navigator=="object"&&navigator||void 0,rb=Ud&&(!ud||["ReactNative","NativeScript","NS"].indexOf(ud.product)<0),nb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ab=Ud&&window.location.href||"http://localhost",ib=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ud,hasStandardBrowserEnv:rb,hasStandardBrowserWebWorkerEnv:nb,navigator:ud,origin:ab},Symbol.toStringTag,{value:"Module"})),sr={...ib,...tb};function ob(t,e){return fu(t,new sr.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,o){return sr.isNode&&Y.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function sb(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lb(t){const e={},r=Object.keys(t);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],e[o]=t[o];return e}function dx(t){function e(r,n,a,o){let l=r[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=r.length;return l=!l&&Y.isArray(a)?a.length:l,d?(Y.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!c):((!a[l]||!Y.isObject(a[l]))&&(a[l]=[]),e(r,n,a[l],o)&&Y.isArray(a[l])&&(a[l]=lb(a[l])),!c)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const r={};return Y.forEachEntry(t,(n,a)=>{e(sb(n),a,r,0)}),r}return null}function ub(t,e,r){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const xs={transitional:fx,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=Y.isObject(e);if(o&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return a?JSON.stringify(dx(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ob(e,this.formSerializer).toString();if((c=Y.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return fu(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),ub(e)):e}],transformResponse:[function(e){const r=this.transitional||xs.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?je.from(c,je.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sr.classes.FormData,Blob:sr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{xs.headers[t]={}});const cb=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fb=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||e[r]&&cb[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},gv=Symbol("internals");function Ko(t){return t&&String(t).trim().toLowerCase()}function Gl(t){return t===!1||t==null?t:Y.isArray(t)?t.map(Gl):String(t)}function db(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const hb=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hf(t,e,r,n,a){if(Y.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!Y.isString(e)){if(Y.isString(n))return e.indexOf(n)!==-1;if(Y.isRegExp(n))return n.test(e)}}function pb(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function vb(t,e){const r=Y.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,o,l){return this[n].call(this,e,a,o,l)},configurable:!0})})}let Er=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function o(c,d,h){const m=Ko(d);if(!m)throw new Error("header name must be a non-empty string");const x=Y.findKey(a,m);(!x||a[x]===void 0||h===!0||h===void 0&&a[x]!==!1)&&(a[x||d]=Gl(c))}const l=(c,d)=>Y.forEach(c,(h,m)=>o(h,m,d));if(Y.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(Y.isString(e)&&(e=e.trim())&&!hb(e))l(fb(e),r);else if(Y.isObject(e)&&Y.isIterable(e)){let c={},d,h;for(const m of e){if(!Y.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?Y.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(c,r)}else e!=null&&o(r,e,n);return this}get(e,r){if(e=Ko(e),e){const n=Y.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return db(a);if(Y.isFunction(r))return r.call(this,a,n);if(Y.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ko(e),e){const n=Y.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Hf(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function o(l){if(l=Ko(l),l){const c=Y.findKey(n,l);c&&(!r||Hf(n,n[c],c,r))&&(delete n[c],a=!0)}}return Y.isArray(e)?e.forEach(o):o(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!e||Hf(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const r=this,n={};return Y.forEach(this,(a,o)=>{const l=Y.findKey(n,o);if(l){r[l]=Gl(a),delete r[o];return}const c=e?pb(o):String(o).trim();c!==o&&delete r[o],r[c]=Gl(a),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Y.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&Y.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[gv]=this[gv]={accessors:{}}).accessors,a=this.prototype;function o(l){const c=Ko(l);n[c]||(vb(a,l),n[c]=!0)}return Y.isArray(e)?e.forEach(o):o(e),this}};Er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Er.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Y.freezeMethods(Er);function Gf(t,e){const r=this||xs,n=e||r,a=Er.from(n.headers);let o=n.data;return Y.forEach(t,function(c){o=c.call(r,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function hx(t){return!!(t&&t.__CANCEL__)}function qi(t,e,r){je.call(this,t??"canceled",je.ERR_CANCELED,e,r),this.name="CanceledError"}Y.inherits(qi,je,{__CANCEL__:!0});function px(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new je("Request failed with status code "+r.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function mb(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function xb(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=n[o];l||(l=h),r[a]=d,n[a]=h;let x=o,y=0;for(;x!==a;)y+=r[x++],x=x%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),h-l<e)return;const _=m&&h-m;return _?Math.round(y*1e3/_):void 0}}function gb(t,e){let r=0,n=1e3/e,a,o;const l=(h,m=Date.now())=>{r=m,a=null,o&&(clearTimeout(o),o=null),t.apply(null,h)};return[(...h)=>{const m=Date.now(),x=m-r;x>=n?l(h,m):(a=h,o||(o=setTimeout(()=>{o=null,l(a)},n-x)))},()=>a&&l(a)]}const Ql=(t,e,r=3)=>{let n=0;const a=xb(50,250);return gb(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-n,h=a(d),m=l<=c;n=l;const x={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-l)/h:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(x)},r)},yv=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},_v=t=>(...e)=>Y.asap(()=>t(...e)),yb=sr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,sr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(sr.origin),sr.navigator&&/(msie|trident)/i.test(sr.navigator.userAgent)):()=>!0,_b=sr.hasStandardBrowserEnv?{write(t,e,r,n,a,o){const l=[t+"="+encodeURIComponent(e)];Y.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),Y.isString(n)&&l.push("path="+n),Y.isString(a)&&l.push("domain="+a),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bb(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wb(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function vx(t,e,r){let n=!bb(e);return t&&(n||r==!1)?wb(t,e):e}const bv=t=>t instanceof Er?{...t}:t;function Ga(t,e){e=e||{};const r={};function n(h,m,x,y){return Y.isPlainObject(h)&&Y.isPlainObject(m)?Y.merge.call({caseless:y},h,m):Y.isPlainObject(m)?Y.merge({},m):Y.isArray(m)?m.slice():m}function a(h,m,x,y){if(Y.isUndefined(m)){if(!Y.isUndefined(h))return n(void 0,h,x,y)}else return n(h,m,x,y)}function o(h,m){if(!Y.isUndefined(m))return n(void 0,m)}function l(h,m){if(Y.isUndefined(m)){if(!Y.isUndefined(h))return n(void 0,h)}else return n(void 0,m)}function c(h,m,x){if(x in e)return n(h,m);if(x in t)return n(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,m,x)=>a(bv(h),bv(m),x,!0)};return Y.forEach(Object.keys(Object.assign({},t,e)),function(m){const x=d[m]||a,y=x(t[m],e[m],m);Y.isUndefined(y)&&x!==c||(r[m]=y)}),r}const mx=t=>{const e=Ga({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=Er.from(l),e.url=cx(vx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(Y.isFormData(r)){if(sr.hasStandardBrowserEnv||sr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(sr.hasStandardBrowserEnv&&(n&&Y.isFunction(n)&&(n=n(e)),n||n!==!1&&yb(e.url))){const h=a&&o&&_b.read(o);h&&l.set(a,h)}return e},Ab=typeof XMLHttpRequest<"u",Eb=Ab&&function(t){return new Promise(function(r,n){const a=mx(t);let o=a.data;const l=Er.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=a,m,x,y,_,b;function w(){_&&_(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function T(){if(!S)return;const N=Er.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),M={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:N,config:t,request:S};px(function(Z){r(Z),w()},function(Z){n(Z),w()},M),S=null}"onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(n(new je("Request aborted",je.ECONNABORTED,t,S)),S=null)},S.onerror=function(){n(new je("Network Error",je.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const M=a.transitional||fx;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),n(new je(R,M.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,S)),S=null},o===void 0&&l.setContentType(null),"setRequestHeader"in S&&Y.forEach(l.toJSON(),function(R,M){S.setRequestHeader(M,R)}),Y.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),c&&c!=="json"&&(S.responseType=a.responseType),h&&([y,b]=Ql(h,!0),S.addEventListener("progress",y)),d&&S.upload&&([x,_]=Ql(d),S.upload.addEventListener("progress",x),S.upload.addEventListener("loadend",_)),(a.cancelToken||a.signal)&&(m=N=>{S&&(n(!N||N.type?new qi(null,t,S):N),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const E=mb(a.url);if(E&&sr.protocols.indexOf(E)===-1){n(new je("Unsupported protocol "+E+":",je.ERR_BAD_REQUEST,t));return}S.send(o||null)})},Sb=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const o=function(h){if(!a){a=!0,c();const m=h instanceof Error?h:this.reason;n.abort(m instanceof je?m:new qi(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>Y.asap(c),d}},Cb=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},Nb=async function*(t,e){for await(const r of Ob(t))yield*Cb(r,e)},Ob=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},wv=(t,e,r,n)=>{const a=Nb(t,e);let o=0,l,c=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await a.next();if(h){c(),d.close();return}let x=m.byteLength;if(r){let y=o+=x;r(y)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},du=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xx=du&&typeof ReadableStream=="function",Tb=du&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),gx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Db=xx&&gx(()=>{let t=!1;const e=new Request(sr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Av=64*1024,cd=xx&&gx(()=>Y.isReadableStream(new Response("").body)),Wl={stream:cd&&(t=>t.body)};du&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Wl[e]&&(Wl[e]=Y.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new je(`Response type '${e}' is not supported`,je.ERR_NOT_SUPPORT,n)})})})(new Response);const Rb=async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(sr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await Tb(t)).byteLength},Ib=async(t,e)=>{const r=Y.toFiniteNumber(t.getContentLength());return r??Rb(e)},jb=du&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:m,withCredentials:x="same-origin",fetchOptions:y}=mx(t);h=h?(h+"").toLowerCase():"text";let _=Sb([a,o&&o.toAbortSignal()],l),b;const w=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let S;try{if(d&&Db&&r!=="get"&&r!=="head"&&(S=await Ib(m,n))!==0){let M=new Request(e,{method:"POST",body:n,duplex:"half"}),k;if(Y.isFormData(n)&&(k=M.headers.get("content-type"))&&m.setContentType(k),M.body){const[Z,ee]=yv(S,Ql(_v(d)));n=wv(M.body,Av,Z,ee)}}Y.isString(x)||(x=x?"include":"omit");const T="credentials"in Request.prototype;b=new Request(e,{...y,signal:_,method:r.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:T?x:void 0});let E=await fetch(b,y);const N=cd&&(h==="stream"||h==="response");if(cd&&(c||N&&w)){const M={};["status","statusText","headers"].forEach(ie=>{M[ie]=E[ie]});const k=Y.toFiniteNumber(E.headers.get("content-length")),[Z,ee]=c&&yv(k,Ql(_v(c),!0))||[];E=new Response(wv(E.body,Av,Z,()=>{ee&&ee(),w&&w()}),M)}h=h||"text";let R=await Wl[Y.findKey(Wl,h)||"text"](E,t);return!N&&w&&w(),await new Promise((M,k)=>{px(M,k,{data:R,headers:Er.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:b})})}catch(T){throw w&&w(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,t,b),{cause:T.cause||T}):je.from(T,T&&T.code,t,b)}}),fd={http:Y_,xhr:Eb,fetch:jb};Y.forEach(fd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ev=t=>`- ${t}`,Mb=t=>Y.isFunction(t)||t===null||t===!1,yx={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let o=0;o<e;o++){r=t[o];let l;if(n=r,!Mb(r)&&(n=fd[(l=String(r)).toLowerCase()],n===void 0))throw new je(`Unknown adapter '${l}'`);if(n)break;a[l||"#"+o]=n}if(!n){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(Ev).join(`
`):" "+Ev(o[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:fd};function Zf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qi(null,t)}function Sv(t){return Zf(t),t.headers=Er.from(t.headers),t.data=Gf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yx.getAdapter(t.adapter||xs.adapter)(t).then(function(n){return Zf(t),n.data=Gf.call(t,t.transformResponse,n),n.headers=Er.from(n.headers),n},function(n){return hx(n)||(Zf(t),n&&n.response&&(n.response.data=Gf.call(t,t.transformResponse,n.response),n.response.headers=Er.from(n.response.headers))),Promise.reject(n)})}const _x="1.10.0",hu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{hu[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Cv={};hu.transitional=function(e,r,n){function a(o,l){return"[Axios v"+_x+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,c)=>{if(e===!1)throw new je(a(l," has been removed"+(r?" in "+r:"")),je.ERR_DEPRECATED);return r&&!Cv[l]&&(Cv[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,l,c):!0}};hu.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Bb(t,e,r){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const o=n[a],l=e[o];if(l){const c=t[o],d=c===void 0||l(c,o,t);if(d!==!0)throw new je("option "+o+" must be "+d,je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new je("Unknown option "+o,je.ERR_BAD_OPTION)}}const Zl={assertOptions:Bb,validators:hu},vn=Zl.validators;let Va=class{constructor(e){this.defaults=e||{},this.interceptors={request:new xv,response:new xv}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ga(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&Zl.assertOptions(n,{silentJSONParsing:vn.transitional(vn.boolean),forcedJSONParsing:vn.transitional(vn.boolean),clarifyTimeoutError:vn.transitional(vn.boolean)},!1),a!=null&&(Y.isFunction(a)?r.paramsSerializer={serialize:a}:Zl.assertOptions(a,{encode:vn.function,serialize:vn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Zl.assertOptions(r,{baseUrl:vn.spelling("baseURL"),withXsrfToken:vn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&Y.merge(o.common,o[r.method]);o&&Y.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),r.headers=Er.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(d=d&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,x=0,y;if(!d){const b=[Sv.bind(this),void 0];for(b.unshift.apply(b,c),b.push.apply(b,h),y=b.length,m=Promise.resolve(r);x<y;)m=m.then(b[x++],b[x++]);return m}y=c.length;let _=r;for(x=0;x<y;){const b=c[x++],w=c[x++];try{_=b(_)}catch(S){w.call(this,S);break}}try{m=Sv.call(this,_)}catch(b){return Promise.reject(b)}for(x=0,y=h.length;x<y;)m=m.then(h[x++],h[x++]);return m}getUri(e){e=Ga(this.defaults,e);const r=vx(e.baseURL,e.url,e.allowAbsoluteUrls);return cx(r,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){Va.prototype[e]=function(r,n){return this.request(Ga(n||{},{method:e,url:r,data:(n||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function r(n){return function(o,l,c){return this.request(Ga(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Va.prototype[e]=r(),Va.prototype[e+"Form"]=r(!0)});let Pb=class bx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const l=new Promise(c=>{n.subscribe(c),o=c}).then(a);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,c){n.reason||(n.reason=new qi(o,l,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new bx(function(a){e=a}),cancel:e}}};function Lb(t){return function(r){return t.apply(null,r)}}function kb(t){return Y.isObject(t)&&t.isAxiosError===!0}const dd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dd).forEach(([t,e])=>{dd[e]=t});function wx(t){const e=new Va(t),r=Wm(Va.prototype.request,e);return Y.extend(r,Va.prototype,e,{allOwnKeys:!0}),Y.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return wx(Ga(t,a))},r}const St=wx(xs);St.Axios=Va;St.CanceledError=qi;St.CancelToken=Pb;St.isCancel=hx;St.VERSION=_x;St.toFormData=fu;St.AxiosError=je;St.Cancel=St.CanceledError;St.all=function(e){return Promise.all(e)};St.spread=Lb;St.isAxiosError=kb;St.mergeConfig=Ga;St.AxiosHeaders=Er;St.formToJSON=t=>dx(Y.isHTMLForm(t)?new FormData(t):t);St.getAdapter=yx.getAdapter;St.HttpStatusCode=dd;St.default=St;const{Axios:SC,AxiosError:CC,CanceledError:NC,isCancel:OC,CancelToken:TC,VERSION:DC,all:RC,Cancel:IC,isAxiosError:jC,spread:MC,toFormData:BC,AxiosHeaders:PC,HttpStatusCode:LC,formToJSON:kC,getAdapter:FC,mergeConfig:UC}=St,Fb="https://henrydiagnostics-production.up.railway.app",De=St.create({baseURL:`${Fb}/api`,headers:{"Content-Type":"application/json"}});De.interceptors.request.use(t=>{const e=localStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});De.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)));const Xf={login:async t=>(await De.post("/auth/login",t)).data,logout:async()=>{const t=await De.post("/auth/logout");return localStorage.removeItem("auth_token"),localStorage.removeItem("user"),t.data},getProfile:async()=>(await De.get("/auth/profile")).data,changePassword:async t=>(await De.put("/auth/change-password",t)).data},Ax=W.createContext(null),Ub=({children:t})=>{const[e,r]=W.useState(null),[n,a]=W.useState(!0);W.useEffect(()=>{(async()=>{const h=localStorage.getItem("auth_token"),m=localStorage.getItem("user");if(h&&m)try{const x=await Xf.getProfile();r(x.user)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}a(!1)})()},[]);const c={user:e,isLoading:n,login:async d=>{try{const h=await Xf.login(d);localStorage.setItem("auth_token",h.token),localStorage.setItem("user",JSON.stringify(h.user)),r(h.user)}catch(h){throw h}},logout:async()=>{try{await Xf.logout()}catch(d){console.error("Error during logout:",d)}finally{r(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},isAuthenticated:!!e};return p.jsx(Ax.Provider,{value:c,children:t})},Ln=()=>{const t=W.useContext(Ax);if(!t)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return t};var gs=t=>t.type==="checkbox",Ua=t=>t instanceof Date,hr=t=>t==null;const Ex=t=>typeof t=="object";var Et=t=>!hr(t)&&!Array.isArray(t)&&Ex(t)&&!Ua(t),zb=t=>Et(t)&&t.target?gs(t.target)?t.target.checked:t.target.value:t,Vb=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Hb=(t,e)=>t.has(Vb(e)),Gb=t=>{const e=t.constructor&&t.constructor.prototype;return Et(e)&&e.hasOwnProperty("isPrototypeOf")},zd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(zd&&(t instanceof Blob||n))&&(r||Et(t)))if(e=r?[]:{},!r&&!Gb(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Gt(t[a]));else return t;return e}var pu=t=>/^\w*$/.test(t),Dt=t=>t===void 0,Vd=t=>Array.isArray(t)?t.filter(Boolean):[],Hd=t=>Vd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ge=(t,e,r)=>{if(!e||!Et(t))return r;const n=(pu(e)?[e]:Hd(e)).reduce((a,o)=>hr(a)?a:a[o],t);return Dt(n)||n===t?Dt(t[e])?r:t[e]:n},mn=t=>typeof t=="boolean",lt=(t,e,r)=>{let n=-1;const a=pu(e)?[e]:Hd(e),o=a.length,l=o-1;for(;++n<o;){const c=a[n];let d=r;if(n!==l){const h=t[c];d=Et(h)||Array.isArray(h)?h:isNaN(+a[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=d,t=t[c]}};const Nv={BLUR:"blur",FOCUS_OUT:"focusout"},nn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zb=en.createContext(null);Zb.displayName="HookFormContext";var Xb=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(a,o,{get:()=>{const l=o;return e._proxyFormState[l]!==nn.all&&(e._proxyFormState[l]=!n||nn.all),t[l]}});return a};const qb=typeof window<"u"?W.useLayoutEffect:W.useEffect;var xn=t=>typeof t=="string",Yb=(t,e,r,n,a)=>xn(t)?(n&&e.watch.add(t),ge(r,t,a)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),ge(r,o))):(n&&(e.watchAll=!0),r),Gd=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},ls=t=>Array.isArray(t)?t:[t],Ov=()=>{let t=[];return{get observers(){return t},next:a=>{for(const o of t)o.next&&o.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(o=>o!==a)}}),unsubscribe:()=>{t=[]}}},hd=t=>hr(t)||!Ex(t);function da(t,e,r=new WeakSet){if(hd(t)||hd(e))return t===e;if(Ua(t)&&Ua(e))return t.getTime()===e.getTime();const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const o of n){const l=t[o];if(!a.includes(o))return!1;if(o!=="ref"){const c=e[o];if(Ua(l)&&Ua(c)||Et(l)&&Et(c)||Array.isArray(l)&&Array.isArray(c)?!da(l,c,r):l!==c)return!1}}return!0}var br=t=>Et(t)&&!Object.keys(t).length,Zd=t=>t.type==="file",an=t=>typeof t=="function",Jl=t=>{if(!zd)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Sx=t=>t.type==="select-multiple",Xd=t=>t.type==="radio",$b=t=>Xd(t)||gs(t),qf=t=>Jl(t)&&t.isConnected;function Kb(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Dt(t)?n++:t[e[n++]];return t}function Qb(t){for(const e in t)if(t.hasOwnProperty(e)&&!Dt(t[e]))return!1;return!0}function Tt(t,e){const r=Array.isArray(e)?e:pu(e)?[e]:Hd(e),n=r.length===1?t:Kb(t,r),a=r.length-1,o=r[a];return n&&delete n[o],a!==0&&(Et(n)&&br(n)||Array.isArray(n)&&Qb(n))&&Tt(t,r.slice(0,-1)),t}var Cx=t=>{for(const e in t)if(an(t[e]))return!0;return!1};function eu(t,e={}){const r=Array.isArray(t);if(Et(t)||r)for(const n in t)Array.isArray(t[n])||Et(t[n])&&!Cx(t[n])?(e[n]=Array.isArray(t[n])?[]:{},eu(t[n],e[n])):hr(t[n])||(e[n]=!0);return e}function Nx(t,e,r){const n=Array.isArray(t);if(Et(t)||n)for(const a in t)Array.isArray(t[a])||Et(t[a])&&!Cx(t[a])?Dt(e)||hd(r[a])?r[a]=Array.isArray(t[a])?eu(t[a],[]):{...eu(t[a])}:Nx(t[a],hr(e)?{}:e[a],r[a]):r[a]=!da(t[a],e[a]);return r}var Qo=(t,e)=>Nx(t,e,eu(e));const Tv={value:!1,isValid:!1},Dv={value:!0,isValid:!0};var Ox=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Dt(t[0].attributes.value)?Dt(t[0].value)||t[0].value===""?Dv:{value:t[0].value,isValid:!0}:Dv:Tv}return Tv},Tx=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Dt(t)?t:e?t===""?NaN:t&&+t:r&&xn(t)?new Date(t):n?n(t):t;const Rv={isValid:!1,value:null};var Dx=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Rv):Rv;function Iv(t){const e=t.ref;return Zd(e)?e.files:Xd(e)?Dx(t.refs).value:Sx(e)?[...e.selectedOptions].map(({value:r})=>r):gs(e)?Ox(t.refs).value:Tx(Dt(e.value)?t.ref.value:e.value,t)}var Wb=(t,e,r,n)=>{const a={};for(const o of t){const l=ge(e,o);l&&lt(a,o,l._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},tu=t=>t instanceof RegExp,Wo=t=>Dt(t)?t:tu(t)?t.source:Et(t)?tu(t.value)?t.value.source:t.value:t,jv=t=>({isOnSubmit:!t||t===nn.onSubmit,isOnBlur:t===nn.onBlur,isOnChange:t===nn.onChange,isOnAll:t===nn.all,isOnTouch:t===nn.onTouched});const Mv="AsyncFunction";var Jb=t=>!!t&&!!t.validate&&!!(an(t.validate)&&t.validate.constructor.name===Mv||Et(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Mv)),e3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Bv=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const us=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const o=ge(t,a);if(o){const{_f:l,...c}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],a)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(us(c,e))break}else if(Et(c)&&us(c,e))break}}};function Pv(t,e,r){const n=ge(t,r);if(n||pu(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),l=ge(e,o),c=ge(t,o);if(l&&!Array.isArray(l)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};a.pop()}return{name:r}}var t3=(t,e,r,n)=>{r(t);const{name:a,...o}=t;return br(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===(!n||nn.all))},r3=(t,e,r)=>!t||!e||t===e||ls(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),n3=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,a3=(t,e)=>!Vd(ge(t,e)).length&&Tt(t,e),i3=(t,e,r)=>{const n=ls(ge(t,r));return lt(n,"root",e[r]),lt(t,r,n),t},Xl=t=>xn(t);function Lv(t,e,r="validate"){if(Xl(t)||Array.isArray(t)&&t.every(Xl)||mn(t)&&!t)return{type:r,message:Xl(t)?t:"",ref:e}}var Fi=t=>Et(t)&&!tu(t)?t:{value:t,message:""},kv=async(t,e,r,n,a,o)=>{const{ref:l,refs:c,required:d,maxLength:h,minLength:m,min:x,max:y,pattern:_,validate:b,name:w,valueAsNumber:S,mount:T}=t._f,E=ge(r,w);if(!T||e.has(w))return{};const N=c?c[0]:l,R=le=>{a&&N.reportValidity&&(N.setCustomValidity(mn(le)?"":le||""),N.reportValidity())},M={},k=Xd(l),Z=gs(l),ee=k||Z,ie=(S||Zd(l))&&Dt(l.value)&&Dt(E)||Jl(l)&&l.value===""||E===""||Array.isArray(E)&&!E.length,se=Gd.bind(null,w,n,M),ye=(le,ve,ce,he=Pn.maxLength,P=Pn.minLength)=>{const oe=le?ve:ce;M[w]={type:le?he:P,message:oe,ref:l,...se(le?he:P,oe)}};if(o?!Array.isArray(E)||!E.length:d&&(!ee&&(ie||hr(E))||mn(E)&&!E||Z&&!Ox(c).isValid||k&&!Dx(c).isValid)){const{value:le,message:ve}=Xl(d)?{value:!!d,message:d}:Fi(d);if(le&&(M[w]={type:Pn.required,message:ve,ref:N,...se(Pn.required,ve)},!n))return R(ve),M}if(!ie&&(!hr(x)||!hr(y))){let le,ve;const ce=Fi(y),he=Fi(x);if(!hr(E)&&!isNaN(E)){const P=l.valueAsNumber||E&&+E;hr(ce.value)||(le=P>ce.value),hr(he.value)||(ve=P<he.value)}else{const P=l.valueAsDate||new Date(E),oe=j=>new Date(new Date().toDateString()+" "+j),re=l.type=="time",Ae=l.type=="week";xn(ce.value)&&E&&(le=re?oe(E)>oe(ce.value):Ae?E>ce.value:P>new Date(ce.value)),xn(he.value)&&E&&(ve=re?oe(E)<oe(he.value):Ae?E<he.value:P<new Date(he.value))}if((le||ve)&&(ye(!!le,ce.message,he.message,Pn.max,Pn.min),!n))return R(M[w].message),M}if((h||m)&&!ie&&(xn(E)||o&&Array.isArray(E))){const le=Fi(h),ve=Fi(m),ce=!hr(le.value)&&E.length>+le.value,he=!hr(ve.value)&&E.length<+ve.value;if((ce||he)&&(ye(ce,le.message,ve.message),!n))return R(M[w].message),M}if(_&&!ie&&xn(E)){const{value:le,message:ve}=Fi(_);if(tu(le)&&!E.match(le)&&(M[w]={type:Pn.pattern,message:ve,ref:l,...se(Pn.pattern,ve)},!n))return R(ve),M}if(b){if(an(b)){const le=await b(E,r),ve=Lv(le,N);if(ve&&(M[w]={...ve,...se(Pn.validate,ve.message)},!n))return R(ve.message),M}else if(Et(b)){let le={};for(const ve in b){if(!br(le)&&!n)break;const ce=Lv(await b[ve](E,r),N,ve);ce&&(le={...ce,...se(ve,ce.message)},R(ce.message),n&&(M[w]=le))}if(!br(le)&&(M[w]={ref:N,...le},!n))return M}}return R(!0),M};const o3={mode:nn.onSubmit,reValidateMode:nn.onChange,shouldFocusError:!0};function s3(t={}){let e={...o3,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:an(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=Et(e.defaultValues)||Et(e.values)?Gt(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Gt(a),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...m};const y={array:Ov(),state:Ov()},_=e.criteriaMode===nn.all,b=I=>H=>{clearTimeout(h),h=setTimeout(I,H)},w=async I=>{if(!e.disabled&&(m.isValid||x.isValid||I)){const H=e.resolver?br((await Z()).errors):await ie(n,!0);H!==r.isValid&&y.state.next({isValid:H})}},S=(I,H)=>{!e.disabled&&(m.isValidating||m.validatingFields||x.isValidating||x.validatingFields)&&((I||Array.from(c.mount)).forEach(Q=>{Q&&(H?lt(r.validatingFields,Q,H):Tt(r.validatingFields,Q))}),y.state.next({validatingFields:r.validatingFields,isValidating:!br(r.validatingFields)}))},T=(I,H=[],Q,pe,de=!0,ue=!0)=>{if(pe&&Q&&!e.disabled){if(l.action=!0,ue&&Array.isArray(ge(n,I))){const be=Q(ge(n,I),pe.argA,pe.argB);de&&lt(n,I,be)}if(ue&&Array.isArray(ge(r.errors,I))){const be=Q(ge(r.errors,I),pe.argA,pe.argB);de&&lt(r.errors,I,be),a3(r.errors,I)}if((m.touchedFields||x.touchedFields)&&ue&&Array.isArray(ge(r.touchedFields,I))){const be=Q(ge(r.touchedFields,I),pe.argA,pe.argB);de&&lt(r.touchedFields,I,be)}(m.dirtyFields||x.dirtyFields)&&(r.dirtyFields=Qo(a,o)),y.state.next({name:I,isDirty:ye(I,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else lt(o,I,H)},E=(I,H)=>{lt(r.errors,I,H),y.state.next({errors:r.errors})},N=I=>{r.errors=I,y.state.next({errors:r.errors,isValid:!1})},R=(I,H,Q,pe)=>{const de=ge(n,I);if(de){const ue=ge(o,I,Dt(Q)?ge(a,I):Q);Dt(ue)||pe&&pe.defaultChecked||H?lt(o,I,H?ue:Iv(de._f)):ce(I,ue),l.mount&&w()}},M=(I,H,Q,pe,de)=>{let ue=!1,be=!1;const Ie={name:I};if(!e.disabled){if(!Q||pe){(m.isDirty||x.isDirty)&&(be=r.isDirty,r.isDirty=Ie.isDirty=ye(),ue=be!==Ie.isDirty);const Ve=da(ge(a,I),H);be=!!ge(r.dirtyFields,I),Ve?Tt(r.dirtyFields,I):lt(r.dirtyFields,I,!0),Ie.dirtyFields=r.dirtyFields,ue=ue||(m.dirtyFields||x.dirtyFields)&&be!==!Ve}if(Q){const Ve=ge(r.touchedFields,I);Ve||(lt(r.touchedFields,I,Q),Ie.touchedFields=r.touchedFields,ue=ue||(m.touchedFields||x.touchedFields)&&Ve!==Q)}ue&&de&&y.state.next(Ie)}return ue?Ie:{}},k=(I,H,Q,pe)=>{const de=ge(r.errors,I),ue=(m.isValid||x.isValid)&&mn(H)&&r.isValid!==H;if(e.delayError&&Q?(d=b(()=>E(I,Q)),d(e.delayError)):(clearTimeout(h),d=null,Q?lt(r.errors,I,Q):Tt(r.errors,I)),(Q?!da(de,Q):de)||!br(pe)||ue){const be={...pe,...ue&&mn(H)?{isValid:H}:{},errors:r.errors,name:I};r={...r,...be},y.state.next(be)}},Z=async I=>{S(I,!0);const H=await e.resolver(o,e.context,Wb(I||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return S(I),H},ee=async I=>{const{errors:H}=await Z(I);if(I)for(const Q of I){const pe=ge(H,Q);pe?lt(r.errors,Q,pe):Tt(r.errors,Q)}else r.errors=H;return H},ie=async(I,H,Q={valid:!0})=>{for(const pe in I){const de=I[pe];if(de){const{_f:ue,...be}=de;if(ue){const Ie=c.array.has(ue.name),Ve=de._f&&Jb(de._f);Ve&&m.validatingFields&&S([pe],!0);const ut=await kv(de,c.disabled,o,_,e.shouldUseNativeValidation&&!H,Ie);if(Ve&&m.validatingFields&&S([pe]),ut[ue.name]&&(Q.valid=!1,H))break;!H&&(ge(ut,ue.name)?Ie?i3(r.errors,ut,ue.name):lt(r.errors,ue.name,ut[ue.name]):Tt(r.errors,ue.name))}!br(be)&&await ie(be,H,Q)}}return Q.valid},se=()=>{for(const I of c.unMount){const H=ge(n,I);H&&(H._f.refs?H._f.refs.every(Q=>!qf(Q)):!qf(H._f.ref))&&Kt(I)}c.unMount=new Set},ye=(I,H)=>!e.disabled&&(I&&H&&lt(o,I,H),!da(j(),a)),le=(I,H,Q)=>Yb(I,c,{...l.mount?o:Dt(H)?a:xn(I)?{[I]:H}:H},Q,H),ve=I=>Vd(ge(l.mount?o:a,I,e.shouldUnregister?ge(a,I,[]):[])),ce=(I,H,Q={})=>{const pe=ge(n,I);let de=H;if(pe){const ue=pe._f;ue&&(!ue.disabled&&lt(o,I,Tx(H,ue)),de=Jl(ue.ref)&&hr(H)?"":H,Sx(ue.ref)?[...ue.ref.options].forEach(be=>be.selected=de.includes(be.value)):ue.refs?gs(ue.ref)?ue.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(de)?be.checked=!!de.find(Ie=>Ie===be.value):be.checked=de===be.value||!!de)}):ue.refs.forEach(be=>be.checked=be.value===de):Zd(ue.ref)?ue.ref.value="":(ue.ref.value=de,ue.ref.type||y.state.next({name:I,values:Gt(o)})))}(Q.shouldDirty||Q.shouldTouch)&&M(I,de,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&Ae(I)},he=(I,H,Q)=>{for(const pe in H){if(!H.hasOwnProperty(pe))return;const de=H[pe],ue=I+"."+pe,be=ge(n,ue);(c.array.has(I)||Et(de)||be&&!be._f)&&!Ua(de)?he(ue,de,Q):ce(ue,de,Q)}},P=(I,H,Q={})=>{const pe=ge(n,I),de=c.array.has(I),ue=Gt(H);lt(o,I,ue),de?(y.array.next({name:I,values:Gt(o)}),(m.isDirty||m.dirtyFields||x.isDirty||x.dirtyFields)&&Q.shouldDirty&&y.state.next({name:I,dirtyFields:Qo(a,o),isDirty:ye(I,ue)})):pe&&!pe._f&&!hr(ue)?he(I,ue,Q):ce(I,ue,Q),Bv(I,c)&&y.state.next({...r}),y.state.next({name:l.mount?I:void 0,values:Gt(o)})},oe=async I=>{l.mount=!0;const H=I.target;let Q=H.name,pe=!0;const de=ge(n,Q),ue=Ve=>{pe=Number.isNaN(Ve)||Ua(Ve)&&isNaN(Ve.getTime())||da(Ve,ge(o,Q,Ve))},be=jv(e.mode),Ie=jv(e.reValidateMode);if(de){let Ve,ut;const Ja=H.type?Iv(de._f):zb(I),un=I.type===Nv.BLUR||I.type===Nv.FOCUS_OUT,Au=!e3(de._f)&&!e.resolver&&!ge(r.errors,Q)&&!de._f.deps||n3(un,ge(r.touchedFields,Q),r.isSubmitted,Ie,be),kn=Bv(Q,c,un);lt(o,Q,Ja),un?(de._f.onBlur&&de._f.onBlur(I),d&&d(0)):de._f.onChange&&de._f.onChange(I);const Fn=M(Q,Ja,un),_n=!br(Fn)||kn;if(!un&&y.state.next({name:Q,type:I.type,values:Gt(o)}),Au)return(m.isValid||x.isValid)&&(e.mode==="onBlur"?un&&w():un||w()),_n&&y.state.next({name:Q,...kn?{}:Fn});if(!un&&kn&&y.state.next({...r}),e.resolver){const{errors:xa}=await Z([Q]);if(ue(Ja),pe){const ga=Pv(r.errors,n,Q),ws=Pv(xa,n,ga.name||Q);Ve=ws.error,Q=ws.name,ut=br(xa)}}else S([Q],!0),Ve=(await kv(de,c.disabled,o,_,e.shouldUseNativeValidation))[Q],S([Q]),ue(Ja),pe&&(Ve?ut=!1:(m.isValid||x.isValid)&&(ut=await ie(n,!0)));pe&&(de._f.deps&&Ae(de._f.deps),k(Q,ut,Ve,Fn))}},re=(I,H)=>{if(ge(r.errors,H)&&I.focus)return I.focus(),1},Ae=async(I,H={})=>{let Q,pe;const de=ls(I);if(e.resolver){const ue=await ee(Dt(I)?I:de);Q=br(ue),pe=I?!de.some(be=>ge(ue,be)):Q}else I?(pe=(await Promise.all(de.map(async ue=>{const be=ge(n,ue);return await ie(be&&be._f?{[ue]:be}:be)}))).every(Boolean),!(!pe&&!r.isValid)&&w()):pe=Q=await ie(n);return y.state.next({...!xn(I)||(m.isValid||x.isValid)&&Q!==r.isValid?{}:{name:I},...e.resolver||!I?{isValid:Q}:{},errors:r.errors}),H.shouldFocus&&!pe&&us(n,re,I?de:c.mount),pe},j=I=>{const H={...l.mount?o:a};return Dt(I)?H:xn(I)?ge(H,I):I.map(Q=>ge(H,Q))},ae=(I,H)=>({invalid:!!ge((H||r).errors,I),isDirty:!!ge((H||r).dirtyFields,I),error:ge((H||r).errors,I),isValidating:!!ge(r.validatingFields,I),isTouched:!!ge((H||r).touchedFields,I)}),F=I=>{I&&ls(I).forEach(H=>Tt(r.errors,H)),y.state.next({errors:I?r.errors:{}})},q=(I,H,Q)=>{const pe=(ge(n,I,{_f:{}})._f||{}).ref,de=ge(r.errors,I)||{},{ref:ue,message:be,type:Ie,...Ve}=de;lt(r.errors,I,{...Ve,...H,ref:pe}),y.state.next({name:I,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&pe&&pe.focus&&pe.focus()},me=(I,H)=>an(I)?y.state.subscribe({next:Q=>I(le(void 0,H),Q)}):le(I,H,!0),Be=I=>y.state.subscribe({next:H=>{r3(I.name,H.name,I.exact)&&t3(H,I.formState||m,Lr,I.reRenderRoot)&&I.callback({values:{...o},...r,...H})}}).unsubscribe,Oe=I=>(l.mount=!0,x={...x,...I.formState},Be({...I,formState:x})),Kt=(I,H={})=>{for(const Q of I?ls(I):c.mount)c.mount.delete(Q),c.array.delete(Q),H.keepValue||(Tt(n,Q),Tt(o,Q)),!H.keepError&&Tt(r.errors,Q),!H.keepDirty&&Tt(r.dirtyFields,Q),!H.keepTouched&&Tt(r.touchedFields,Q),!H.keepIsValidating&&Tt(r.validatingFields,Q),!e.shouldUnregister&&!H.keepDefaultValue&&Tt(a,Q);y.state.next({values:Gt(o)}),y.state.next({...r,...H.keepDirty?{isDirty:ye()}:{}}),!H.keepIsValid&&w()},ot=({disabled:I,name:H})=>{(mn(I)&&l.mount||I||c.disabled.has(H))&&(I?c.disabled.add(H):c.disabled.delete(H))},Pr=(I,H={})=>{let Q=ge(n,I);const pe=mn(H.disabled)||mn(e.disabled);return lt(n,I,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:I}},name:I,mount:!0,...H}}),c.mount.add(I),Q?ot({disabled:mn(H.disabled)?H.disabled:e.disabled,name:I}):R(I,!0,H.value),{...pe?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:Wo(H.min),max:Wo(H.max),minLength:Wo(H.minLength),maxLength:Wo(H.maxLength),pattern:Wo(H.pattern)}:{},name:I,onChange:oe,onBlur:oe,ref:de=>{if(de){Pr(I,H),Q=ge(n,I);const ue=Dt(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,be=$b(ue),Ie=Q._f.refs||[];if(be?Ie.find(Ve=>Ve===ue):ue===Q._f.ref)return;lt(n,I,{_f:{...Q._f,...be?{refs:[...Ie.filter(qf),ue,...Array.isArray(ge(a,I))?[{}]:[]],ref:{type:ue.type,name:I}}:{ref:ue}}}),R(I,!1,void 0,ue)}else Q=ge(n,I,{}),Q._f&&(Q._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(Hb(c.array,I)&&l.action)&&c.unMount.add(I)}}},ma=()=>e.shouldFocusError&&us(n,re,c.mount),Ka=I=>{mn(I)&&(y.state.next({disabled:I}),us(n,(H,Q)=>{const pe=ge(n,Q);pe&&(H.disabled=pe._f.disabled||I,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(de=>{de.disabled=pe._f.disabled||I}))},0,!1))},Qa=(I,H)=>async Q=>{let pe;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let de=Gt(o);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:be}=await Z();r.errors=ue,de=Gt(be)}else await ie(n);if(c.disabled.size)for(const ue of c.disabled)Tt(de,ue);if(Tt(r.errors,"root"),br(r.errors)){y.state.next({errors:{}});try{await I(de,Q)}catch(ue){pe=ue}}else H&&await H({...r.errors},Q),ma(),setTimeout(ma);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:br(r.errors)&&!pe,submitCount:r.submitCount+1,errors:r.errors}),pe)throw pe},Ki=(I,H={})=>{ge(n,I)&&(Dt(H.defaultValue)?P(I,Gt(ge(a,I))):(P(I,H.defaultValue),lt(a,I,Gt(H.defaultValue))),H.keepTouched||Tt(r.touchedFields,I),H.keepDirty||(Tt(r.dirtyFields,I),r.isDirty=H.defaultValue?ye(I,Gt(ge(a,I))):ye()),H.keepError||(Tt(r.errors,I),m.isValid&&w()),y.state.next({...r}))},Wa=(I,H={})=>{const Q=I?Gt(I):a,pe=Gt(Q),de=br(I),ue=de?a:pe;if(H.keepDefaultValues||(a=Q),!H.keepValues){if(H.keepDirtyValues){const be=new Set([...c.mount,...Object.keys(Qo(a,o))]);for(const Ie of Array.from(be))ge(r.dirtyFields,Ie)?lt(ue,Ie,ge(o,Ie)):P(Ie,ge(ue,Ie))}else{if(zd&&Dt(I))for(const be of c.mount){const Ie=ge(n,be);if(Ie&&Ie._f){const Ve=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Jl(Ve)){const ut=Ve.closest("form");if(ut){ut.reset();break}}}}if(H.keepFieldsRef)for(const be of c.mount)P(be,ge(ue,be));else n={}}o=e.shouldUnregister?H.keepDefaultValues?Gt(a):{}:Gt(ue),y.array.next({values:{...ue}}),y.state.next({values:{...ue}})}c={mount:H.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!H.keepIsValid||!!H.keepDirtyValues,l.watch=!!e.shouldUnregister,y.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:de?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!da(I,a)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:H.keepDirtyValues?H.keepDefaultValues&&o?Qo(a,o):r.dirtyFields:H.keepDefaultValues&&I?Qo(a,I):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},bs=(I,H)=>Wa(an(I)?I(o):I,H),wu=(I,H={})=>{const Q=ge(n,I),pe=Q&&Q._f;if(pe){const de=pe.refs?pe.refs[0]:pe.ref;de.focus&&(de.focus(),H.shouldSelect&&an(de.select)&&de.select())}},Lr=I=>{r={...r,...I}},Qi={control:{register:Pr,unregister:Kt,getFieldState:ae,handleSubmit:Qa,setError:q,_subscribe:Be,_runSchema:Z,_focusError:ma,_getWatch:le,_getDirty:ye,_setValid:w,_setFieldArray:T,_setDisabledField:ot,_setErrors:N,_getFieldArray:ve,_reset:Wa,_resetDefaultValues:()=>an(e.defaultValues)&&e.defaultValues().then(I=>{bs(I,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:se,_disableForm:Ka,_subjects:y,_proxyFormState:m,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(I){l=I},get _defaultValues(){return a},get _names(){return c},set _names(I){c=I},get _formState(){return r},get _options(){return e},set _options(I){e={...e,...I}}},subscribe:Oe,trigger:Ae,register:Pr,handleSubmit:Qa,watch:me,setValue:P,getValues:j,reset:bs,resetField:Ki,clearErrors:F,unregister:Kt,setError:q,setFocus:wu,getFieldState:ae};return{...Qi,formControl:Qi}}function qa(t={}){const e=en.useRef(void 0),r=en.useRef(void 0),[n,a]=en.useState({isDirty:!1,isValidating:!1,isLoading:an(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:an(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!an(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...c}=s3(t);e.current={...c,formState:n}}const o=e.current.control;return o._options=t,qb(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),o._formState.isReady=!0,l},[o]),en.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),en.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),en.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),en.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),en.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),en.useEffect(()=>{t.values&&!da(t.values,r.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=t.values,a(l=>({...l}))):o._resetDefaultValues()},[o,t.values]),en.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=Xb(n,o),e.current}const Fv=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ge(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},pd=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Fv(n.ref,r,t):n&&n.refs&&n.refs.forEach(a=>Fv(a,r,t))}},Uv=(t,e)=>{e.shouldUseNativeValidation&&pd(t,e);const r={};for(const n in t){const a=ge(e.fields,n),o=Object.assign(t[n]||{},{ref:a&&a.ref});if(l3(e.names||Object.keys(t),n)){const l=Object.assign({},ge(r,n));lt(l,"root",o),lt(r,n,l)}else lt(r,n,o)}return r},l3=(t,e)=>{const r=zv(e);return t.some(n=>zv(n).match(`^${r}\\.\\d+`))};function zv(t){return t.replace(/\]|\[/g,"")}function ne(t,e,r){function n(c,d){var h;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(h=c._zod).traits??(h.traits=new Set),c._zod.traits.add(t),e(c,d);for(const m in l.prototype)m in c||Object.defineProperty(c,m,{value:l.prototype[m].bind(c)});c._zod.constr=l,c._zod.def=d}const a=r?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function l(c){var d;const h=r?.Parent?new o:this;n(h,c),(d=h._zod).deferred??(d.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(l,"name",{value:t}),l}class ps extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Rx={};function Za(t){return Rx}function u3(t){const e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,a])=>e.indexOf(+n)===-1).map(([n,a])=>a)}function c3(t,e){return typeof e=="bigint"?e.toString():e}function Ix(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function qd(t){return t==null}function Yd(t){const e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function f3(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,o=Number.parseInt(t.toFixed(a).replace(".","")),l=Number.parseInt(e.toFixed(a).replace(".",""));return o%l/10**a}function pt(t,e,r){Object.defineProperty(t,e,{get(){{const n=r();return t[e]=n,n}},set(n){Object.defineProperty(t,e,{value:n})},configurable:!0})}function $d(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Jo(t){return JSON.stringify(t)}const jx=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function vd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const d3=Ix(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function md(t){if(vd(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(vd(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const h3=new Set(["string","number","symbol"]);function vu(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ya(t,e,r){const n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function Ce(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function p3(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const v3={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function m3(t,e){const r={},n=t._zod.def;for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(r[a]=n.shape[a])}return Ya(t,{...t._zod.def,shape:r,checks:[]})}function x3(t,e){const r={...t._zod.def.shape},n=t._zod.def;for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete r[a]}return Ya(t,{...t._zod.def,shape:r,checks:[]})}function g3(t,e){if(!md(e))throw new Error("Invalid input to extend: expected a plain object");const r={...t._zod.def,get shape(){const n={...t._zod.def.shape,...e};return $d(this,"shape",n),n},checks:[]};return Ya(t,r)}function y3(t,e){return Ya(t,{...t._zod.def,get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return $d(this,"shape",r),r},catchall:e._zod.def.catchall,checks:[]})}function _3(t,e,r){const n=e._zod.def.shape,a={...n};if(r)for(const o in r){if(!(o in n))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(a[o]=t?new t({type:"optional",innerType:n[o]}):n[o])}else for(const o in n)a[o]=t?new t({type:"optional",innerType:n[o]}):n[o];return Ya(e,{...e._zod.def,shape:a,checks:[]})}function b3(t,e,r){const n=e._zod.def.shape,a={...n};if(r)for(const o in r){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(a[o]=new t({type:"nonoptional",innerType:n[o]}))}else for(const o in n)a[o]=new t({type:"nonoptional",innerType:n[o]});return Ya(e,{...e._zod.def,shape:a,checks:[]})}function cs(t,e=0){for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function Kd(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function Ml(t){return typeof t=="string"?t:t?.message}function Xa(t,e,r){const n={...t,path:t.path??[]};if(!t.message){const a=Ml(t.inst?._zod.def?.error?.(t))??Ml(e?.error?.(t))??Ml(r.customError?.(t))??Ml(r.localeError?.(t))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function Qd(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function vs(...t){const[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}const Mx=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,c3,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Wd=ne("$ZodError",Mx),mu=ne("$ZodError",Mx,{Parent:Error});function w3(t,e=r=>r.message){const r={},n=[];for(const a of t.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}function A3(t,e){const r=e||function(o){return o.message},n={_errors:[]},a=o=>{for(const l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>a({issues:c}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(r(l));else{let c=n,d=0;for(;d<l.path.length;){const h=l.path[d];d===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(r(l))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return a(t),n}const Bx=t=>(e,r,n,a)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},l=e._zod.run({value:r,issues:[]},o);if(l instanceof Promise)throw new ps;if(l.issues.length){const c=new(a?.Err??t)(l.issues.map(d=>Xa(d,o,Za())));throw jx(c,a?.callee),c}return l.value},E3=Bx(mu),Px=t=>async(e,r,n,a)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let l=e._zod.run({value:r,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new(a?.Err??t)(l.issues.map(d=>Xa(d,o,Za())));throw jx(c,a?.callee),c}return l.value},S3=Px(mu),Lx=t=>(e,r,n)=>{const a=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new ps;return o.issues.length?{success:!1,error:new(t??Wd)(o.issues.map(l=>Xa(l,a,Za())))}:{success:!0,data:o.value}},C3=Lx(mu),kx=t=>async(e,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let o=e._zod.run({value:r,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(l=>Xa(l,a,Za())))}:{success:!0,data:o.value}},N3=kx(mu),O3=/^[cC][^\s-]{8,}$/,T3=/^[0-9a-z]+$/,D3=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,R3=/^[0-9a-vA-V]{20}$/,I3=/^[A-Za-z0-9]{27}$/,j3=/^[a-zA-Z0-9_-]{21}$/,M3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,B3=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Vv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,P3=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,L3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function k3(){return new RegExp(L3,"u")}const F3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,U3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,z3=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,V3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,H3=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Fx=/^[A-Za-z0-9_-]*$/,G3=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Z3=/^\+(?:[0-9]){6,14}[0-9]$/,Ux="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",X3=new RegExp(`^${Ux}$`);function zx(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function q3(t){return new RegExp(`^${zx(t)}$`)}function Y3(t){const e=zx({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-]\\d{2}:\\d{2})");const n=`${e}(?:${r.join("|")})`;return new RegExp(`^${Ux}T(?:${n})$`)}const $3=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},K3=/^\d+$/,Q3=/^-?\d+(?:\.\d+)?/i,W3=/^[^A-Z]*$/,J3=/^[^a-z]*$/,Sr=ne("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),Vx={number:"number",bigint:"bigint",object:"date"},Hx=ne("$ZodCheckLessThan",(t,e)=>{Sr.init(t,e);const r=Vx[typeof e.value];t._zod.onattach.push(n=>{const a=n._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Gx=ne("$ZodCheckGreaterThan",(t,e)=>{Sr.init(t,e);const r=Vx[typeof e.value];t._zod.onattach.push(n=>{const a=n._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ew=ne("$ZodCheckMultipleOf",(t,e)=>{Sr.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):f3(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),tw=ne("$ZodCheckNumberFormat",(t,e)=>{Sr.init(t,e),e.format=e.format||"float64";const r=e.format?.includes("int"),n=r?"int":"number",[a,o]=v3[e.format];t._zod.onattach.push(l=>{const c=l._zod.bag;c.format=e.format,c.minimum=a,c.maximum=o,r&&(c.pattern=K3)}),t._zod.check=l=>{const c=l.value;if(r){if(!Number.isInteger(c)){l.issues.push({expected:n,format:e.format,code:"invalid_type",input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort});return}}c<a&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),c>o&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inst:t})}}),rw=ne("$ZodCheckMaxLength",(t,e)=>{var r;Sr.init(t,e),(r=t._zod.def).when??(r.when=n=>{const a=n.value;return!qd(a)&&a.length!==void 0}),t._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{const a=n.value;if(a.length<=e.maximum)return;const l=Qd(a);n.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),nw=ne("$ZodCheckMinLength",(t,e)=>{var r;Sr.init(t,e),(r=t._zod.def).when??(r.when=n=>{const a=n.value;return!qd(a)&&a.length!==void 0}),t._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{const a=n.value;if(a.length>=e.minimum)return;const l=Qd(a);n.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),aw=ne("$ZodCheckLengthEquals",(t,e)=>{var r;Sr.init(t,e),(r=t._zod.def).when??(r.when=n=>{const a=n.value;return!qd(a)&&a.length!==void 0}),t._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=n=>{const a=n.value,o=a.length;if(o===e.length)return;const l=Qd(a),c=o>e.length;n.issues.push({origin:l,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),xu=ne("$ZodCheckStringFormat",(t,e)=>{var r,n;Sr.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),iw=ne("$ZodCheckRegex",(t,e)=>{xu.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),ow=ne("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=W3),xu.init(t,e)}),sw=ne("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=J3),xu.init(t,e)}),lw=ne("$ZodCheckIncludes",(t,e)=>{Sr.init(t,e);const r=vu(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),uw=ne("$ZodCheckStartsWith",(t,e)=>{Sr.init(t,e);const r=new RegExp(`^${vu(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),cw=ne("$ZodCheckEndsWith",(t,e)=>{Sr.init(t,e);const r=new RegExp(`.*${vu(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}}),fw=ne("$ZodCheckOverwrite",(t,e)=>{Sr.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});class dw{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),o=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of o)this.content.push(l)}compile(){const e=Function,r=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...r,a.join(`
`))}}const hw={major:4,minor:0,patch:5},Ct=ne("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=hw;const n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(const a of n)for(const o of a._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,l,c)=>{let d=cs(o),h;for(const m of l){if(m._zod.def.when){if(!m._zod.def.when(o))continue}else if(d)continue;const x=o.issues.length,y=m._zod.check(o);if(y instanceof Promise&&c?.async===!1)throw new ps;if(h||y instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await y,o.issues.length!==x&&(d||(d=cs(o,x)))});else{if(o.issues.length===x)continue;d||(d=cs(o,x))}}return h?h.then(()=>o):o};t._zod.run=(o,l)=>{const c=t._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new ps;return c.then(d=>a(d,n,l))}return a(c,n,l)}}t["~standard"]={validate:a=>{try{const o=C3(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return N3(t,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),Jd=ne("$ZodString",(t,e)=>{Ct.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??$3(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),xt=ne("$ZodStringFormat",(t,e)=>{xu.init(t,e),Jd.init(t,e)}),pw=ne("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=B3),xt.init(t,e)}),vw=ne("$ZodUUID",(t,e)=>{if(e.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Vv(n))}else e.pattern??(e.pattern=Vv());xt.init(t,e)}),mw=ne("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=P3),xt.init(t,e)}),xw=ne("$ZodURL",(t,e)=>{xt.init(t,e),t._zod.check=r=>{try{const n=r.value,a=new URL(n),o=a.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:G3.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),!n.endsWith("/")&&o.endsWith("/")?r.value=o.slice(0,-1):r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),gw=ne("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=k3()),xt.init(t,e)}),yw=ne("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=j3),xt.init(t,e)}),_w=ne("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=O3),xt.init(t,e)}),bw=ne("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=T3),xt.init(t,e)}),ww=ne("$ZodULID",(t,e)=>{e.pattern??(e.pattern=D3),xt.init(t,e)}),Aw=ne("$ZodXID",(t,e)=>{e.pattern??(e.pattern=R3),xt.init(t,e)}),Ew=ne("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=I3),xt.init(t,e)}),Sw=ne("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Y3(e)),xt.init(t,e)}),Cw=ne("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=X3),xt.init(t,e)}),Nw=ne("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=q3(e)),xt.init(t,e)}),Ow=ne("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=M3),xt.init(t,e)}),Tw=ne("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=F3),xt.init(t,e),t._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),Dw=ne("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=U3),xt.init(t,e),t._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),Rw=ne("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=z3),xt.init(t,e)}),Iw=ne("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=V3),xt.init(t,e),t._zod.check=r=>{const[n,a]=r.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function Zx(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const jw=ne("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=H3),xt.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{Zx(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function Mw(t){if(!Fx.test(t))return!1;const e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return Zx(r)}const Bw=ne("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Fx),xt.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{Mw(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),Pw=ne("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Z3),xt.init(t,e)});function Lw(t,e=null){try{const r=t.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const kw=ne("$ZodJWT",(t,e)=>{xt.init(t,e),t._zod.check=r=>{Lw(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),Xx=ne("$ZodNumber",(t,e)=>{Ct.init(t,e),t._zod.pattern=t._zod.bag.pattern??Q3,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),r}}),Fw=ne("$ZodNumber",(t,e)=>{tw.init(t,e),Xx.init(t,e)}),Uw=ne("$ZodUnknown",(t,e)=>{Ct.init(t,e),t._zod.parse=r=>r}),zw=ne("$ZodNever",(t,e)=>{Ct.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function Hv(t,e,r){t.issues.length&&e.issues.push(...Kd(r,t.issues)),e.value[r]=t.value}const Vw=ne("$ZodArray",(t,e)=>{Ct.init(t,e),t._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),r;r.value=Array(a.length);const o=[];for(let l=0;l<a.length;l++){const c=a[l],d=e.element._zod.run({value:c,issues:[]},n);d instanceof Promise?o.push(d.then(h=>Hv(h,r,l))):Hv(d,r,l)}return o.length?Promise.all(o).then(()=>r):r}});function Bl(t,e,r){t.issues.length&&e.issues.push(...Kd(r,t.issues)),e.value[r]=t.value}function Gv(t,e,r,n){t.issues.length?n[r]===void 0?r in n?e.value[r]=void 0:e.value[r]=t.value:e.issues.push(...Kd(r,t.issues)):t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}const Hw=ne("$ZodObject",(t,e)=>{Ct.init(t,e);const r=Ix(()=>{const x=Object.keys(e.shape);for(const _ of x)if(!(e.shape[_]instanceof Ct))throw new Error(`Invalid element at key "${_}": expected a Zod schema`);const y=p3(e.shape);return{shape:e.shape,keys:x,keySet:new Set(x),numKeys:x.length,optionalKeys:new Set(y)}});pt(t._zod,"propValues",()=>{const x=e.shape,y={};for(const _ in x){const b=x[_]._zod;if(b.values){y[_]??(y[_]=new Set);for(const w of b.values)y[_].add(w)}}return y});const n=x=>{const y=new dw(["shape","payload","ctx"]),_=r.value,b=E=>{const N=Jo(E);return`shape[${N}]._zod.run({ value: input[${N}], issues: [] }, ctx)`};y.write("const input = payload.value;");const w=Object.create(null);let S=0;for(const E of _.keys)w[E]=`key_${S++}`;y.write("const newResult = {}");for(const E of _.keys)if(_.optionalKeys.has(E)){const N=w[E];y.write(`const ${N} = ${b(E)};`);const R=Jo(E);y.write(`
        if (${N}.issues.length) {
          if (input[${R}] === undefined) {
            if (${R} in input) {
              newResult[${R}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${N}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${R}, ...iss.path] : [${R}],
              }))
            );
          }
        } else if (${N}.value === undefined) {
          if (${R} in input) newResult[${R}] = undefined;
        } else {
          newResult[${R}] = ${N}.value;
        }
        `)}else{const N=w[E];y.write(`const ${N} = ${b(E)};`),y.write(`
          if (${N}.issues.length) payload.issues = payload.issues.concat(${N}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Jo(E)}, ...iss.path] : [${Jo(E)}]
          })));`),y.write(`newResult[${Jo(E)}] = ${N}.value`)}y.write("payload.value = newResult;"),y.write("return payload;");const T=y.compile();return(E,N)=>T(x,E,N)};let a;const o=vd,l=!Rx.jitless,d=l&&d3.value,h=e.catchall;let m;t._zod.parse=(x,y)=>{m??(m=r.value);const _=x.value;if(!o(_))return x.issues.push({expected:"object",code:"invalid_type",input:_,inst:t}),x;const b=[];if(l&&d&&y?.async===!1&&y.jitless!==!0)a||(a=n(e.shape)),x=a(x,y);else{x.value={};const N=m.shape;for(const R of m.keys){const M=N[R],k=M._zod.run({value:_[R],issues:[]},y),Z=M._zod.optin==="optional"&&M._zod.optout==="optional";k instanceof Promise?b.push(k.then(ee=>Z?Gv(ee,x,R,_):Bl(ee,x,R))):Z?Gv(k,x,R,_):Bl(k,x,R)}}if(!h)return b.length?Promise.all(b).then(()=>x):x;const w=[],S=m.keySet,T=h._zod,E=T.def.type;for(const N of Object.keys(_)){if(S.has(N))continue;if(E==="never"){w.push(N);continue}const R=T.run({value:_[N],issues:[]},y);R instanceof Promise?b.push(R.then(M=>Bl(M,x,N))):Bl(R,x,N)}return w.length&&x.issues.push({code:"unrecognized_keys",keys:w,input:_,inst:t}),b.length?Promise.all(b).then(()=>x):x}});function Zv(t,e,r,n){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(a=>a.issues.map(o=>Xa(o,n,Za())))}),e}const Gw=ne("$ZodUnion",(t,e)=>{Ct.init(t,e),pt(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),pt(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),pt(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),pt(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>Yd(n.source)).join("|")})$`)}}),t._zod.parse=(r,n)=>{let a=!1;const o=[];for(const l of e.options){const c=l._zod.run({value:r.value,issues:[]},n);if(c instanceof Promise)o.push(c),a=!0;else{if(c.issues.length===0)return c;o.push(c)}}return a?Promise.all(o).then(l=>Zv(l,r,t,n)):Zv(o,r,t,n)}}),Zw=ne("$ZodIntersection",(t,e)=>{Ct.init(t,e),t._zod.parse=(r,n)=>{const a=r.value,o=e.left._zod.run({value:a,issues:[]},n),l=e.right._zod.run({value:a,issues:[]},n);return o instanceof Promise||l instanceof Promise?Promise.all([o,l]).then(([d,h])=>Xv(r,d,h)):Xv(r,o,l)}});function xd(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(md(t)&&md(e)){const r=Object.keys(e),n=Object.keys(t).filter(o=>r.indexOf(o)!==-1),a={...t,...e};for(const o of n){const l=xd(t[o],e[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};a[o]=l.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<t.length;n++){const a=t[n],o=e[n],l=xd(a,o);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Xv(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),cs(t))return t;const n=xd(e.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}const Xw=ne("$ZodEnum",(t,e)=>{Ct.init(t,e);const r=u3(e.entries);t._zod.values=new Set(r),t._zod.pattern=new RegExp(`^(${r.filter(n=>h3.has(typeof n)).map(n=>typeof n=="string"?vu(n):n.toString()).join("|")})$`),t._zod.parse=(n,a)=>{const o=n.value;return t._zod.values.has(o)||n.issues.push({code:"invalid_value",values:r,input:o,inst:t}),n}}),qw=ne("$ZodTransform",(t,e)=>{Ct.init(t,e),t._zod.parse=(r,n)=>{const a=e.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new ps;return r.value=a,r}}),Yw=ne("$ZodOptional",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",t._zod.optout="optional",pt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),pt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${Yd(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(r,n):r.value===void 0?r:e.innerType._zod.run(r,n)}),$w=ne("$ZodNullable",(t,e)=>{Ct.init(t,e),pt(t._zod,"optin",()=>e.innerType._zod.optin),pt(t._zod,"optout",()=>e.innerType._zod.optout),pt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${Yd(r.source)}|null)$`):void 0}),pt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),Kw=ne("$ZodDefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",pt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=e.defaultValue,r;const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>qv(o,e)):qv(a,e)}});function qv(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const Qw=ne("$ZodPrefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",pt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),Ww=ne("$ZodNonOptional",(t,e)=>{Ct.init(t,e),pt(t._zod,"values",()=>{const r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>Yv(o,t)):Yv(a,t)}});function Yv(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const Jw=ne("$ZodCatch",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",pt(t._zod,"optout",()=>e.innerType._zod.optout),pt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>(r.value=o.value,o.issues.length&&(r.value=e.catchValue({...r,error:{issues:o.issues.map(l=>Xa(l,n,Za()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=e.catchValue({...r,error:{issues:a.issues.map(o=>Xa(o,n,Za()))},input:r.value}),r.issues=[]),r)}}),eA=ne("$ZodPipe",(t,e)=>{Ct.init(t,e),pt(t._zod,"values",()=>e.in._zod.values),pt(t._zod,"optin",()=>e.in._zod.optin),pt(t._zod,"optout",()=>e.out._zod.optout),pt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{const a=e.in._zod.run(r,n);return a instanceof Promise?a.then(o=>$v(o,e,n)):$v(a,e,n)}});function $v(t,e,r){return cs(t)?t:e.out._zod.run({value:t.value,issues:t.issues},r)}const tA=ne("$ZodReadonly",(t,e)=>{Ct.init(t,e),pt(t._zod,"propValues",()=>e.innerType._zod.propValues),pt(t._zod,"values",()=>e.innerType._zod.values),pt(t._zod,"optin",()=>e.innerType._zod.optin),pt(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,n)=>{const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(Kv):Kv(a)}});function Kv(t){return t.value=Object.freeze(t.value),t}const rA=ne("$ZodCustom",(t,e)=>{Sr.init(t,e),Ct.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{const n=r.value,a=e.fn(n);if(a instanceof Promise)return a.then(o=>Qv(o,r,n,t));Qv(a,r,n,t)}});function Qv(t,e,r,n){if(!t){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),e.issues.push(vs(a))}}class nA{constructor(){this._map=new Map,this._idmap=new Map}add(e,...r){const n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){const r=e._zod.parent;if(r){const n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function aA(){return new nA}const Pl=aA();function iA(t,e){return new t({type:"string",...Ce(e)})}function oA(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ce(e)})}function Wv(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ce(e)})}function sA(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ce(e)})}function lA(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ce(e)})}function uA(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ce(e)})}function cA(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ce(e)})}function fA(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ce(e)})}function dA(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ce(e)})}function hA(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ce(e)})}function pA(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ce(e)})}function vA(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ce(e)})}function mA(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ce(e)})}function xA(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ce(e)})}function gA(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ce(e)})}function yA(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ce(e)})}function _A(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ce(e)})}function bA(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ce(e)})}function wA(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ce(e)})}function AA(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ce(e)})}function EA(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ce(e)})}function SA(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ce(e)})}function CA(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ce(e)})}function NA(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ce(e)})}function OA(t,e){return new t({type:"string",format:"date",check:"string_format",...Ce(e)})}function TA(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ce(e)})}function DA(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ce(e)})}function RA(t,e){return new t({type:"number",checks:[],...Ce(e)})}function IA(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ce(e)})}function jA(t){return new t({type:"unknown"})}function MA(t,e){return new t({type:"never",...Ce(e)})}function Jv(t,e){return new Hx({check:"less_than",...Ce(e),value:t,inclusive:!1})}function Yf(t,e){return new Hx({check:"less_than",...Ce(e),value:t,inclusive:!0})}function em(t,e){return new Gx({check:"greater_than",...Ce(e),value:t,inclusive:!1})}function $f(t,e){return new Gx({check:"greater_than",...Ce(e),value:t,inclusive:!0})}function tm(t,e){return new ew({check:"multiple_of",...Ce(e),value:t})}function qx(t,e){return new rw({check:"max_length",...Ce(e),maximum:t})}function ru(t,e){return new nw({check:"min_length",...Ce(e),minimum:t})}function Yx(t,e){return new aw({check:"length_equals",...Ce(e),length:t})}function BA(t,e){return new iw({check:"string_format",format:"regex",...Ce(e),pattern:t})}function PA(t){return new ow({check:"string_format",format:"lowercase",...Ce(t)})}function LA(t){return new sw({check:"string_format",format:"uppercase",...Ce(t)})}function kA(t,e){return new lw({check:"string_format",format:"includes",...Ce(e),includes:t})}function FA(t,e){return new uw({check:"string_format",format:"starts_with",...Ce(e),prefix:t})}function UA(t,e){return new cw({check:"string_format",format:"ends_with",...Ce(e),suffix:t})}function ys(t){return new fw({check:"overwrite",tx:t})}function zA(t){return ys(e=>e.normalize(t))}function VA(){return ys(t=>t.trim())}function HA(){return ys(t=>t.toLowerCase())}function GA(){return ys(t=>t.toUpperCase())}function ZA(t,e,r){return new t({type:"array",element:e,...Ce(r)})}function XA(t,e,r){return new t({type:"custom",check:"custom",fn:e,...Ce(r)})}function rm(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function qA(t,e){for(var r={};t.length;){var n=t[0],a=n.code,o=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[l]={message:c.message,type:c.code}}else r[l]={message:o,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(x){return t.push(x)})}),e){var d=r[l].types,h=d&&d[n.code];r[l]=Gd(l,e,r,a,h?[].concat(h,n.message):n.message)}t.shift()}return r}function YA(t,e){for(var r={};t.length;){var n=t[0],a=n.code,o=n.message,l=n.path.join(".");if(!r[l])if(n.code==="invalid_union"){var c=n.errors[0][0];r[l]={message:c.message,type:c.code}}else r[l]={message:o,type:a};if(n.code==="invalid_union"&&n.errors.forEach(function(m){return m.forEach(function(x){return t.push(x)})}),e){var d=r[l].types,h=d&&d[n.code];r[l]=Gd(l,e,r,a,h?[].concat(h,n.message):n.message)}t.shift()}return r}function Yi(t,e,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(t))return function(n,a,o){try{return Promise.resolve(rm(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(l){return o.shouldUseNativeValidation&&pd({},o),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(c){return Array.isArray(c?.issues)}(l))return{values:{},errors:Uv(qA(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(t))return function(n,a,o){try{return Promise.resolve(rm(function(){return Promise.resolve((r.mode==="sync"?E3:S3)(t,n,e)).then(function(l){return o.shouldUseNativeValidation&&pd({},o),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(c){return c instanceof Wd}(l))return{values:{},errors:Uv(YA(l.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const $A=ne("ZodISODateTime",(t,e)=>{Sw.init(t,e),yt.init(t,e)});function KA(t){return NA($A,t)}const QA=ne("ZodISODate",(t,e)=>{Cw.init(t,e),yt.init(t,e)});function WA(t){return OA(QA,t)}const JA=ne("ZodISOTime",(t,e)=>{Nw.init(t,e),yt.init(t,e)});function e4(t){return TA(JA,t)}const t4=ne("ZodISODuration",(t,e)=>{Ow.init(t,e),yt.init(t,e)});function r4(t){return DA(t4,t)}const n4=(t,e)=>{Wd.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>A3(t,r)},flatten:{value:r=>w3(t,r)},addIssue:{value:r=>t.issues.push(r)},addIssues:{value:r=>t.issues.push(...r)},isEmpty:{get(){return t.issues.length===0}}})},gu=ne("ZodError",n4,{Parent:Error}),a4=Bx(gu),i4=Px(gu),o4=Lx(gu),s4=kx(gu),Ft=ne("ZodType",(t,e)=>(Ct.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>Ya(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t),t.parse=(r,n)=>a4(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>o4(t,r,n),t.parseAsync=async(r,n)=>i4(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>s4(t,r,n),t.spa=t.safeParseAsync,t.refine=(r,n)=>t.check(W4(r,n)),t.superRefine=r=>t.check(J4(r)),t.overwrite=r=>t.check(ys(r)),t.optional=()=>om(t),t.nullable=()=>sm(t),t.nullish=()=>om(sm(t)),t.nonoptional=r=>G4(t,r),t.array=()=>R4(t),t.or=r=>M4([t,r]),t.and=r=>P4(t,r),t.transform=r=>lm(t,k4(r)),t.default=r=>z4(t,r),t.prefault=r=>H4(t,r),t.catch=r=>X4(t,r),t.pipe=r=>lm(t,r),t.readonly=()=>$4(t),t.describe=r=>{const n=t.clone();return Pl.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return Pl.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return Pl.get(t);const n=t.clone();return Pl.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),$x=ne("_ZodString",(t,e)=>{Jd.init(t,e),Ft.init(t,e);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(BA(...n)),t.includes=(...n)=>t.check(kA(...n)),t.startsWith=(...n)=>t.check(FA(...n)),t.endsWith=(...n)=>t.check(UA(...n)),t.min=(...n)=>t.check(ru(...n)),t.max=(...n)=>t.check(qx(...n)),t.length=(...n)=>t.check(Yx(...n)),t.nonempty=(...n)=>t.check(ru(1,...n)),t.lowercase=n=>t.check(PA(n)),t.uppercase=n=>t.check(LA(n)),t.trim=()=>t.check(VA()),t.normalize=(...n)=>t.check(zA(...n)),t.toLowerCase=()=>t.check(HA()),t.toUpperCase=()=>t.check(GA())}),l4=ne("ZodString",(t,e)=>{Jd.init(t,e),$x.init(t,e),t.email=r=>t.check(oA(u4,r)),t.url=r=>t.check(fA(c4,r)),t.jwt=r=>t.check(CA(S4,r)),t.emoji=r=>t.check(dA(f4,r)),t.guid=r=>t.check(Wv(nm,r)),t.uuid=r=>t.check(sA(Ll,r)),t.uuidv4=r=>t.check(lA(Ll,r)),t.uuidv6=r=>t.check(uA(Ll,r)),t.uuidv7=r=>t.check(cA(Ll,r)),t.nanoid=r=>t.check(hA(d4,r)),t.guid=r=>t.check(Wv(nm,r)),t.cuid=r=>t.check(pA(h4,r)),t.cuid2=r=>t.check(vA(p4,r)),t.ulid=r=>t.check(mA(v4,r)),t.base64=r=>t.check(AA(w4,r)),t.base64url=r=>t.check(EA(A4,r)),t.xid=r=>t.check(xA(m4,r)),t.ksuid=r=>t.check(gA(x4,r)),t.ipv4=r=>t.check(yA(g4,r)),t.ipv6=r=>t.check(_A(y4,r)),t.cidrv4=r=>t.check(bA(_4,r)),t.cidrv6=r=>t.check(wA(b4,r)),t.e164=r=>t.check(SA(E4,r)),t.datetime=r=>t.check(KA(r)),t.date=r=>t.check(WA(r)),t.time=r=>t.check(e4(r)),t.duration=r=>t.check(r4(r))});function qt(t){return iA(l4,t)}const yt=ne("ZodStringFormat",(t,e)=>{xt.init(t,e),$x.init(t,e)}),u4=ne("ZodEmail",(t,e)=>{mw.init(t,e),yt.init(t,e)}),nm=ne("ZodGUID",(t,e)=>{pw.init(t,e),yt.init(t,e)}),Ll=ne("ZodUUID",(t,e)=>{vw.init(t,e),yt.init(t,e)}),c4=ne("ZodURL",(t,e)=>{xw.init(t,e),yt.init(t,e)}),f4=ne("ZodEmoji",(t,e)=>{gw.init(t,e),yt.init(t,e)}),d4=ne("ZodNanoID",(t,e)=>{yw.init(t,e),yt.init(t,e)}),h4=ne("ZodCUID",(t,e)=>{_w.init(t,e),yt.init(t,e)}),p4=ne("ZodCUID2",(t,e)=>{bw.init(t,e),yt.init(t,e)}),v4=ne("ZodULID",(t,e)=>{ww.init(t,e),yt.init(t,e)}),m4=ne("ZodXID",(t,e)=>{Aw.init(t,e),yt.init(t,e)}),x4=ne("ZodKSUID",(t,e)=>{Ew.init(t,e),yt.init(t,e)}),g4=ne("ZodIPv4",(t,e)=>{Tw.init(t,e),yt.init(t,e)}),y4=ne("ZodIPv6",(t,e)=>{Dw.init(t,e),yt.init(t,e)}),_4=ne("ZodCIDRv4",(t,e)=>{Rw.init(t,e),yt.init(t,e)}),b4=ne("ZodCIDRv6",(t,e)=>{Iw.init(t,e),yt.init(t,e)}),w4=ne("ZodBase64",(t,e)=>{jw.init(t,e),yt.init(t,e)}),A4=ne("ZodBase64URL",(t,e)=>{Bw.init(t,e),yt.init(t,e)}),E4=ne("ZodE164",(t,e)=>{Pw.init(t,e),yt.init(t,e)}),S4=ne("ZodJWT",(t,e)=>{kw.init(t,e),yt.init(t,e)}),Kx=ne("ZodNumber",(t,e)=>{Xx.init(t,e),Ft.init(t,e),t.gt=(n,a)=>t.check(em(n,a)),t.gte=(n,a)=>t.check($f(n,a)),t.min=(n,a)=>t.check($f(n,a)),t.lt=(n,a)=>t.check(Jv(n,a)),t.lte=(n,a)=>t.check(Yf(n,a)),t.max=(n,a)=>t.check(Yf(n,a)),t.int=n=>t.check(am(n)),t.safe=n=>t.check(am(n)),t.positive=n=>t.check(em(0,n)),t.nonnegative=n=>t.check($f(0,n)),t.negative=n=>t.check(Jv(0,n)),t.nonpositive=n=>t.check(Yf(0,n)),t.multipleOf=(n,a)=>t.check(tm(n,a)),t.step=(n,a)=>t.check(tm(n,a)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function Hi(t){return RA(Kx,t)}const C4=ne("ZodNumberFormat",(t,e)=>{Fw.init(t,e),Kx.init(t,e)});function am(t){return IA(C4,t)}const N4=ne("ZodUnknown",(t,e)=>{Uw.init(t,e),Ft.init(t,e)});function im(){return jA(N4)}const O4=ne("ZodNever",(t,e)=>{zw.init(t,e),Ft.init(t,e)});function T4(t){return MA(O4,t)}const D4=ne("ZodArray",(t,e)=>{Vw.init(t,e),Ft.init(t,e),t.element=e.element,t.min=(r,n)=>t.check(ru(r,n)),t.nonempty=r=>t.check(ru(1,r)),t.max=(r,n)=>t.check(qx(r,n)),t.length=(r,n)=>t.check(Yx(r,n)),t.unwrap=()=>t.element});function R4(t,e){return ZA(D4,t,e)}const I4=ne("ZodObject",(t,e)=>{Hw.init(t,e),Ft.init(t,e),pt(t,"shape",()=>e.shape),t.keyof=()=>Gi(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:im()}),t.loose=()=>t.clone({...t._zod.def,catchall:im()}),t.strict=()=>t.clone({...t._zod.def,catchall:T4()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>g3(t,r),t.merge=r=>y3(t,r),t.pick=r=>m3(t,r),t.omit=r=>x3(t,r),t.partial=(...r)=>_3(Qx,t,r[0]),t.required=(...r)=>b3(Wx,t,r[0])});function $i(t,e){const r={type:"object",get shape(){return $d(this,"shape",{...t}),this.shape},...Ce(e)};return new I4(r)}const j4=ne("ZodUnion",(t,e)=>{Gw.init(t,e),Ft.init(t,e),t.options=e.options});function M4(t,e){return new j4({type:"union",options:t,...Ce(e)})}const B4=ne("ZodIntersection",(t,e)=>{Zw.init(t,e),Ft.init(t,e)});function P4(t,e){return new B4({type:"intersection",left:t,right:e})}const gd=ne("ZodEnum",(t,e)=>{Xw.init(t,e),Ft.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const r=new Set(Object.keys(e.entries));t.extract=(n,a)=>{const o={};for(const l of n)if(r.has(l))o[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new gd({...e,checks:[],...Ce(a),entries:o})},t.exclude=(n,a)=>{const o={...e.entries};for(const l of n)if(r.has(l))delete o[l];else throw new Error(`Key ${l} not found in enum`);return new gd({...e,checks:[],...Ce(a),entries:o})}});function Gi(t,e){const r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new gd({type:"enum",entries:r,...Ce(e)})}const L4=ne("ZodTransform",(t,e)=>{qw.init(t,e),Ft.init(t,e),t._zod.parse=(r,n)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push(vs(o,r.value,e));else{const l=o;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=t),l.continue??(l.continue=!0),r.issues.push(vs(l))}};const a=e.transform(r.value,r);return a instanceof Promise?a.then(o=>(r.value=o,r)):(r.value=a,r)}});function k4(t){return new L4({type:"transform",transform:t})}const Qx=ne("ZodOptional",(t,e)=>{Yw.init(t,e),Ft.init(t,e),t.unwrap=()=>t._zod.def.innerType});function om(t){return new Qx({type:"optional",innerType:t})}const F4=ne("ZodNullable",(t,e)=>{$w.init(t,e),Ft.init(t,e),t.unwrap=()=>t._zod.def.innerType});function sm(t){return new F4({type:"nullable",innerType:t})}const U4=ne("ZodDefault",(t,e)=>{Kw.init(t,e),Ft.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function z4(t,e){return new U4({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const V4=ne("ZodPrefault",(t,e)=>{Qw.init(t,e),Ft.init(t,e),t.unwrap=()=>t._zod.def.innerType});function H4(t,e){return new V4({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const Wx=ne("ZodNonOptional",(t,e)=>{Ww.init(t,e),Ft.init(t,e),t.unwrap=()=>t._zod.def.innerType});function G4(t,e){return new Wx({type:"nonoptional",innerType:t,...Ce(e)})}const Z4=ne("ZodCatch",(t,e)=>{Jw.init(t,e),Ft.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function X4(t,e){return new Z4({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const q4=ne("ZodPipe",(t,e)=>{eA.init(t,e),Ft.init(t,e),t.in=e.in,t.out=e.out});function lm(t,e){return new q4({type:"pipe",in:t,out:e})}const Y4=ne("ZodReadonly",(t,e)=>{tA.init(t,e),Ft.init(t,e)});function $4(t){return new Y4({type:"readonly",innerType:t})}const K4=ne("ZodCustom",(t,e)=>{rA.init(t,e),Ft.init(t,e)});function Q4(t){const e=new Sr({check:"custom"});return e._zod.check=t,e}function W4(t,e={}){return XA(K4,t,e)}function J4(t){const e=Q4(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(vs(n,r.value,e._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),r.issues.push(vs(a))}},t(r.value,r)));return e}const Jx=({className:t="",size:e="md"})=>{const r={sm:"h-8",md:"h-12",lg:"h-16"};return p.jsxs("div",{className:`flex items-center space-x-3 ${t}`,children:[p.jsx("img",{src:"/logo-henrys-diagnostics.png",alt:"Henry Diagnostics",className:`${r[e]} w-auto object-contain`,onError:n=>{n.currentTarget.style.display="none",n.currentTarget.nextElementSibling?.classList.remove("hidden")}}),p.jsx("span",{className:"hidden text-xl font-bold text-blue-600",children:"HENRY DIAGNOSTICS"})]})},eE=$i({email:qt().email("Email inválido"),password:qt().min(1,"Contraseña requerida")}),tE=()=>{const[t,e]=W.useState(!1),[r,n]=W.useState(null),{login:a}=Ln(),{register:o,handleSubmit:l,formState:{errors:c}}=qa({resolver:Yi(eE)}),d=async h=>{e(!0),n(null);try{await a(h)}catch(m){n(m.response?.data?.message||"Error al iniciar sesión")}finally{e(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx(Jx,{size:"lg"})}),p.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Iniciar Sesión"}),p.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sistema de Seguimiento de Clientes"})]}),p.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:p.jsxs("div",{className:"card px-6 py-8",children:[r&&p.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:p.jsx("p",{className:"text-sm text-red-600",children:r})}),p.jsxs("form",{className:"space-y-6",onSubmit:l(d),children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),p.jsxs("div",{className:"mt-1",children:[p.jsx("input",{...o("email"),type:"email",autoComplete:"email",className:"input-field",placeholder:"tu@email.com"}),c.email&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),p.jsxs("div",{className:"mt-1",children:[p.jsx("input",{...o("password"),type:"password",autoComplete:"current-password",className:"input-field",placeholder:"Tu contraseña"}),c.password&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",disabled:t,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Iniciando sesión...":"Iniciar Sesión"})})]}),p.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:p.jsxs("div",{className:"text-sm text-gray-600",children:[p.jsx("p",{className:"font-semibold mb-2",children:"Credenciales de prueba:"}),p.jsxs("div",{className:"space-y-1 text-xs",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Admin:"})," rik@rikmarquez.com / HenryDiag2024$"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Mecánico:"})," mecanico@henrydiagnostics.com / MecanicoHD2024!"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Seguimiento:"})," ventas@henrydiagnostics.com / VentasHD2024!"]})]})]})})]})})]})},rE=({currentPage:t,onPageChange:e})=>{const{user:r,logout:n}=Ln(),a=async()=>{try{await n()}catch(l){console.error("Error al cerrar sesión:",l)}},o=[{id:"dashboard",label:"Dashboard",icon:"🏠"},{id:"appointments",label:"Citas",icon:"📅"},{id:"reception",label:"Recepción",icon:"🚪"},{id:"vehicles",label:"Vehículos",icon:"🚗"},{id:"customers",label:"Clientes",icon:"👥"},{id:"opportunities",label:"Oportunidades",icon:"💼"},{id:"reminders",label:"Recordatorios",icon:"⏰"},...r?.rol==="administrador"?[{id:"users",label:"Usuarios",icon:"👤"}]:[]];return p.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between items-center h-16",children:[p.jsxs("div",{className:"flex items-center space-x-8",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Jx,{size:"sm"}),p.jsx("span",{className:"ml-3 text-xl font-semibold text-gray-900",children:"Henry Diagnostics"})]}),p.jsx("nav",{className:"hidden md:flex space-x-6",children:o.map(l=>p.jsxs("button",{onClick:()=>e(l.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t===l.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[p.jsx("span",{children:l.icon}),p.jsx("span",{children:l.label})]},l.id))})]}),p.jsx("div",{className:"flex items-center space-x-4",children:p.jsx("button",{onClick:a,className:"btn-secondary text-sm",children:"Cerrar Sesión"})})]})}),p.jsx("div",{className:"md:hidden border-t border-gray-200 bg-gray-50",children:p.jsx("nav",{className:"flex overflow-x-auto px-4 py-2 space-x-4",children:o.map(l=>p.jsxs("button",{onClick:()=>e(l.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${t===l.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[p.jsx("span",{children:l.icon}),p.jsx("span",{children:l.label})]},l.id))})})]})},Br={search:async t=>(await De.get("/opportunities/search",{params:t})).data,create:async t=>(await De.post("/opportunities",t)).data,getById:async t=>(await De.get(`/opportunities/${t}`)).data,update:async(t,e)=>(await De.put(`/opportunities/${t}`,e)).data,getByVehicle:async t=>(await De.get(`/opportunities/vehicle/${t}`)).data,getRemindersToday:async()=>(await De.get("/opportunities/reminders/today")).data,addNote:async(t,e)=>(await De.post(`/opportunities/${t}/notes`,e)).data,changeStatus:async(t,e)=>(await De.put(`/opportunities/${t}`,{estado:e})).data,assignUser:async(t,e)=>(await De.put(`/opportunities/${t}`,{usuario_asignado:e})).data,getPending:async()=>(await De.get("/opportunities/search",{params:{estado:"pendiente",limit:50}})).data,getByPriority:async t=>(await De.get("/opportunities/search",{params:{prioridad:t,limit:50}})).data,getAppointmentsToday:async()=>{const t=new Date().toISOString().split("T")[0];console.log("🗓️ getAppointmentsToday: Buscando citas para fecha:",t);const e=await De.get("/opportunities/search",{params:{tiene_cita:"true",fecha_desde:t,fecha_hasta:t,limit:50}});return console.log("📊 getAppointmentsToday: Resultado completo:",JSON.stringify(e.data,null,2)),console.log("📊 getAppointmentsToday: Total opportunities:",e.data?.opportunities?.length||0),e.data}},Mr={search:async t=>(await De.get("/vehicles/search",{params:t})).data,create:async t=>(await De.post("/vehicles",t)).data,getByVin:async t=>(await De.get(`/vehicles/${t}`)).data,update:async(t,e)=>(await De.put(`/vehicles/${t}`,e)).data,delete:async t=>(await De.delete(`/vehicles/${t}`)).data,getHistory:async t=>(await De.get(`/vehicles/${t}/history`)).data,searchByPlate:async t=>(await De.get("/vehicles/search",{params:{placa:t,limit:10}})).data,searchByCustomer:async t=>(await De.get("/vehicles/search",{params:{customer_name:t,limit:20}})).data,getCount:async()=>(await De.get("/vehicles/count")).data},nE=({onNavigate:t,onNavigateToVehicleForm:e})=>{const{user:r,isLoading:n}=Ln(),[a,o]=W.useState({vehiclesCount:0,opportunitiesPending:0,remindersToday:0,servicesThisMonth:0,appointmentsToday:0}),[l,c]=W.useState(!0),[d,h]=W.useState(""),[m,x]=W.useState(!1);W.useEffect(()=>{!n&&r&&y()},[n,r]);const y=async()=>{try{console.log("🔄 Dashboard: Iniciando carga de datos...");const w=new Date().toISOString().split("T")[0],[S,T,E,N]=await Promise.all([Br.getRemindersToday(),Br.getPending(),Mr.getCount(),Br.getAppointmentsToday()]);console.log("📊 Dashboard: Datos recibidos",{vehicles:E,opportunities:T,reminders:S,appointments:N}),console.log("🔍 Dashboard: Detalle appointments:",{appointmentsResult:N,appointmentsArray:N?.opportunities,appointmentsLength:N?.opportunities?.length,finalCount:N?.opportunities?.length||0}),o({vehiclesCount:E.count||0,opportunitiesPending:T.opportunities?.length||0,remindersToday:S.reminders?.length||0,servicesThisMonth:0,appointmentsToday:N.opportunities?.length||0})}catch(w){console.error("❌ Dashboard: Error loading dashboard data:",w)}finally{c(!1)}},_=async()=>{if(d.trim()){x(!0);try{const w=await Mr.searchByPlate(d.trim());w.vehicles&&w.vehicles.length>0?(t("vehicles"),localStorage.setItem("vehicleSearchResults",JSON.stringify(w.vehicles)),localStorage.setItem("vehicleSearchQuery",d.trim())):alert("No se encontró ningún vehículo con esas placas")}catch(w){console.error("Error searching vehicle:",w),alert("Error al buscar el vehículo")}finally{x(!1)}}},b=w=>{w.key==="Enter"&&_()};return n?p.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):p.jsx("div",{className:"bg-gray-50",children:p.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Bienvenido, ",r?.nombre]}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de seguimiento de clientes y vehículos"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[p.jsx("div",{className:"card p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vehículos Registrados"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"--":a.vehiclesCount})]}),p.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:p.jsx("span",{className:"text-blue-600 text-xl",children:"🚗"})})]})}),p.jsxs("div",{className:`card p-6 ${a.appointmentsToday>0?"ring-2 ring-blue-200 bg-blue-50":""}`,children:[p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Citas Hoy"}),p.jsx("p",{className:`text-2xl font-bold ${a.appointmentsToday>0?"text-blue-600":"text-gray-900"}`,children:l?"--":a.appointmentsToday})]}),p.jsx("div",{className:`p-3 rounded-full ${a.appointmentsToday>0?"bg-blue-100":"bg-gray-100"}`,children:p.jsx("span",{className:`text-xl ${a.appointmentsToday>0?"text-blue-600":"text-gray-600"}`,children:"📅"})})]}),a.appointmentsToday>0&&p.jsx("div",{className:"mt-3",children:p.jsx("button",{onClick:()=>t("appointments"),className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-full font-medium",children:"Ver Citas"})})]}),p.jsx("div",{className:"card p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Oportunidades Pendientes"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"--":a.opportunitiesPending})]}),p.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:p.jsx("span",{className:"text-yellow-600 text-xl",children:"💼"})})]})}),p.jsx("div",{className:"card p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Servicios del Mes"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"--":a.servicesThisMonth})]}),p.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:p.jsx("span",{className:"text-green-600 text-xl",children:"✅"})})]})}),p.jsxs("div",{className:`card p-6 ${a.remindersToday>0?"ring-2 ring-red-200 bg-red-50":""}`,children:[p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recordatorios Hoy"}),p.jsx("p",{className:`text-2xl font-bold ${a.remindersToday>0?"text-red-600":"text-gray-900"}`,children:l?"--":a.remindersToday})]}),p.jsx("div",{className:`p-3 rounded-full ${a.remindersToday>0?"bg-red-100":"bg-gray-100"}`,children:p.jsx("span",{className:`text-xl ${a.remindersToday>0?"text-red-600":"text-gray-600"}`,children:a.remindersToday>0?"🔥":"⏰"})})]}),a.remindersToday>0&&p.jsx("div",{className:"mt-3",children:p.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("navigate",{detail:"reminders"})),className:"text-xs bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-full font-medium",children:"Ver Recordatorios"})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Búsqueda Rápida"}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("input",{type:"text",value:d,onChange:w=>h(w.target.value.toUpperCase()),onKeyPress:b,placeholder:"Buscar por placas (ABC-123-A)",className:"input-field text-sm"}),p.jsx("button",{onClick:_,disabled:m||!d.trim(),className:"w-full btn-primary text-sm disabled:opacity-50",children:m?"Buscando...":"Buscar Vehículo"})]})]}),p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rápidas"}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("button",{onClick:()=>{console.log("📅 Dashboard: Navigating to appointments"),t("appointments")},className:"w-full btn-primary text-sm",children:"📅 Agendar Cita Rápida"}),p.jsx("button",{onClick:()=>{console.log("🚗 Dashboard: Using direct vehicle form navigation"),e()},className:"w-full btn-secondary text-sm",children:"Registrar Nuevo Vehículo"}),p.jsx("button",{onClick:()=>{console.log("💼 Dashboard: Navigating to opportunities"),t("opportunities")},className:"w-full btn-secondary text-sm",children:"Crear Oportunidad"}),p.jsx("button",{onClick:()=>{console.log("⏰ Dashboard: Navigating to reminders"),t("reminders")},className:"w-full btn-secondary text-sm",children:"Ver Recordatorios"})]})]}),p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Próximos Recordatorios"}),p.jsx("div",{className:"text-sm text-gray-600",children:p.jsx("p",{children:"No hay recordatorios programados para hoy"})})]})]})]})})})},aE=()=>{const{user:t}=Ln(),[e,r]=W.useState([]),[n,a]=W.useState(!0),[o,l]=W.useState(!1),[c,d]=W.useState({cita_fecha:"",cita_hora:"",cita_descripcion_breve:"",cita_telefono_contacto:"",cita_nombre_contacto:"",titulo:"",descripcion:""}),h=async()=>{try{const b=await Br.search({tiene_cita:"true"});r(b.opportunities||[])}catch(b){console.error("Error al cargar citas:",b)}finally{a(!1)}},m=async b=>{b.preventDefault();try{const w={...c,titulo:c.titulo||`Cita - ${c.cita_descripcion_breve}`,descripcion:c.descripcion||`Cita agendada para ${c.cita_nombre_contacto} - ${c.cita_descripcion_breve}`,tipo_oportunidad:"cita_agendada",estado:"agendado",prioridad:"media",origen:"manual",tiene_cita:!0};(await De.post("/opportunities/appointments",w)).status===201&&(l(!1),d({cita_fecha:"",cita_hora:"",cita_descripcion_breve:"",cita_telefono_contacto:"",cita_nombre_contacto:"",titulo:"",descripcion:""}),h())}catch(w){console.error("Error al crear cita:",w),alert("Error al crear la cita. Por favor, intenta de nuevo.")}},x=b=>new Date(b).toLocaleDateString("es-MX"),y=b=>b.substring(0,5),_=b=>{switch(b){case"agendado":return"bg-blue-100 text-blue-800";case"en_proceso":return"bg-yellow-100 text-yellow-800";case"completado":return"bg-green-100 text-green-800";case"perdido":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return W.useEffect(()=>{h()},[]),n?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Citas"}),p.jsx("p",{className:"text-gray-600",children:"Gestión de citas agendadas"})]}),p.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"📅 Nueva Cita"})]}),o&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Agendar Cita Rápida"}),p.jsxs("form",{onSubmit:m,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha *"}),p.jsx("input",{type:"date",value:c.cita_fecha,onChange:b=>d({...c,cita_fecha:b.target.value}),className:"input-field",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora *"}),p.jsx("input",{type:"time",value:c.cita_hora,onChange:b=>d({...c,cita_hora:b.target.value}),className:"input-field",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción del vehículo *"}),p.jsx("input",{type:"text",placeholder:"Ej: Honda HRV 2022",value:c.cita_descripcion_breve,onChange:b=>d({...c,cita_descripcion_breve:b.target.value}),className:"input-field",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del contacto *"}),p.jsx("input",{type:"text",placeholder:"Nombre completo",value:c.cita_nombre_contacto,onChange:b=>d({...c,cita_nombre_contacto:b.target.value}),className:"input-field",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono *"}),p.jsx("input",{type:"tel",placeholder:"55-1234-5678",value:c.cita_telefono_contacto,onChange:b=>d({...c,cita_telefono_contacto:b.target.value}),className:"input-field",required:!0})]}),p.jsxs("div",{className:"flex space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary flex-1",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Agendar Cita"})]})]})]})}),p.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:e.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"text-6xl mb-4",children:"📅"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay citas agendadas"}),p.jsx("p",{className:"text-gray-500 mb-4",children:"Comienza agendando tu primera cita"}),p.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"Agendar Primera Cita"})]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cita"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehículo"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:x(b.cita_fecha)}),p.jsx("div",{className:"text-sm text-gray-500",children:y(b.cita_hora)})]}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.cita_nombre_contacto}),p.jsx("div",{className:"text-sm text-gray-500",children:b.cita_telefono_contacto})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm text-gray-900",children:b.cita_descripcion_breve})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(b.estado)}`,children:b.estado})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[p.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Ver"}),p.jsx("button",{className:"text-green-600 hover:text-green-900",children:"Completar"})]})]},b.opportunity_id))})]})})})]})},iE=$i({searchType:Gi(["placa","vin","cliente"]),searchValue:qt().min(1,"Valor de búsqueda requerido")}),oE=({onVehicleSelect:t,onCreateNew:e})=>{const[r,n]=W.useState([]),[a,o]=W.useState(!1),[l,c]=W.useState(null),{register:d,handleSubmit:h,watch:m,setValue:x,formState:{errors:y}}=qa({resolver:Yi(iE),defaultValues:{searchType:"placa"}});W.useEffect(()=>{const E=localStorage.getItem("vehicleSearchResults"),N=localStorage.getItem("vehicleSearchQuery");if(E&&N)try{const R=JSON.parse(E);n(R),x("searchType","placa"),x("searchValue",N),localStorage.removeItem("vehicleSearchResults"),localStorage.removeItem("vehicleSearchQuery")}catch(R){console.error("Error parsing saved search results:",R)}},[x]);const _=m("searchType"),b=()=>{switch(_){case"placa":return"ABC-123-A";case"vin":return"1N4BL11D85C123456";case"cliente":return"Juan Pérez";default:return""}},w=async E=>{o(!0),c(null),n([]);try{let N;switch(E.searchType){case"placa":N=await Mr.searchByPlate(E.searchValue);break;case"vin":E.searchValue.length===17?N={vehicles:[(await Mr.getByVin(E.searchValue)).vehicle],total:1}:N=await Mr.search({vin:E.searchValue});break;case"cliente":N=await Mr.searchByCustomer(E.searchValue);break;default:throw new Error("Tipo de búsqueda no válido")}n(N.vehicles||[]),N.vehicles?.length===0&&c("No se encontraron vehículos que coincidan con la búsqueda")}catch(N){c(N.response?.data?.message||"Error al buscar vehículos")}finally{o(!1)}},S=async()=>{o(!0),c(null),n([]);try{const E=await Mr.search({});n(E.vehicles||[]),E.vehicles?.length===0&&c("No hay vehículos registrados en el sistema")}catch(E){c(E.response?.data?.message||"Error al cargar vehículos")}finally{o(!1)}},T=E=>`https://wa.me/52${E.replace(/^\+52/,"")}`;return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"card p-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Búsqueda de Vehículos"}),p.jsx("form",{onSubmit:h(w),className:"space-y-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de búsqueda"}),p.jsxs("select",{...d("searchType"),className:"input-field",children:[p.jsx("option",{value:"placa",children:"Por Placas"}),p.jsx("option",{value:"vin",children:"Por VIN"}),p.jsx("option",{value:"cliente",children:"Por Cliente"})]})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor a buscar"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("input",{...d("searchValue"),type:"text",className:"input-field flex-1",placeholder:b()}),p.jsx("button",{type:"submit",disabled:a,className:"btn-primary px-6 disabled:opacity-50",children:a?"Buscando...":"Buscar"}),p.jsx("button",{type:"button",onClick:()=>S(),disabled:a,className:"btn-secondary px-6 disabled:opacity-50",children:a?"Cargando...":"Listar Todos"})]}),y.searchValue&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.searchValue.message})]})]})}),p.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:p.jsx("button",{onClick:()=>{console.log("🔘 VehicleSearch button clicked"),console.log("onCreateNew function:",e),e?e():console.log("❌ onCreateNew is undefined")},className:"btn-secondary",children:"+ Registrar Nuevo Vehículo"})})]}),l&&p.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:p.jsx("p",{className:"text-red-600 text-sm",children:l})}),r.length>0&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Resultados (",r.length,")"]}),r.map(E=>p.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t?.(E),children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[p.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[E.marca," ",E.modelo," ",E.año]}),p.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:E.placa_actual||"Sin placas"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"VIN:"})," ",E.vin]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",E.kilometraje_actual?.toLocaleString()," km"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Propietario:"})," ",E.customer?.nombre||"No asignado"]})]}),E.customer&&p.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[p.jsxs("span",{className:"text-gray-600",children:["📞 ",E.customer.telefono]}),E.customer.whatsapp&&p.jsx("a",{href:T(E.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",onClick:N=>N.stopPropagation(),children:"💬 WhatsApp"})]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("span",{className:"text-xs text-gray-500",children:["Último registro: ",new Date(E.fecha_actualizacion).toLocaleDateString("es-MX")]})})]})},E.vin))]})]})},ha={getAll:async(t=50)=>(await De.get("/customers/search",{params:{nombre:"",limit:t}})).data,search:async t=>(await De.get("/customers/search",{params:t})).data,create:async t=>(await De.post("/customers",t)).data,getById:async t=>(await De.get(`/customers/${t}`)).data,update:async(t,e)=>(await De.put(`/customers/${t}`,e)).data,delete:async t=>(await De.delete(`/customers/${t}`)).data,getVehicles:async t=>(await De.get(`/customers/${t}/vehicles`)).data,searchByName:async t=>(await De.get("/customers/search",{params:{nombre:t,limit:10}})).data,searchByPhone:async t=>(await De.get("/customers/search",{params:{telefono:t,limit:5}})).data};function sE(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function lE(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var uE=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cE=function(t){uE(e,t);function e(r,n){var a=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:a.name,enumerable:!1,configurable:!0}),sE(o,a.prototype),lE(o),o}return e}(Error),fE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cr=function(t){fE(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(cE),dE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tn=function(t){dE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Cr),hE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Se=function(t){hE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Cr),pE=function(){function t(e){if(this.binarizer=e,e===null)throw new Se("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,a){var o=this.binarizer.getLuminanceSource().crop(e,r,n,a);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),vE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yt=function(t){vE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Cr),mE=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),ft=function(){function t(){}return t.arraycopy=function(e,r,n,a,o){for(;o--;)n[a++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),xE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e0=function(t){xE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Cr),gE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),um=function(t){gE(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=t.call(this,n)||this;return a.index=r,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e}(e0),yE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lt=function(){function t(){}return t.fill=function(e,r){for(var n=0,a=e.length;n<a;n++)e[n]=r},t.fillWithin=function(e,r,n,a){t.rangeCheck(e.length,r,n);for(var o=r;o<n;o++)e[o]=a},t.rangeCheck=function(e,r,n){if(r>n)throw new Se("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new um(r);if(n>e)throw new um(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var a=Array.from({length:e});return a.map(function(o){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var a=Array.from({length:e});return a.map(function(o){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var a=1;try{for(var o=yE(e),l=o.next();!l.done;l=o.next()){var c=l.value;a=31*a+c}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var a=n-r,o=new Int32Array(a);return ft.arraycopy(e,r,o,0,a),o},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var a=0,o=e.length-1;a<=o;){var l=o+a>>1,c=n(r,e[l]);if(c>0)a=l+1;else if(c<0)o=l-1;else return l}return-a-1},t.numberComparator=function(e,r){return e-r},t}(),Fe=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),$t=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);ft.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),o=n[a];o&=~((1<<(e&31))-1);for(var l=n.length;o===0;){if(++a===l)return r;o=n[a]}var c=a*32+Fe.numberOfTrailingZeros(o);return c>r?r:c},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),o=~n[a];o&=~((1<<(e&31))-1);for(var l=n.length;o===0;){if(++a===l)return r;o=~n[a]}var c=a*32+Fe.numberOfTrailingZeros(o);return c>r?r:c},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Se;if(r!==e){r--;for(var n=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,l=n;l<=a;l++){var c=l>n?0:e&31,d=l<a?31:r&31,h=(2<<d)-(1<<c);o[l]|=h}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Se;if(r===e)return!0;r--;for(var a=Math.floor(e/32),o=Math.floor(r/32),l=this.bits,c=a;c<=o;c++){var d=c>a?0:e&31,h=c<o?31:r&31,m=(2<<h)-(1<<d)&4294967295;if((l[c]&m)!==(n?m:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Se("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Se("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,a){for(var o=0;o<a;o++){for(var l=0,c=0;c<8;c++)this.get(e)&&(l|=1<<7-c),e++;r[n+o]=l}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,o=0;o<n;o++){var l=a[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[r-o]=l}if(this.size!==n*32){for(var c=n*32-this.size,d=e[0]>>>c,o=1;o<n;o++){var h=e[o];d|=h<<32-c,e[o-1]=d,d=h>>>c}e[n-1]=d}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Lt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Lt.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),yd;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(yd||(yd={}));const mt=yd;var _E=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fe=function(t){_E(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Cr),bE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},et;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(et||(et={}));var Pt=function(){function t(e,r,n){for(var a,o,l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var d=this.values,h=0,m=d.length;h!==m;h++){var x=d[h];t.VALUES_TO_ECI.set(x,this)}try{for(var y=bE(l),_=y.next();!_.done;_=y.next()){var b=_.value;t.NAME_TO_ECI.set(b,this)}}catch(w){a={error:w}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new fe("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new fe("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new fe("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(et.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(et.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(et.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(et.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(et.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(et.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(et.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(et.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(et.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(et.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(et.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(et.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(et.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(et.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(et.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(et.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(et.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(et.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(et.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(et.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(et.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(et.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(et.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(et.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(et.Big5,28,"Big5"),t.GB18030=new t(et.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(et.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),wE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ql=function(t){wE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Cr),$r=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Pt?e:Pt.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var a="",o=0,l=e.length;o<l;o++){var c=e[o].toString(16);c.length<2&&(c="0"+c),a+="%"+c}return decodeURIComponent(a)}if(n.equals(Pt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ql("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Pt.UTF8)||e.equals(Pt.ISO8859_1)||e.equals(Pt.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),a=[],o=0;o<n.length;o++)a.push(n[o].charCodeAt(0));return new Uint8Array(a)},t}(),Ge=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return $r.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(mt.CHARACTER_SET)!==void 0)return r.get(mt.CHARACTER_SET).toString();for(var n=e.length,a=!0,o=!0,l=!0,c=0,d=0,h=0,m=0,x=0,y=0,_=0,b=0,w=0,S=0,T=0,E=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,N=0;N<n&&(a||o||l);N++){var R=e[N]&255;l&&(c>0?(R&128)===0?l=!1:c--:(R&128)!==0&&((R&64)===0?l=!1:(c++,(R&32)===0?d++:(c++,(R&16)===0?h++:(c++,(R&8)===0?m++:l=!1))))),a&&(R>127&&R<160?a=!1:R>159&&(R<192||R===215||R===247)&&T++),o&&(x>0?R<64||R===127||R>252?o=!1:x--:R===128||R===160||R>239?o=!1:R>160&&R<224?(y++,b=0,_++,_>w&&(w=_)):R>127?(x++,_=0,b++,b>S&&(S=b)):(_=0,b=0))}return l&&c>0&&(l=!1),o&&x>0&&(o=!1),l&&(E||d+h+m>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||w>=3||S>=3)?t.SHIFT_JIS:a&&o?w===2&&y===2||T*10>=n?t.SHIFT_JIS:t.ISO88591:a?t.ISO88591:o?t.SHIFT_JIS:l?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function o(c,d,h,m,x,y){if(c==="%%")return"%";if(r[++a]!==void 0){c=m?parseInt(m.substr(1)):void 0;var _=x?parseInt(x.substr(1)):void 0,b;switch(y){case"s":b=r[a];break;case"c":b=r[a][0];break;case"f":b=parseFloat(r[a]).toFixed(c);break;case"p":b=parseFloat(r[a]).toPrecision(c);break;case"e":b=parseFloat(r[a]).toExponential(c);break;case"x":b=parseInt(r[a]).toString(_||16);break;case"d":b=parseFloat(parseInt(r[a],_||10).toPrecision(c)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(_);for(var w=parseInt(h),S=h&&h[0]+""=="0"?"0":" ";b.length<w;)b=d!==void 0?b+S:S+b;return b}}var l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)},t.getBytes=function(e,r){return $r.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Pt.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Pt.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Pt.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Le=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ge.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var a=r;r<r+n;a++)this.append(e[a]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),yn=function(){function t(e,r,n,a){if(this.width=e,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=e),this.height=r,e<1||r<1)throw new Se("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,a=new t(n,r),o=0;o<r;o++)for(var l=e[o],c=0;c<n;c++)l[c]&&a.set(c,o);return a},t.parseFromString=function(e,r,n){if(e===null)throw new Se("stringRepresentation cannot be null");for(var a=new Array(e.length),o=0,l=0,c=-1,d=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(o>l){if(c===-1)c=o-l;else if(o-l!==c)throw new Se("row lengths do not match");l=o,d++}h++}else if(e.substring(h,h+r.length)===r)h+=r.length,a[o]=!0,o++;else if(e.substring(h,h+n.length)===n)h+=n.length,a[o]=!1,o++;else throw new Se("illegal character encountered: "+e.substring(h));if(o>l){if(c===-1)c=o-l;else if(o-l!==c)throw new Se("row lengths do not match");d++}for(var m=new t(c,d),x=0;x<o;x++)a[x]&&m.set(Math.floor(x%c),Math.floor(x/c));return m},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Se("input matrix dimensions do not match");for(var r=new $t(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,o=0,l=this.height;o<l;o++)for(var c=o*n,d=e.getRow(o,r).getBitArray(),h=0;h<n;h++)a[c+h]^=d[h]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,a){if(r<0||e<0)throw new Se("Left and top must be nonnegative");if(a<1||n<1)throw new Se("Height and width must be at least 1");var o=e+n,l=r+a;if(l>this.height||o>this.width)throw new Se("The region must fit inside the matrix");for(var c=this.rowSize,d=this.bits,h=r;h<l;h++)for(var m=h*c,x=e;x<o;x++)d[m+Math.floor(x/32)]|=1<<(x&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new $t(this.width):r.clear();for(var n=this.rowSize,a=this.bits,o=e*n,l=0;l<n;l++)r.setBulk(l*32,a[o+l]);return r},t.prototype.setRow=function(e,r){ft.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new $t(e),a=new $t(e),o=0,l=Math.floor((r+1)/2);o<l;o++)n=this.getRow(o,n),a=this.getRow(r-1-o,a),n.reverse(),a.reverse(),this.setRow(o,a),this.setRow(r-1-o,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,a=this.bits,o=e,l=r,c=-1,d=-1,h=0;h<r;h++)for(var m=0;m<n;m++){var x=a[h*n+m];if(x!==0){if(h<l&&(l=h),h>d&&(d=h),m*32<o){for(var y=0;(x<<31-y&4294967295)===0;)y++;m*32+y<o&&(o=m*32+y)}if(m*32+31>c){for(var y=31;!(x>>>y);)y--;m*32+y>c&&(c=m*32+y)}}}return c<o||d<l?null:Int32Array.from([o,l,c-o+1,d-l+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/e,o=n%e*32,l=r[n],c=0;(l<<31-c&4294967295)===0;)c++;return o+=c,Int32Array.from([o,a])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),o=Math.floor(n%e)*32,l=r[n],c=31;!(l>>>c);)c--;return o+=c,Int32Array.from([o,a])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Lt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Lt.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var a=new Le,o=0,l=this.height;o<l;o++){for(var c=0,d=this.width;c<d;c++)a.append(this.get(c,o)?e:r);a.append(n)}return a.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),AE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$=function(t){AE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Cr),EE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SE=function(t){EE(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),o=a.getWidth();n==null||n.getSize()<o?n=new $t(o):n.clear(),this.initArrays(o);for(var l=a.getRow(r,this.luminances),c=this.buckets,d=0;d<o;d++)c[(l[d]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(c);if(o<3)for(var d=0;d<o;d++)(l[d]&255)<h&&n.set(d);else for(var m=l[0]&255,x=l[1]&255,d=1;d<o-1;d++){var y=l[d+1]&255;(x*4-m-y)/2<h&&n.set(d),m=x,x=y}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),o=new yn(n,a);this.initArrays(n);for(var l=this.buckets,c=1;c<5;c++)for(var d=Math.floor(a*c/5),h=r.getRow(d,this.luminances),m=Math.floor(n*4/5),x=Math.floor(n/5);x<m;x++){var y=h[x]&255;l[y>>e.LUMINANCE_SHIFT]++}for(var _=e.estimateBlackPoint(l),b=r.getMatrix(),c=0;c<a;c++)for(var w=c*n,x=0;x<n;x++){var y=b[w+x]&255;y<_&&o.set(x,c)}return o},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(r){for(var n=r.length,a=0,o=0,l=0,c=0;c<n;c++)r[c]>l&&(o=c,l=r[c]),r[c]>a&&(a=r[c]);for(var d=0,h=0,c=0;c<n;c++){var m=c-o,x=r[c]*m*m;x>h&&(d=c,h=x)}if(o>d){var y=o;o=d,d=y}if(d-o<=n/16)throw new $;for(var _=d-1,b=-1,c=d-1;c>o;c--){var w=c-o,x=w*w*(d-c)*(a-r[c]);x>b&&(_=c,b=x)}return _<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(mE),CE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NE=function(t){CE(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var o=r.getMatrix(),l=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&l++;var c=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&c++;var d=e.calculateBlackPoints(o,l,c,n,a),h=new yn(n,a);e.calculateThresholdForBlock(o,l,c,n,a,d,h),this.matrix=h}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,a,o,l,c,d){for(var h=l-e.BLOCK_SIZE,m=o-e.BLOCK_SIZE,x=0;x<a;x++){var y=x<<e.BLOCK_SIZE_POWER;y>h&&(y=h);for(var _=e.cap(x,2,a-3),b=0;b<n;b++){var w=b<<e.BLOCK_SIZE_POWER;w>m&&(w=m);for(var S=e.cap(b,2,n-3),T=0,E=-2;E<=2;E++){var N=c[_+E];T+=N[S-2]+N[S-1]+N[S]+N[S+1]+N[S+2]}var R=T/25;e.thresholdBlock(r,w,y,R,o,d)}}},e.cap=function(r,n,a){return r<n?n:r>a?a:r},e.thresholdBlock=function(r,n,a,o,l,c){for(var d=0,h=a*l+n;d<e.BLOCK_SIZE;d++,h+=l)for(var m=0;m<e.BLOCK_SIZE;m++)(r[h+m]&255)<=o&&c.set(n+m,a+d)},e.calculateBlackPoints=function(r,n,a,o,l){for(var c=l-e.BLOCK_SIZE,d=o-e.BLOCK_SIZE,h=new Array(a),m=0;m<a;m++){h[m]=new Int32Array(n);var x=m<<e.BLOCK_SIZE_POWER;x>c&&(x=c);for(var y=0;y<n;y++){var _=y<<e.BLOCK_SIZE_POWER;_>d&&(_=d);for(var b=0,w=255,S=0,T=0,E=x*o+_;T<e.BLOCK_SIZE;T++,E+=o){for(var N=0;N<e.BLOCK_SIZE;N++){var R=r[E+N]&255;b+=R,R<w&&(w=R),R>S&&(S=R)}if(S-w>e.MIN_DYNAMIC_RANGE)for(T++,E+=o;T<e.BLOCK_SIZE;T++,E+=o)for(var N=0;N<e.BLOCK_SIZE;N++)b+=r[E+N]&255}var M=b>>e.BLOCK_SIZE_POWER*2;if(S-w<=e.MIN_DYNAMIC_RANGE&&(M=w/2,m>0&&y>0)){var k=(h[m-1][y]+2*h[m][y-1]+h[m-1][y-1])/4;w<k&&(M=k)}h[m][y]=M}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(SE),yu=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,a){throw new ql("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new ql("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new ql("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Le,n=0;n<this.height;n++){for(var a=this.getRow(n,e),o=0;o<this.width;o++){var l=a[o]&255,c=void 0;l<64?c="#":l<128?c="+":l<192?c=".":c=" ",r.append(c)}r.append(`
`)}return r.toString()},t}(),OE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t0=function(t){OE(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),o=this.getWidth(),l=0;l<o;l++)a[l]=255-(a[l]&255);return a},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),o=0;o<n;o++)a[o]=255-(r[o]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,a,o){return new e(this.delegate.crop(r,n,a,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(yu),TE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DE=function(t){TE(e,t);function e(r,n){n===void 0&&(n=!1);var a=t.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(r,n),a}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(a.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,a,o){o===void 0&&(o=!1);var l=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var c=0,d=0,h=r.length;c<h;c+=4,d++){var m=void 0,x=r[c+3];if(x===0)m=255;else{var y=r[c],_=r[c+1],b=r[c+2];m=306*y+601*_+117*b+512>>10}l[d]=m}else for(var c=0,d=0,w=r.length;c<w;c+=4,d++){var m=void 0,x=r[c+3];if(x===0)m=255;else{var y=r[c],_=r[c+1],b=r[c+2];m=306*y+601*_+117*b+512>>10}l[d]=255-m}return l},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Se("Requested row is outside the image: "+r);var a=this.getWidth(),o=r*a;return n===null?n=this.buffer.slice(o,o+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(o,o+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,o){return t.prototype.crop.call(this,r,n,a,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),o=r*e.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return n.width=d,n.height=h,a.translate(d/2,h/2),a.rotate(o),a.drawImage(this.canvas,l/-2,c/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new t0(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(yu),RE=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),cr=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(m){try{h(n.next(m))}catch(x){l(x)}}function d(m){try{h(n.throw(m))}catch(x){l(x)}}function h(m){m.done?o(m.value):a(m.value).then(c,d)}h((n=n.apply(t,e||[])).next())})},fr=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(m){return d([h,m])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=h[0]&2?a.return:h[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,h[1])).done)return o;switch(a=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],a=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},IE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$a=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return cr(this,void 0,void 0,function(){var e,r,n,a,o,l,c,d,h,m,x,y;return fr(this,function(_){switch(_.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=_.sent(),r=[];try{for(n=IE(e),a=n.next();!a.done;a=n.next())o=a.value,l=o.kind==="video"?"videoinput":o.kind,l==="videoinput"&&(c=o.deviceId||o.id,d=o.label||"Video device "+(r.length+1),h=o.groupId,m={deviceId:c,label:d,kind:l,groupId:h},r.push(m))}catch(b){x={error:b}}finally{try{a&&!a.done&&(y=n.return)&&y.call(n)}finally{if(x)throw x.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return cr(this,void 0,void 0,function(){var e;return fr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new RE(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return cr(this,void 0,void 0,function(){var r;return fr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return cr(this,void 0,void 0,function(){return fr(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return cr(this,void 0,void 0,function(){var n,a;return fr(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return cr(this,void 0,void 0,function(){var n;return fr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return cr(this,void 0,void 0,function(){var n,a;return fr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return a=o.sent(),[2,a]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return cr(this,void 0,void 0,function(){return fr(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return cr(this,void 0,void 0,function(){var a,o;return fr(this,function(l){switch(l.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},o={video:a},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,l.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return cr(this,void 0,void 0,function(){var a;return fr(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=o.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return cr(this,void 0,void 0,function(){var a;return fr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return a=o.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return cr(this,void 0,void 0,function(){var n;return fr(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return cr(this,void 0,void 0,function(){return fr(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new tn("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new tn("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new tn("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new tn("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new tn("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new tn("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new tn("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new tn("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new tn("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new tn("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=e,a},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return cr(this,void 0,void 0,function(){return fr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return cr(this,void 0,void 0,function(){return fr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(l,c){if(a._stopAsyncDecode){c(new $("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var d=a.decode(e);l(d)}catch(y){var h=r&&y instanceof $,m=y instanceof Yt||y instanceof fe,x=m&&n;if(h||x)return setTimeout(o,a._timeBetweenDecodingAttempts,l,c);c(y)}};return new Promise(function(l,c){return o(l,c)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);r(o,null),setTimeout(a,n.timeBetweenScansMillis)}catch(d){r(null,d);var l=d instanceof Yt||d instanceof fe,c=d instanceof $;(l||c)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),a=new DE(n,r),o=new NE(a);return new pE(o)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),lr=function(){function t(e,r,n,a,o,l){n===void 0&&(n=r==null?0:8*r.length),l===void 0&&(l=ft.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=o,this.resultMetadata=null,l==null?this.timestamp=ft.currentTimeMillis():this.timestamp=l}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);ft.arraycopy(r,0,n,0,r.length),ft.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),_d;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_d||(_d={}));const Ee=_d;var bd;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(bd||(bd={}));const rr=bd;var _u=function(){function t(e,r,n,a,o,l){o===void 0&&(o=-1),l===void 0&&(l=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),as=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Se;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),pa=function(){function t(e,r){if(r.length===0)throw new Se;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),ft.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var a=0,o=r.length;a!==o;a++){var l=r[a];n=as.addOrSubtract(n,l)}return n}n=r[0];for(var c=r.length,d=this.field,a=1;a<c;a++)n=as.addOrSubtract(d.multiply(e,n),r[a]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Se("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var o=new Int32Array(n.length),l=n.length-r.length;ft.arraycopy(n,0,o,0,l);for(var c=l;c<n.length;c++)o[c]=as.addOrSubtract(r[c-l],n[c]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Se("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=e.coefficients,o=a.length,l=new Int32Array(n+o-1),c=this.field,d=0;d<n;d++)for(var h=r[d],m=0;m<o;m++)l[d+m]=as.addOrSubtract(l[d+m],c.multiply(h,a[m]));return new t(c,l)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),o=this.coefficients,l=0;l<r;l++)a[l]=n.multiply(o[l],e);return new t(n,a)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Se;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,o=new Int32Array(a+e),l=this.field,c=0;c<a;c++)o[c]=l.multiply(n[c],r);return new t(l,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Se("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Se("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,o=e.getCoefficient(e.getDegree()),l=r.inverse(o);a.getDegree()>=e.getDegree()&&!a.isZero();){var c=a.getDegree()-e.getDegree(),d=r.multiply(a.getCoefficient(a.getDegree()),l),h=e.multiplyByMonomial(c,d),m=r.buildMonomial(c,d);n=n.addOrSubtract(m),a=a.addOrSubtract(h)}return[n,a]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),jE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eg=function(t){jE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Cr),ME=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wr=function(t){ME(e,t);function e(r,n,a){var o=t.call(this)||this;o.primitive=r,o.size=n,o.generatorBase=a;for(var l=new Int32Array(n),c=1,d=0;d<n;d++)l[d]=c,c*=2,c>=n&&(c^=r,c&=n-1);o.expTable=l;for(var h=new Int32Array(n),d=0;d<n-1;d++)h[l[d]]=d;return o.logTable=h,o.zero=new pa(o,Int32Array.from([0])),o.one=new pa(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Se;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new pa(this,a)},e.prototype.inverse=function(r){if(r===0)throw new eg;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Fe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(as),BE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kl=function(t){BE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Cr),PE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_s=function(t){PE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Cr),bu=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,a=new pa(n,e),o=new Int32Array(r),l=!0,c=0;c<r;c++){var d=a.evaluateAt(n.exp(c+n.getGeneratorBase()));o[o.length-1-c]=d,d!==0&&(l=!1)}if(!l)for(var h=new pa(n,o),m=this.runEuclideanAlgorithm(n.buildMonomial(r,1),h,r),x=m[0],y=m[1],_=this.findErrorLocations(x),b=this.findErrorMagnitudes(y,_),c=0;c<_.length;c++){var w=e.length-1-n.log(_[c]);if(w<0)throw new kl("Bad error location");e[w]=wr.addOrSubtract(e[w],b[c])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var o=this.field,l=e,c=r,d=o.getZero(),h=o.getOne();c.getDegree()>=(n/2|0);){var m=l,x=d;if(l=c,d=h,l.isZero())throw new kl("r_{i-1} was zero");c=m;for(var y=o.getZero(),_=l.getCoefficient(l.getDegree()),b=o.inverse(_);c.getDegree()>=l.getDegree()&&!c.isZero();){var w=c.getDegree()-l.getDegree(),S=o.multiply(c.getCoefficient(c.getDegree()),b);y=y.addOrSubtract(o.buildMonomial(w,S)),c=c.addOrSubtract(l.multiplyByMonomial(w,S))}if(h=y.multiply(d).addOrSubtract(x),c.getDegree()>=l.getDegree())throw new _s("Division algorithm failed to reduce polynomial?")}var T=h.getCoefficient(0);if(T===0)throw new kl("sigmaTilde(0) was zero");var E=o.inverse(T),N=h.multiplyScalar(E),R=c.multiplyScalar(E);return[N,R]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,o=this.field,l=1;l<o.getSize()&&a<r;l++)e.evaluateAt(l)===0&&(n[a]=o.inverse(l),a++);if(a!==r)throw new kl("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,a=new Int32Array(n),o=this.field,l=0;l<n;l++){for(var c=o.inverse(r[l]),d=1,h=0;h<n;h++)if(l!==h){var m=o.multiply(r[h],c),x=(m&1)===0?m|1:m&-2;d=o.multiply(d,x)}a[l]=o.multiply(e.evaluateAt(c),o.inverse(d)),o.getGeneratorBase()!==0&&(a[l]=o.multiply(a[l],c))}return a},t}(),er;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(er||(er={}));var cm=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),a=this.correctBits(n),o=t.convertBoolArrayToByteArray(a),l=t.getEncodedData(a),c=new _u(o,l,null,null);return c.setNumBits(a.length),c},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=er.UPPER,a=er.UPPER,o="",l=0;l<r;)if(a===er.BINARY){if(r-l<5)break;var c=t.readCode(e,l,5);if(l+=5,c===0){if(r-l<11)break;c=t.readCode(e,l,11)+31,l+=11}for(var d=0;d<c;d++){if(r-l<8){l=r;break}var h=t.readCode(e,l,8);o+=Ge.castAsNonUtf8Char(h),l+=8}a=n}else{var m=a===er.DIGIT?4:5;if(r-l<m)break;var h=t.readCode(e,l,m);l+=m;var x=t.getCharacter(a,h);x.startsWith("CTRL_")?(n=a,a=t.getTable(x.charAt(5)),x.charAt(6)==="L"&&(n=a)):(o+=x,a=n)}return o},t.getTable=function(e){switch(e){case"L":return er.LOWER;case"P":return er.PUNCT;case"M":return er.MIXED;case"D":return er.DIGIT;case"B":return er.BINARY;case"U":default:return er.UPPER}},t.getCharacter=function(e,r){switch(e){case er.UPPER:return t.UPPER_TABLE[r];case er.LOWER:return t.LOWER_TABLE[r];case er.MIXED:return t.MIXED_TABLE[r];case er.PUNCT:return t.PUNCT_TABLE[r];case er.DIGIT:return t.DIGIT_TABLE[r];default:throw new _s("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=wr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=wr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=wr.AZTEC_DATA_10):(n=12,r=wr.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),o=e.length/n;if(o<a)throw new fe;for(var l=e.length%n,c=new Int32Array(o),d=0;d<o;d++,l+=n)c[d]=t.readCode(e,l,n);try{var h=new bu(r);h.decode(c,o-a)}catch(S){throw new fe(S)}for(var m=(1<<n)-1,x=0,d=0;d<a;d++){var y=c[d];if(y===0||y===m)throw new fe;(y===1||y===m-1)&&x++}for(var _=new Array(a*n-x),b=0,d=0;d<a;d++){var y=c[d];if(y===1||y===m-1)_.fill(y>1,b,b+n-1),b+=n-1;else for(var w=n-1;w>=0;--w)_[b++]=(y&1<<w)!==0}return _},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,o=new Int32Array(a),l=new Array(this.totalBitsInLayer(n,r));if(r)for(var c=0;c<o.length;c++)o[c]=c;else for(var d=a+1+2*Fe.truncDivision(Fe.truncDivision(a,2)-1,15),h=a/2,m=Fe.truncDivision(d,2),c=0;c<h;c++){var x=c+Fe.truncDivision(c,15);o[h-c-1]=m-x-1,o[h+c]=m+x+1}for(var c=0,y=0;c<n;c++){for(var _=(n-c)*4+(r?9:12),b=c*2,w=a-1-b,S=0;S<_;S++)for(var T=S*2,E=0;E<2;E++)l[y+T+E]=e.get(o[b+E],o[b+S]),l[y+2*_+T+E]=e.get(o[b+S],o[w-E]),l[y+4*_+T+E]=e.get(o[w-E],o[w-S]),l[y+6*_+T+E]=e.get(o[w-S],o[b+E]);y+=_*8}return l},t.readCode=function(e,r,n){for(var a=0,o=r;o<r+n;o++)a<<=1,e[o]&&(a|=1);return a},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),qe=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,a){var o=e-n,l=r-a;return Math.sqrt(o*o+l*l)},t.sum=function(e){for(var r=0,n=0,a=e.length;n!==a;n++){var o=e[n];r+=o}return r},t}(),wd=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),_e=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*wd.floatToIntBits(this.x)+wd.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),o,l,c;if(n>=r&&n>=a?(l=e[0],o=e[1],c=e[2]):a>=n&&a>=r?(l=e[1],o=e[0],c=e[2]):(l=e[2],o=e[0],c=e[1]),this.crossProductZ(o,l,c)<0){var d=o;o=c,c=d}e[0]=o,e[1]=l,e[2]=c},t.distance=function(e,r){return qe.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var a=r.x,o=r.y;return(n.x-a)*(e.y-o)-(n.y-o)*(e.x-a)},t}(),r0=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),LE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kE=function(t){LE(e,t);function e(r,n,a,o,l){var c=t.call(this,r,n)||this;return c.compact=a,c.nbDatablocks=o,c.nbLayers=l,c}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(r0),Ad=function(){function t(e,r,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=a-o,this.downInit=a+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,o=!1,l=!0,c=!1,d=!1,h=!1,m=!1,x=!1,y=this.width,_=this.height;l;){l=!1;for(var b=!0;(b||!d)&&r<y;)b=this.containsBlackPoint(n,a,r,!1),b?(r++,l=!0,d=!0):d||r++;if(r>=y){o=!0;break}for(var w=!0;(w||!h)&&a<_;)w=this.containsBlackPoint(e,r,a,!0),w?(a++,l=!0,h=!0):h||a++;if(a>=_){o=!0;break}for(var S=!0;(S||!m)&&e>=0;)S=this.containsBlackPoint(n,a,e,!1),S?(e--,l=!0,m=!0):m||e--;if(e<0){o=!0;break}for(var T=!0;(T||!x)&&n>=0;)T=this.containsBlackPoint(e,r,n,!0),T?(n--,l=!0,x=!0):x||n--;if(n<0){o=!0;break}l&&(c=!0)}if(!o&&c){for(var E=r-e,N=null,R=1;N===null&&R<E;R++)N=this.getBlackPointOnSegment(e,a-R,e+R,a);if(N==null)throw new $;for(var M=null,R=1;M===null&&R<E;R++)M=this.getBlackPointOnSegment(e,n+R,e+R,n);if(M==null)throw new $;for(var k=null,R=1;k===null&&R<E;R++)k=this.getBlackPointOnSegment(r,n+R,r-R,n);if(k==null)throw new $;for(var Z=null,R=1;Z===null&&R<E;R++)Z=this.getBlackPointOnSegment(r,a-R,r-R,a);if(Z==null)throw new $;return this.centerEdges(Z,N,k,M)}else throw new $},t.prototype.getBlackPointOnSegment=function(e,r,n,a){for(var o=qe.round(qe.distance(e,r,n,a)),l=(n-e)/o,c=(a-r)/o,d=this.image,h=0;h<o;h++){var m=qe.round(e+h*l),x=qe.round(r+h*c);if(d.get(m,x))return new _e(m,x)}return null},t.prototype.centerEdges=function(e,r,n,a){var o=e.getX(),l=e.getY(),c=r.getX(),d=r.getY(),h=n.getX(),m=n.getY(),x=a.getX(),y=a.getY(),_=t.CORR;return o<this.width/2?[new _e(x-_,y+_),new _e(c+_,d+_),new _e(h-_,m-_),new _e(o+_,l-_)]:[new _e(x+_,y+_),new _e(c+_,d-_),new _e(h-_,m+_),new _e(o-_,l-_)]},t.prototype.containsBlackPoint=function(e,r,n,a){var o=this.image;if(a){for(var l=e;l<=r;l++)if(o.get(l,n))return!0}else for(var c=e;c<=r;c++)if(o.get(n,c))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),fm=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),a=e.getHeight(),o=!0,l=0;l<r.length&&o;l+=2){var c=Math.floor(r[l]),d=Math.floor(r[l+1]);if(c<-1||c>n||d<-1||d>a)throw new $;o=!1,c===-1?(r[l]=0,o=!0):c===n&&(r[l]=n-1,o=!0),d===-1?(r[l+1]=0,o=!0):d===a&&(r[l+1]=a-1,o=!0)}o=!0;for(var l=r.length-2;l>=0&&o;l-=2){var c=Math.floor(r[l]),d=Math.floor(r[l+1]);if(c<-1||c>n||d<-1||d>a)throw new $;o=!1,c===-1?(r[l]=0,o=!0):c===n&&(r[l]=n-1,o=!0),d===-1?(r[l+1]=0,o=!0):d===a&&(r[l+1]=a-1,o=!0)}},t}(),tg=function(){function t(e,r,n,a,o,l,c,d,h){this.a11=e,this.a21=r,this.a31=n,this.a12=a,this.a22=o,this.a32=l,this.a13=c,this.a23=d,this.a33=h}return t.quadrilateralToQuadrilateral=function(e,r,n,a,o,l,c,d,h,m,x,y,_,b,w,S){var T=t.quadrilateralToSquare(e,r,n,a,o,l,c,d),E=t.squareToQuadrilateral(h,m,x,y,_,b,w,S);return E.times(T)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,a=this.a12,o=this.a13,l=this.a21,c=this.a22,d=this.a23,h=this.a31,m=this.a32,x=this.a33,y=0;y<r;y+=2){var _=e[y],b=e[y+1],w=o*_+d*b+x;e[y]=(n*_+l*b+h)/w,e[y+1]=(a*_+c*b+m)/w}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,a=this.a12,o=this.a13,l=this.a21,c=this.a22,d=this.a23,h=this.a31,m=this.a32,x=this.a33,y=e.length,_=0;_<y;_++){var b=e[_],w=r[_],S=o*b+d*w+x;e[_]=(n*b+l*w+h)/S,r[_]=(a*b+c*w+m)/S}},t.squareToQuadrilateral=function(e,r,n,a,o,l,c,d){var h=e-n+o-c,m=r-a+l-d;if(h===0&&m===0)return new t(n-e,o-n,e,a-r,l-a,r,0,0,1);var x=n-o,y=c-o,_=a-l,b=d-l,w=x*b-y*_,S=(h*b-y*m)/w,T=(x*m-h*_)/w;return new t(n-e+S*n,c-e+T*c,e,a-r+S*a,d-r+T*d,r,S,T,1)},t.quadrilateralToSquare=function(e,r,n,a,o,l,c,d){return t.squareToQuadrilateral(e,r,n,a,o,l,c,d).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),FE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UE=function(t){FE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,a,o,l,c,d,h,m,x,y,_,b,w,S,T,E,N,R){var M=tg.quadrilateralToQuadrilateral(o,l,c,d,h,m,x,y,_,b,w,S,T,E,N,R);return this.sampleGridWithTransform(r,n,a,M)},e.prototype.sampleGridWithTransform=function(r,n,a,o){if(n<=0||a<=0)throw new $;for(var l=new yn(n,a),c=new Float32Array(2*n),d=0;d<a;d++){for(var h=c.length,m=d+.5,x=0;x<h;x+=2)c[x]=x/2+.5,c[x+1]=m;o.transformPoints(c),fm.checkAndNudgePoints(r,c);try{for(var x=0;x<h;x+=2)r.get(Math.floor(c[x]),Math.floor(c[x+1]))&&l.set(x/2,d)}catch{throw new $}}return l},e}(fm),n0=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new UE,t}(),_r=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new _e(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),zE=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),l=this.getMatrixCornerPoints(n);return new kE(o,l,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new $;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,o=0;o<4;o++){var l=n[(this.shift+o)%4];this.compact?(a<<=7,a+=l>>1&127):(a<<=10,a+=(l>>2&992)+(l>>1&31))}var c=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(o,l,c){var d=(o>>r-2<<1)+(o&1);n=(n<<3)+d}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(Fe.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new $},t.prototype.getCorrectedParameterData=function(e,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var o=n-a,l=new Int32Array(n),c=n-1;c>=0;--c)l[c]=e&15,e>>=4;try{var d=new bu(wr.AZTEC_PARAM);d.decode(l,o)}catch{throw new $}for(var h=0,c=0;c<a;c++)h=(h<<4)+l[c];return h},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,a=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var c=this.getFirstDifferent(r,l,1,-1),d=this.getFirstDifferent(n,l,1,1),h=this.getFirstDifferent(a,l,-1,1),m=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){var x=this.distancePoint(m,c)*this.nbCenterLayers/(this.distancePoint(o,r)*(this.nbCenterLayers+2));if(x<.75||x>1.25||!this.isWhiteOrBlackRectangle(c,d,h,m))break}r=c,n=d,a=h,o=m,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;var y=new _e(r.getX()+.5,r.getY()-.5),_=new _e(n.getX()+.5,n.getY()+.5),b=new _e(a.getX()-.5,a.getY()+.5),w=new _e(o.getX()-.5,o.getY()-.5);return this.expandSquare([y,_,b,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,a;try{var o=new Ad(this.image).detect();e=o[0],r=o[1],n=o[2],a=o[3]}catch{var l=this.image.getWidth()/2,c=this.image.getHeight()/2;e=this.getFirstDifferent(new _r(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new _r(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new _r(l-7,c+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new _r(l-7,c-7),!1,-1,-1).toResultPoint()}var d=qe.round((e.getX()+a.getX()+r.getX()+n.getX())/4),h=qe.round((e.getY()+a.getY()+r.getY()+n.getY())/4);try{var o=new Ad(this.image,15,d,h).detect();e=o[0],r=o[1],n=o[2],a=o[3]}catch{e=this.getFirstDifferent(new _r(d+7,h-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new _r(d+7,h+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new _r(d-7,h+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new _r(d-7,h-7),!1,-1,-1).toResultPoint()}return d=qe.round((e.getX()+a.getX()+r.getX()+n.getX())/4),h=qe.round((e.getY()+a.getY()+r.getY()+n.getY())/4),new _r(d,h)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,a,o){var l=n0.getInstance(),c=this.getDimension(),d=c/2-this.nbCenterLayers,h=c/2+this.nbCenterLayers;return l.sampleGrid(e,c,c,d,d,h,d,h,h,d,h,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,r,n){for(var a=0,o=this.distanceResultPoint(e,r),l=o/n,c=e.getX(),d=e.getY(),h=l*(r.getX()-e.getX())/o,m=l*(r.getY()-e.getY())/o,x=0;x<n;x++)this.image.get(qe.round(c+x*h),qe.round(d+x*m))&&(a|=1<<n-x-1);return a},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,a){var o=3;e=new _r(e.getX()-o,e.getY()+o),r=new _r(r.getX()-o,r.getY()-o),n=new _r(n.getX()+o,n.getY()-o),a=new _r(a.getX()+o,a.getY()+o);var l=this.getColor(a,e);if(l===0)return!1;var c=this.getColor(e,r);return c!==l||(c=this.getColor(r,n),c!==l)?!1:(c=this.getColor(n,a),c===l)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),a=(r.getX()-e.getX())/n,o=(r.getY()-e.getY())/n,l=0,c=e.getX(),d=e.getY(),h=this.image.get(e.getX(),e.getY()),m=Math.ceil(n),x=0;x<m;x++)c+=a,d+=o,this.image.get(qe.round(c),qe.round(d))!==h&&l++;var y=l/n;return y>.1&&y<.9?0:y<=.1===h?1:-1},t.prototype.getFirstDifferent=function(e,r,n,a){for(var o=e.getX()+n,l=e.getY()+a;this.isValid(o,l)&&this.image.get(o,l)===r;)o+=n,l+=a;for(o-=n,l-=a;this.isValid(o,l)&&this.image.get(o,l)===r;)o+=n;for(o-=n;this.isValid(o,l)&&this.image.get(o,l)===r;)l+=a;return l-=a,new _r(o,l)},t.prototype.expandSquare=function(e,r,n){var a=n/(2*r),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,h=new _e(c+a*o,d+a*l),m=new _e(c-a*o,d-a*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;var x=new _e(c+a*o,d+a*l),y=new _e(c-a*o,d-a*l),_=[h,x,m,y];return _},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=qe.round(e.getX()),n=qe.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return qe.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return qe.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Fe.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Ed=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,a=new zE(e.getBlackMatrix()),o=null,l=null;try{var c=a.detectMirror(!1);o=c.getPoints(),this.reportFoundResultPoints(r,o),l=new cm().decode(c)}catch(x){n=x}if(l==null)try{var c=a.detectMirror(!0);o=c.getPoints(),this.reportFoundResultPoints(r,o),l=new cm().decode(c)}catch(x){throw n??x}var d=new lr(l.getText(),l.getRawBytes(),l.getNumBits(),o,Ee.AZTEC,ft.currentTimeMillis()),h=l.getByteSegments();h!=null&&d.putMetadata(rr.BYTE_SEGMENTS,h);var m=l.getECLevel();return m!=null&&d.putMetadata(rr.ERROR_CORRECTION_LEVEL,m),d},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(mt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,o,l){n.foundPossibleResultPoint(a)})}},t.prototype.reset=function(){},t}(),VE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){VE(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Ed,r)||this}return e})($a);var kt=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(mt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),o=this.doDecode(a,r),l=o.getResultMetadata(),c=270;l!==null&&l.get(rr.ORIENTATION)===!0&&(c=c+l.get(rr.ORIENTATION)%360),o.putMetadata(rr.ORIENTATION,c);var d=o.getResultPoints();if(d!==null)for(var h=a.getHeight(),m=0;m<d.length;m++)d[m]=new _e(h-d[m].getY()-1,d[m].getX());return o}else throw new $}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),a=e.getHeight(),o=new $t(n),l=r&&r.get(mt.TRY_HARDER)===!0,c=Math.max(1,a>>(l?8:5)),d;l?d=a:d=15;for(var h=Math.trunc(a/2),m=0;m<d;m++){var x=Math.trunc((m+1)/2),y=(m&1)===0,_=h+c*(y?x:-x);if(_<0||_>=a)break;try{o=e.getBlackRow(_,o)}catch{continue}for(var b=function(E){if(E===1&&(o.reverse(),r&&r.get(mt.NEED_RESULT_POINT_CALLBACK)===!0)){var N=new Map;r.forEach(function(k,Z){return N.set(Z,k)}),N.delete(mt.NEED_RESULT_POINT_CALLBACK),r=N}try{var R=w.decodeRow(_,o,r);if(E===1){R.putMetadata(rr.ORIENTATION,180);var M=R.getResultPoints();M!==null&&(M[0]=new _e(n-M[0].getX()-1,M[0].getY()),M[1]=new _e(n-M[1].getX()-1,M[1].getY()))}return{value:R}}catch{}},w=this,S=0;S<2;S++){var T=b(S);if(typeof T=="object")return T.value}}throw new $},t.recordPattern=function(e,r,n){for(var a=n.length,o=0;o<a;o++)n[o]=0;var l=e.getSize();if(r>=l)throw new $;for(var c=!e.get(r),d=0,h=r;h<l;){if(e.get(h)!==c)n[d]++;else{if(++d===a)break;n[d]=1,c=!c}h++}if(!(d===a||d===a-1&&h===l))throw new $},t.recordPatternInReverse=function(e,r,n){for(var a=n.length,o=e.get(r);r>0&&a>=0;)e.get(--r)!==o&&(a--,o=!o);if(a>=0)throw new $;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var a=e.length,o=0,l=0,c=0;c<a;c++)o+=e[c],l+=r[c];if(o<l)return Number.POSITIVE_INFINITY;var d=o/l;n*=d;for(var h=0,m=0;m<a;m++){var x=e[m],y=r[m]*d,_=x>y?x-y:y-x;if(_>n)return Number.POSITIVE_INFINITY;h+=_}return h/o},t}(),HE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dm=function(t){HE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),o=0,l=Int32Array.from([0,0,0,0,0,0]),c=a,d=!1,h=6,m=a;m<n;m++)if(r.get(m)!==d)l[o]++;else{if(o===h-1){for(var x=e.MAX_AVG_VARIANCE,y=-1,_=e.CODE_START_A;_<=e.CODE_START_C;_++){var b=kt.patternMatchVariance(l,e.CODE_PATTERNS[_],e.MAX_INDIVIDUAL_VARIANCE);b<x&&(x=b,y=_)}if(y>=0&&r.isRange(Math.max(0,c-(m-c)/2),c,!1))return Int32Array.from([c,m,y]);c+=l[0]+l[1],l=l.slice(2,l.length),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,d=!d}throw new $},e.decodeCode=function(r,n,a){kt.recordPattern(r,a,n);for(var o=e.MAX_AVG_VARIANCE,l=-1,c=0;c<e.CODE_PATTERNS.length;c++){var d=e.CODE_PATTERNS[c],h=this.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=c)}if(l>=0)return l;throw new $},e.prototype.decodeRow=function(r,n,a){var o=a&&a.get(mt.ASSUME_GS1)===!0,l=e.findStartPattern(n),c=l[2],d=0,h=new Uint8Array(20);h[d++]=c;var m;switch(c){case e.CODE_START_A:m=e.CODE_CODE_A;break;case e.CODE_START_B:m=e.CODE_CODE_B;break;case e.CODE_START_C:m=e.CODE_CODE_C;break;default:throw new fe}for(var x=!1,y=!1,_="",b=l[0],w=l[1],S=Int32Array.from([0,0,0,0,0,0]),T=0,E=0,N=c,R=0,M=!0,k=!1,Z=!1;!x;){var ee=y;switch(y=!1,T=E,E=e.decodeCode(n,S,w),h[d++]=E,E!==e.CODE_STOP&&(M=!0),E!==e.CODE_STOP&&(R++,N+=R*E),b=w,w+=S.reduce(function(oe,re){return oe+re},0),E){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new fe}switch(m){case e.CODE_CODE_A:if(E<64)Z===k?_+=String.fromCharCode(32+E):_+=String.fromCharCode(32+E+128),Z=!1;else if(E<96)Z===k?_+=String.fromCharCode(E-64):_+=String.fromCharCode(E+64),Z=!1;else switch(E!==e.CODE_STOP&&(M=!1),E){case e.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!k&&Z?(k=!0,Z=!1):k&&Z?(k=!1,Z=!1):Z=!0;break;case e.CODE_SHIFT:y=!0,m=e.CODE_CODE_B;break;case e.CODE_CODE_B:m=e.CODE_CODE_B;break;case e.CODE_CODE_C:m=e.CODE_CODE_C;break;case e.CODE_STOP:x=!0;break}break;case e.CODE_CODE_B:if(E<96)Z===k?_+=String.fromCharCode(32+E):_+=String.fromCharCode(32+E+128),Z=!1;else switch(E!==e.CODE_STOP&&(M=!1),E){case e.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!k&&Z?(k=!0,Z=!1):k&&Z?(k=!1,Z=!1):Z=!0;break;case e.CODE_SHIFT:y=!0,m=e.CODE_CODE_A;break;case e.CODE_CODE_A:m=e.CODE_CODE_A;break;case e.CODE_CODE_C:m=e.CODE_CODE_C;break;case e.CODE_STOP:x=!0;break}break;case e.CODE_CODE_C:if(E<100)E<10&&(_+="0"),_+=E;else switch(E!==e.CODE_STOP&&(M=!1),E){case e.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+="");break;case e.CODE_CODE_A:m=e.CODE_CODE_A;break;case e.CODE_CODE_B:m=e.CODE_CODE_B;break;case e.CODE_STOP:x=!0;break}break}ee&&(m=m===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var ie=w-b;if(w=n.getNextUnset(w),!n.isRange(w,Math.min(n.getSize(),w+(w-b)/2),!1))throw new $;if(N-=R*T,N%103!==T)throw new Yt;var se=_.length;if(se===0)throw new $;se>0&&M&&(m===e.CODE_CODE_C?_=_.substring(0,se-2):_=_.substring(0,se-1));for(var ye=(l[1]+l[0])/2,le=b+ie/2,ve=h.length,ce=new Uint8Array(ve),he=0;he<ve;he++)ce[he]=h[he];var P=[new _e(ye,r),new _e(le,r)];return new lr(_,ce,0,P,Ee.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(kt),GE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hm=function(t){GE(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=t.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(r,n,a){var o,l,c,d,h=this.counters;h.fill(0),this.decodeRowResult="";var m=e.findAsteriskPattern(n,h),x=n.getNextSet(m[1]),y=n.getSize(),_,b;do{e.recordPattern(n,x,h);var w=e.toNarrowWidePattern(h);if(w<0)throw new $;_=e.patternToChar(w),this.decodeRowResult+=_,b=x;try{for(var S=(o=void 0,Kf(h)),T=S.next();!T.done;T=S.next()){var E=T.value;x+=E}}catch(ve){o={error:ve}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}x=n.getNextSet(x)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N=0;try{for(var R=Kf(h),M=R.next();!M.done;M=R.next()){var E=M.value;N+=E}}catch(ve){c={error:ve}}finally{try{M&&!M.done&&(d=R.return)&&d.call(R)}finally{if(c)throw c.error}}var k=x-b-N;if(x!==y&&k*2<N)throw new $;if(this.usingCheckDigit){for(var Z=this.decodeRowResult.length-1,ee=0,ie=0;ie<Z;ie++)ee+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ie));if(this.decodeRowResult.charAt(Z)!==e.ALPHABET_STRING.charAt(ee%43))throw new Yt;this.decodeRowResult=this.decodeRowResult.substring(0,Z)}if(this.decodeRowResult.length===0)throw new $;var se;this.extendedMode?se=e.decodeExtended(this.decodeRowResult):se=this.decodeRowResult;var ye=(m[1]+m[0])/2,le=b+N/2;return new lr(se,null,0,[new _e(ye,r),new _e(le,r)],Ee.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var a=r.getSize(),o=r.getNextSet(0),l=0,c=o,d=!1,h=n.length,m=o;m<a;m++)if(r.get(m)!==d)n[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,c-Math.floor((m-c)/2)),c,!1))return[c,m];c+=n[0]+n[1],n.copyWithin(0,2,2+l-1),n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,d=!d}throw new $},e.toNarrowWidePattern=function(r){var n,a,o=r.length,l=0,c;do{var d=2147483647;try{for(var h=(n=void 0,Kf(r)),m=h.next();!m.done;m=h.next()){var x=m.value;x<d&&x>l&&(d=x)}}catch(w){n={error:w}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}l=d,c=0;for(var y=0,_=0,b=0;b<o;b++){var x=r[b];x>l&&(_|=1<<o-1-b,c++,y+=x)}if(c===3){for(var b=0;b<o&&c>0;b++){var x=r[b];if(x>l&&(c--,x*2>=y))return-1}return _}}while(c>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new $},e.decodeExtended=function(r){for(var n=r.length,a="",o=0;o<n;o++){var l=r.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){var c=r.charAt(o+1),d="\0";switch(l){case"+":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new fe;break;case"$":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new fe;break;case"%":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c==="X"||c==="Y"||c==="Z")d="";else throw new fe;break;case"/":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new fe;break}a+=d,o++}else a+=l}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(kt),ZE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pm=function(t){ZE(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,a){var o,l,c,d,h=this.findAsteriskPattern(n),m=n.getNextSet(h[1]),x=n.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var _,b;do{e.recordPattern(n,m,y);var w=this.toPattern(y);if(w<0)throw new $;_=this.patternToChar(w),this.decodeRowResult+=_,b=m;try{for(var S=(o=void 0,Qf(y)),T=S.next();!T.done;T=S.next()){var E=T.value;m+=E}}catch(ie){o={error:ie}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}m=n.getNextSet(m)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N=0;try{for(var R=Qf(y),M=R.next();!M.done;M=R.next()){var E=M.value;N+=E}}catch(ie){c={error:ie}}finally{try{M&&!M.done&&(d=R.return)&&d.call(R)}finally{if(c)throw c.error}}if(m===x||!n.get(m))throw new $;if(this.decodeRowResult.length<2)throw new $;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var k=this.decodeExtended(this.decodeRowResult),Z=(h[1]+h[0])/2,ee=b+N/2;return new lr(k,null,0,[new _e(Z,r),new _e(ee,r)],Ee.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var o=this.counters,l=a,c=!1,d=o.length,h=0,m=a;m<n;m++)if(r.get(m)!==c)o[h]++;else{if(h===d-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([l,m]);l+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,c=!c}throw new $},e.prototype.toPattern=function(r){var n,a,o=0;try{for(var l=Qf(r),c=l.next();!c.done;c=l.next()){var d=c.value;o+=d}}catch(b){n={error:b}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var h=0,m=r.length,x=0;x<m;x++){var y=Math.round(r[x]*9/o);if(y<1||y>4)return-1;if((x&1)===0)for(var _=0;_<y;_++)h=h<<1|1;else h<<=y}return h},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new $},e.prototype.decodeExtended=function(r){for(var n=r.length,a="",o=0;o<n;o++){var l=r.charAt(o);if(l>="a"&&l<="d"){if(o>=n-1)throw new fe;var c=r.charAt(o+1),d="\0";switch(l){case"d":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new fe;break;case"a":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new fe;break;case"b":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c>="X"&&c<="Z")d="";else throw new fe;break;case"c":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new fe;break}a+=d,o++}else a+=l}return a},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,a){for(var o=1,l=0,c=n-1;c>=0;c--)l+=o*e.ALPHABET_STRING.indexOf(r.charAt(c)),++o>a&&(o=1);if(r.charAt(n)!==e.ALPHABET_STRING[l%47])throw new Yt},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(kt),XE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vm=function(t){XE(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,a){var o,l,c=this.decodeStart(n),d=this.decodeEnd(n),h=new Le;e.decodeMiddle(n,c[1],d[0],h);var m=h.toString(),x=null;a!=null&&(x=a.get(mt.ALLOWED_LENGTHS)),x==null&&(x=e.DEFAULT_ALLOWED_LENGTHS);var y=m.length,_=!1,b=0;try{for(var w=qE(x),S=w.next();!S.done;S=w.next()){var T=S.value;if(y===T){_=!0;break}T>b&&(b=T)}}catch(R){o={error:R}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}if(!_&&y>b&&(_=!0),!_)throw new fe;var E=[new _e(c[1],r),new _e(d[0],r)],N=new lr(m,null,0,E,Ee.ITF,new Date().getTime());return N},e.decodeMiddle=function(r,n,a,o){var l=new Int32Array(10),c=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),c.fill(0),d.fill(0);n<a;){kt.recordPattern(r,n,l);for(var h=0;h<5;h++){var m=2*h;c[h]=l[m],d[h]=l[m+1]}var x=e.decodeDigit(c);o.append(x.toString()),x=this.decodeDigit(d),o.append(x.toString()),l.forEach(function(y){n+=y})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),a=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},e.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var o=n-1;a>0&&o>=0&&!r.get(o);o--)a--;if(a!==0)throw new $},e.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new $;return a},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),a=void 0;try{a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(l){l instanceof $&&(a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var o=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-o,a}finally{r.reverse()}},e.findGuardPattern=function(r,n,a){var o=a.length,l=new Int32Array(o),c=r.getSize(),d=!1,h=0,m=n;l.fill(0);for(var x=n;x<c;x++)if(r.get(x)!==d)l[h]++;else{if(h===o-1){if(kt.patternMatchVariance(l,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[m,x];m+=l[0]+l[1],ft.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new $},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,a=-1,o=e.PATTERNS.length,l=0;l<o;l++){var c=e.PATTERNS[l],d=kt.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);d<n?(n=d,a=l):d===n&&(a=-1)}if(a>=0)return a%10;throw new $},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(kt),YE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zi=function(t){YE(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,a,o=0,l=Int32Array.from([0,0,0]);!n;){l=Int32Array.from([0,0,0]),a=e.findGuardPattern(r,o,!1,this.START_END_PATTERN,l);var c=a[0];o=a[1];var d=c-(o-c);d>=0&&(n=r.isRange(d,c,!1))}return a},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,o=n-1;o>=0;o-=2){var l=r.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new fe;a+=l}a*=3;for(var o=n-2;o>=0;o-=2){var l=r.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new fe;a+=l}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,a,o){return this.findGuardPattern(r,n,a,o,new Int32Array(o.length))},e.findGuardPattern=function(r,n,a,o,l){var c=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var d=0,h=n,m=o.length,x=a,y=n;y<c;y++)if(r.get(y)!==x)l[d]++;else{if(d===m-1){if(kt.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,y]);h+=l[0]+l[1];for(var _=l.slice(2,l.length),b=0;b<d-1;b++)l[b]=_[b];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,x=!x}throw new $},e.decodeDigit=function(r,n,a,o){this.recordPattern(r,a,n);for(var l=this.MAX_AVG_VARIANCE,c=-1,d=o.length,h=0;h<d;h++){var m=o[h],x=kt.patternMatchVariance(n,m,e.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,c=h)}if(c>=0)return c;throw new $},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(kt),$E=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KE=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,a),l=a.toString(),c=t.parseExtensionString(l),d=[new _e((n[0]+n[1])/2,e),new _e(o,e)],h=new lr(l,null,0,d,Ee.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&h.putAllMetadata(c),h},t.prototype.decodeMiddle=function(e,r,n){var a,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=e.getSize(),d=r[1],h=0,m=0;m<5&&d<c;m++){var x=Zi.decodeDigit(e,l,d,Zi.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);try{for(var y=(a=void 0,$E(l)),_=y.next();!_.done;_=y.next()){var b=_.value;d+=b}}catch(S){a={error:S}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}x>=10&&(h|=1<<4-m),m!==4&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(n.length!==5)throw new $;var w=this.determineCheckDigit(h);if(t.extensionChecksum(n.toString())!==w)throw new $;return d},t.extensionChecksum=function(e){for(var r=e.length,n=0,a=r-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new $},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[rr.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),o=n%100,l=o<10?"0"+o:o.toString();return r+a+"."+l},t}(),QE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WE=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,a),l=a.toString(),c=t.parseExtensionString(l),d=[new _e((n[0]+n[1])/2,e),new _e(o,e)],h=new lr(l,null,0,d,Ee.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&h.putAllMetadata(c),h},t.prototype.decodeMiddle=function(e,r,n){var a,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=e.getSize(),d=r[1],h=0,m=0;m<2&&d<c;m++){var x=Zi.decodeDigit(e,l,d,Zi.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);try{for(var y=(a=void 0,QE(l)),_=y.next();!_.done;_=y.next()){var b=_.value;d+=b}}catch(w){a={error:w}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}x>=10&&(h|=1<<1-m),m!==1&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(n.length!==2)throw new $;if(parseInt(n.toString())%4!==h)throw new $;return d},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[rr.ISSUE_NUMBER,parseInt(e)]])},t}(),JE=function(){function t(){}return t.decodeRow=function(e,r,n){var a=Zi.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new KE;return o.decodeRow(e,r,a)}catch{var l=new WE;return l.decodeRow(e,r,a)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),e8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bt=function(t){e8(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(c){return Int32Array.from(c)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],o=new Int32Array(a.length),l=0;l<a.length;l++)o[l]=a[a.length-l-1];e.L_AND_G_PATTERNS[n]=o}return r}return e.prototype.decodeRow=function(r,n,a){var o=e.findStartGuardPattern(n),l=a==null?null:a.get(mt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=new _e((o[0]+o[1])/2,r);l.foundPossibleResultPoint(c)}var d=this.decodeMiddle(n,o,this.decodeRowStringBuffer),h=d.rowOffset,m=d.resultString;if(l!=null){var x=new _e(h,r);l.foundPossibleResultPoint(x)}var y=e.decodeEnd(n,h);if(l!=null){var _=new _e((y[0]+y[1])/2,r);l.foundPossibleResultPoint(_)}var b=y[1],w=b+(b-y[0]);if(w>=n.getSize()||!n.isRange(b,w,!1))throw new $;var S=m.toString();if(S.length<8)throw new fe;if(!e.checkChecksum(S))throw new Yt;var T=(o[1]+o[0])/2,E=(y[1]+y[0])/2,N=this.getBarcodeFormat(),R=[new _e(T,r),new _e(E,r)],M=new lr(S,null,0,R,N,new Date().getTime()),k=0;try{var Z=JE.decodeRow(r,n,y[1]);M.putMetadata(rr.UPC_EAN_EXTENSION,Z.getText()),M.putAllMetadata(Z.getResultMetadata()),M.addResultPoints(Z.getResultPoints()),k=Z.getText().length}catch{}var ee=a==null?null:a.get(mt.ALLOWED_EAN_EXTENSIONS);if(ee!=null){var ie=!1;for(var se in ee)if(k.toString()===se){ie=!0;break}if(!ie)throw new $}return N===Ee.EAN_13||Ee.UPC_A,M},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,o=n-1;o>=0;o-=2){var l=r.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new fe;a+=l}a*=3;for(var o=n-2;o>=0;o-=2){var l=r.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new fe;a+=l}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Zi),t8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sd=function(t){t8(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var o,l,c,d,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var m=r.getSize(),x=n[1],y=0,_=0;_<6&&x<m;_++){var b=Bt.decodeDigit(r,h,x,Bt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);try{for(var w=(o=void 0,mm(h)),S=w.next();!S.done;S=w.next()){var T=S.value;x+=T}}catch(M){o={error:M}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}b>=10&&(y|=1<<5-_)}a=e.determineFirstDigit(a,y);var E=Bt.findGuardPattern(r,x,!0,Bt.MIDDLE_PATTERN,new Int32Array(Bt.MIDDLE_PATTERN.length).fill(0));x=E[1];for(var _=0;_<6&&x<m;_++){var b=Bt.decodeDigit(r,h,x,Bt.L_PATTERNS);a+=String.fromCharCode(48+b);try{for(var N=(c=void 0,mm(h)),R=N.next();!R.done;R=N.next()){var T=R.value;x+=T}}catch(Z){c={error:Z}}finally{try{R&&!R.done&&(d=N.return)&&d.call(N)}finally{if(c)throw c.error}}}return{rowOffset:x,resultString:a}},e.prototype.getBarcodeFormat=function(){return Ee.EAN_13},e.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new $},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Bt),r8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gm=function(t){r8(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var o,l,c,d,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var m=r.getSize(),x=n[1],y=0;y<4&&x<m;y++){var _=Bt.decodeDigit(r,h,x,Bt.L_PATTERNS);a+=String.fromCharCode(48+_);try{for(var b=(o=void 0,xm(h)),w=b.next();!w.done;w=b.next()){var S=w.value;x+=S}}catch(R){o={error:R}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}}var T=Bt.findGuardPattern(r,x,!0,Bt.MIDDLE_PATTERN,new Int32Array(Bt.MIDDLE_PATTERN.length).fill(0));x=T[1];for(var y=0;y<4&&x<m;y++){var _=Bt.decodeDigit(r,h,x,Bt.L_PATTERNS);a+=String.fromCharCode(48+_);try{for(var E=(c=void 0,xm(h)),N=E.next();!N.done;N=E.next()){var S=N.value;x+=S}}catch(k){c={error:k}}finally{try{N&&!N.done&&(d=E.return)&&d.call(E)}finally{if(c)throw c.error}}}return{rowOffset:x,resultString:a}},e.prototype.getBarcodeFormat=function(){return Ee.EAN_8},e}(Bt),n8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ym=function(t){n8(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Sd,r}return e.prototype.getBarcodeFormat=function(){return Ee.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},e.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new lr(n.substring(1),null,null,r.getResultPoints(),Ee.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new $},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Bt),a8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_m=function(t){a8(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,a){var o,l,c=this.decodeMiddleCounters.map(function(S){return S});c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=r.getSize(),h=n[1],m=0,x=0;x<6&&h<d;x++){var y=e.decodeDigit(r,c,h,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);try{for(var _=(o=void 0,i8(c)),b=_.next();!b.done;b=_.next()){var w=b.value;h+=w}}catch(S){o={error:S}}finally{try{b&&!b.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}y>=10&&(m|=1<<5-x)}return e.determineNumSysAndCheckDigit(new Le(a),m),h},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Bt.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][o]){r.insert(0,"0"+a),r.append("0"+o);return}throw $.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ee.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(l){return l.charCodeAt(0)}),a=new Le;a.append(r.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(o),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(o);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Bt),o8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wf=function(t){o8(e,t);function e(r){var n=t.call(this)||this,a=r==null?null:r.get(mt.POSSIBLE_FORMATS),o=[];return a!=null&&(a.indexOf(Ee.EAN_13)>-1&&o.push(new Sd),a.indexOf(Ee.UPC_A)>-1&&o.push(new ym),a.indexOf(Ee.EAN_8)>-1&&o.push(new gm),a.indexOf(Ee.UPC_E)>-1&&o.push(new _m)),o.length===0&&(o.push(new Sd),o.push(new ym),o.push(new gm),o.push(new _m)),n.readers=o,n}return e.prototype.decodeRow=function(r,n,a){var o,l;try{for(var c=bm(this.readers),d=c.next();!d.done;d=c.next()){var h=d.value;try{var m=h.decodeRow(r,n,a),x=m.getBarcodeFormat()===Ee.EAN_13&&m.getText().charAt(0)==="0",y=a==null?null:a.get(mt.POSSIBLE_FORMATS),_=y==null||y.includes(Ee.UPC_A);if(x&&_){var b=m.getRawBytes(),w=new lr(m.getText().substring(1),b,b?b.length:null,m.getResultPoints(),Ee.UPC_A);return w.putAllMetadata(m.getResultMetadata()),w}return m}catch{}}}catch(S){o={error:S}}finally{try{d&&!d.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}throw new $},e.prototype.reset=function(){var r,n;try{for(var a=bm(this.readers),o=a.next();!o.done;o=a.next()){var l=o.value;l.reset()}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e}(kt),s8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l8=function(t){s8(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,a){var o=this.getValidRowData(n);if(!o)throw new $;var l=this.codaBarDecodeRow(o.row);if(!l)throw new $;return new lr(l,null,0,[new _e(o.left,r),new _e(o.right,r)],Ee.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var o=n.lastIndexOf(!0);if(o<=a)return null;n=n.slice(a,o+1);for(var l=[],c=n[0],d=1,h=1;h<n.length;h++)n[h]===c?d++:(c=n[h],l.push(d),d=1);return l.push(d),l.length<23&&(l.length+1)%8!==0?null:{row:l,left:a,right:o}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(d,h){return(d+h)/2},0));r.length>0;){var o=r.splice(0,8).splice(0,7),l=o.map(function(d){return d<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[l]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[l])}var c=n.join("");return this.validCodaBarString(c)?c:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(kt),u8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),c8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ka=function(t){u8(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(kt.patternMatchVariance(r,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new $},e.count=function(r){return qe.sum(new Int32Array(r))},e.increment=function(r,n){for(var a=0,o=n[0],l=1;l<r.length;l++)n[l]>o&&(o=n[l],a=l);r[a]++},e.decrement=function(r,n){for(var a=0,o=n[0],l=1;l<r.length;l++)n[l]<o&&(o=n[l],a=l);r[a]--},e.isFinderPattern=function(r){var n,a,o=r[0]+r[1],l=o+r[2]+r[3],c=o/l;if(c>=e.MIN_FINDER_PATTERN_RATIO&&c<=e.MAX_FINDER_PATTERN_RATIO){var d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var m=c8(r),x=m.next();!x.done;x=m.next()){var y=x.value;y>h&&(h=y),y<d&&(d=y)}}catch(_){n={error:_}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}return h<10*d}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(kt),nu=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),rg=function(){function t(e,r,n,a,o){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new _e(n,o)),this.resultPoints.push(new _e(a,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),f8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zi=function(){function t(){}return t.getRSSvalue=function(e,r,n){var a,o,l=0;try{for(var c=f8(e),d=c.next();!d.done;d=c.next()){var h=d.value;l+=h}}catch(E){a={error:E}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}for(var m=0,x=0,y=e.length,_=0;_<y-1;_++){var b=void 0;for(b=1,x|=1<<_;b<e[_];b++,x&=~(1<<_)){var w=t.combins(l-b-1,y-_-2);if(n&&x===0&&l-b-(y-_-1)>=y-_-1&&(w-=t.combins(l-b-(y-_),y-_-2)),y-_-1>1){for(var S=0,T=l-b-(y-_-2);T>r;T--)S+=t.combins(l-b-T-1,y-_-3);w-=S*(y-1-_)}else l-b>r&&w--;m+=w}l-=b}return m},t.combins=function(e,r){var n,a;e-r>r?(a=r,n=e-r):(a=e-r,n=r);for(var o=1,l=1,c=e;c>n;c--)o*=c,l<=a&&(o/=l,l++);for(;l<=a;)o/=l,l++;return o},t}(),d8=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new $t(n),o=0,l=e[0],c=l.getRightChar().getValue(),d=11;d>=0;--d)(c&1<<d)!==0&&a.set(o),o++;for(var d=1;d<e.length;++d){for(var h=e[d],m=h.getLeftChar().getValue(),x=11;x>=0;--x)(m&1<<x)!==0&&a.set(o),o++;if(h.getRightChar()!==null)for(var y=h.getRightChar().getValue(),x=11;x>=0;--x)(y&1<<x)!==0&&a.set(o),o++}return a},t}(),Pa=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),a0=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),h8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jr=function(t){h8(e,t);function e(r,n){var a=t.call(this,r)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(a0),p8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),La=function(t){p8(e,t);function e(r,n,a){var o=t.call(this,r)||this;return a?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(a0),v8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ui=function(t){v8(e,t);function e(r,n,a){var o=t.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new fe;return o.firstDigit=n,o.secondDigit=a,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(a0),Fl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m8=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,a,o,l,c,d,h;if(!e)return null;if(e.length<2)throw new $;var m=e.substring(0,2);try{for(var x=Fl(t.TWO_DIGIT_DATA_LENGTH),y=x.next();!y.done;y=x.next()){var _=y.value;if(_[0]===m)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,_[2],e):t.processFixedAI(2,_[1],e)}}catch(k){r={error:k}}finally{try{y&&!y.done&&(n=x.return)&&n.call(x)}finally{if(r)throw r.error}}if(e.length<3)throw new $;var b=e.substring(0,3);try{for(var w=Fl(t.THREE_DIGIT_DATA_LENGTH),S=w.next();!S.done;S=w.next()){var _=S.value;if(_[0]===b)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,_[2],e):t.processFixedAI(3,_[1],e)}}catch(k){a={error:k}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}try{for(var T=Fl(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),E=T.next();!E.done;E=T.next()){var _=E.value;if(_[0]===b)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,_[2],e):t.processFixedAI(4,_[1],e)}}catch(k){l={error:k}}finally{try{E&&!E.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}if(e.length<4)throw new $;var N=e.substring(0,4);try{for(var R=Fl(t.FOUR_DIGIT_DATA_LENGTH),M=R.next();!M.done;M=R.next()){var _=M.value;if(_[0]===N)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,_[2],e):t.processFixedAI(4,_[1],e)}}catch(k){d={error:k}}finally{try{M&&!M.done&&(h=R.return)&&h.call(R)}finally{if(d)throw d.error}}throw new $},t.processFixedAI=function(e,r,n){if(n.length<e)throw new $;var a=n.substring(0,e);if(n.length<e+r)throw new $;var o=n.substring(e,e+r),l=n.substring(e+r),c="("+a+")"+o,d=t.parseFieldsInGeneralPurpose(l);return d==null?c:c+d},t.processVariableAI=function(e,r,n){var a=n.substring(0,e),o;n.length<e+r?o=n.length:o=e+r;var l=n.substring(e,o),c=n.substring(o),d="("+a+")"+l,h=t.parseFieldsInGeneralPurpose(c);return h==null?d:d+h},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Yl=function(){function t(e){this.buffer=new Le,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,a=null;do{var o=this.decodeGeneralPurposeField(n,a),l=m8.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?a=""+o.getRemainingValue():a=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Ui(this.information.getSize(),Ui.FNC1,Ui.FNC1):new Ui(this.information.getSize(),r-1,Ui.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,o=(n-8)%11;return new Ui(e+7,a,o)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var a=0,o=0;o<n;++o)e.get(r+o)&&(a|=1<<n-o-1);return a},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new La(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new La(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new La(this.current.getPosition(),this.buffer.toString()):r=new La(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Pa(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new La(this.current.getPosition(),this.buffer.toString());return new Pa(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Pa(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new La(this.current.getPosition(),this.buffer.toString());return new Pa(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Pa(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new La(this.current.getPosition(),this.buffer.toString());return new Pa(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Pa(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Jr(e+5,Jr.FNC1);if(r>=5&&r<15)return new Jr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Jr(e+7,""+(n+1));if(n>=90&&n<116)return new Jr(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),o;switch(a){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new fe}return new Jr(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Jr(e+5,Jr.FNC1);if(r>=5&&r<15)return new Jr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Jr(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new _s("Decoding invalid alphanumeric value: "+n)}return new Jr(e+6,a)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),ng=function(){function t(e){this.information=e,this.generalDecoder=new Yl(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),x8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),on=function(t){x8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var o=0;o<4;++o){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);l/100===0&&r.append("0"),l/10===0&&r.append("0"),r.append(l)}e.appendCheckDigit(r,a)},e.appendCheckDigit=function(r,n){for(var a=0,o=0;o<13;o++){var l=r.charAt(o+n).charCodeAt(0)-48;a+=(o&1)===0?3*l:l}a=10-a%10,a===10&&(a=0),r.append(a)},e.GTIN_SIZE=40,e}(ng),g8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y8=function(t){g8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Le;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(on),_8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),b8=function(t){_8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Le;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(ng),w8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$l=function(t){w8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,o);for(var l=this.checkWeight(o),c=1e5,d=0;d<5;++d)l/c===0&&r.append("0"),c/=10;r.append(l)},e}(on),A8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ag=function(t){A8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+$l.GTIN_SIZE+e.WEIGHT_SIZE)throw new $;var r=new Le;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+$l.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}($l),E8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S8=function(t){E8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(ag),C8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N8=function(t){C8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(ag),O8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T8=function(t){O8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+on.GTIN_SIZE)throw new $;var r=new Le;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+on.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+on.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(on),D8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R8=function(t){D8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+on.GTIN_SIZE)throw new $;var r=new Le;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+on.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+on.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+on.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(o.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(on),I8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ua=function(t){I8(e,t);function e(r,n,a){var o=t.call(this,r)||this;return o.dateCode=a,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new $;var r=new Le;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var o=a%32;a/=32;var l=a%12+1;a/=12;var c=a;c/10===0&&r.append("0"),r.append(c),l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}($l);function j8(t){try{if(t.get(1))return new y8(t);if(!t.get(2))return new b8(t);var e=Yl.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new S8(t);case 5:return new N8(t)}var r=Yl.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new T8(t);case 13:return new R8(t)}var n=Yl.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new ua(t,"310","11");case 57:return new ua(t,"320","11");case 58:return new ua(t,"310","13");case 59:return new ua(t,"320","13");case 60:return new ua(t,"310","15");case 61:return new ua(t,"320","15");case 62:return new ua(t,"310","17");case 63:return new ua(t,"320","17")}}catch(a){throw console.log(a),new _s("unknown decoder: "+t)}}var wm=function(){function t(e,r,n,a){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),M8=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(a,o){r.forEach(function(l){a.getLeftChar().getValue()===l.getLeftChar().getValue()&&a.getRightChar().getValue()===l.getRightChar().getValue()&&a.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),B8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ca=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P8=function(t){B8(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(c){if(c instanceof $){if(!this.pairs.length)throw new $;a=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(r,!1),o){var l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new $},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var a,o,l=n;l<this.rows.length;l++){var c=this.rows[l];this.pairs.length=0;try{for(var d=(a=void 0,ca(r)),h=d.next();!h.done;h=d.next()){var m=h.value;this.pairs.push(m.getPairs())}}catch(y){a={error:y}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}if(this.pairs.push(c.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var x=new Array(r);x.push(c);try{return this.checkRows(x,l+1)}catch(y){console.log(y)}}}throw new $},e.isValidSequence=function(r){var n,a;try{for(var o=ca(e.FINDER_PATTERN_SEQUENCES),l=o.next();!l.done;l=o.next()){var c=l.value;if(!(r.length>c.length)){for(var d=!0,h=0;h<r.length;h++)if(r[h].getFinderPattern().getValue()!==c[h]){d=!1;break}if(d)return!0}}}catch(m){n={error:m}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var a=0,o=!1,l=!1;a<this.rows.length;){var c=this.rows[a];if(c.getRowNumber()>r){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),a++}l||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new M8(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var a,o,l,c,d,h;try{for(var m=ca(n),x=m.next();!x.done;x=m.next()){var y=x.value;if(y.getPairs().length!==r.length){var _=!0;try{for(var b=(l=void 0,ca(y.getPairs())),w=b.next();!w.done;w=b.next()){var S=w.value,T=!1;try{for(var E=(d=void 0,ca(r)),N=E.next();!N.done;N=E.next()){var R=N.value;if(wm.equals(S,R)){T=!0;break}}}catch(M){d={error:M}}finally{try{N&&!N.done&&(h=E.return)&&h.call(E)}finally{if(d)throw d.error}}T||(_=!1)}}catch(M){l={error:M}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}}}}catch(M){a={error:M}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}},e.isPartialRow=function(r,n){var a,o,l,c,d,h;try{for(var m=ca(n),x=m.next();!x.done;x=m.next()){var y=x.value,_=!0;try{for(var b=(l=void 0,ca(r)),w=b.next();!w.done;w=b.next()){var S=w.value,T=!1;try{for(var E=(d=void 0,ca(y.getPairs())),N=E.next();!N.done;N=E.next()){var R=N.value;if(S.equals(R)){T=!0;break}}}catch(M){d={error:M}}finally{try{N&&!N.done&&(h=E.return)&&h.call(E)}finally{if(d)throw d.error}}if(!T){_=!1;break}}}catch(M){l={error:M}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}if(_)return!0}}catch(M){a={error:M}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=d8.buildBitArray(r),a=j8(n),o=a.parseInformation(),l=r[0].getFinderPattern().getResultPoints(),c=r[r.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],c[0],c[1]];return new lr(o,null,null,d,Ee.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var o=a.getChecksumPortion(),l=2,c=1;c<this.pairs.size();++c){var d=this.pairs.get(c);o+=d.getLeftChar().getChecksumPortion(),l++;var h=d.getRightChar();h!=null&&(o+=h.getChecksumPortion(),l++)}o%=211;var m=211*(l-4)+o;return m===n.getValue()},e.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(r,n,a){var o=n.length%2===0;this.startFromEven&&(o=!o);var l,c=!0,d=-1;do this.findNextPair(r,n,d),l=this.parseFoundFinderPattern(r,a,o),l===null?d=e.getNextSecondBar(r,this.startEnd[0]):c=!1;while(c);var h=this.decodeDataCharacter(r,l,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new $;var m;try{m=this.decodeDataCharacter(r,l,o,!1)}catch(x){m=null,console.log(x)}return new wm(h,m,l,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,a){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var l=r.getSize(),c;if(a>=0)c=a;else if(this.isEmptyPair(n))c=0;else{var d=n[n.length-1];c=d.getFinderPattern().getStartEnd()[1]}var h=n.length%2!==0;this.startFromEven&&(h=!h);for(var m=!1;c<l&&(m=!r.get(c),!!m);)c++;for(var x=0,y=c,_=c;_<l;_++)if(r.get(_)!==m)o[x]++;else{if(x===3){if(h&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=y,this.startEnd[1]=_;return}h&&e.reverseCounters(o),y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,x--}else x++;o[x]=1,m=!m}throw new $},e.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var o=r[a];r[a]=r[n-a-1],r[n-a-1]=o}},e.prototype.parseFoundFinderPattern=function(r,n,a){var o,l,c;if(a){for(var d=this.startEnd[0]-1;d>=0&&!r.get(d);)d--;d++,o=this.startEnd[0]-d,l=d,c=this.startEnd[1]}else l=this.startEnd[0],c=r.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];var h=this.getDecodeFinderCounters();ft.arraycopy(h,0,h,1,h.length-1),h[0]=o;var m;try{m=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new rg(m,[l,c],l,c,n)},e.prototype.decodeDataCharacter=function(r,n,a,o){for(var l=this.getDataCharacterCounters(),c=0;c<l.length;c++)l[c]=0;if(o)e.recordPatternInReverse(r,n.getStartEnd()[0],l);else{e.recordPattern(r,n.getStartEnd()[1],l);for(var d=0,h=l.length-1;d<h;d++,h--){var m=l[d];l[d]=l[h],l[h]=m}}var x=17,y=qe.sum(new Int32Array(l))/x,_=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(y-_)/_>.3)throw new $;for(var b=this.getOddCounts(),w=this.getEvenCounts(),S=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors(),d=0;d<l.length;d++){var E=1*l[d]/y,N=E+.5;if(N<1){if(E<.3)throw new $;N=1}else if(N>8){if(E>8.7)throw new $;N=8}var R=d/2;(d&1)===0?(b[R]=N,S[R]=E-N):(w[R]=N,T[R]=E-N)}this.adjustOddEvenCounts(x);for(var M=4*n.getValue()+(a?0:2)+(o?0:1)-1,k=0,Z=0,d=b.length-1;d>=0;d--){if(e.isNotA1left(n,a,o)){var ee=e.WEIGHTS[M][2*d];Z+=b[d]*ee}k+=b[d]}for(var ie=0,d=w.length-1;d>=0;d--)if(e.isNotA1left(n,a,o)){var ee=e.WEIGHTS[M][2*d+1];ie+=w[d]*ee}var se=Z+ie;if((k&1)!==0||k>13||k<4)throw new $;var ye=(13-k)/2,le=e.SYMBOL_WIDEST[ye],ve=9-le,ce=zi.getRSSvalue(b,le,!0),he=zi.getRSSvalue(w,ve,!1),P=e.EVEN_TOTAL_SUBSET[ye],oe=e.GSUM[ye],re=ce*P+he+oe;return new nu(re,se)},e.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(r){var n=qe.sum(new Int32Array(this.getOddCounts())),a=qe.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;n>13?l=!0:n<4&&(o=!0);var c=!1,d=!1;a>13?d=!0:a<4&&(c=!0);var h=n+a-r,m=(n&1)===1,x=(a&1)===0;if(h===1)if(m){if(x)throw new $;l=!0}else{if(!x)throw new $;d=!0}else if(h===-1)if(m){if(x)throw new $;o=!0}else{if(!x)throw new $;c=!0}else if(h===0){if(m){if(!x)throw new $;n<a?(o=!0,d=!0):(l=!0,c=!0)}else if(x)throw new $}else throw new $;if(o){if(l)throw new $;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new $;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(ka),L8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),k8=function(t){L8(e,t);function e(r,n,a){var o=t.call(this,r,n)||this;return o.count=0,o.finderPattern=a,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(nu),F8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Am=function(t){F8(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,a){var o,l,c,d,h=this.decodePair(n,!1,r,a);e.addOrTally(this.possibleLeftPairs,h),n.reverse();var m=this.decodePair(n,!0,r,a);e.addOrTally(this.possibleRightPairs,m),n.reverse();try{for(var x=Jf(this.possibleLeftPairs),y=x.next();!y.done;y=x.next()){var _=y.value;if(_.getCount()>1)try{for(var b=(c=void 0,Jf(this.possibleRightPairs)),w=b.next();!w.done;w=b.next()){var S=w.value;if(S.getCount()>1&&e.checkChecksum(_,S))return e.constructResult(_,S)}}catch(T){c={error:T}}finally{try{w&&!w.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}}}catch(T){o={error:T}}finally{try{y&&!y.done&&(l=x.return)&&l.call(x)}finally{if(o)throw o.error}}throw new $},e.addOrTally=function(r,n){var a,o;if(n!=null){var l=!1;try{for(var c=Jf(r),d=c.next();!d.done;d=c.next()){var h=d.value;if(h.getValue()===n.getValue()){h.incrementCount(),l=!0;break}}}catch(m){a={error:m}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}l||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),o=new String(a).toString(),l=new Le,c=13-o.length;c>0;c--)l.append("0");l.append(o);for(var d=0,c=0;c<13;c++){var h=l.charAt(c).charCodeAt(0)-48;d+=(c&1)===0?3*h:h}d=10-d%10,d===10&&(d=0),l.append(d.toString());var m=r.getFinderPattern().getResultPoints(),x=n.getFinderPattern().getResultPoints();return new lr(l.toString(),null,0,[m[0],m[1],x[0],x[1]],Ee.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,a===o},e.prototype.decodePair=function(r,n,a,o){try{var l=this.findFinderPattern(r,n),c=this.parseFoundFinderPattern(r,a,n,l),d=o==null?null:o.get(mt.NEED_RESULT_POINT_CALLBACK);if(d!=null){var h=(l[0]+l[1])/2;n&&(h=r.getSize()-1-h),d.foundPossibleResultPoint(new _e(h,a))}var m=this.decodeDataCharacter(r,c,!0),x=this.decodeDataCharacter(r,c,!1);return new k8(1597*m.getValue()+x.getValue(),m.getChecksumPortion()+4*x.getChecksumPortion(),c)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)kt.recordPatternInReverse(r,n.getStartEnd()[0],o);else{kt.recordPattern(r,n.getStartEnd()[1]+1,o);for(var c=0,d=o.length-1;c<d;c++,d--){var h=o[c];o[c]=o[d],o[d]=h}}for(var m=a?16:15,x=qe.sum(new Int32Array(o))/m,y=this.getOddCounts(),_=this.getEvenCounts(),b=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var S=o[c]/x,T=Math.floor(S+.5);T<1?T=1:T>8&&(T=8);var E=Math.floor(c/2);(c&1)===0?(y[E]=T,b[E]=S-T):(_[E]=T,w[E]=S-T)}this.adjustOddEvenCounts(a,m);for(var N=0,R=0,c=y.length-1;c>=0;c--)R*=9,R+=y[c],N+=y[c];for(var M=0,k=0,c=_.length-1;c>=0;c--)M*=9,M+=_[c],k+=_[c];var Z=R+3*M;if(a){if((N&1)!==0||N>12||N<4)throw new $;var ee=(12-N)/2,ie=e.OUTSIDE_ODD_WIDEST[ee],se=9-ie,ye=zi.getRSSvalue(y,ie,!1),le=zi.getRSSvalue(_,se,!0),ve=e.OUTSIDE_EVEN_TOTAL_SUBSET[ee],ce=e.OUTSIDE_GSUM[ee];return new nu(ye*ve+le+ce,Z)}else{if((k&1)!==0||k>10||k<4)throw new $;var ee=(10-k)/2,ie=e.INSIDE_ODD_WIDEST[ee],se=9-ie,ye=zi.getRSSvalue(y,ie,!0),le=zi.getRSSvalue(_,se,!1),he=e.INSIDE_ODD_TOTAL_SUBSET[ee],ce=e.INSIDE_GSUM[ee];return new nu(le*he+ye+ce,Z)}},e.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=r.getSize(),l=!1,c=0;c<o&&(l=!r.get(c),n!==l);)c++;for(var d=0,h=c,m=c;m<o;m++)if(r.get(m)!==l)a[d]++;else{if(d===3){if(ka.isFinderPattern(a))return[h,m];h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,d--}else d++;a[d]=1,l=!l}throw new $},e.prototype.parseFoundFinderPattern=function(r,n,a,o){for(var l=r.get(o[0]),c=o[0]-1;c>=0&&l!==r.get(c);)c--;c++;var d=o[0]-c,h=this.getDecodeFinderCounters(),m=new Int32Array(h.length);ft.arraycopy(h,0,m,1,h.length-1),m[0]=d;var x=this.parseFinderValue(m,e.FINDER_PATTERNS),y=c,_=o[1];return a&&(y=r.getSize()-1-y,_=r.getSize()-1-_),new rg(x,[c,o[1]],y,_,n)},e.prototype.adjustOddEvenCounts=function(r,n){var a=qe.sum(new Int32Array(this.getOddCounts())),o=qe.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,d=!1,h=!1;r?(a>12?c=!0:a<4&&(l=!0),o>12?h=!0:o<4&&(d=!0)):(a>11?c=!0:a<5&&(l=!0),o>10?h=!0:o<4&&(d=!0));var m=a+o-n,x=(a&1)===(r?1:0),y=(o&1)===1;if(m===1)if(x){if(y)throw new $;c=!0}else{if(!y)throw new $;h=!0}else if(m===-1)if(x){if(y)throw new $;l=!0}else{if(!y)throw new $;d=!0}else if(m===0){if(x){if(!y)throw new $;a<o?(l=!0,h=!0):(c=!0,d=!0)}else if(y)throw new $}else throw new $;if(l){if(c)throw new $;ka.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&ka.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new $;ka.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ka.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(ka),U8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),is=function(t){U8(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var a=r?r.get(mt.POSSIBLE_FORMATS):null,o=r&&r.get(mt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,l=r&&r.get(mt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Ee.EAN_13)||a.includes(Ee.UPC_A)||a.includes(Ee.EAN_8)||a.includes(Ee.UPC_E))&&n.readers.push(new Wf(r)),a.includes(Ee.CODE_39)&&n.readers.push(new hm(o,l)),a.includes(Ee.CODE_93)&&n.readers.push(new pm),a.includes(Ee.CODE_128)&&n.readers.push(new dm),a.includes(Ee.ITF)&&n.readers.push(new vm),a.includes(Ee.CODABAR)&&n.readers.push(new l8),a.includes(Ee.RSS_14)&&n.readers.push(new Am),a.includes(Ee.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new P8))),n.readers.length===0&&(n.readers.push(new Wf(r)),n.readers.push(new hm),n.readers.push(new pm),n.readers.push(new Wf(r)),n.readers.push(new dm),n.readers.push(new vm),n.readers.push(new Am)),n}return e.prototype.decodeRow=function(r,n,a){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(r,n,a)}catch{}throw new $},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(kt),z8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){z8(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new is(n),r,n)||this}return e})($a);var Em=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qe=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),$e=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),V8=function(){function t(e,r,n,a,o,l){var c,d;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=o,this.ecBlocks=l;var h=0,m=l.getECCodewords(),x=l.getECBlocks();try{for(var y=Em(x),_=y.next();!_.done;_=y.next()){var b=_.value;h+=b.getCount()*(b.getDataCodewords()+m)}}catch(w){c={error:w}}finally{try{_&&!_.done&&(d=y.return)&&d.call(y)}finally{if(c)throw c.error}}this.totalCodewords=h}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,a;if((e&1)!==0||(r&1)!==0)throw new fe;try{for(var o=Em(t.VERSIONS),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.symbolSizeRows===e&&c.symbolSizeColumns===r)return c}}catch(d){n={error:d}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}throw new fe},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Qe(5,new $e(1,3))),new t(2,12,12,10,10,new Qe(7,new $e(1,5))),new t(3,14,14,12,12,new Qe(10,new $e(1,8))),new t(4,16,16,14,14,new Qe(12,new $e(1,12))),new t(5,18,18,16,16,new Qe(14,new $e(1,18))),new t(6,20,20,18,18,new Qe(18,new $e(1,22))),new t(7,22,22,20,20,new Qe(20,new $e(1,30))),new t(8,24,24,22,22,new Qe(24,new $e(1,36))),new t(9,26,26,24,24,new Qe(28,new $e(1,44))),new t(10,32,32,14,14,new Qe(36,new $e(1,62))),new t(11,36,36,16,16,new Qe(42,new $e(1,86))),new t(12,40,40,18,18,new Qe(48,new $e(1,114))),new t(13,44,44,20,20,new Qe(56,new $e(1,144))),new t(14,48,48,22,22,new Qe(68,new $e(1,174))),new t(15,52,52,24,24,new Qe(42,new $e(2,102))),new t(16,64,64,14,14,new Qe(56,new $e(2,140))),new t(17,72,72,16,16,new Qe(36,new $e(4,92))),new t(18,80,80,18,18,new Qe(48,new $e(4,114))),new t(19,88,88,20,20,new Qe(56,new $e(4,144))),new t(20,96,96,22,22,new Qe(68,new $e(4,174))),new t(21,104,104,24,24,new Qe(56,new $e(6,136))),new t(22,120,120,18,18,new Qe(68,new $e(6,175))),new t(23,132,132,20,20,new Qe(62,new $e(8,163))),new t(24,144,144,22,22,new Qe(62,new $e(8,156),new $e(2,155))),new t(25,8,18,6,16,new Qe(7,new $e(1,5))),new t(26,8,32,6,14,new Qe(11,new $e(1,10))),new t(27,12,26,10,24,new Qe(14,new $e(1,16))),new t(28,12,36,10,16,new Qe(18,new $e(1,22))),new t(29,16,36,14,16,new Qe(24,new $e(1,32))),new t(30,16,48,14,22,new Qe(28,new $e(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),H8=function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new fe;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new yn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return V8.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth(),c=!1,d=!1,h=!1,m=!1;do if(n===o&&a===0&&!c)e[r++]=this.readCorner1(o,l)&255,n-=2,a+=2,c=!0;else if(n===o-2&&a===0&&(l&3)!==0&&!d)e[r++]=this.readCorner2(o,l)&255,n-=2,a+=2,d=!0;else if(n===o+4&&a===2&&(l&7)===0&&!h)e[r++]=this.readCorner3(o,l)&255,n-=2,a+=2,h=!0;else if(n===o-2&&a===0&&(l&7)===4&&!m)e[r++]=this.readCorner4(o,l)&255,n-=2,a+=2,m=!0;else{do n<o&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,o,l)&255),n-=2,a+=2;while(n>=0&&a<l);n+=1,a+=3;do n>=0&&a<l&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,o,l)&255),n+=2,a-=2;while(n<o&&a>=0);n+=3,a+=1}while(n<o||a<l);if(r!==this.version.getTotalCodewords())throw new fe;return e},t.prototype.readModule=function(e,r,n,a){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,a){var o=0;return this.readModule(e-2,r-2,n,a)&&(o|=1),o<<=1,this.readModule(e-2,r-1,n,a)&&(o|=1),o<<=1,this.readModule(e-1,r-2,n,a)&&(o|=1),o<<=1,this.readModule(e-1,r-1,n,a)&&(o|=1),o<<=1,this.readModule(e-1,r,n,a)&&(o|=1),o<<=1,this.readModule(e,r-2,n,a)&&(o|=1),o<<=1,this.readModule(e,r-1,n,a)&&(o|=1),o<<=1,this.readModule(e,r,n,a)&&(o|=1),o},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Se("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=r/a|0,c=n/o|0,d=l*a,h=c*o,m=new yn(h,d),x=0;x<l;++x)for(var y=x*a,_=0;_<c;++_)for(var b=_*o,w=0;w<a;++w)for(var S=x*(a+2)+1+w,T=y+w,E=0;E<o;++E){var N=_*(o+2)+1+E;if(e.get(N,S)){var R=b+E;m.set(R,T)}}return m},t}(),Sm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},G8=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,a,o,l,c=r.getECBlocks(),d=0,h=c.getECBlocks();try{for(var m=Sm(h),x=m.next();!x.done;x=m.next()){var y=x.value;d+=y.getCount()}}catch(ce){n={error:ce}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}var _=new Array(d),b=0;try{for(var w=Sm(h),S=w.next();!S.done;S=w.next())for(var y=S.value,T=0;T<y.getCount();T++){var E=y.getDataCodewords(),N=c.getECCodewords()+E;_[b++]=new t(E,new Uint8Array(N))}}catch(ce){o={error:ce}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}for(var R=_[0].codewords.length,M=R-c.getECCodewords(),k=M-1,Z=0,T=0;T<k;T++)for(var ee=0;ee<b;ee++)_[ee].codewords[T]=e[Z++];for(var ie=r.getVersionNumber()===24,se=ie?8:b,ee=0;ee<se;ee++)_[ee].codewords[M-1]=e[Z++];for(var ye=_[0].codewords.length,T=M;T<ye;T++)for(var ee=0;ee<b;ee++){var le=ie?(ee+8)%b:ee,ve=ie&&le>7?T-1:T;_[le].codewords[ve]=e[Z++]}if(Z!==e.length)throw new Se;return _},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),ig=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Se(""+e);var r=0,n=this.bitOffset,a=this.byteOffset,o=this.bytes;if(n>0){var l=8-n,c=e<l?e:l,d=l-c,h=255>>8-c<<d;r=(o[a]&h)>>d,e-=c,n+=c,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)r=r<<8|o[a]&255,a++,e-=8;if(e>0){var d=8-e,h=255>>d<<d;r=r<<e|(o[a]&h)>>d,n+=e}}return this.bitOffset=n,this.byteOffset=a,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),jt;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(jt||(jt={}));var Z8=function(){function t(){}return t.decode=function(e){var r=new ig(e),n=new Le,a=new Le,o=new Array,l=jt.ASCII_ENCODE;do if(l===jt.ASCII_ENCODE)l=this.decodeAsciiSegment(r,n,a);else{switch(l){case jt.C40_ENCODE:this.decodeC40Segment(r,n);break;case jt.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case jt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case jt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case jt.BASE256_ENCODE:this.decodeBase256Segment(r,n,o);break;default:throw new fe}l=jt.ASCII_ENCODE}while(l!==jt.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new _u(e,n.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,r,n){var a=!1;do{var o=e.readBits(8);if(o===0)throw new fe;if(o<=128)return a&&(o+=128),r.append(String.fromCharCode(o-1)),jt.ASCII_ENCODE;if(o===129)return jt.PAD_ENCODE;if(o<=229){var l=o-130;l<10&&r.append("0"),r.append(""+l)}else switch(o){case 230:return jt.C40_ENCODE;case 231:return jt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return jt.ANSIX12_ENCODE;case 239:return jt.TEXT_ENCODE;case 240:return jt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new fe;break}}while(e.available()>0);return jt.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,a=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var c=0;c<3;c++){var d=a[c];switch(o){case 0:if(d<3)o=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[d];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h)}else throw new fe;break;case 1:n?(r.append(String.fromCharCode(d+128)),n=!1):r.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[d];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h)}else switch(d){case 27:r.append("");break;case 30:n=!0;break;default:throw new fe}o=0;break;case 3:n?(r.append(String.fromCharCode(d+224)),n=!1):r.append(String.fromCharCode(d+96)),o=0;break;default:throw new fe}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,a=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var c=0;c<3;c++){var d=a[c];switch(o){case 0:if(d<3)o=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[d];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h)}else throw new fe;break;case 1:n?(r.append(String.fromCharCode(d+128)),n=!1):r.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[d];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h)}else switch(d){case 27:r.append("");break;case 30:n=!0;break;default:throw new fe}o=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[d];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h),o=0}else throw new fe;break;default:throw new fe}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var o=0;o<3;o++){var l=n[o];switch(l){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(l<14)r.append(String.fromCharCode(l+44));else if(l<40)r.append(String.fromCharCode(l+51));else throw new fe;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var a=(e<<8)+r-1,o=Math.floor(a/1600);n[0]=o,a-=o*1600,o=Math.floor(a/40),n[1]=o,n[2]=a-o*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(a&32)===0&&(a|=64),r.append(String.fromCharCode(a))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var a=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),a++),l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),a++),l<0)throw new fe;for(var c=new Uint8Array(l),d=0;d<l;d++){if(e.available()<8)throw new fe;c[d]=this.unrandomize255State(e.readBits(8),a++)}n.push(c);try{r.append($r.decode(c,Ge.ISO88591))}catch(h){throw new _s("Platform does not support required encoding: "+h.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,a=e-n;return a>=0?a:a+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),X8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},q8=function(){function t(){this.rsDecoder=new bu(wr.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,a=new H8(e),o=a.getVersion(),l=a.readCodewords(),c=G8.getDataBlocks(l,o),d=0;try{for(var h=X8(c),m=h.next();!m.done;m=h.next()){var x=m.value;d+=x.getNumDataCodewords()}}catch(N){r={error:N}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}for(var y=new Uint8Array(d),_=c.length,b=0;b<_;b++){var w=c[b],S=w.getCodewords(),T=w.getNumDataCodewords();this.correctErrors(S,T);for(var E=0;E<T;E++)y[E*_+b]=S[E]}return Z8.decode(y)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Yt}for(var a=0;a<r;a++)e[a]=n[a]},t}(),Y8=function(){function t(e){this.image=e,this.rectangleDetector=new Ad(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new $;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],o=r[2],l=r[3],c=this.transitionsBetween(n,l)+1,d=this.transitionsBetween(o,l)+1;(c&1)===1&&(c+=1),(d&1)===1&&(d+=1),4*c<7*d&&4*d<7*c&&(c=d=Math.max(c,d));var h=t.sampleGrid(this.image,n,a,o,l,c,d);return new r0(h,[n,a,o,l])},t.shiftPoint=function(e,r,n){var a=(r.getX()-e.getX())/(n+1),o=(r.getY()-e.getY())/(n+1);return new _e(e.getX()+a,e.getY()+o)},t.moveAway=function(e,r,n){var a=e.getX(),o=e.getY();return a<r?a-=1:a+=1,o<n?o-=1:o+=1,new _e(a,o)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],a=e[3],o=e[2],l=this.transitionsBetween(r,n),c=this.transitionsBetween(n,a),d=this.transitionsBetween(a,o),h=this.transitionsBetween(o,r),m=l,x=[o,r,n,a];return m>c&&(m=c,x[0]=r,x[1]=n,x[2]=a,x[3]=o),m>d&&(m=d,x[0]=n,x[1]=a,x[2]=o,x[3]=r),m>h&&(x[0]=a,x[1]=o,x[2]=r,x[3]=n),x},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(r,o),c=t.shiftPoint(n,a,(l+1)*4),d=t.shiftPoint(a,n,(l+1)*4),h=this.transitionsBetween(c,r),m=this.transitionsBetween(d,o);return h<m?(e[0]=r,e[1]=n,e[2]=a,e[3]=o):(e[0]=n,e[1]=a,e[2]=o,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(r,o),c=this.transitionsBetween(n,o),d=t.shiftPoint(r,n,(c+1)*4),h=t.shiftPoint(a,n,(l+1)*4);l=this.transitionsBetween(d,o),c=this.transitionsBetween(h,o);var m=new _e(o.getX()+(a.getX()-n.getX())/(l+1),o.getY()+(a.getY()-n.getY())/(l+1)),x=new _e(o.getX()+(r.getX()-n.getX())/(c+1),o.getY()+(r.getY()-n.getY())/(c+1));if(!this.isValid(m))return this.isValid(x)?x:null;if(!this.isValid(x))return m;var y=this.transitionsBetween(d,m)+this.transitionsBetween(h,m),_=this.transitionsBetween(d,x)+this.transitionsBetween(h,x);return y>_?m:x},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(r,o)+1,c=this.transitionsBetween(a,o)+1,d=t.shiftPoint(r,n,c*4),h=t.shiftPoint(a,n,l*4);l=this.transitionsBetween(d,o)+1,c=this.transitionsBetween(h,o)+1,(l&1)===1&&(l+=1),(c&1)===1&&(c+=1);var m=(r.getX()+n.getX()+a.getX()+o.getX())/4,x=(r.getY()+n.getY()+a.getY()+o.getY())/4;r=t.moveAway(r,m,x),n=t.moveAway(n,m,x),a=t.moveAway(a,m,x),o=t.moveAway(o,m,x);var y,_;return d=t.shiftPoint(r,n,c*4),d=t.shiftPoint(d,o,l*4),y=t.shiftPoint(n,r,c*4),y=t.shiftPoint(y,a,l*4),h=t.shiftPoint(a,o,c*4),h=t.shiftPoint(h,n,l*4),_=t.shiftPoint(o,a,c*4),_=t.shiftPoint(_,r,l*4),[d,y,h,_]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,a,o,l,c){var d=n0.getInstance();return d.sampleGrid(e,l,c,.5,.5,l-.5,.5,l-.5,c-.5,.5,c-.5,r.getX(),r.getY(),o.getX(),o.getY(),a.getX(),a.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),o=Math.trunc(r.getX()),l=Math.trunc(r.getY()),c=Math.abs(l-a)>Math.abs(o-n);if(c){var d=n;n=a,a=d,d=o,o=l,l=d}for(var h=Math.abs(o-n),m=Math.abs(l-a),x=-h/2,y=a<l?1:-1,_=n<o?1:-1,b=0,w=this.image.get(c?a:n,c?n:a),S=n,T=a;S!==o;S+=_){var E=this.image.get(c?T:S,c?S:T);if(E!==w&&(b++,w=E),x+=m,x>0){if(T===l)break;T+=y,x-=h}}return b},t}(),Cd=function(){function t(){this.decoder=new q8}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(mt.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),a=t.NO_POINTS}else{var l=new Y8(e.getBlackMatrix()).detect();n=this.decoder.decode(l.getBits()),a=l.getPoints()}var c=n.getRawBytes(),d=new lr(n.getText(),c,8*c.length,a,Ee.DATA_MATRIX,ft.currentTimeMillis()),h=n.getByteSegments();h!=null&&d.putMetadata(rr.BYTE_SEGMENTS,h);var m=n.getECLevel();return m!=null&&d.putMetadata(rr.ERROR_CORRECTION_LEVEL,m),d},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new $;var a=this.moduleSize(r,e),o=r[1],l=n[1],c=r[0],d=n[0],h=(d-c+1)/a,m=(l-o+1)/a;if(h<=0||m<=0)throw new $;var x=a/2;o+=x,c+=x;for(var y=new yn(h,m),_=0;_<m;_++)for(var b=o+_*a,w=0;w<h;w++)e.get(c+w*a,b)&&y.set(w,_);return y},t.moduleSize=function(e,r){for(var n=r.getWidth(),a=e[0],o=e[1];a<n&&r.get(a,o);)a++;if(a===n)throw new $;var l=a-e[0];if(l===0)throw new $;return l},t.NO_POINTS=[],t}(),$8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){$8(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Cd,r)||this}return e})($a);var Vi;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Vi||(Vi={}));var K8=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new tn(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Se;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Vi.L,"L",1),t.M=new t(Vi.M,"M",0),t.Q=new t(Vi.Q,"Q",3),t.H=new t(Vi.H,"H",2),t}(),Q8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},og=function(){function t(e){this.errorCorrectionLevel=K8.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Fe.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,a,o=Number.MAX_SAFE_INTEGER,l=0;try{for(var c=Q8(t.FORMAT_INFO_DECODE_LOOKUP),d=c.next();!d.done;d=c.next()){var h=d.value,m=h[0];if(m===e||m===r)return new t(h[1]);var x=t.numBitsDiffering(e,m);x<o&&(l=h[1],o=x),e!==r&&(x=t.numBitsDiffering(r,m),x<o&&(l=h[1],o=x))}}catch(y){n={error:y}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return o<=3?new t(l):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),W8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,a=this.ecBlocks;try{for(var o=W8(a),l=o.next();!l.done;l=o.next()){var c=l.value;n+=c.getCount()}}catch(d){e={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),O=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),J8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ha=function(){function t(e,r){for(var n,a,o=[],l=2;l<arguments.length;l++)o[l-2]=arguments[l];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;var c=0,d=o[0].getECCodewordsPerBlock(),h=o[0].getECBlocks();try{for(var m=J8(h),x=m.next();!x.done;x=m.next()){var y=x.value;c+=y.getCount()*(y.getDataCodewords()+d)}}catch(_){n={error:_}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new fe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new fe}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Se;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<t.VERSION_DECODE_INFO.length;a++){var o=t.VERSION_DECODE_INFO[a];if(o===e)return t.getVersionForNumber(a+7);var l=og.numBitsDiffering(e,o);l<r&&(n=a+7,r=l)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new yn(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var o=this.alignmentPatternCenters[a]-2,l=0;l<n;l++)a===0&&(l===0||l===n-1)||a===n-1&&l===0||r.setRegion(this.alignmentPatternCenters[l]-2,o,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new V(7,new O(1,19)),new V(10,new O(1,16)),new V(13,new O(1,13)),new V(17,new O(1,9))),new t(2,Int32Array.from([6,18]),new V(10,new O(1,34)),new V(16,new O(1,28)),new V(22,new O(1,22)),new V(28,new O(1,16))),new t(3,Int32Array.from([6,22]),new V(15,new O(1,55)),new V(26,new O(1,44)),new V(18,new O(2,17)),new V(22,new O(2,13))),new t(4,Int32Array.from([6,26]),new V(20,new O(1,80)),new V(18,new O(2,32)),new V(26,new O(2,24)),new V(16,new O(4,9))),new t(5,Int32Array.from([6,30]),new V(26,new O(1,108)),new V(24,new O(2,43)),new V(18,new O(2,15),new O(2,16)),new V(22,new O(2,11),new O(2,12))),new t(6,Int32Array.from([6,34]),new V(18,new O(2,68)),new V(16,new O(4,27)),new V(24,new O(4,19)),new V(28,new O(4,15))),new t(7,Int32Array.from([6,22,38]),new V(20,new O(2,78)),new V(18,new O(4,31)),new V(18,new O(2,14),new O(4,15)),new V(26,new O(4,13),new O(1,14))),new t(8,Int32Array.from([6,24,42]),new V(24,new O(2,97)),new V(22,new O(2,38),new O(2,39)),new V(22,new O(4,18),new O(2,19)),new V(26,new O(4,14),new O(2,15))),new t(9,Int32Array.from([6,26,46]),new V(30,new O(2,116)),new V(22,new O(3,36),new O(2,37)),new V(20,new O(4,16),new O(4,17)),new V(24,new O(4,12),new O(4,13))),new t(10,Int32Array.from([6,28,50]),new V(18,new O(2,68),new O(2,69)),new V(26,new O(4,43),new O(1,44)),new V(24,new O(6,19),new O(2,20)),new V(28,new O(6,15),new O(2,16))),new t(11,Int32Array.from([6,30,54]),new V(20,new O(4,81)),new V(30,new O(1,50),new O(4,51)),new V(28,new O(4,22),new O(4,23)),new V(24,new O(3,12),new O(8,13))),new t(12,Int32Array.from([6,32,58]),new V(24,new O(2,92),new O(2,93)),new V(22,new O(6,36),new O(2,37)),new V(26,new O(4,20),new O(6,21)),new V(28,new O(7,14),new O(4,15))),new t(13,Int32Array.from([6,34,62]),new V(26,new O(4,107)),new V(22,new O(8,37),new O(1,38)),new V(24,new O(8,20),new O(4,21)),new V(22,new O(12,11),new O(4,12))),new t(14,Int32Array.from([6,26,46,66]),new V(30,new O(3,115),new O(1,116)),new V(24,new O(4,40),new O(5,41)),new V(20,new O(11,16),new O(5,17)),new V(24,new O(11,12),new O(5,13))),new t(15,Int32Array.from([6,26,48,70]),new V(22,new O(5,87),new O(1,88)),new V(24,new O(5,41),new O(5,42)),new V(30,new O(5,24),new O(7,25)),new V(24,new O(11,12),new O(7,13))),new t(16,Int32Array.from([6,26,50,74]),new V(24,new O(5,98),new O(1,99)),new V(28,new O(7,45),new O(3,46)),new V(24,new O(15,19),new O(2,20)),new V(30,new O(3,15),new O(13,16))),new t(17,Int32Array.from([6,30,54,78]),new V(28,new O(1,107),new O(5,108)),new V(28,new O(10,46),new O(1,47)),new V(28,new O(1,22),new O(15,23)),new V(28,new O(2,14),new O(17,15))),new t(18,Int32Array.from([6,30,56,82]),new V(30,new O(5,120),new O(1,121)),new V(26,new O(9,43),new O(4,44)),new V(28,new O(17,22),new O(1,23)),new V(28,new O(2,14),new O(19,15))),new t(19,Int32Array.from([6,30,58,86]),new V(28,new O(3,113),new O(4,114)),new V(26,new O(3,44),new O(11,45)),new V(26,new O(17,21),new O(4,22)),new V(26,new O(9,13),new O(16,14))),new t(20,Int32Array.from([6,34,62,90]),new V(28,new O(3,107),new O(5,108)),new V(26,new O(3,41),new O(13,42)),new V(30,new O(15,24),new O(5,25)),new V(28,new O(15,15),new O(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new V(28,new O(4,116),new O(4,117)),new V(26,new O(17,42)),new V(28,new O(17,22),new O(6,23)),new V(30,new O(19,16),new O(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new V(28,new O(2,111),new O(7,112)),new V(28,new O(17,46)),new V(30,new O(7,24),new O(16,25)),new V(24,new O(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new V(30,new O(4,121),new O(5,122)),new V(28,new O(4,47),new O(14,48)),new V(30,new O(11,24),new O(14,25)),new V(30,new O(16,15),new O(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new V(30,new O(6,117),new O(4,118)),new V(28,new O(6,45),new O(14,46)),new V(30,new O(11,24),new O(16,25)),new V(30,new O(30,16),new O(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new V(26,new O(8,106),new O(4,107)),new V(28,new O(8,47),new O(13,48)),new V(30,new O(7,24),new O(22,25)),new V(30,new O(22,15),new O(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new V(28,new O(10,114),new O(2,115)),new V(28,new O(19,46),new O(4,47)),new V(28,new O(28,22),new O(6,23)),new V(30,new O(33,16),new O(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new V(30,new O(8,122),new O(4,123)),new V(28,new O(22,45),new O(3,46)),new V(30,new O(8,23),new O(26,24)),new V(30,new O(12,15),new O(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new O(3,117),new O(10,118)),new V(28,new O(3,45),new O(23,46)),new V(30,new O(4,24),new O(31,25)),new V(30,new O(11,15),new O(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new O(7,116),new O(7,117)),new V(28,new O(21,45),new O(7,46)),new V(30,new O(1,23),new O(37,24)),new V(30,new O(19,15),new O(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new O(5,115),new O(10,116)),new V(28,new O(19,47),new O(10,48)),new V(30,new O(15,24),new O(25,25)),new V(30,new O(23,15),new O(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new O(13,115),new O(3,116)),new V(28,new O(2,46),new O(29,47)),new V(30,new O(42,24),new O(1,25)),new V(30,new O(23,15),new O(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new O(17,115)),new V(28,new O(10,46),new O(23,47)),new V(30,new O(10,24),new O(35,25)),new V(30,new O(19,15),new O(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new O(17,115),new O(1,116)),new V(28,new O(14,46),new O(21,47)),new V(30,new O(29,24),new O(19,25)),new V(30,new O(11,15),new O(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new O(13,115),new O(6,116)),new V(28,new O(14,46),new O(23,47)),new V(30,new O(44,24),new O(7,25)),new V(30,new O(59,16),new O(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new O(12,121),new O(7,122)),new V(28,new O(12,47),new O(26,48)),new V(30,new O(39,24),new O(14,25)),new V(30,new O(22,15),new O(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new O(6,121),new O(14,122)),new V(28,new O(6,47),new O(34,48)),new V(30,new O(46,24),new O(10,25)),new V(30,new O(2,15),new O(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new O(17,122),new O(4,123)),new V(28,new O(29,46),new O(14,47)),new V(30,new O(49,24),new O(10,25)),new V(30,new O(24,15),new O(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new O(4,122),new O(18,123)),new V(28,new O(13,46),new O(32,47)),new V(30,new O(48,24),new O(14,25)),new V(30,new O(42,15),new O(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new O(20,117),new O(4,118)),new V(28,new O(40,47),new O(7,48)),new V(30,new O(43,24),new O(22,25)),new V(30,new O(10,15),new O(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new O(19,118),new O(6,119)),new V(28,new O(18,47),new O(31,48)),new V(30,new O(34,24),new O(34,25)),new V(30,new O(20,15),new O(61,16)))],t}(),Zt;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Zt||(Zt={}));var Cm=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&e.flip(a,n)},t.values=new Map([[Zt.DATA_MASK_000,new t(Zt.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Zt.DATA_MASK_001,new t(Zt.DATA_MASK_001,function(e,r){return(e&1)===0})],[Zt.DATA_MASK_010,new t(Zt.DATA_MASK_010,function(e,r){return r%3===0})],[Zt.DATA_MASK_011,new t(Zt.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Zt.DATA_MASK_100,new t(Zt.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Zt.DATA_MASK_101,new t(Zt.DATA_MASK_101,function(e,r){return e*r%6===0})],[Zt.DATA_MASK_110,new t(Zt.DATA_MASK_110,function(e,r){return e*r%6<3})],[Zt.DATA_MASK_111,new t(Zt.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),eS=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new fe;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),o=0,l=a-7,n=a-1;n>=l;n--)o=this.copyBit(8,n,o);for(var r=a-8;r<a;r++)o=this.copyBit(r,8,o);if(this.parsedFormatInfo=og.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new fe},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Ha.getVersionForNumber(r);for(var n=0,a=e-11,o=5;o>=0;o--)for(var l=e-9;l>=a;l--)n=this.copyBit(l,o,n);var c=Ha.decodeVersionInformation(n);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;n=0;for(var l=5;l>=0;l--)for(var o=e-9;o>=a;o--)n=this.copyBit(l,o,n);if(c=Ha.decodeVersionInformation(n),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new fe},t.prototype.copyBit=function(e,r,n){var a=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return a?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Cm.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var o=r.buildFunctionPattern(),l=!0,c=new Uint8Array(r.getTotalCodewords()),d=0,h=0,m=0,x=a-1;x>0;x-=2){x===6&&x--;for(var y=0;y<a;y++)for(var _=l?a-1-y:y,b=0;b<2;b++)o.get(x-b,_)||(m++,h<<=1,this.bitMatrix.get(x-b,_)&&(h|=1),m===8&&(c[d++]=h,m=0,h=0));l=!l}if(d!==r.getTotalCodewords())throw new fe;return c},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Cm.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var a=r+1,o=e.getHeight();a<o;a++)e.get(r,a)!==e.get(a,r)&&(e.flip(a,r),e.flip(r,a))},t}(),Nm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tS=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var a,o,l,c;if(e.length!==r.getTotalCodewords())throw new Se;var d=r.getECBlocksForLevel(n),h=0,m=d.getECBlocks();try{for(var x=Nm(m),y=x.next();!y.done;y=x.next()){var _=y.value;h+=_.getCount()}}catch(ve){a={error:ve}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}var b=new Array(h),w=0;try{for(var S=Nm(m),T=S.next();!T.done;T=S.next())for(var _=T.value,E=0;E<_.getCount();E++){var N=_.getDataCodewords(),R=d.getECCodewordsPerBlock()+N;b[w++]=new t(N,new Uint8Array(R))}}catch(ve){l={error:ve}}finally{try{T&&!T.done&&(c=S.return)&&c.call(S)}finally{if(l)throw l.error}}for(var M=b[0].codewords.length,k=b.length-1;k>=0;){var Z=b[k].codewords.length;if(Z===M)break;k--}k++;for(var ee=M-d.getECCodewordsPerBlock(),ie=0,E=0;E<ee;E++)for(var se=0;se<w;se++)b[se].codewords[E]=e[ie++];for(var se=k;se<w;se++)b[se].codewords[ee]=e[ie++];for(var ye=b[0].codewords.length,E=ee;E<ye;E++)for(var se=0;se<w;se++){var le=se<k?E:E+1;b[se].codewords[le]=e[ie++]}return b},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),qr;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(qr||(qr={}));var ht=function(){function t(e,r,n,a){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,t.FOR_BITS.set(a,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Se;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(qr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(qr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(qr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(qr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(qr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(qr.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(qr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(qr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(qr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(qr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),rS=function(){function t(){}return t.decode=function(e,r,n,a){var o=new ig(e),l=new Le,c=new Array,d=-1,h=-1;try{var m=null,x=!1,y=void 0;do{if(o.available()<4)y=ht.TERMINATOR;else{var _=o.readBits(4);y=ht.forBits(_)}switch(y){case ht.TERMINATOR:break;case ht.FNC1_FIRST_POSITION:case ht.FNC1_SECOND_POSITION:x=!0;break;case ht.STRUCTURED_APPEND:if(o.available()<16)throw new fe;d=o.readBits(8),h=o.readBits(8);break;case ht.ECI:var b=t.parseECIValue(o);if(m=Pt.getCharacterSetECIByValue(b),m===null)throw new fe;break;case ht.HANZI:var w=o.readBits(4),S=o.readBits(y.getCharacterCountBits(r));w===t.GB2312_SUBSET&&t.decodeHanziSegment(o,l,S);break;default:var T=o.readBits(y.getCharacterCountBits(r));switch(y){case ht.NUMERIC:t.decodeNumericSegment(o,l,T);break;case ht.ALPHANUMERIC:t.decodeAlphanumericSegment(o,l,T,x);break;case ht.BYTE:t.decodeByteSegment(o,l,T,m,c,a);break;case ht.KANJI:t.decodeKanjiSegment(o,l,T);break;default:throw new fe}break}}while(y!==ht.TERMINATOR)}catch{throw new fe}return new _u(e,l.toString(),c.length===0?null:c,n===null?null:n.toString(),d,h)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new fe;for(var a=new Uint8Array(2*n),o=0;n>0;){var l=e.readBits(13),c=l/96<<8&4294967295|l%96;c<959?c+=41377:c+=42657,a[o]=c>>8&255,a[o+1]=c&255,o+=2,n--}try{r.append($r.decode(a,Ge.GB2312))}catch(d){throw new fe(d)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new fe;for(var a=new Uint8Array(2*n),o=0;n>0;){var l=e.readBits(13),c=l/192<<8&4294967295|l%192;c<7936?c+=33088:c+=49472,a[o]=c>>8,a[o+1]=c,o+=2,n--}try{r.append($r.decode(a,Ge.SHIFT_JIS))}catch(d){throw new fe(d)}},t.decodeByteSegment=function(e,r,n,a,o,l){if(8*n>e.available())throw new fe;for(var c=new Uint8Array(n),d=0;d<n;d++)c[d]=e.readBits(8);var h;a===null?h=Ge.guessEncoding(c,l):h=a.getName();try{r.append($r.decode(c,h))}catch(m){throw new fe(m)}o.push(c)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new fe;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,a){for(var o=r.length();n>1;){if(e.available()<11)throw new fe;var l=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(l/45))),r.append(t.toAlphaNumericChar(l%45)),n-=2}if(n===1){if(e.available()<6)throw new fe;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(a)for(var c=o;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new fe;var a=e.readBits(10);if(a>=1e3)throw new fe;r.append(t.toAlphaNumericChar(Math.floor(a/100))),r.append(t.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(t.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new fe;var o=e.readBits(7);if(o>=100)throw new fe;r.append(t.toAlphaNumericChar(Math.floor(o/10))),r.append(t.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new fe;var l=e.readBits(4);if(l>=10)throw new fe;r.append(t.toAlphaNumericChar(l))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=e.readBits(16);return(r&31)<<16&4294967295|a}throw new fe},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),sg=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),Om=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nS=function(){function t(){this.rsDecoder=new bu(wr.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(yn.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new eS(e),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(l){a=l}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,r);return o.setOther(new sg(!0)),o}catch(l){throw a!==null?a:l}},t.prototype.decodeBitMatrixParser=function(e,r){var n,a,o,l,c=e.readVersion(),d=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),m=tS.getDataBlocks(h,c,d),x=0;try{for(var y=Om(m),_=y.next();!_.done;_=y.next()){var b=_.value;x+=b.getNumDataCodewords()}}catch(k){n={error:k}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(n)throw n.error}}var w=new Uint8Array(x),S=0;try{for(var T=Om(m),E=T.next();!E.done;E=T.next()){var b=E.value,N=b.getCodewords(),R=b.getNumDataCodewords();this.correctErrors(N,R);for(var M=0;M<R;M++)w[S++]=N[M]}}catch(k){o={error:k}}finally{try{E&&!E.done&&(l=T.return)&&l.call(T)}finally{if(o)throw o.error}}return rS.decode(w,c,d,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Yt}for(var a=0;a<r;a++)e[a]=n[a]},t}(),aS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iS=function(t){aS(e,t);function e(r,n,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=a,o}return e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var o=(this.getX()+n)/2,l=(this.getY()+r)/2,c=(this.estimatedModuleSize+a)/2;return new e(o,l,c)},e}(_e),oS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sS=function(){function t(e,r,n,a,o,l,c){this.image=e,this.startX=r,this.startY=n,this.width=a,this.height=o,this.moduleSize=l,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,a=e+n,o=this.startY+r/2,l=new Int32Array(3),c=this.image,d=0;d<r;d++){var h=o+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));l[0]=0,l[1]=0,l[2]=0;for(var m=e;m<a&&!c.get(m,h);)m++;for(var x=0;m<a;){if(c.get(m,h))if(x===1)l[1]++;else if(x===2){if(this.foundPatternCross(l)){var y=this.handlePossibleCenter(l,h,m);if(y!==null)return y}l[0]=l[2],l[1]=1,l[2]=0,x=1}else l[++x]++;else x===1&&x++,l[x]++;m++}if(this.foundPatternCross(l)){var y=this.handlePossibleCenter(l,h,a);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-e[a])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,a){var o=this.image,l=o.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;for(var d=e;d>=0&&o.get(r,d)&&c[1]<=n;)c[1]++,d--;if(d<0||c[1]>n)return NaN;for(;d>=0&&!o.get(r,d)&&c[0]<=n;)c[0]++,d--;if(c[0]>n)return NaN;for(d=e+1;d<l&&o.get(r,d)&&c[1]<=n;)c[1]++,d++;if(d===l||c[1]>n)return NaN;for(;d<l&&!o.get(r,d)&&c[2]<=n;)c[2]++,d++;if(c[2]>n)return NaN;var h=c[0]+c[1]+c[2];return 5*Math.abs(h-a)>=2*a?NaN:this.foundPatternCross(c)?t.centerFromEnd(c,d):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var a,o,l=e[0]+e[1]+e[2],c=t.centerFromEnd(e,n),d=this.crossCheckVertical(r,c,2*e[1],l);if(!isNaN(d)){var h=(e[0]+e[1]+e[2])/3;try{for(var m=oS(this.possibleCenters),x=m.next();!x.done;x=m.next()){var y=x.value;if(y.aboutEquals(h,d,c))return y.combineEstimate(d,c,h)}}catch(b){a={error:b}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}var _=new iS(c,d,h);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null},t}(),lS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uS=function(t){lS(e,t);function e(r,n,a,o){var l=t.call(this,r,n)||this;return l.estimatedModuleSize=a,l.count=o,o===void 0&&(l.count=1),l}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var o=this.count+1,l=(this.count*this.getX()+n)/o,c=(this.count*this.getY()+r)/o,d=(this.count*this.estimatedModuleSize+a)/o;return new e(l,c,d,o)},e}(_e),cS=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),es=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fS=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(mt.TRY_HARDER)!==void 0,n=e!=null&&e.get(mt.PURE_BARCODE)!==void 0,a=this.image,o=a.getHeight(),l=a.getWidth(),c=Math.floor(3*o/(4*t.MAX_MODULES));(c<t.MIN_SKIP||r)&&(c=t.MIN_SKIP);for(var d=!1,h=new Int32Array(5),m=c-1;m<o&&!d;m+=c){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var x=0,y=0;y<l;y++)if(a.get(y,m))(x&1)===1&&x++,h[x]++;else if((x&1)===0)if(x===4)if(t.foundPatternCross(h)){var _=this.handlePossibleCenter(h,m,y,n);if(_===!0)if(c=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{var b=this.findRowSkip();b>h[2]&&(m+=b-h[2]-c,y=l-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,x=3;continue}x=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,x=3;else h[++x]++;else h[x]++;if(t.foundPatternCross(h)){var _=this.handlePossibleCenter(h,m,l,n);_===!0&&(c=h[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return _e.orderBestPatterns(w),new cS(w)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;r+=a}if(r<7)return!1;var o=r/7,l=o/2;return Math.abs(o-e[0])<l&&Math.abs(o-e[1])<l&&Math.abs(3*o-e[2])<3*l&&Math.abs(o-e[3])<l&&Math.abs(o-e[4])<l},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,a){for(var o=this.getCrossCheckStateCount(),l=0,c=this.image;e>=l&&r>=l&&c.get(r-l,e-l);)o[2]++,l++;if(e<l||r<l)return!1;for(;e>=l&&r>=l&&!c.get(r-l,e-l)&&o[1]<=n;)o[1]++,l++;if(e<l||r<l||o[1]>n)return!1;for(;e>=l&&r>=l&&c.get(r-l,e-l)&&o[0]<=n;)o[0]++,l++;if(o[0]>n)return!1;var d=c.getHeight(),h=c.getWidth();for(l=1;e+l<d&&r+l<h&&c.get(r+l,e+l);)o[2]++,l++;if(e+l>=d||r+l>=h)return!1;for(;e+l<d&&r+l<h&&!c.get(r+l,e+l)&&o[3]<n;)o[3]++,l++;if(e+l>=d||r+l>=h||o[3]>=n)return!1;for(;e+l<d&&r+l<h&&c.get(r+l,e+l)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return!1;var m=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(m-a)<2*a&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,r,n,a){for(var o=this.image,l=o.getHeight(),c=this.getCrossCheckStateCount(),d=e;d>=0&&o.get(r,d);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(r,d)&&c[1]<=n;)c[1]++,d--;if(d<0||c[1]>n)return NaN;for(;d>=0&&o.get(r,d)&&c[0]<=n;)c[0]++,d--;if(c[0]>n)return NaN;for(d=e+1;d<l&&o.get(r,d);)c[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(r,d)&&c[3]<n;)c[3]++,d++;if(d===l||c[3]>=n)return NaN;for(;d<l&&o.get(r,d)&&c[4]<n;)c[4]++,d++;if(c[4]>=n)return NaN;var h=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(h-a)>=2*a?NaN:t.foundPatternCross(c)?t.centerFromEnd(c,d):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,a){for(var o=this.image,l=o.getWidth(),c=this.getCrossCheckStateCount(),d=e;d>=0&&o.get(d,r);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(d,r)&&c[1]<=n;)c[1]++,d--;if(d<0||c[1]>n)return NaN;for(;d>=0&&o.get(d,r)&&c[0]<=n;)c[0]++,d--;if(c[0]>n)return NaN;for(d=e+1;d<l&&o.get(d,r);)c[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(d,r)&&c[3]<n;)c[3]++,d++;if(d===l||c[3]>=n)return NaN;for(;d<l&&o.get(d,r)&&c[4]<n;)c[4]++,d++;if(c[4]>=n)return NaN;var h=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(h-a)>=a?NaN:t.foundPatternCross(c)?t.centerFromEnd(c,d):NaN},t.prototype.handlePossibleCenter=function(e,r,n,a){var o=e[0]+e[1]+e[2]+e[3]+e[4],l=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,Math.floor(l),e[2],o);if(!isNaN(c)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(c),e[2],o),!isNaN(l)&&(!a||this.crossCheckDiagonal(Math.floor(c),Math.floor(l),e[2],o)))){for(var d=o/7,h=!1,m=this.possibleCenters,x=0,y=m.length;x<y;x++){var _=m[x];if(_.aboutEquals(d,c,l)){m[x]=_.combineEstimate(c,l,d),h=!0;break}}if(!h){var b=new uS(l,c,d);m.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var o=es(this.possibleCenters),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.getCount()>=t.CENTER_QUORUM)if(a==null)a=c;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-c.getX())-Math.abs(a.getY()-c.getY()))/2)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,a,o=0,l=0,c=this.possibleCenters.length;try{for(var d=es(this.possibleCenters),h=d.next();!h.done;h=d.next()){var m=h.value;m.getCount()>=t.CENTER_QUORUM&&(o++,l+=m.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}if(o<3)return!1;var x=l/c,y=0;try{for(var _=es(this.possibleCenters),b=_.next();!b.done;b=_.next()){var m=b.value;y+=Math.abs(m.getEstimatedModuleSize()-x)}}catch(w){n={error:w}}finally{try{b&&!b.done&&(a=_.return)&&a.call(_)}finally{if(n)throw n.error}}return y<=.05*l},t.prototype.selectBestPatterns=function(){var e,r,n,a,o=this.possibleCenters.length;if(o<3)throw new $;var l=this.possibleCenters,c;if(o>3){var d=0,h=0;try{for(var m=es(this.possibleCenters),x=m.next();!x.done;x=m.next()){var y=x.value,_=y.getEstimatedModuleSize();d+=_,h+=_*_}}catch(M){e={error:M}}finally{try{x&&!x.done&&(r=m.return)&&r.call(m)}finally{if(e)throw e.error}}c=d/o;var b=Math.sqrt(h/o-c*c);l.sort(function(M,k){var Z=Math.abs(k.getEstimatedModuleSize()-c),ee=Math.abs(M.getEstimatedModuleSize()-c);return Z<ee?-1:Z>ee?1:0});for(var w=Math.max(.2*c,b),S=0;S<l.length&&l.length>3;S++){var T=l[S];Math.abs(T.getEstimatedModuleSize()-c)>w&&(l.splice(S,1),S--)}}if(l.length>3){var d=0;try{for(var E=es(l),N=E.next();!N.done;N=E.next()){var R=N.value;d+=R.getEstimatedModuleSize()}}catch(k){n={error:k}}finally{try{N&&!N.done&&(a=E.return)&&a.call(E)}finally{if(n)throw n.error}}c=d/l.length,l.sort(function(k,Z){if(Z.getCount()===k.getCount()){var ee=Math.abs(Z.getEstimatedModuleSize()-c),ie=Math.abs(k.getEstimatedModuleSize()-c);return ee<ie?1:ee>ie?-1:0}else return Z.getCount()-k.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),dS=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(mt.NEED_RESULT_POINT_CALLBACK);var r=new fS(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),o=this.calculateModuleSize(r,n,a);if(o<1)throw new $("No pattern found in proccess finder.");var l=t.computeDimension(r,n,a,o),c=Ha.getProvisionalVersionForDimension(l),d=c.getDimensionForVersion()-7,h=null;if(c.getAlignmentPatternCenters().length>0)for(var m=n.getX()-r.getX()+a.getX(),x=n.getY()-r.getY()+a.getY(),y=1-3/d,_=Math.floor(r.getX()+y*(m-r.getX())),b=Math.floor(r.getY()+y*(x-r.getY())),w=4;w<=16;w<<=1)try{h=this.findAlignmentInRegion(o,_,b,w);break}catch(N){if(!(N instanceof $))throw N}var S=t.createTransform(r,n,a,h,l),T=t.sampleGrid(this.image,S,l),E;return h===null?E=[a,r,n]:E=[a,r,n,h],new r0(T,E)},t.createTransform=function(e,r,n,a,o){var l=o-3.5,c,d,h,m;return a!==null?(c=a.getX(),d=a.getY(),h=l-3,m=h):(c=r.getX()-e.getX()+n.getX(),d=r.getY()-e.getY()+n.getY(),h=l,m=l),tg.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,h,m,3.5,l,e.getX(),e.getY(),r.getX(),r.getY(),c,d,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var a=n0.getInstance();return a.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,a){var o=qe.round(_e.distance(e,r)/a),l=qe.round(_e.distance(e,n)/a),c=Math.floor((o+l)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new $("Dimensions could be not found.")}return c},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,a){var o=this.sizeOfBlackWhiteBlackRun(e,r,n,a),l=1,c=e-(n-e);c<0?(l=e/(e-c),c=0):c>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);var d=Math.floor(r-(a-r)*l);return l=1,d<0?(l=r/(r-d),d=0):d>=this.image.getHeight()&&(l=(this.image.getHeight()-1-r)/(d-r),d=this.image.getHeight()-1),c=Math.floor(e+(c-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,r,c,d),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,a){var o=Math.abs(a-r)>Math.abs(n-e);if(o){var l=e;e=r,r=l,l=n,n=a,a=l}for(var c=Math.abs(n-e),d=Math.abs(a-r),h=-c/2,m=e<n?1:-1,x=r<a?1:-1,y=0,_=n+m,b=e,w=r;b!==_;b+=m){var S=o?w:b,T=o?b:w;if(y===1===this.image.get(S,T)){if(y===2)return qe.distance(b,w,e,r);y++}if(h+=d,h>0){if(w===a)break;w+=x,h-=c}}return y===2?qe.distance(n+m,a,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,a){var o=Math.floor(a*e),l=Math.max(0,r-o),c=Math.min(this.image.getWidth()-1,r+o);if(c-l<e*3)throw new $("Alignment top exceeds estimated module size.");var d=Math.max(0,n-o),h=Math.min(this.image.getHeight()-1,n+o);if(h-d<e*3)throw new $("Alignment bottom exceeds estimated module size.");var m=new sS(this.image,l,d,c-l,h-d,e,this.resultPointCallback);return m.find()},t}(),Nd=function(){function t(){this.decoder=new nS}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,a;if(r!=null&&r.get(mt.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),a=t.NO_POINTS}else{var l=new dS(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(l.getBits(),r),a=l.getPoints()}n.getOther()instanceof sg&&n.getOther().applyMirroredCorrection(a);var c=new lr(n.getText(),n.getRawBytes(),void 0,a,Ee.QR_CODE,void 0),d=n.getByteSegments();d!==null&&c.putMetadata(rr.BYTE_SEGMENTS,d);var h=n.getECLevel();return h!==null&&c.putMetadata(rr.ERROR_CORRECTION_LEVEL,h),n.hasStructuredAppend()&&(c.putMetadata(rr.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),c.putMetadata(rr.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new $;var a=this.moduleSize(r,e),o=r[1],l=n[1],c=r[0],d=n[0];if(c>=d||o>=l)throw new $;if(l-o!==d-c&&(d=c+(l-o),d>=e.getWidth()))throw new $;var h=Math.round((d-c+1)/a),m=Math.round((l-o+1)/a);if(h<=0||m<=0)throw new $;if(m!==h)throw new $;var x=Math.floor(a/2);o+=x,c+=x;var y=c+Math.floor((h-1)*a)-d;if(y>0){if(y>x)throw new $;c-=y}var _=o+Math.floor((m-1)*a)-l;if(_>0){if(_>x)throw new $;o-=_}for(var b=new yn(h,m),w=0;w<m;w++)for(var S=o+Math.floor(w*a),T=0;T<h;T++)e.get(c+Math.floor(T*a),S)&&b.set(T,w);return b},t.moduleSize=function(e,r){for(var n=r.getHeight(),a=r.getWidth(),o=e[0],l=e[1],c=!0,d=0;o<a&&l<n;){if(c!==r.get(o,l)){if(++d===5)break;c=!c}o++,l++}if(o===a||l===n)throw new $;return(o-e[0])/7},t.NO_POINTS=new Array,t}(),hS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ze=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return qe.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),o=0;try{for(var l=hS(e),c=l.next();!c.done;c=l.next()){var d=c.value;a[o++]=d}}catch(h){r={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return a},t.getCodeword=function(e){var r=Lt.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),pS=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),vS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mS=function(){function t(){}return t.detectMultiple=function(e,r,n){var a=e.getBlackMatrix(),o=t.detect(n,a);return o.length||(a=a.clone(),a.rotate180(),o=t.detect(n,a)),new pS(a,o)},t.detect=function(e,r){for(var n,a,o=new Array,l=0,c=0,d=!1;l<r.getHeight();){var h=t.findVertices(r,l,c);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,c=0;try{for(var m=(n=void 0,vS(o)),x=m.next();!x.done;x=m.next()){var y=x.value;y[1]!=null&&(l=Math.trunc(Math.max(l,y[1].getY()))),y[3]!=null&&(l=Math.max(l,Math.trunc(y[3].getY())))}}catch(_){n={error:_}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}l+=t.ROW_STEP;continue}if(d=!0,o.push(h),!e)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return o},t.findVertices=function(e,r,n){var a=e.getHeight(),o=e.getWidth(),l=new Array(8);return t.copyToResult(l,t.findRowsWithPattern(e,a,o,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),l[4]!=null&&(n=Math.trunc(l[4].getX()),r=Math.trunc(l[4].getY())),t.copyToResult(l,t.findRowsWithPattern(e,a,o,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),l},t.copyToResult=function(e,r,n){for(var a=0;a<n.length;a++)e[n[a]]=r[a]},t.findRowsWithPattern=function(e,r,n,a,o,l){for(var c=new Array(4),d=!1,h=new Int32Array(l.length);a<r;a+=t.ROW_STEP){var m=t.findGuardPattern(e,o,a,n,!1,l,h);if(m!=null){for(;a>0;){var x=t.findGuardPattern(e,o,--a,n,!1,l,h);if(x!=null)m=x;else{a++;break}}c[0]=new _e(m[0],a),c[1]=new _e(m[1],a),d=!0;break}}var y=a+1;if(d){for(var _=0,x=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);y<r;y++){var m=t.findGuardPattern(e,x[0],y,n,!1,l,h);if(m!=null&&Math.abs(x[0]-m[0])<t.MAX_PATTERN_DRIFT&&Math.abs(x[1]-m[1])<t.MAX_PATTERN_DRIFT)x=m,_=0;else{if(_>t.SKIPPED_ROW_COUNT_MAX)break;_++}}y-=_+1,c[2]=new _e(x[0],y),c[3]=new _e(x[1],y)}return y-a<t.BARCODE_MIN_HEIGHT&&Lt.fill(c,null),c},t.findGuardPattern=function(e,r,n,a,o,l,c){Lt.fillWithin(c,0,c.length,0);for(var d=r,h=0;e.get(d,n)&&d>0&&h++<t.MAX_PIXEL_DRIFT;)d--;for(var m=d,x=0,y=l.length,_=o;m<a;m++){var b=e.get(m,n);if(b!==_)c[x]++;else{if(x===y-1){if(t.patternMatchVariance(c,l,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([d,m]);d+=c[0]+c[1],ft.arraycopy(c,2,c,0,x-1),c[x-1]=0,c[x]=0,x--}else x++;c[x]=1,_=!_}}return x===y-1&&t.patternMatchVariance(c,l,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([d,m-1]):null},t.patternMatchVariance=function(e,r,n){for(var a=e.length,o=0,l=0,c=0;c<a;c++)o+=e[c],l+=r[c];if(o<l)return 1/0;var d=o/l;n*=d;for(var h=0,m=0;m<a;m++){var x=e[m],y=r[m]*d,_=x>y?x-y:y-x;if(_>n)return 1/0;h+=_}return h/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),xS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},za=function(){function t(e,r){if(r.length===0)throw new Se;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),ft.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var o=xS(this.coefficients),l=o.next();!l.done;l=o.next()){var c=l.value;a=this.field.add(a,c)}}catch(x){r={error:x}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}for(var d=this.coefficients[0],h=this.coefficients.length,m=1;m<h;m++)d=this.field.add(this.field.multiply(e,d),this.coefficients[m]);return d},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Se("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var o=new Int32Array(n.length),l=n.length-r.length;ft.arraycopy(n,0,o,0,l);for(var c=l;c<n.length;c++)o[c]=this.field.add(r[c-l],n[c]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Se("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Se("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=e.coefficients,o=a.length,l=new Int32Array(n+o-1),c=0;c<n;c++)for(var d=r[c],h=0;h<o;h++)l[c+h]=this.field.add(l[c+h],this.field.multiply(d,a[h]));return new t(this.field,l)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Se;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),o=0;o<n;o++)a[o]=this.field.multiply(this.coefficients[o],r);return new t(this.field,a)},t.prototype.toString=function(){for(var e=new Le,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),gS=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Se;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new eg;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),yS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_S=function(t){yS(e,t);function e(r,n){var a=t.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var o=1,l=0;l<r;l++)a.expTable[l]=o,o=o*n%r;for(var l=0;l<r-1;l++)a.logTable[a.expTable[l]]=l;return a.zero=new za(a,new Int32Array([0])),a.one=new za(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Se;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new za(this,a)},e.PDF417_GF=new e(Ze.NUMBER_OF_CODEWORDS,3),e}(gS),bS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wS=function(){function t(){this.field=_S.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var a,o,l=new za(this.field,e),c=new Int32Array(r),d=!1,h=r;h>0;h--){var m=l.evaluateAt(this.field.exp(h));c[r-h]=m,m!==0&&(d=!0)}if(!d)return 0;var x=this.field.getOne();if(n!=null)try{for(var y=bS(n),_=y.next();!_.done;_=y.next()){var b=_.value,w=this.field.exp(e.length-1-b),S=new za(this.field,new Int32Array([this.field.subtract(0,w),1]));x=x.multiply(S)}}catch(ee){a={error:ee}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}for(var T=new za(this.field,c),E=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),T,r),N=E[0],R=E[1],M=this.findErrorLocations(N),k=this.findErrorMagnitudes(R,N,M),h=0;h<M.length;h++){var Z=e.length-1-this.field.log(M[h]);if(Z<0)throw Yt.getChecksumInstance();e[Z]=this.field.subtract(e[Z],k[h])}return M.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var o=e,l=r,c=this.field.getZero(),d=this.field.getOne();l.getDegree()>=Math.round(n/2);){var h=o,m=c;if(o=l,c=d,o.isZero())throw Yt.getChecksumInstance();l=h;for(var x=this.field.getZero(),y=o.getCoefficient(o.getDegree()),_=this.field.inverse(y);l.getDegree()>=o.getDegree()&&!l.isZero();){var b=l.getDegree()-o.getDegree(),w=this.field.multiply(l.getCoefficient(l.getDegree()),_);x=x.add(this.field.buildMonomial(b,w)),l=l.subtract(o.multiplyByMonomial(b,w))}d=x.multiply(c).subtract(m).negative()}var S=d.getCoefficient(0);if(S===0)throw Yt.getChecksumInstance();var T=this.field.inverse(S),E=d.multiply(T),N=l.multiply(T);return[E,N]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),a=0,o=1;o<this.field.getSize()&&a<r;o++)e.evaluateAt(o)===0&&(n[a]=this.field.inverse(o),a++);if(a!==r)throw Yt.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var a=r.getDegree(),o=new Int32Array(a),l=1;l<=a;l++)o[a-l]=this.field.multiply(l,r.getCoefficient(l));for(var c=new za(this.field,o),d=n.length,h=new Int32Array(d),l=0;l<d;l++){var m=this.field.inverse(n[l]),x=this.field.subtract(0,e.evaluateAt(m)),y=this.field.inverse(c.evaluateAt(m));h[l]=this.field.multiply(x,y)}return h},t}(),Od=function(){function t(e,r,n,a,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,a,o)}return t.prototype.constructor_1=function(e,r,n,a,o){var l=r==null||n==null,c=a==null||o==null;if(l&&c)throw new $;l?(r=new _e(0,a.getY()),n=new _e(0,o.getY())):c&&(a=new _e(e.getWidth()-1,r.getY()),o=new _e(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=o,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),o.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var a=this.topLeft,o=this.bottomLeft,l=this.topRight,c=this.bottomRight;if(e>0){var d=n?this.topLeft:this.topRight,h=Math.trunc(d.getY()-e);h<0&&(h=0);var m=new _e(d.getX(),h);n?a=m:l=m}if(r>0){var x=n?this.bottomLeft:this.bottomRight,y=Math.trunc(x.getY()+r);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var _=new _e(x.getX(),y);n?o=_:c=_}return new t(this.image,a,o,l,c)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),AS=function(){function t(e,r,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),i0=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function a(l,c,d,h,m,x){if(l==="%%")return"%";if(r[++n]!==void 0){l=h?parseInt(h.substr(1)):void 0;var y=m?parseInt(m.substr(1)):void 0,_;switch(x){case"s":_=r[n];break;case"c":_=r[n][0];break;case"f":_=parseFloat(r[n]).toFixed(l);break;case"p":_=parseFloat(r[n]).toPrecision(l);break;case"e":_=parseFloat(r[n]).toExponential(l);break;case"x":_=parseInt(r[n]).toString(y||16);break;case"d":_=parseFloat(parseInt(r[n],y||10).toPrecision(l)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(y);for(var b=parseInt(d),w=d&&d[0]+""=="0"?"0":" ";_.length<b;)_=c!==void 0?_+w:w+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),ES=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lg=function(){function t(e){this.boundingBox=new Od(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new i0,a=0;try{for(var o=ES(this.codewords),l=o.next();!l.done;l=o.next()){var c=l.value;if(c==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,c.getRowNumber(),c.getValue())}}catch(d){e={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),SS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CS=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,o=[],l;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(c){l={error:c}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return o},os=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,a=new Array,o=function(x,y){var _={getKey:function(){return x},getValue:function(){return y}};_.getValue()>n?(n=_.getValue(),a=[],a.push(_.getKey())):_.getValue()===n&&a.push(_.getKey())};try{for(var l=SS(this.values.entries()),c=l.next();!c.done;c=l.next()){var d=CS(c.value,2),h=d[0],m=d[1];o(h,m)}}catch(x){e={error:x}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return Ze.toIntArray(a)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),NS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ed=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tm=function(t){NS(e,t);function e(r,n){var a=t.call(this,r)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var r,n;try{for(var a=ed(this.getCodewords()),o=a.next();!o.done;o=a.next()){var l=o.value;l?.setRowNumberAsRowIndicatorColumn()}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),o=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,m=1,x=0,y=c;y<d;y++)if(n[y]!=null){var _=n[y],b=_.getRowNumber()-h;if(b===0)x++;else if(b===1)m=Math.max(m,x),x=1,h=_.getRowNumber();else if(b<0||_.getRowNumber()>=r.getRowCount()||b>y)n[y]=null;else{var w=void 0;m>2?w=(m-2)*b:w=b;for(var S=w>=y,T=1;T<=w&&!S;T++)S=n[y-T]!=null;S?n[y]=null:(h=_.getRowNumber(),x=1)}}},e.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var o=new Int32Array(a.getRowCount());try{for(var l=ed(this.getCodewords()),c=l.next();!c.done;c=l.next()){var d=c.value;if(d!=null){var h=d.getRowNumber();if(h>=o.length)continue;o[h]++}}}catch(m){r={error:m}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),h=-1,m=l;m<c;m++)if(d[m]!=null){var x=d[m];x.setRowNumberAsRowIndicatorColumn();var y=x.getRowNumber()-h;y===0||(y===1?h=x.getRowNumber():x.getRowNumber()>=r.getRowCount()?d[m]=null:h=x.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),o=new os,l=new os,c=new os,d=new os;try{for(var h=ed(a),m=h.next();!m.done;m=h.next()){var x=m.value;if(x!=null){x.setRowNumberAsRowIndicatorColumn();var y=x.getValue()%30,_=x.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),c.setValue(y%3);break;case 2:o.setValue(y+1);break}}}}catch(w){r={error:w}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}if(o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Ze.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Ze.MAX_ROWS_IN_BARCODE)return null;var b=new AS(o.getValue()[0],l.getValue()[0],c.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(a,b),b},e.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var o=r[a];if(r[a]!=null){var l=o.getValue()%30,c=o.getRowNumber();if(c>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(l/3)!==n.getErrorCorrectionLevel()||l%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:l+1!==n.getColumnCount()&&(r[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(lg),OS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TS=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ze.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var o=this.detectionResultColumns[a].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),o=0,l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){var c=this.detectionResultColumns[l].getCodewords()[n];c!=null&&(o=t.adjustRowNumberIfValid(a,o,c),c.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),o=0,l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){var c=this.detectionResultColumns[l].getCodewords()[n];c!=null&&(o=t.adjustRowNumberIfValid(a,o,c),c.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var a,o;if(this.detectionResultColumns[e-1]!=null){var l=n[r],c=this.detectionResultColumns[e-1].getCodewords(),d=c;this.detectionResultColumns[e+1]!=null&&(d=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=c[r],h[3]=d[r],r>0&&(h[0]=n[r-1],h[4]=c[r-1],h[5]=d[r-1]),r>1&&(h[8]=n[r-2],h[10]=c[r-2],h[11]=d[r-2]),r<n.length-1&&(h[1]=n[r+1],h[6]=c[r+1],h[7]=d[r+1]),r<n.length-2&&(h[9]=n[r+2],h[12]=c[r+2],h[13]=d[r+2]);try{for(var m=OS(h),x=m.next();!x.done;x=m.next()){var y=x.value;if(t.adjustRowNumber(l,y))return}}catch(_){a={error:_}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new i0,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var o=this.detectionResultColumns[a].getCodewords()[n];if(o==null){r.format("    |   ");continue}r.format(" %3d|%3d",o.getRowNumber(),o.getValue())}r.format("%n")}return r.toString()},t}(),DS=function(){function t(e,r,n,a){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),RS=function(){function t(){}return t.initialize=function(){for(var e=0;e<Ze.SYMBOL_TABLE.length;e++)for(var r=Ze.SYMBOL_TABLE[e],n=r&1,a=0;a<Ze.BARS_IN_MODULE;a++){for(var o=0;(r&1)===n;)o+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Ze.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Ze.BARS_IN_MODULE-a-1]=Math.fround(o/Ze.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=qe.sum(e),n=new Int32Array(Ze.BARS_IN_MODULE),a=0,o=0,l=0;l<Ze.MODULES_IN_CODEWORD;l++){var c=r/(2*Ze.MODULES_IN_CODEWORD)+l*r/Ze.MODULES_IN_CODEWORD;o+e[a]<=c&&(o+=e[a],a++),n[a]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Ze.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=qe.sum(e),n=new Array(Ze.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/r);var o=wd.MAX_VALUE,l=-1;this.bSymbolTableReady||t.initialize();for(var c=0;c<t.RATIOS_TABLE.length;c++){for(var d=0,h=t.RATIOS_TABLE[c],m=0;m<Ze.BARS_IN_MODULE;m++){var x=Math.fround(h[m]-n[m]);if(d+=Math.fround(x*x),d>=o)break}d<o&&(o=d,l=Ze.SYMBOL_TABLE[c])}return l},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Ze.SYMBOL_TABLE.length).map(function(e){return new Array(Ze.BARS_IN_MODULE)}),t}(),IS=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),Dm=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),jS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MS=function(t){jS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Cr),BS=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new MS;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new e0;if(n===0)return;for(var a=0;a<n;a++)this.write(e[r+a])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),PS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),LS=function(t){PS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Cr),kS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FS=function(t){kS(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Se("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new LS;a=Fe.MAX_VALUE}this.buf=Lt.copyOfUint8Array(this.buf,a)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new e0;this.ensureCapacity(this.count+a),ft.arraycopy(r,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Lt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(BS),it;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(it||(it={}));function ug(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Ul;function fa(t){if(typeof Ul>"u"&&(Ul=ug()),Ul===null)throw new Error("BigInt is not supported!");return Ul(t)}function US(){var t=[];t[0]=fa(1);var e=fa(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var zS=function(){function t(){}return t.decode=function(e,r){var n=new Le(""),a=Pt.ISO8859_1;n.enableDecoding(a);for(var o=1,l=e[o++],c=new IS;o<e[0];){switch(l){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(l,e,a,o,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,n);break;case t.ECI_CHARSET:Pt.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,c);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new fe;default:o--,o=t.textCompaction(e,o,n);break}if(o<e.length)l=e[o++];else throw fe.getFormatInstance()}if(n.length()===0)throw fe.getFormatInstance();var d=new _u(null,n.toString(),null,r);return d.setOther(c),d},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw fe.getFormatInstance();for(var a=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)a[o]=e[r];n.setSegmentIndex(Fe.parseInt(t.decodeBase900toBase10(a,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var l=new Le;r=t.textCompaction(e,r,l),n.setFileId(l.toString());var c=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var d=new Le;r=t.textCompaction(e,r+1,d),n.setFileName(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new Le;r=t.textCompaction(e,r+1,h),n.setSender(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var m=new Le;r=t.textCompaction(e,r+1,m),n.setAddressee(m.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var x=new Le;r=t.numericCompaction(e,r+1,x),n.setSegmentCount(Fe.parseInt(x.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new Le;r=t.numericCompaction(e,r+1,y),n.setTimestamp(Dm.parseLong(y.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var _=new Le;r=t.numericCompaction(e,r+1,_),n.setChecksum(Fe.parseInt(_.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var b=new Le;r=t.numericCompaction(e,r+1,b),n.setFileSize(Dm.parseLong(b.toString()));break;default:throw fe.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw fe.getFormatInstance()}if(c!==-1){var w=r-c;n.isLastSegment()&&w--,n.setOptionalData(Lt.copyOfRange(e,c,c+w))}return r},t.textCompaction=function(e,r,n){for(var a=new Int32Array((e[0]-r)*2),o=new Int32Array((e[0]-r)*2),l=0,c=!1;r<e[0]&&!c;){var d=e[r++];if(d<t.TEXT_COMPACTION_MODE_LATCH)a[l]=d/30,a[l+1]=d%30,l+=2;else switch(d){case t.TEXT_COMPACTION_MODE_LATCH:a[l++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,c=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[l]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[r++],o[l]=d,l++;break}}return t.decodeTextCompaction(a,o,l,n),r},t.decodeTextCompaction=function(e,r,n,a){for(var o=it.ALPHA,l=it.ALPHA,c=0;c<n;){var d=e[c],h="";switch(o){case it.ALPHA:if(d<26)h=String.fromCharCode(65+d);else switch(d){case 26:h=" ";break;case t.LL:o=it.LOWER;break;case t.ML:o=it.MIXED;break;case t.PS:l=o,o=it.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[c]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=it.ALPHA;break}break;case it.LOWER:if(d<26)h=String.fromCharCode(97+d);else switch(d){case 26:h=" ";break;case t.AS:l=o,o=it.ALPHA_SHIFT;break;case t.ML:o=it.MIXED;break;case t.PS:l=o,o=it.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[c]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=it.ALPHA;break}break;case it.MIXED:if(d<t.PL)h=t.MIXED_CHARS[d];else switch(d){case t.PL:o=it.PUNCT;break;case 26:h=" ";break;case t.LL:o=it.LOWER;break;case t.AL:o=it.ALPHA;break;case t.PS:l=o,o=it.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[c]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=it.ALPHA;break}break;case it.PUNCT:if(d<t.PAL)h=t.PUNCT_CHARS[d];else switch(d){case t.PAL:o=it.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[c]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=it.ALPHA;break}break;case it.ALPHA_SHIFT:if(o=l,d<26)h=String.fromCharCode(65+d);else switch(d){case 26:h=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=it.ALPHA;break}break;case it.PUNCT_SHIFT:if(o=l,d<t.PAL)h=t.PUNCT_CHARS[d];else switch(d){case t.PAL:o=it.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[c]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=it.ALPHA;break}break}h!==""&&a.append(h),c++}},t.byteCompaction=function(e,r,n,a,o){var l=new FS,c=0,d=0,h=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var m=new Int32Array(6),x=r[a++];a<r[0]&&!h;)switch(m[c++]=x,d=900*d+x,x=r[a++],x){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,h=!0;break;default:if(c%5===0&&c>0){for(var y=0;y<6;++y)l.write(Number(fa(d)>>fa(8*(5-y))));d=0,c=0}break}a===r[0]&&x<t.TEXT_COMPACTION_MODE_LATCH&&(m[c++]=x);for(var _=0;_<c;_++)l.write(m[_]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!h;){var b=r[a++];if(b<t.TEXT_COMPACTION_MODE_LATCH)c++,d=900*d+b;else switch(b){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,h=!0;break}if(c%5===0&&c>0){for(var y=0;y<6;++y)l.write(Number(fa(d)>>fa(8*(5-y))));d=0,c=0}}break}return o.append($r.decode(l.toByteArray(),n)),a},t.numericCompaction=function(e,r,n){for(var a=0,o=!1,l=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!o;){var c=e[r++];if(r===e[0]&&(o=!0),c<t.TEXT_COMPACTION_MODE_LATCH)l[a]=c,a++;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break}(a%t.MAX_NUMERIC_CODEWORDS===0||c===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&a>0&&(n.append(t.decodeBase900toBase10(l,a)),a=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=fa(0),a=0;a<r;a++)n+=t.EXP900[r-a-1]*fa(e[a]);var o=n.toString();if(o.charAt(0)!=="1")throw new fe;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=ug()?US():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),ts=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VS=function(){function t(){}return t.decode=function(e,r,n,a,o,l,c){for(var d=new Od(e,r,n,a,o),h=null,m=null,x,y=!0;;y=!1){if(r!=null&&(h=t.getRowIndicatorColumn(e,d,r,!0,l,c)),a!=null&&(m=t.getRowIndicatorColumn(e,d,a,!1,l,c)),x=t.merge(h,m),x==null)throw $.getNotFoundInstance();var _=x.getBoundingBox();if(y&&_!=null&&(_.getMinY()<d.getMinY()||_.getMaxY()>d.getMaxY()))d=_;else break}x.setBoundingBox(d);var b=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,h),x.setDetectionResultColumn(b,m);for(var w=h!=null,S=1;S<=b;S++){var T=w?S:b-S;if(x.getDetectionResultColumn(T)===void 0){var E=void 0;T===0||T===b?E=new Tm(d,T===0):E=new lg(d),x.setDetectionResultColumn(T,E);for(var N=-1,R=N,M=d.getMinY();M<=d.getMaxY();M++){if(N=t.getStartColumn(x,T,M,w),N<0||N>d.getMaxX()){if(R===-1)continue;N=R}var k=t.detectCodeword(e,d.getMinX(),d.getMaxX(),w,N,M,l,c);k!=null&&(E.setCodeword(M,k),R=N,l=Math.min(l,k.getWidth()),c=Math.max(c,k.getWidth()))}}}return t.createDecoderResult(x)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var a=Od.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new TS(n,a)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var o=t.getMax(a),l=0;try{for(var c=ts(a),d=c.next();!d.done;d=c.next()){var h=d.value;if(l+=o-h,h>0)break}}catch(_){r={error:_}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}for(var m=e.getCodewords(),x=0;l>0&&m[x]==null;x++)l--;for(var y=0,x=a.length-1;x>=0&&(y+=o-a[x],!(a[x]>0));x--);for(var x=m.length-1;y>0&&m[x]==null;x--)y--;return e.getBoundingBox().addMissingRows(l,y,e.isLeft())},t.getMax=function(e){var r,n,a=-1;try{for(var o=ts(e),l=o.next();!l.done;l=o.next()){var c=l.value;a=Math.max(a,c)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,a,o,l){for(var c=new Tm(r,a),d=0;d<2;d++)for(var h=d===0?1:-1,m=Math.trunc(Math.trunc(n.getX())),x=Math.trunc(Math.trunc(n.getY()));x<=r.getMaxY()&&x>=r.getMinY();x+=h){var y=t.detectCodeword(e,0,e.getWidth(),a,m,x,o,l);y!=null&&(c.setCodeword(x,y),a?m=y.getStartX():m=y.getEndX())}return c},t.adjustCodewordCount=function(e,r){var n=r[0][1],a=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(o<1||o>Ze.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();n.setValue(o)}else a[0]!==o&&n.setValue(o)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array,c=0;c<e.getBarcodeRowCount();c++)for(var d=0;d<e.getBarcodeColumnCount();d++){var h=r[c][d+1].getValue(),m=c*e.getBarcodeColumnCount()+d;h.length===0?n.push(m):h.length===1?a[m]=h[0]:(l.push(m),o.push(h))}for(var x=new Array(o.length),y=0;y<x.length;y++)x[y]=o[y];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,Ze.toIntArray(n),Ze.toIntArray(l),x)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,a,o){for(var l=new Int32Array(a.length),c=100;c-- >0;){for(var d=0;d<l.length;d++)r[a[d]]=o[d][l[d]];try{return t.decodeCodewords(r,e,n)}catch(m){var h=m instanceof Yt;if(!h)throw m}if(l.length===0)throw Yt.getChecksumInstance();for(var d=0;d<l.length;d++)if(l[d]<o[d].length-1){l[d]++;break}else if(l[d]=0,d===l.length-1)throw Yt.getChecksumInstance()}throw Yt.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,a,o,l=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),c=0;c<l.length;c++)for(var d=0;d<l[c].length;d++)l[c][d]=new os;var h=0;try{for(var m=ts(e.getDetectionResultColumns()),x=m.next();!x.done;x=m.next()){var y=x.value;if(y!=null)try{for(var _=(a=void 0,ts(y.getCodewords())),b=_.next();!b.done;b=_.next()){var w=b.value;if(w!=null){var S=w.getRowNumber();if(S>=0){if(S>=l.length)continue;l[S][h].setValue(w.getValue())}}}}catch(T){a={error:T}}finally{try{b&&!b.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}h++}}catch(T){r={error:T}}finally{try{x&&!x.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}return l},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,a){var o,l,c=a?1:-1,d=null;if(t.isValidBarcodeColumn(e,r-c)&&(d=e.getDetectionResultColumn(r-c).getCodeword(n)),d!=null)return a?d.getEndX():d.getStartX();if(d=e.getDetectionResultColumn(r).getCodewordNearby(n),d!=null)return a?d.getStartX():d.getEndX();if(t.isValidBarcodeColumn(e,r-c)&&(d=e.getDetectionResultColumn(r-c).getCodewordNearby(n)),d!=null)return a?d.getEndX():d.getStartX();for(var h=0;t.isValidBarcodeColumn(e,r-c);){r-=c;try{for(var m=(o=void 0,ts(e.getDetectionResultColumn(r).getCodewords())),x=m.next();!x.done;x=m.next()){var y=x.value;if(y!=null)return(a?y.getEndX():y.getStartX())+c*h*(y.getEndX()-y.getStartX())}}catch(_){o={error:_}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}h++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,a,o,l,c,d){o=t.adjustCodewordStartColumn(e,r,n,a,o,l);var h=t.getModuleBitCount(e,r,n,a,o,l);if(h==null)return null;var m,x=qe.sum(h);if(a)m=o+x;else{for(var y=0;y<h.length/2;y++){var _=h[y];h[y]=h[h.length-1-y],h[h.length-1-y]=_}m=o,o=m-x}if(!t.checkCodewordSkew(x,c,d))return null;var b=RS.getDecodedValue(h),w=Ze.getCodeword(b);return w===-1?null:new DS(o,m,t.getCodewordBucketNumber(b),w)},t.getModuleBitCount=function(e,r,n,a,o,l){for(var c=o,d=new Int32Array(8),h=0,m=a?1:-1,x=a;(a?c<n:c>=r)&&h<d.length;)e.get(c,l)===x?(d[h]++,c+=m):(h++,x=!x);return h===d.length||c===(a?n:r)&&h===d.length-1?d:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,a,o,l){for(var c=o,d=a?-1:1,h=0;h<2;h++){for(;(a?c>=r:c<n)&&a===e.get(c,l);){if(Math.abs(o-c)>t.CODEWORD_SKEW_SIZE)return o;c+=d}d=-d,a=!a}return c},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw fe.getFormatInstance();var a=1<<r+1,o=t.correctErrors(e,n,a);t.verifyCodewordCount(e,a);var l=zS.decode(e,""+r);return l.setErrorsCorrected(o),l.setErasures(n.length),l},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Yt.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw fe.getFormatInstance();var n=e[0];if(n>e.length)throw fe.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw fe.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,a=r.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)r[a]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new i0,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var o=e[n][a];o.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new wS,t}(),HS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Td=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw $.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof fe||n instanceof Yt?$.getNotFoundInstance():n}},t.decode=function(e,r,n){var a,o,l=new Array,c=mS.detectMultiple(e,r,n);try{for(var d=HS(c.getPoints()),h=d.next();!h.done;h=d.next()){var m=h.value,x=VS.decode(c.getBits(),m[4],m[5],m[6],m[7],t.getMinCodewordWidth(m),t.getMaxCodewordWidth(m)),y=new lr(x.getText(),x.getRawBytes(),void 0,m,Ee.PDF_417);y.putMetadata(rr.ERROR_CORRECTION_LEVEL,x.getECLevel());var _=x.getOther();_!=null&&y.putMetadata(rr.PDF417_EXTRA_METADATA,_),l.push(y)}}catch(b){a={error:b}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}return l.map(function(b){return b})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Fe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),GS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rm=function(t){GS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Cr),Im=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZS=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(mt.TRY_HARDER)!==void 0,n=e==null?null:e.get(mt.POSSIBLE_FORMATS),a=new Array;if(n!=null){var o=n.some(function(l){return l===Ee.UPC_A||l===Ee.UPC_E||l===Ee.EAN_13||l===Ee.EAN_8||l===Ee.CODABAR||l===Ee.CODE_39||l===Ee.CODE_93||l===Ee.CODE_128||l===Ee.ITF||l===Ee.RSS_14||l===Ee.RSS_EXPANDED});o&&!r&&a.push(new is(e)),n.includes(Ee.QR_CODE)&&a.push(new Nd),n.includes(Ee.DATA_MATRIX)&&a.push(new Cd),n.includes(Ee.AZTEC)&&a.push(new Ed),n.includes(Ee.PDF_417)&&a.push(new Td),o&&r&&a.push(new is(e))}a.length===0&&(r||a.push(new is(e)),a.push(new Nd),a.push(new Cd),a.push(new Ed),a.push(new Td),r&&a.push(new is(e))),this.readers=a},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=Im(this.readers),a=n.next();!a.done;a=n.next()){var o=a.value;o.reset()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new Rm("No readers where selected, nothing can be read.");try{for(var a=Im(this.readers),o=a.next();!o.done;o=a.next()){var l=o.value;try{return l.decode(e,this.hints)}catch(c){if(c instanceof Rm)continue}}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new $("No MultiFormat Readers were able to detect the code.")},t}(),XS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){XS(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,o=new ZS;return o.setHints(r),a=t.call(this,o,n)||this,a}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})($a);var qS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){qS(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Td,r)||this}return e})($a);var YS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){YS(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Nd,r)||this}return e})($a);var Dd;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Dd||(Dd={}));const zl=Dd;var cg=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new pa(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],a=this.field,o=r.length;o<=e;o++){var l=n.multiply(new pa(a,Int32Array.from([1,a.exp(o-1+a.getGeneratorBase())])));r.push(l),n=l}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Se("No error correction bytes");var n=e.length-r;if(n<=0)throw new Se("No data bytes provided");var a=this.buildGenerator(r),o=new Int32Array(n);ft.arraycopy(e,0,o,0,n);var l=new pa(this.field,o);l=l.multiplyByMonomial(r,1);for(var c=l.divide(a)[1],d=c.getCoefficients(),h=r-d.length,m=0;m<h;m++)e[n+m]=0;ft.arraycopy(d,0,e,n+h,d.length)},t}(),ss=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o-1;l++)for(var c=n[l],d=0;d<a-1;d++){var h=c[d];h===c[d+1]&&h===n[l+1][d]&&h===n[l+1][d+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var c=0;c<a;c++){var d=n[l];c+6<a&&d[c]===1&&d[c+1]===0&&d[c+2]===1&&d[c+3]===1&&d[c+4]===1&&d[c+5]===0&&d[c+6]===1&&(t.isWhiteHorizontal(d,c-4,c)||t.isWhiteHorizontal(d,c+7,c+11))&&r++,l+6<o&&n[l][c]===1&&n[l+1][c]===0&&n[l+2][c]===1&&n[l+3][c]===1&&n[l+4][c]===1&&n[l+5][c]===0&&n[l+6][c]===1&&(t.isWhiteVertical(n,c,l-4,l)||t.isWhiteVertical(n,c,l+7,l+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var a=r;a<n;a++)if(e[a]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var o=n;o<a;o++)if(e[o][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var c=n[l],d=0;d<a;d++)c[d]===1&&r++;var h=e.getHeight()*e.getWidth(),m=Math.floor(Math.abs(r*2-h)*10/h);return m*t.N4},t.getDataMaskBit=function(e,r,n){var a,o;switch(e){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:o=n*r,a=(o&1)+o%3;break;case 6:o=n*r,a=(o&1)+o%3&1;break;case 7:o=n*r,a=o%3+(n+r&1)&1;break;default:throw new Se("Invalid mask pattern: "+e)}return a===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,a=r?e.getHeight():e.getWidth(),o=r?e.getWidth():e.getHeight(),l=e.getArray(),c=0;c<a;c++){for(var d=0,h=-1,m=0;m<o;m++){var x=r?l[c][m]:l[m][c];x===h?d++:(d>=5&&(n+=t.N1+(d-5)),d=1,h=x)}d>=5&&(n+=t.N1+(d-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),$S=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KS=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var a=$S(this.bytes),o=a.next();!o.done;o=a.next()){var l=o.value;Lt.fill(l,e)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var o=this.bytes[n],l=r.bytes[n],c=0,d=this.width;c<d;++c)if(o[c]!==l[c])return!1;return!0},t.prototype.toString=function(){for(var e=new Le,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],o=0,l=this.width;o<l;++o)switch(a[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Rd=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Le;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),QS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dt=function(t){QS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Cr),jm=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,a,o){t.clearMatrix(o),t.embedBasicPatterns(n,o),t.embedTypeInfo(r,a,o),t.maybeEmbedVersionInfo(n,o),t.embedDataBits(e,a,o)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var a=new $t;t.makeTypeInfoBits(e,r,a);for(var o=0,l=a.getSize();o<l;++o){var c=a.get(a.getSize()-1-o),d=t.TYPE_INFO_COORDINATES[o],h=d[0],m=d[1];if(n.setBoolean(h,m,c),o<8){var x=n.getWidth()-o-1,y=8;n.setBoolean(x,y,c)}else{var x=8,y=n.getHeight()-7+(o-8);n.setBoolean(x,y,c)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new $t;t.makeVersionInfoBits(e,n);for(var a=17,o=0;o<6;++o)for(var l=0;l<3;++l){var c=n.get(a);a--,r.setBoolean(o,r.getHeight()-11+l,c),r.setBoolean(r.getHeight()-11+l,o,c)}}},t.embedDataBits=function(e,r,n){for(var a=0,o=-1,l=n.getWidth()-1,c=n.getHeight()-1;l>0;){for(l===6&&(l-=1);c>=0&&c<n.getHeight();){for(var d=0;d<2;++d){var h=l-d;if(t.isEmpty(n.get(h,c))){var m=void 0;a<e.getSize()?(m=e.get(a),++a):m=!1,r!==255&&ss.getDataMaskBit(r,h,c)&&(m=!m),n.setBoolean(h,c,m)}}c+=o}o=-o,c+=o,l-=2}if(a!==e.getSize())throw new dt("Not all bits consumed: "+a+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Fe.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Se("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Rd.isValidMaskPattern(r))throw new dt("Invalid mask pattern");var a=e.getBits()<<3|r;n.appendBits(a,5);var o=t.calculateBCHCode(a,t.TYPE_INFO_POLY);n.appendBits(o,10);var l=new $t;if(l.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(l),n.getSize()!==15)throw new dt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new dt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new dt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var a=0;a<8;++a){if(!t.isEmpty(n.get(e+a,r)))throw new dt;n.setNumber(e+a,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var a=0;a<7;++a){if(!t.isEmpty(n.get(e,r+a)))throw new dt;n.setNumber(e,r+a,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var a=0;a<5;++a)for(var o=t.POSITION_ADJUSTMENT_PATTERN[a],l=0;l<5;++l)n.setNumber(e+l,r+a,o[l])},t.embedPositionDetectionPattern=function(e,r,n){for(var a=0;a<7;++a)for(var o=t.POSITION_DETECTION_PATTERN[a],l=0;l<7;++l)n.setNumber(e+l,r+a,o[l])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;t.embedVerticalSeparationPattern(a,0,e),t.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),t.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,l=a.length;o!==l;o++){var c=a[o];if(c>=0)for(var d=0;d!==l;d++){var h=a[d];h>=0&&t.isEmpty(r.get(h,c))&&t.embedPositionAdjustmentPattern(h-2,c-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),WS=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),Mm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return ss.applyMaskPenaltyRule1(e)+ss.applyMaskPenaltyRule2(e)+ss.applyMaskPenaltyRule3(e)+ss.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var a=t.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(zl.CHARACTER_SET)!==void 0;o&&(a=n.get(zl.CHARACTER_SET).toString());var l=this.chooseMode(e,a),c=new $t;if(l===ht.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==a)){var d=Pt.getCharacterSetECIByName(a);d!==void 0&&this.appendECI(d,c)}this.appendModeInfo(l,c);var h=new $t;this.appendBytes(e,l,h,a);var m;if(n!==null&&n.get(zl.QR_VERSION)!==void 0){var x=Number.parseInt(n.get(zl.QR_VERSION).toString(),10);m=Ha.getVersionForNumber(x);var y=this.calculateBitsNeeded(l,c,h,m);if(!this.willFit(y,m,r))throw new dt("Data too big for requested version")}else m=this.recommendVersion(r,l,c,h);var _=new $t;_.appendBitArray(c);var b=l===ht.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(b,m,l,_),_.appendBitArray(h);var w=m.getECBlocksForLevel(r),S=m.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(S,_);var T=this.interleaveWithECBytes(_,m.getTotalCodewords(),S,w.getNumBlocks()),E=new Rd;E.setECLevel(r),E.setMode(l),E.setVersion(m);var N=m.getDimensionForVersion(),R=new KS(N,N),M=this.chooseMaskPattern(T,r,m,R);return E.setMaskPattern(M),jm.buildMatrix(T,r,m,M,R),E.setMatrix(R),E},t.recommendVersion=function(e,r,n,a){var o=this.calculateBitsNeeded(r,n,a,Ha.getVersionForNumber(1)),l=this.chooseVersion(o,e),c=this.calculateBitsNeeded(r,n,a,l);return this.chooseVersion(c,e)},t.calculateBitsNeeded=function(e,r,n,a){return r.getSize()+e.getCharacterCountBits(a)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Pt.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return ht.KANJI;for(var n=!1,a=!1,o=0,l=e.length;o<l;++o){var c=e.charAt(o);if(t.isDigit(c))n=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)a=!0;else return ht.BYTE}return a?ht.ALPHANUMERIC:n?ht.NUMERIC:ht.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=$r.encode(e,Pt.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var o=r[a]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,a){for(var o=Number.MAX_SAFE_INTEGER,l=-1,c=0;c<Rd.NUM_MASK_PATTERNS;c++){jm.buildMatrix(e,r,n,c,a);var d=this.calculateMaskPenalty(a);d<o&&(o=d,l=c)}return l},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var a=Ha.getVersionForNumber(n);if(t.willFit(e,a,r))return a}throw new dt("Data too big")},t.willFit=function(e,r,n){var a=r.getTotalCodewords(),o=r.getECBlocksForLevel(n),l=o.getTotalECCodewords(),c=a-l,d=(e+7)/8;return c>=d},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new dt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var o=r.getSize()&7;if(o>0)for(var a=o;a<8;a++)r.appendBit(!1);for(var l=e-r.getSizeInBytes(),a=0;a<l;++a)r.appendBits((a&1)===0?236:17,8);if(r.getSize()!==n)throw new dt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,a,o,l){if(a>=n)throw new dt("Block ID too large");var c=e%n,d=n-c,h=Math.floor(e/n),m=h+1,x=Math.floor(r/n),y=x+1,_=h-x,b=m-y;if(_!==b)throw new dt("EC bytes mismatch");if(n!==d+c)throw new dt("RS blocks mismatch");if(e!==(x+_)*d+(y+b)*c)throw new dt("Total bytes mismatch");a<d?(o[0]=x,l[0]=_):(o[0]=y,l[0]=b)},t.interleaveWithECBytes=function(e,r,n,a){var o,l,c,d;if(e.getSizeInBytes()!==n)throw new dt("Number of bits and data bytes does not match");for(var h=0,m=0,x=0,y=new Array,_=0;_<a;++_){var b=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,a,_,b,w);var S=b[0],T=new Uint8Array(S);e.toBytes(8*h,T,0,S);var E=t.generateECBytes(T,w[0]);y.push(new WS(T,E)),m=Math.max(m,S),x=Math.max(x,E.length),h+=b[0]}if(n!==h)throw new dt("Data bytes does not match offset");for(var N=new $t,_=0;_<m;++_)try{for(var R=(o=void 0,Mm(y)),M=R.next();!M.done;M=R.next()){var k=M.value,T=k.getDataBytes();_<T.length&&N.appendBits(T[_],8)}}catch(se){o={error:se}}finally{try{M&&!M.done&&(l=R.return)&&l.call(R)}finally{if(o)throw o.error}}for(var _=0;_<x;++_)try{for(var Z=(c=void 0,Mm(y)),ee=Z.next();!ee.done;ee=Z.next()){var k=ee.value,E=k.getErrorCorrectionBytes();_<E.length&&N.appendBits(E[_],8)}}catch(se){c={error:se}}finally{try{ee&&!ee.done&&(d=Z.return)&&d.call(Z)}finally{if(c)throw c.error}}if(r!==N.getSizeInBytes())throw new dt("Interleaving error: "+r+" and "+N.getSizeInBytes()+" differ.");return N},t.generateECBytes=function(e,r){for(var n=e.length,a=new Int32Array(n+r),o=0;o<n;o++)a[o]=e[o]&255;new cg(wr.QR_CODE_FIELD_256).encode(a,r);for(var l=new Uint8Array(r),o=0;o<r;o++)l[o]=a[n+o];return l},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,a){var o=n.getCharacterCountBits(r);if(e>=1<<o)throw new dt(e+" is bigger than "+((1<<o)-1));a.appendBits(e,o)},t.appendBytes=function(e,r,n,a){switch(r){case ht.NUMERIC:t.appendNumericBytes(e,n);break;case ht.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case ht.BYTE:t.append8BitBytes(e,n,a);break;case ht.KANJI:t.appendKanjiBytes(e,n);break;default:throw new dt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var o=t.getDigit(e.charAt(a));if(a+2<n){var l=t.getDigit(e.charAt(a+1)),c=t.getDigit(e.charAt(a+2));r.appendBits(o*100+l*10+c,10),a+=3}else if(a+1<n){var l=t.getDigit(e.charAt(a+1));r.appendBits(o*10+l,7),a+=2}else r.appendBits(o,4),a++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var o=t.getAlphanumericCode(e.charCodeAt(a));if(o===-1)throw new dt;if(a+1<n){var l=t.getAlphanumericCode(e.charCodeAt(a+1));if(l===-1)throw new dt;r.appendBits(o*45+l,11),a+=2}else r.appendBits(o,6),a++}},t.append8BitBytes=function(e,r,n){var a;try{a=$r.encode(e,n)}catch(d){throw new dt(d)}for(var o=0,l=a.length;o!==l;o++){var c=a[o];r.appendBits(c,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=$r.encode(e,Pt.SJIS)}catch(x){throw new dt(x)}for(var a=n.length,o=0;o<a;o+=2){var l=n[o]&255,c=n[o+1]&255,d=l<<8&4294967295|c,h=-1;if(d>=33088&&d<=40956?h=d-33088:d>=57408&&d<=60351&&(h=d-49472),h===-1)throw new dt("Invalid byte sequence");var m=(h>>8)*192+(h&255);r.appendBits(m,13)}},t.appendECI=function(e,r){r.appendBits(ht.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Pt.UTF8.getName(),t})();var JS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){JS(e,t);function e(r,n,a,o,l,c,d,h){var m=t.call(this,c,d)||this;if(m.yuvData=r,m.dataWidth=n,m.dataHeight=a,m.left=o,m.top=l,o+c>n||l+d>a)throw new Se("Crop rectangle does not fit within image data.");return h&&m.reverseHorizontal(c,d),m}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Se("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var o=(r+this.top)*this.dataWidth+this.left;return ft.arraycopy(this.yuvData,o,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,o=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return ft.arraycopy(this.yuvData,l,o,0,a),o;for(var c=0;c<n;c++){var d=c*r;ft.arraycopy(this.yuvData,l,o,d,r),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,o,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),o=this.yuvData,l=this.top*this.dataWidth+this.left,c=0;c<n;c++){for(var d=c*r,h=0;h<r;h++){var m=o[l+h*e.THUMBNAIL_SCALE_FACTOR]&255;a[d+h]=4278190080|m*65793}l+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,o=0,l=this.top*this.dataWidth+this.left;o<n;o++,l+=this.dataWidth)for(var c=l+r/2,d=l,h=l+r-1;d<c;d++,h--){var m=a[d];a[d]=a[h],a[h]=m}},e.prototype.invert=function(){return new t0(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(yu);var e6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){e6(e,t);function e(r,n,a,o,l,c,d){var h=t.call(this,n,a)||this;if(h.dataWidth=o,h.dataHeight=l,h.left=c,h.top=d,r.BYTES_PER_ELEMENT===4){for(var m=n*a,x=new Uint8ClampedArray(m),y=0;y<m;y++){var _=r[y],b=_>>16&255,w=_>>7&510,S=_&255;x[y]=(b+w+S)/4&255}h.luminances=x}else h.luminances=r;if(o===void 0&&(h.dataWidth=n),l===void 0&&(h.dataHeight=a),c===void 0&&(h.left=0),d===void 0&&(h.top=0),h.left+n>h.dataWidth||h.top+a>h.dataHeight)throw new Se("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Se("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var o=(r+this.top)*this.dataWidth+this.left;return ft.arraycopy(this.luminances,o,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,o=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return ft.arraycopy(this.luminances,l,o,0,a),o;for(var c=0;c<n;c++){var d=c*r;ft.arraycopy(this.luminances,l,o,d,r),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,o){return new e(this.luminances,a,o,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new t0(this)},e})(yu);var t6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r6=function(t){t6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Pt),n6=function(){function t(){}return t.ISO_8859_1=Pt.ISO8859_1,t}(),Id,a6=301,i6=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=a6);return{LOG:t,ALOG:e}};Id=i6([],[]),Id.LOG;Id.ALOG;var Bm;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Bm||(Bm={}));var Pm=129,fg=230,o6=231,s6=235,l6=236,u6=237,c6=238,f6=239,d6=240,td=254,h6=254,Lm="[)>05",km="[)>06",Fm="",tt=0,tr=1,dr=2,Mt=3,Xt=4,or=5,p6=function(){function t(){}return t.prototype.getEncodingMode=function(){return tt},t.prototype.encode=function(e){var r=sn.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=sn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case or:e.writeCodeword(o6),e.signalEncoderChange(or);return;case tr:e.writeCodeword(fg),e.signalEncoderChange(tr);return;case Mt:e.writeCodeword(c6),e.signalEncoderChange(Mt);break;case dr:e.writeCodeword(f6),e.signalEncoderChange(dr);break;case Xt:e.writeCodeword(d6),e.signalEncoderChange(Xt);break;default:throw new Error("Illegal mode: "+a)}else sn.isExtendedASCII(n)?(e.writeCodeword(s6),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(sn.isDigit(e)&&sn.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),v6=function(){function t(){}return t.prototype.getEncodingMode=function(){return or},t.prototype.encode=function(e){var r=new Le;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var a=sn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(tt);break}}var o=r.length()-1,l=1,c=e.getCodewordCount()+o+l;e.updateSymbolInfo(c);var d=e.getSymbolInfo().getDataCapacity()-c>0;if(e.hasMoreCharacters()||d)if(o<=249)r.setCharAt(0,Ge.getCharAt(o));else if(o<=1555)r.setCharAt(0,Ge.getCharAt(Math.floor(o/250)+249)),r.insert(1,Ge.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var h=0,n=r.length();h<n;h++)e.writeCodeword(this.randomize255State(r.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,a=e+n;return a<=255?a:a-256},t}(),o0=function(){function t(){}return t.prototype.getEncodingMode=function(){return tr},t.prototype.encodeMaximal=function(e){for(var r=new Le,n=0,a=e.pos,o=0;e.hasMoreCharacters();){var l=e.getCurrentChar();e.pos++,n=this.encodeChar(l,r),r.length()%3===0&&(a=e.pos,o=r.length())}if(o!==r.length()){var c=Math.floor(r.length()/3*2),d=Math.floor(e.getCodewordCount()+c+1);e.updateSymbolInfo(d);var h=e.getSymbolInfo().getDataCapacity()-d,m=Math.floor(r.length()%3);(m===2&&h!==2||m===1&&(n>3||h!==1))&&(e.pos=a)}r.length()>0&&e.writeCodeword(fg),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Le;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,r),o=Math.floor(r.length()/3)*2,l=e.getCodewordCount()+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l;if(!e.hasMoreCharacters()){var d=new Le;for(r.length()%3===2&&c!==2&&(a=this.backtrackOneCharacter(e,r,d,a));r.length()%3===1&&(a>3||c!==1);)a=this.backtrackOneCharacter(e,r,d,a);break}var h=r.length();if(h%3===0){var m=sn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(m!==this.getEncodingMode()){e.signalEncoderChange(tt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,a){var o=r.length(),l=r.toString().substring(0,o-a);r.setLengthToZero(),r.append(l),e.pos--;var c=e.getCurrentChar();return a=this.encodeChar(c,n),e.resetSymbolInfo(),a},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(td)}else if(l===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(td),e.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(l>0||e.hasMoreCharacters())&&e.writeCodeword(td)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(tt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,a=r%256,o=new Le;return o.append(n),o.append(a),o.toString()},t}(),m6=function(){function t(){}return t.prototype.getEncodingMode=function(){return Xt},t.prototype.encode=function(e){for(var r=new Le;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var a=r.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var o=r.toString().substring(4);r.setLengthToZero(),r.append(o);var l=sn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){e.signalEncoderChange(tt);break}}}r.append(Ge.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var l=n-1,c=this.encodeToCodewords(r.toString()),d=!e.hasMoreCharacters(),h=d&&l<=2;if(l<=2){e.updateSymbolInfo(e.getCodewordCount()+l);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+c.length))}h?(e.resetSymbolInfo(),e.pos-=l):e.writeCodewords(c)}finally{e.signalEncoderChange(tt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Ge.getCharAt(e-64)):sn.illegalCharacter(Ge.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=r>=2?e.charAt(1).charCodeAt(0):0,o=r>=3?e.charAt(2).charCodeAt(0):0,l=r>=4?e.charAt(3).charCodeAt(0):0,c=(n<<18)+(a<<12)+(o<<6)+l,d=c>>16&255,h=c>>8&255,m=c&255,x=new Le;return x.append(d),r>=2&&x.append(h),r>=3&&x.append(m),x.toString()},t}(),x6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=function(){function t(e,r,n,a,o,l,c,d){c===void 0&&(c=0),d===void 0&&(d=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=o,this.dataRegions=l,this.rsBlockData=c,this.rsBlockError=d}return t.lookup=function(e,r,n,a,o){var l,c;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!0);try{for(var d=g6(_6),h=d.next();!h.done;h=d.next()){var m=h.value;if(!(r===1&&m.rectangular)&&!(r===2&&!m.rectangular)&&!(n!=null&&(m.getSymbolWidth()<n.getWidth()||m.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(m.getSymbolWidth()>a.getWidth()||m.getSymbolHeight()>a.getHeight()))&&e<=m.dataCapacity)return m}}catch(x){l={error:x}}finally{try{h&&!h.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),y6=function(t){x6(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Ke),_6=[new Ke(!1,3,5,8,8,1),new Ke(!1,5,7,10,10,1),new Ke(!0,5,7,16,6,1),new Ke(!1,8,10,12,12,1),new Ke(!0,10,11,14,6,2),new Ke(!1,12,12,14,14,1),new Ke(!0,16,14,24,10,1),new Ke(!1,18,14,16,16,1),new Ke(!1,22,18,18,18,1),new Ke(!0,22,18,16,10,2),new Ke(!1,30,20,20,20,1),new Ke(!0,32,24,16,14,2),new Ke(!1,36,24,22,22,1),new Ke(!1,44,28,24,24,1),new Ke(!0,49,28,22,14,2),new Ke(!1,62,36,14,14,4),new Ke(!1,86,42,16,16,4),new Ke(!1,114,48,18,18,4),new Ke(!1,144,56,20,20,4),new Ke(!1,174,68,22,22,4),new Ke(!1,204,84,24,24,4,102,42),new Ke(!1,280,112,14,14,16,140,56),new Ke(!1,368,144,16,16,16,92,36),new Ke(!1,456,192,18,18,16,114,48),new Ke(!1,576,224,20,20,16,144,56),new Ke(!1,696,272,22,22,16,174,68),new Ke(!1,816,336,24,24,16,136,56),new Ke(!1,1050,408,18,18,36,175,68),new Ke(!1,1304,496,20,20,36,163,62),new y6],b6=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(c){return c.charCodeAt(0)}),n=new Le,a=0,o=r.length;a<o;a++){var l=String.fromCharCode(r[a]&255);if(l==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(l)}this.msg=n.toString(),this.shape=0,this.codewords=new Le,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Ke.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),w6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A6=function(t){w6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Mt},e.prototype.encode=function(r){for(var n=new Le;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var o=n.length();if(o%3===0){this.writeNextTriplet(r,n);var l=sn.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){r.signalEncoderChange(tt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):sn.illegalCharacter(Ge.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),o=n.length();r.pos-=o,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(h6),r.getNewEncoding()<0&&r.signalEncoderChange(tt)},e}(o0),E6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S6=function(t){E6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return dr},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},e}(o0),sn=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=Pm+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,a,o){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!1);var l=new o0,c=[new p6,l,new S6,new A6,new m6,new v6],d=new b6(e);d.setSymbolShape(r),d.setSizeConstraints(n,a),e.startsWith(Lm)&&e.endsWith(Fm)?(d.writeCodeword(l6),d.setSkipAtEnd(2),d.pos+=Lm.length):e.startsWith(km)&&e.endsWith(Fm)&&(d.writeCodeword(u6),d.setSkipAtEnd(2),d.pos+=km.length);var h=tt;for(o&&(l.encodeMaximal(d),h=d.getNewEncoding(),d.resetEncoderSignal());d.hasMoreCharacters();)c[h].encode(d),d.getNewEncoding()>=0&&(h=d.getNewEncoding(),d.resetEncoderSignal());var m=d.getCodewordCount();d.updateSymbolInfo();var x=d.getSymbolInfo().getDataCapacity();m<x&&h!==tt&&h!==or&&h!==Xt&&d.writeCodeword("þ");var y=d.getCodewords();for(y.length()<x&&y.append(Pm);y.length()<x;)y.append(this.randomize253State(y.length()+1));return d.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var a=this.lookAheadTestIntern(e,r,n);if(n===Mt&&a===Mt){for(var o=Math.min(r+3,e.length),l=r;l<o;l++)if(!this.isNativeX12(e.charCodeAt(l)))return tt}else if(n===Xt&&a===Xt){for(var o=Math.min(r+4,e.length),l=r;l<o;l++)if(!this.isNativeEDIFACT(e.charCodeAt(l)))return tt}return a},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var a;n===tt?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var o=0,l=new Uint8Array(6),c=[];;){if(r+o===e.length){Lt.fill(l,0),Lt.fill(c,0);var d=this.findMinimums(a,c,Fe.MAX_VALUE,l),h=this.getMinimumCount(l);if(c[tt]===d)return tt;if(h===1){if(l[or]>0)return or;if(l[Xt]>0)return Xt;if(l[dr]>0)return dr;if(l[Mt]>0)return Mt}return tr}var m=e.charCodeAt(r+o);if(o++,this.isDigit(m)?a[tt]+=.5:this.isExtendedASCII(m)?(a[tt]=Math.ceil(a[tt]),a[tt]+=2):(a[tt]=Math.ceil(a[tt]),a[tt]++),this.isNativeC40(m)?a[tr]+=2/3:this.isExtendedASCII(m)?a[tr]+=8/3:a[tr]+=4/3,this.isNativeText(m)?a[dr]+=2/3:this.isExtendedASCII(m)?a[dr]+=8/3:a[dr]+=4/3,this.isNativeX12(m)?a[Mt]+=2/3:this.isExtendedASCII(m)?a[Mt]+=13/3:a[Mt]+=10/3,this.isNativeEDIFACT(m)?a[Xt]+=3/4:this.isExtendedASCII(m)?a[Xt]+=17/4:a[Xt]+=13/4,this.isSpecialB256(m)?a[or]+=4:a[or]++,o>=4){if(Lt.fill(l,0),Lt.fill(c,0),this.findMinimums(a,c,Fe.MAX_VALUE,l),c[tt]<this.min(c[or],c[tr],c[dr],c[Mt],c[Xt]))return tt;if(c[or]<c[tt]||c[or]+1<this.min(c[tr],c[dr],c[Mt],c[Xt]))return or;if(c[Xt]+1<this.min(c[or],c[tr],c[dr],c[Mt],c[tt]))return Xt;if(c[dr]+1<this.min(c[or],c[tr],c[Xt],c[Mt],c[tt]))return dr;if(c[Mt]+1<this.min(c[or],c[tr],c[Xt],c[dr],c[tt]))return Mt;if(c[tr]+1<this.min(c[tt],c[or],c[Xt],c[dr])){if(c[tr]<c[Mt])return tr;if(c[tr]===c[Mt]){for(var x=r+o+1;x<e.length;){var y=e.charCodeAt(x);if(this.isX12TermSep(y))return Mt;if(!this.isNativeX12(y))break;x++}return tr}}}}},t.min=function(e,r,n,a,o){var l=Math.min(e,Math.min(r,Math.min(n,a)));return o===void 0?l:Math.min(l,o)},t.findMinimums=function(e,r,n,a){for(var o=0;o<6;o++){var l=r[o]=Math.ceil(e[o]);n>l&&(n=l,Lt.fill(a,0)),n===l&&(a[o]=a[o]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,a=r;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-r},t.illegalCharacter=function(e){var r=Fe.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),rd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Um=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return $r.encode(e,this.charset)!=null}catch{return!1}},t}(),C6=function(){function t(e,r,n){var a,o,l,c,d,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(ie){return new Um(r6.forName(ie))}),this.encoders=[];var m=[];m.push(new Um(n6.ISO_8859_1));for(var x=r!=null&&r.name.startsWith("UTF"),y=0;y<e.length;y++){var _=!1;try{for(var b=(a=void 0,rd(m)),w=b.next();!w.done;w=b.next()){var S=w.value,T=e.charAt(y),E=T.charCodeAt(0);if(E===n||S.canEncode(T)){_=!0;break}}}catch(ie){a={error:ie}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}if(!_)try{for(var N=(l=void 0,rd(this.ENCODERS)),R=N.next();!R.done;R=N.next()){var S=R.value;if(S.canEncode(e.charAt(y))){m.push(S),_=!0;break}}}catch(ie){l={error:ie}}finally{try{R&&!R.done&&(c=N.return)&&c.call(N)}finally{if(l)throw l.error}}_||(x=!0)}if(m.length===1&&!x)this.encoders=[m[0]];else{this.encoders=[];var M=0;try{for(var k=rd(m),Z=k.next();!Z.done;Z=k.next()){var S=Z.value;this.encoders[M++]=S}}catch(ie){d={error:ie}}finally{try{Z&&!Z.done&&(h=k.return)&&h.call(k)}finally{if(d)throw d.error}}}var ee=-1;if(r!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&r.name===this.encoders[y].name){ee=y;break}}this.priorityEncoderIndex=ee}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return $r.encode(Ge.getCharAt(e),this.encoders[r].name)},t}(),N6=3,O6=function(){function t(e,r,n){this.fnc1=n;var a=new C6(e,r,n);if(a.length()===1)for(var o=0;o<this.bytes.length;o++){var l=e.charAt(o).charCodeAt(0);this.bytes[o]=l===n?1e3:l}else this.bytes=this.encodeMinimally(e,a,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Le,a=e;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,a,o,l){var c=e.charAt(a).charCodeAt(0),d=0,h=r.length();r.getPriorityEncoderIndex()>=0&&(c===l||r.canEncode(c,r.getPriorityEncoderIndex()))&&(d=r.getPriorityEncoderIndex(),h=d+1);for(var m=d;m<h;m++)(c===l||r.canEncode(c,m))&&this.addEdge(n,a+1,new zm(c,r,m,o,l))},t.prototype.encodeMinimally=function(e,r,n){var a=e.length,o=new zm[a+1][r.length()];this.addEdges(e,r,o,0,null,n);for(var l=1;l<=a;l++){for(var c=0;c<r.length();c++)o[l][c]!=null&&l<a&&this.addEdges(e,r,o,l,o[l][c],n);for(var c=0;c<r.length();c++)o[l-1][c]=null}for(var d=-1,h=Fe.MAX_VALUE,c=0;c<r.length();c++)if(o[a][c]!=null){var m=o[a][c];m.cachedTotalSize<h&&(h=m.cachedTotalSize,d=c)}if(d<0)throw new Error('Failed to encode "'+e+'"');for(var x=[],y=o[a][d];y!=null;){if(y.isFNC1())x.unshift(1e3);else for(var _=r.encode(y.c,y.encoderIndex),l=_.length-1;l>=0;l--)x.unshift(_[l]&255);var b=y.previous===null?0:y.previous.encoderIndex;b!==y.encoderIndex&&x.unshift(256+r.getECIValue(y.encoderIndex)),y=y.previous}for(var w=[],l=0;l<w.length;l++)w[l]=x[l];return w},t}(),zm=function(){function t(e,r,n,a,o){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=o,this.c=e===o?1e3:e;var l=this.isFNC1()?1:r.encode(e,n).length,c=a===null?0:a.encoderIndex;c!==n&&(l+=N6),a!=null&&(l+=a.cachedTotalSize),this.cachedTotalSize=l}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),T6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Vm;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(Vm||(Vm={}));(function(t){T6(e,t);function e(r,n,a,o,l){var c=t.call(this,r,n,a)||this;return c.shape=o,c.macroId=l,c}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(O6);var D6=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),Hm=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),R6=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),I6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s0=function(t){I6(e,t);function e(r,n,a){var o=t.call(this,r)||this;return o.value=n,o.bitCount=a,o}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Fe.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(R6),j6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M6=function(t){j6(e,t);function e(r,n,a){var o=t.call(this,r,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=a,o}return e.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(s0);function B6(t,e,r){return new M6(t,e,r)}function rs(t,e,r){return new s0(t,e,r)}var P6=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],va=0,au=1,Yr=2,dg=3,gn=4,L6=new s0(null,0,0),nd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],k6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function F6(t){var e,r;try{for(var n=k6(t),a=n.next();!a.done;a=n.next()){var o=a.value;Lt.fill(o,-1)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[va][gn]=0,t[au][gn]=0,t[au][va]=28,t[dg][gn]=0,t[Yr][gn]=0,t[Yr][va]=15,t}var hg=F6(Lt.createInt32Array(6,6)),U6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z6=function(){function t(e,r,n,a){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,a=this.token;if(e!==this.mode){var o=nd[this.mode][e];a=rs(a,o&65535,o>>16),n+=o>>16}var l=e===Yr?4:5;return a=rs(a,r,l),new t(a,e,0,n+l)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,a=this.mode===Yr?4:5;return n=rs(n,hg[this.mode][e],a),n=rs(n,r,5),new t(n,this.mode,0,this.bitCount+a+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===gn||this.mode===Yr){var o=nd[n][va];r=rs(r,o&65535,o>>16),a+=o>>16,n=va}var l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new t(r,n,this.binaryShiftByteCount+1,a+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(e+1)),c},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=B6(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(nd[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,a=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())a.unshift(o);var l=new $t;try{for(var c=U6(a),d=c.next();!d.done;d=c.next()){var h=d.value;h.appendTo(l,e)}}catch(m){r={error:m}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return l},t.prototype.toString=function(){return Ge.format("%s bits=%d bytes=%d",P6[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(L6,va,0,0),t}();function V6(t){var e=Ge.getCharCode(" "),r=Ge.getCharCode("."),n=Ge.getCharCode(",");t[va][e]=1;for(var a=Ge.getCharCode("Z"),o=Ge.getCharCode("A"),l=o;l<=a;l++)t[va][l]=l-o+2;t[au][e]=1;for(var c=Ge.getCharCode("z"),d=Ge.getCharCode("a"),l=d;l<=c;l++)t[au][l]=l-d+2;t[Yr][e]=1;for(var h=Ge.getCharCode("9"),m=Ge.getCharCode("0"),l=m;l<=h;l++)t[Yr][l]=l-m+2;t[Yr][n]=12,t[Yr][r]=13;for(var x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<x.length;y++)t[dg][Ge.getCharCode(x[y])]=y;for(var _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<_.length;y++)Ge.getCharCode(_[y])>0&&(t[gn][Ge.getCharCode(_[y])]=y);return t}var ad=V6(Lt.createInt32Array(5,256)),Vl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H6=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Ge.getCharCode(" "),r=Ge.getCharCode(`
`),n=Hm.singletonList(z6.INITIAL_STATE),a=0;a<this.text.length;a++){var o=void 0,l=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case Ge.getCharCode("\r"):o=l===r?2:0;break;case Ge.getCharCode("."):o=l===e?3:0;break;case Ge.getCharCode(","):o=l===e?4:0;break;case Ge.getCharCode(":"):o=l===e?5:0;break;default:o=0}o>0?(n=t.updateStateListForPair(n,a,o),a++):n=this.updateStateListForChar(n,a)}var c=Hm.min(n,function(d,h){return d.getBitCount()-h.getBitCount()});return c.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,a,o=[];try{for(var l=Vl(e),c=l.next();!c.done;c=l.next()){var d=c.value;this.updateStateForChar(d,r,o)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,r,n){for(var a=this.text[r]&255,o=ad[e.getMode()][a]>0,l=null,c=0;c<=gn;c++){var d=ad[c][a];if(d>0){if(l==null&&(l=e.endBinaryShift(r)),!o||c===e.getMode()||c===Yr){var h=l.latchAndAppend(c,d);n.push(h)}if(!o&&hg[e.getMode()][c]>=0){var m=l.shiftAndAppend(c,d);n.push(m)}}}if(e.getBinaryShiftByteCount()>0||ad[e.getMode()][a]===0){var x=e.addBinaryShiftChar(r);n.push(x)}},t.updateStateListForPair=function(e,r,n){var a,o,l=[];try{for(var c=Vl(e),d=c.next();!d.done;d=c.next()){var h=d.value;this.updateStateForPair(h,r,n,l)}}catch(m){a={error:m}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}return this.simplifyStates(l)},t.updateStateForPair=function(e,r,n,a){var o=e.endBinaryShift(r);if(a.push(o.latchAndAppend(gn,n)),e.getMode()!==gn&&a.push(o.shiftAndAppend(gn,n)),n===3||n===4){var l=o.latchAndAppend(Yr,16-n).latchAndAppend(Yr,1);a.push(l)}if(e.getBinaryShiftByteCount()>0){var c=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(c)}},t.simplifyStates=function(e){var r,n,a,o,l=[];try{for(var c=Vl(e),d=c.next();!d.done;d=c.next()){var h=d.value,m=!0,x=function(S){if(S.isBetterThanOrEqualTo(h))return m=!1,"break";h.isBetterThanOrEqualTo(S)&&(l=l.filter(function(T){return T!==S}))};try{for(var y=(a=void 0,Vl(l)),_=y.next();!_.done;_=y.next()){var b=_.value,w=x(b);if(w==="break")break}}catch(S){a={error:S}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}m&&l.push(h)}}catch(S){r={error:S}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return l},t}(),G6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var a=new H6(e).encode(),o=Fe.truncDivision(a.getSize()*r,100)+11,l=a.getSize()+o,c,d,h,m,x;if(n!==t.DEFAULT_AZTEC_LAYERS){if(c=n<0,d=Math.abs(n),d>(c?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Se(Ge.format("Illegal value %s for layers",n));h=t.totalBitsInLayer(d,c),m=t.WORD_SIZE[d];var y=h-h%m;if(x=t.stuffBits(a,m),x.getSize()+o>y)throw new Se("Data to large for user specified layer");if(c&&x.getSize()>m*64)throw new Se("Data to large for user specified layer")}else{m=0,x=null;for(var _=0;;_++){if(_>t.MAX_NB_BITS)throw new Se("Data too large for an Aztec code");if(c=_<=3,d=c?_+1:_,h=t.totalBitsInLayer(d,c),!(l>h)){(x==null||m!==t.WORD_SIZE[d])&&(m=t.WORD_SIZE[d],x=t.stuffBits(a,m));var y=h-h%m;if(!(c&&x.getSize()>m*64)&&x.getSize()+o<=y)break}}}var b=t.generateCheckWords(x,h,m),w=x.getSize()/m,S=t.generateModeMessage(c,d,w),T=(c?11:14)+d*4,E=new Int32Array(T),N;if(c){N=T;for(var _=0;_<E.length;_++)E[_]=_}else{N=T+1+2*Fe.truncDivision(Fe.truncDivision(T,2)-1,15);for(var R=Fe.truncDivision(T,2),M=Fe.truncDivision(N,2),_=0;_<R;_++){var k=_+Fe.truncDivision(_,15);E[R-_-1]=M-k-1,E[R+_]=M+k+1}}for(var Z=new yn(N),_=0,ee=0;_<d;_++){for(var ie=(d-_)*4+(c?9:12),se=0;se<ie;se++)for(var ye=se*2,le=0;le<2;le++)b.get(ee+ye+le)&&Z.set(E[_*2+le],E[_*2+se]),b.get(ee+ie*2+ye+le)&&Z.set(E[_*2+se],E[T-1-_*2-le]),b.get(ee+ie*4+ye+le)&&Z.set(E[T-1-_*2-le],E[T-1-_*2-se]),b.get(ee+ie*6+ye+le)&&Z.set(E[T-1-_*2-se],E[_*2+le]);ee+=ie*8}if(t.drawModeMessage(Z,c,N,S),c)t.drawBullsEye(Z,Fe.truncDivision(N,2),5);else{t.drawBullsEye(Z,Fe.truncDivision(N,2),7);for(var _=0,se=0;_<Fe.truncDivision(T,2)-1;_+=15,se+=16)for(var le=Fe.truncDivision(N,2)&1;le<N;le+=2)Z.set(Fe.truncDivision(N,2)-se,le),Z.set(Fe.truncDivision(N,2)+se,le),Z.set(le,Fe.truncDivision(N,2)-se),Z.set(le,Fe.truncDivision(N,2)+se)}var ve=new D6;return ve.setCompact(c),ve.setSize(N),ve.setLayers(d),ve.setCodeWords(w),ve.setMatrix(Z),ve},t.drawBullsEye=function(e,r,n){for(var a=0;a<n;a+=2)for(var o=r-a;o<=r+a;o++)e.set(o,r-a),e.set(o,r+a),e.set(r-a,o),e.set(r+a,o);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var a=new $t;return e?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=t.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=t.generateCheckWords(a,40,4)),a},t.drawModeMessage=function(e,r,n,a){var o=Fe.truncDivision(n,2);if(r)for(var l=0;l<7;l++){var c=o-3+l;a.get(l)&&e.set(c,o-5),a.get(l+7)&&e.set(o+5,c),a.get(20-l)&&e.set(c,o+5),a.get(27-l)&&e.set(o-5,c)}else for(var l=0;l<10;l++){var c=o-5+l+Fe.truncDivision(l,5);a.get(l)&&e.set(c,o-7),a.get(l+10)&&e.set(o+7,c),a.get(29-l)&&e.set(c,o+7),a.get(39-l)&&e.set(o-7,c)}},t.generateCheckWords=function(e,r,n){var a,o,l=e.getSize()/n,c=new cg(t.getGF(n)),d=Fe.truncDivision(r,n),h=t.bitsToWords(e,n,d);c.encode(h,d-l);var m=r%n,x=new $t;x.appendBits(0,m);try{for(var y=G6(Array.from(h)),_=y.next();!_.done;_=y.next()){var b=_.value;x.appendBits(b,n)}}catch(w){a={error:w}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}return x},t.bitsToWords=function(e,r,n){var a=new Int32Array(n),o,l;for(o=0,l=e.getSize()/r;o<l;o++){for(var c=0,d=0;d<r;d++)c|=e.get(o*r+d)?1<<r-d-1:0;a[o]=c}return a},t.getGF=function(e){switch(e){case 4:return wr.AZTEC_PARAM;case 6:return wr.AZTEC_DATA_6;case 8:return wr.AZTEC_DATA_8;case 10:return wr.AZTEC_DATA_10;case 12:return wr.AZTEC_DATA_12;default:throw new Se("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new $t,a=e.getSize(),o=(1<<r)-2,l=0;l<a;l+=r){for(var c=0,d=0;d<r;d++)(l+d>=a||e.get(l+d))&&(c|=1<<r-1-d);(c&o)===o?(n.appendBits(c&o,r),l--):(c&o)===0?(n.appendBits(c|1,r),l--):n.appendBits(c,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const Z6=({onResult:t,onClose:e,isOpen:r})=>{const[n,a]=W.useState(!1),[o,l]=W.useState(""),[c,d]=W.useState(null),h=W.useRef(null),m=W.useRef(null),x=W.useRef(null),y=W.useCallback(()=>{m.current&&m.current.reset(),x.current&&(x.current.getTracks().forEach(w=>w.stop()),x.current=null),a(!1),l("")},[]),_=W.useCallback(async()=>{if(h.current){a(!0),l("");try{m.current=new $a;const w=await m.current.listVideoInputDevices();if(w.length===0)throw new Error("No se encontraron cámaras disponibles");const S=w.find(E=>E.label.toLowerCase().includes("back")||E.label.toLowerCase().includes("rear"))?.deviceId||w[0].deviceId,T=await navigator.mediaDevices.getUserMedia({video:{deviceId:S,width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"environment"}}});x.current=T,h.current.srcObject=T,d(!0),m.current.decodeFromVideoDevice(S,h.current,(E,N)=>{if(E){const R=E.getText();b(R)?(t(R.toUpperCase()),y(),e()):(l("El código escaneado no es un VIN válido"),setTimeout(()=>l(""),3e3))}N&&!(N instanceof $)&&console.error("Error de escaneo:",N)}),a(!1)}catch(w){console.error("Error al iniciar el escáner:",w),a(!1);const S=w;S.name==="NotAllowedError"?(l("Permiso de cámara denegado. Por favor permite el acceso a la cámara."),d(!1)):S.name==="NotFoundError"?l("No se encontró una cámara disponible."):S.name==="NotReadableError"?l("La cámara está siendo usada por otra aplicación."):l(S.message||"Error al acceder a la cámara")}}},[t,e,y]),b=w=>/^[A-HJ-NPR-Z0-9]{17}$/i.test(w);return W.useEffect(()=>(r?_():y(),()=>{y()}),[r,_,y]),r?p.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex flex-col",children:[p.jsxs("div",{className:"bg-white p-4 shadow-lg",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Escanear Código VIN"}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"✕"})]}),o&&p.jsx("div",{className:"mt-3 p-3 bg-red-100 border border-red-300 rounded-lg",children:p.jsx("p",{className:"text-red-700 text-sm",children:o})}),c===!1&&p.jsx("div",{className:"mt-3 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:p.jsx("p",{className:"text-yellow-700 text-sm",children:"Para usar el escáner, necesitas permitir el acceso a la cámara en tu navegador."})})]}),p.jsxs("div",{className:"flex-1 relative",children:[p.jsx("video",{ref:h,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),n&&p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white p-4 rounded-lg flex items-center space-x-3",children:[p.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),p.jsx("span",{className:"text-gray-700",children:"Iniciando cámara..."})]})}),p.jsx("div",{className:"absolute inset-0 pointer-events-none",children:p.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:p.jsxs("div",{className:"w-80 h-20 border-2 border-red-500 rounded-lg relative",children:[p.jsx("div",{className:"absolute -top-8 left-0 text-white text-sm bg-black bg-opacity-50 px-2 py-1 rounded",children:"Apunte la cámara al código de barras del VIN"}),p.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-red-500"}),p.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-red-500"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-red-500"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-red-500"})]})})})]}),p.jsxs("div",{className:"bg-white p-4",children:[p.jsx("div",{className:"flex justify-center space-x-4",children:p.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"})}),p.jsx("div",{className:"mt-3 text-center",children:p.jsx("p",{className:"text-sm text-gray-600",children:"Mantén el código de barras dentro del recuadro rojo para escanearlo"})})]})]}):null},X6=qt().regex(/^\+52[0-9]{10}$/,"Formato: +52 seguido de 10 dígitos"),q6=$i({nombre:qt().min(1,"Nombre requerido"),telefono:X6,rfc:qt().optional()}),jd=({customer:t,onSuccess:e,onCancel:r})=>{const[n,a]=W.useState(!1),[o,l]=W.useState(null),c=!!t,{register:d,handleSubmit:h,watch:m,setValue:x,formState:{errors:y}}=qa({resolver:Yi(q6),defaultValues:t?{nombre:t.nombre,telefono:t.telefono,rfc:t.rfc||""}:{telefono:"+52"}}),_=async b=>{a(!0),l(null);try{const w=Object.fromEntries(Object.entries(b).filter(([T,E])=>E!==""&&E!==void 0));let S;c?S=await ha.update(t.customer_id,w):S=await ha.create(w),e?.(S.customer)}catch(w){l(w.response?.data?.message||"Error al guardar el cliente")}finally{a(!1)}};return p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c?"Editar Cliente":"Registrar Nuevo Cliente"}),r&&p.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),o&&p.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:p.jsx("p",{className:"text-red-600 text-sm",children:o})}),p.jsxs("form",{onSubmit:h(_),className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),p.jsx("input",{...d("nombre"),type:"text",className:"input-field",placeholder:"Juan Pérez García"}),y.nombre&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.nombre.message})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono / WhatsApp *"}),p.jsx("input",{...d("telefono"),type:"tel",className:"input-field",placeholder:"+5215512345678"}),y.telefono&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.telefono.message}),p.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formato: +52 seguido de 10 dígitos"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RFC (Opcional)"}),p.jsx("input",{...d("rfc"),type:"text",className:"input-field uppercase",placeholder:"PEGJ801215ABC (opcional)",maxLength:13}),p.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Solo para facturación empresarial"})]})]}),p.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r&&p.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancelar"}),p.jsx("button",{type:"submit",disabled:n,className:"btn-primary disabled:opacity-50",children:n?c?"Actualizando...":"Registrando...":c?"Actualizar Cliente":"Registrar Cliente"})]})]})]})},Y6=$i({vin:qt().transform(t=>t===""?void 0:t).optional(),marca:qt().min(1,"Marca requerida"),modelo:qt().min(1,"Modelo requerido"),año:Hi().int().min(1900).max(new Date().getFullYear()+1,"Año inválido"),placa_actual:qt().min(1,"Placa requerida"),customer_id:Hi().optional(),kilometraje_actual:Hi().min(0,"Kilometraje no puede ser negativo"),color:qt().optional(),numero_motor:qt().optional(),tipo_combustible:Gi(["gasolina","diesel","hibrido","electrico"]),transmision:Gi(["manual","automatica"]),notas:qt().optional()}),$6=["Nissan","Volkswagen","Chevrolet","Ford","Honda","Toyota","Hyundai","Kia","Mazda","Mitsubishi","Suzuki","Jeep"],Gm=({vehicle:t,onSuccess:e,onCancel:r})=>{const[n,a]=W.useState(!1),[o,l]=W.useState(null),[c,d]=W.useState([]),[h,m]=W.useState(""),[x,y]=W.useState(!1),[_,b]=W.useState(!1),w=!!t,{register:S,handleSubmit:T,setValue:E,watch:N,formState:{errors:R}}=qa({resolver:Yi(Y6),defaultValues:t?{vin:t.vin,marca:t.marca,modelo:t.modelo,año:t.año,placa_actual:t.placa_actual||"",customer_id:t.customer_id||void 0,kilometraje_actual:t.kilometraje_actual,color:t.color||"",numero_motor:t.numero_motor||"",tipo_combustible:t.tipo_combustible,transmision:t.transmision,notas:t.notas||""}:{kilometraje_actual:0,tipo_combustible:"gasolina",transmision:"manual"}}),M=N("customer_id");W.useEffect(()=>{const se=setTimeout(async()=>{if(h.length>=2)try{const ye=await ha.searchByName(h);d(ye.customers||[])}catch(ye){console.error("Error buscando clientes:",ye)}else d([])},300);return()=>clearTimeout(se)},[h]);const k=async ie=>{a(!0),l(null);try{const se=Object.fromEntries(Object.entries(ie).filter(([le,ve])=>ve!==""&&ve!==void 0));let ye;w?ye=await Mr.update(t.vin,se):ye=await Mr.create(se),e?.(ye.vehicle)}catch(se){l(se.response?.data?.message||"Error al guardar el vehículo")}finally{a(!1)}},Z=ie=>{E("vin",ie),y(!1)},ee=ie=>{E("customer_id",ie.customer_id),m(ie.nombre),b(!1),d([])};return p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w?"Editar Vehículo":"Registrar Nuevo Vehículo"}),r&&p.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),o&&p.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:p.jsx("p",{className:"text-red-600 text-sm",children:o})}),p.jsxs("form",{onSubmit:T(k),className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VIN"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("input",{...S("vin"),type:"text",className:"input-field uppercase flex-1",placeholder:"Número de identificación del vehículo (opcional)",disabled:w}),!w&&p.jsxs("button",{type:"button",onClick:()=>y(!0),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-1 whitespace-nowrap",title:"Escanear código de barras VIN",children:[p.jsx("span",{children:"📷"}),p.jsx("span",{className:"hidden sm:inline",children:"Escanear VIN"})]})]}),R.vin&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.vin.message})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placas *"}),p.jsx("input",{...S("placa_actual"),type:"text",className:"input-field uppercase",placeholder:"Placas del vehículo"}),R.placa_actual&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.placa_actual.message})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),p.jsxs("select",{...S("marca"),className:"input-field",children:[p.jsx("option",{value:"",children:"Seleccionar marca"}),$6.map(ie=>p.jsx("option",{value:ie,children:ie},ie)),p.jsx("option",{value:"Otra",children:"Otra"})]}),R.marca&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.marca.message})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),p.jsx("input",{...S("modelo"),type:"text",className:"input-field",placeholder:"Tsuru, Jetta, Aveo..."}),R.modelo&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.modelo.message})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Año *"}),p.jsx("input",{...S("año",{valueAsNumber:!0}),type:"number",className:"input-field",min:"1900",max:new Date().getFullYear()+1}),R.año&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.año.message})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilometraje actual"}),p.jsx("input",{...S("kilometraje_actual",{valueAsNumber:!0}),type:"number",className:"input-field",min:"0",placeholder:"150000"}),R.kilometraje_actual&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.kilometraje_actual.message})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de combustible"}),p.jsxs("select",{...S("tipo_combustible"),className:"input-field",children:[p.jsx("option",{value:"gasolina",children:"Gasolina"}),p.jsx("option",{value:"diesel",children:"Diesel"}),p.jsx("option",{value:"hibrido",children:"Híbrido"}),p.jsx("option",{value:"electrico",children:"Eléctrico"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transmisión"}),p.jsxs("select",{...S("transmision"),className:"input-field",children:[p.jsx("option",{value:"manual",children:"Manual"}),p.jsx("option",{value:"automatica",children:"Automática"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),p.jsx("input",{...S("color"),type:"text",className:"input-field",placeholder:"Blanco, Azul, Rojo..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número de motor"}),p.jsx("input",{...S("numero_motor"),type:"text",className:"input-field",placeholder:"A15123456"})]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Propietario"}),p.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-sm bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 transition-colors",children:"+ Nuevo Cliente"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("input",{type:"text",value:h,onChange:ie=>m(ie.target.value),className:"input-field",placeholder:"Buscar cliente por nombre..."}),c.length>0&&p.jsx("div",{className:"border border-gray-300 rounded-lg max-h-48 overflow-y-auto",children:c.map(ie=>p.jsxs("button",{type:"button",onClick:()=>{E("customer_id",ie.customer_id),m(ie.nombre),d([])},className:`w-full text-left p-3 hover:bg-gray-50 border-b border-gray-200 last:border-b-0 ${M===ie.customer_id?"bg-blue-50":""}`,children:[p.jsx("div",{className:"font-medium",children:ie.nombre}),p.jsx("div",{className:"text-sm text-gray-600",children:ie.telefono})]},ie.customer_id))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),p.jsx("textarea",{...S("notas"),rows:3,className:"input-field",placeholder:"Información adicional sobre el vehículo..."})]}),p.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r&&p.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancelar"}),p.jsx("button",{type:"submit",disabled:n,className:"btn-primary disabled:opacity-50",children:n?w?"Actualizando...":"Registrando...":w?"Actualizar Vehículo":"Registrar Vehículo"})]})]}),p.jsx(Z6,{isOpen:x,onResult:Z,onClose:()=>y(!1)}),_&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:p.jsx(jd,{onSuccess:ee,onCancel:()=>b(!1)})})})]})},K6=$i({vin:qt().min(1,"Seleccione un vehículo"),customer_id:Hi().positive("Seleccione un cliente"),tipo_oportunidad:qt().min(1,"Tipo de oportunidad requerido"),descripcion:qt().min(1,"Nota requerida"),precio_estimado:Hi().positive("Precio debe ser positivo").optional(),fecha_sugerida:qt().optional(),prioridad:Gi(["alta","media","baja"]),kilometraje_referencia:Hi().min(0,"Kilometraje no puede ser negativo").optional()}),Q6=["afinacion_mayor","cambio_aceite","servicio_frenos","suspension","direccion","alineacion"],Md=({opportunity:t,preselectedVin:e,onSuccess:r,onCancel:n})=>{const{user:a}=Ln(),[o,l]=W.useState(!1),[c,d]=W.useState(null),[h,m]=W.useState(null),[x,y]=W.useState(""),[_,b]=W.useState([]),[w,S]=W.useState([]),[T,E]=W.useState([]),[N,R]=W.useState(!1),M=!!t,{register:k,handleSubmit:Z,setValue:ee,watch:ie,formState:{errors:se}}=qa({resolver:Yi(K6),defaultValues:t?{vin:t.vin,customer_id:t.customer_id,tipo_oportunidad:t.tipo_oportunidad,descripcion:t.descripcion,precio_estimado:t.precio_estimado||void 0,fecha_sugerida:t.fecha_sugerida?t.fecha_sugerida.split("T")[0]:"",prioridad:t.prioridad,kilometraje_referencia:t.kilometraje_referencia||void 0}:{vin:e||"",prioridad:"media"}}),ye=ie("vin");W.useEffect(()=>{(async()=>{if(e)try{const he=await Mr.getByVin(e);m(he.vehicle),he.vehicle.customer_id&&ee("customer_id",he.vehicle.customer_id)}catch(he){console.error("Error cargando vehículo preseleccionado:",he)}})()},[e,ee]),W.useEffect(()=>{const he=setTimeout(async()=>{if(x.length>=2&&!N)try{console.log("Buscando vehículos con:",x);const P=await Mr.search({placa:x,customer_name:x});console.log("Resultado de búsqueda:",P),b(P.vehicles||[])}catch(P){console.error("Error buscando vehículos:",P),b([])}else b([])},300);return()=>clearTimeout(he)},[x,N]),W.useEffect(()=>{ye!==e&&(async()=>{if(ye&&ye.length===17)try{const he=await Mr.getByVin(ye);m(he.vehicle),he.vehicle.customer_id&&(ee("customer_id",he.vehicle.customer_id),ee("kilometraje_referencia",he.vehicle.kilometraje_actual))}catch(he){console.error("Error cargando información del vehículo:",he)}})()},[ye,ee,e]),W.useEffect(()=>{(async()=>{try{const he=await ha.search({limit:100});S(he.customers||[])}catch(he){console.error("Error cargando clientes:",he)}})()},[]),W.useEffect(()=>{(async()=>{try{a&&E([a])}catch(he){console.error("Error cargando usuarios:",he)}})()},[a]);const le=async ce=>{l(!0),d(null);try{const he=Object.fromEntries(Object.entries(ce).filter(([oe,re])=>re!==""&&re!==void 0&&re!==null));let P;M?P=await Br.update(t.opportunity_id,he):P=await Br.create(he),r?.(P.opportunity)}catch(he){d(he.response?.data?.message||"Error al guardar la oportunidad")}finally{l(!1)}},ve=ce=>`https://wa.me/52${ce.replace(/^\+52/,"")}`;return p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:M?"Editar Oportunidad":"Crear Nueva Oportunidad"}),n&&p.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),c&&p.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:p.jsx("p",{className:"text-red-600 text-sm",children:c})}),p.jsxs("form",{onSubmit:Z(le),className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vehículo"}),!e&&p.jsxs("div",{className:"space-y-2 mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buscar vehículo (placas o cliente)"}),p.jsx("input",{type:"text",value:x,onChange:ce=>{y(ce.target.value),N&&R(!1)},className:"input-field",placeholder:"ABC-123-A o Juan Pérez"}),x.length>=2&&!N&&p.jsx("div",{className:"border border-gray-300 rounded-lg max-h-48 overflow-y-auto",children:_.length>0?_.map(ce=>p.jsxs("button",{type:"button",onClick:()=>{console.log("Seleccionando vehículo:",ce),ee("vin",ce.vin),y(`${ce.marca} ${ce.modelo} - ${ce.placa_actual}`),b([]),R(!0)},className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-200 last:border-b-0",children:[p.jsxs("div",{className:"font-medium",children:[ce.marca," ",ce.modelo," ",ce.año]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[ce.placa_actual," • VIN: ",ce.vin," • ",ce.customer?.nombre]})]},ce.vin)):p.jsxs("div",{className:"p-3 text-center text-gray-500 text-sm",children:['No se encontraron vehículos con "',x,'"']})})]}),h&&p.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[p.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:[h.marca," ",h.modelo," ",h.año]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[p.jsxs("div",{children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Placas:"})," ",h.placa_actual||"No asignadas"]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"VIN:"})," ",h.vin]})]}),p.jsxs("div",{children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",h.kilometraje_actual?.toLocaleString()," km"]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Propietario:"})," ",h.customer?.nombre||"No asignado"]})]})]}),h.customer?.whatsapp&&p.jsx("div",{className:"mt-2",children:p.jsx("a",{href:ve(h.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium text-sm",children:"💬 Contactar por WhatsApp"})})]}),p.jsx("input",{type:"hidden",...k("vin")}),se.vin&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.vin.message})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información de la Oportunidad"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de oportunidad *"}),p.jsxs("select",{...k("tipo_oportunidad"),className:"input-field",children:[p.jsx("option",{value:"",children:"Seleccionar tipo"}),Q6.map(ce=>p.jsx("option",{value:ce,children:ce.replace(/_/g," ").replace(/\b\w/g,he=>he.toUpperCase())},ce))]}),se.tipo_oportunidad&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.tipo_oportunidad.message})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),p.jsxs("select",{...k("prioridad"),className:"input-field",children:[p.jsx("option",{value:"baja",children:"Baja"}),p.jsx("option",{value:"media",children:"Media"}),p.jsx("option",{value:"alta",children:"Alta"})]})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nota *"}),p.jsx("textarea",{...k("descripcion"),rows:3,className:"input-field",placeholder:"Descripción detallada del servicio necesario..."}),se.descripcion&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.descripcion.message})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalles del Servicio"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio estimado (MXN)"}),p.jsx("input",{...k("precio_estimado",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"450.00",step:"0.01",min:"0"}),se.precio_estimado&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.precio_estimado.message})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha sugerida para el servicio"}),p.jsx("input",{...k("fecha_sugerida"),type:"date",className:"input-field",min:new Date().toISOString().split("T")[0]})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilometraje sugerido"}),p.jsx("input",{...k("kilometraje_referencia",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:h?.kilometraje_actual?.toString()||"0",min:"0"})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cliente"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),p.jsxs("select",{...k("customer_id",{valueAsNumber:!0}),className:"input-field",children:[p.jsx("option",{value:"",children:"Seleccionar cliente"}),w.map(ce=>p.jsxs("option",{value:ce.customer_id,children:[ce.nombre," - ",ce.telefono]},ce.customer_id))]}),se.customer_id&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.customer_id.message})]})]}),p.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[n&&p.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancelar"}),p.jsx("button",{type:"submit",disabled:o,className:"btn-primary disabled:opacity-50",children:o?M?"Actualizando...":"Creando...":M?"Actualizar Oportunidad":"Crear Oportunidad"})]})]})]})},W6=({initialMode:t="search",onModeUsed:e})=>{console.log("🚗 VEHICLES COMPONENT LOADED with initialMode:",t);const[r,n]=W.useState(t),[a,o]=W.useState(null);W.useEffect(()=>{t==="create"&&e&&(console.log("🧹 Cleaning up initialMode in parent"),e())},[t,e]);const l=!0,c=w=>{o(w),n("detail")},d=()=>{console.log("🚗 handleCreateNew called"),console.log("Current viewMode:",r),o(null),n("create"),console.log("ViewMode set to: create")},h=()=>{a&&n("edit")},m=w=>{o(w),n("detail")},x=()=>{n("detail")},y=()=>{n("search"),o(null)},_=w=>`https://wa.me/52${w.replace(/^\+52/,"")}`,b=()=>{switch(console.log("📱 Rendering Vehicles with viewMode:",r),r){case"create":return p.jsx(Gm,{onSuccess:m,onCancel:y});case"edit":return p.jsx(Gm,{vehicle:a,onSuccess:m,onCancel:y});case"create-opportunity":return p.jsxs("div",{className:"space-y-4",children:[p.jsx("button",{onClick:()=>n("detail"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar al vehículo"}),p.jsx(Md,{preselectedVin:a?.vin,onSuccess:x,onCancel:()=>n("detail")})]});case"detail":return p.jsxs("div",{className:"space-y-6",children:[p.jsx("button",{onClick:()=>n("search"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a búsqueda"}),p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[a?.marca," ",a?.modelo," ",a?.año]}),p.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[p.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:a?.placa_actual||"Sin placas"}),p.jsxs("span",{className:"text-gray-600 text-sm",children:["VIN: ",a?.vin]})]})]}),p.jsx("button",{onClick:h,className:"btn-secondary",children:"Editar Vehículo"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información Básica"}),p.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Marca:"})," ",a?.marca]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Modelo:"})," ",a?.modelo]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Año:"})," ",a?.año]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Color:"})," ",a?.color||"No especificado"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información Técnica"}),p.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",a?.kilometraje_actual?.toLocaleString()," km"]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Combustible:"})," ",a?.tipo_combustible]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Transmisión:"})," ",a?.transmision]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Motor:"})," ",a?.numero_motor||"No especificado"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Propietario"}),a?.customer?p.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[p.jsx("p",{className:"font-medium text-gray-900",children:a.customer.nombre}),p.jsxs("p",{children:["📞 ",a.customer.telefono]}),a.customer.whatsapp&&p.jsx("a",{href:_(a.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",children:"💬 Enviar WhatsApp"}),a.customer.email&&p.jsxs("p",{children:["✉️ ",a.customer.email]})]}):p.jsx("p",{className:"text-sm text-gray-500",children:"No asignado"})]})]}),a?.notas&&p.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Notas"}),p.jsx("p",{className:"text-sm text-gray-600",children:a.notas})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("button",{onClick:()=>{o(a),n("create-opportunity")},className:"card p-4 text-center hover:shadow-md transition-shadow",children:[p.jsx("div",{className:"text-2xl mb-2",children:"🔧"}),p.jsx("div",{className:"font-medium",children:"Crear Oportunidad"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Programar servicio"})]}),p.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[p.jsx("div",{className:"text-2xl mb-2",children:"📋"}),p.jsx("div",{className:"font-medium",children:"Ver Historial"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Servicios realizados"})]}),a?.customer?.whatsapp&&p.jsxs("a",{href:_(a.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"card p-4 text-center hover:shadow-md transition-shadow block",children:[p.jsx("div",{className:"text-2xl mb-2",children:"💬"}),p.jsx("div",{className:"font-medium",children:"Contactar Cliente"}),p.jsx("div",{className:"text-sm text-gray-600",children:"WhatsApp directo"})]})]})]});default:return console.log("🔍 Rendering VehicleSearch with canModifyVehicles:",l),console.log("🔍 handleCreateNew function:",d),p.jsx(oE,{onVehicleSelect:c,onCreateNew:d})}};return p.jsx("div",{className:"bg-gray-50",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:b()})})},J6=$i({searchType:Gi(["nombre","telefono","email"]),searchValue:qt().min(1,"Valor de búsqueda requerido")}),eC=({onCustomerSelect:t,onCreateNew:e})=>{const[r,n]=W.useState([]),[a,o]=W.useState(!1),[l,c]=W.useState(null),{register:d,handleSubmit:h,watch:m,formState:{errors:x}}=qa({resolver:Yi(J6),defaultValues:{searchType:"nombre"}}),y=m("searchType"),_=()=>{switch(y){case"nombre":return"Juan Pérez";case"telefono":return"+5215512345678";case"email":return"juan@email.com";default:return""}},b=async E=>{o(!0),c(null),n([]);try{let N;switch(E.searchType){case"nombre":N=await ha.searchByName(E.searchValue);break;case"telefono":N=await ha.searchByPhone(E.searchValue);break;case"email":N=await ha.search({email:E.searchValue});break;default:throw new Error("Tipo de búsqueda no válido")}n(N.customers||[]),N.customers?.length===0&&c("No se encontraron clientes que coincidan con la búsqueda")}catch(N){c(N.response?.data?.message||"Error al buscar clientes")}finally{o(!1)}},w=async()=>{o(!0),c(null),n([]);try{const E=await ha.getAll(100);n(E.customers||[]),E.customers?.length===0&&c("No hay clientes registrados en el sistema")}catch(E){c(E.response?.data?.message||"Error al cargar clientes")}finally{o(!1)}},S=E=>`https://wa.me/52${E.replace(/^\+52/,"")}`,T=E=>E.length===13&&E.startsWith("+52")?`+52 ${E.slice(3,5)} ${E.slice(5,9)} ${E.slice(9)}`:E;return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"card p-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Búsqueda de Clientes"}),p.jsx("form",{onSubmit:h(b),className:"space-y-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de búsqueda"}),p.jsxs("select",{...d("searchType"),className:"input-field",children:[p.jsx("option",{value:"nombre",children:"Por Nombre"}),p.jsx("option",{value:"telefono",children:"Por Teléfono"}),p.jsx("option",{value:"email",children:"Por Email"})]})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor a buscar"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("input",{...d("searchValue"),type:"text",className:"input-field flex-1",placeholder:_()}),p.jsx("button",{type:"submit",disabled:a,className:"btn-primary px-6 disabled:opacity-50",children:a?"Buscando...":"Buscar"}),p.jsx("button",{type:"button",onClick:w,disabled:a,className:"btn-secondary px-6 disabled:opacity-50",children:"Ver Todos"})]}),x.searchValue&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.searchValue.message})]})]})}),e&&p.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:p.jsx("button",{onClick:e,className:"btn-secondary",children:"+ Registrar Nuevo Cliente"})})]}),l&&p.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:p.jsx("p",{className:"text-red-600 text-sm",children:l})}),r.length>0&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Resultados (",r.length,")"]}),r.map(E=>p.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t?.(E),children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[p.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:E.nombre}),E.rfc&&p.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["RFC: ",E.rfc]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"📞"}),p.jsx("span",{children:T(E.telefono)})]}),E.whatsapp&&E.whatsapp!==E.telefono&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"💬"}),p.jsx("span",{children:T(E.whatsapp)})]}),E.email&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"✉️"}),p.jsx("span",{children:E.email})]})]}),p.jsxs("div",{className:"space-y-1",children:[E.direccion&&p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("span",{children:"📍"}),p.jsx("span",{className:"line-clamp-2",children:E.direccion})]}),E.codigo_postal&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"📮"}),p.jsxs("span",{children:["CP: ",E.codigo_postal]})]})]})]}),p.jsxs("div",{className:"mt-3 flex items-center space-x-4",children:[E.whatsapp&&p.jsx("a",{href:S(E.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium text-sm",onClick:N=>N.stopPropagation(),children:"💬 WhatsApp"}),p.jsx("a",{href:`tel:${E.telefono}`,className:"text-blue-600 hover:text-blue-700 font-medium text-sm",onClick:N=>N.stopPropagation(),children:"📞 Llamar"}),E.email&&p.jsx("a",{href:`mailto:${E.email}`,className:"text-purple-600 hover:text-purple-700 font-medium text-sm",onClick:N=>N.stopPropagation(),children:"✉️ Email"})]}),E.notas&&p.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:p.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',E.notas,'"']})})]}),p.jsx("div",{className:"text-right",children:p.jsxs("span",{className:"text-xs text-gray-500",children:["Registrado: ",new Date(E.fecha_registro).toLocaleDateString("es-MX")]})})]})},E.customer_id))]})]})},tC=()=>{const{user:t}=Ln(),[e,r]=W.useState("search"),[n,a]=W.useState(null),[o,l]=W.useState([]),[c,d]=W.useState(!1),h=t?.rol==="administrador"||t?.rol==="mecanico",m=async E=>{a(E),r("detail"),d(!0);try{const N=await Mr.search({customer_name:E.nombre});l(N.vehicles||[])}catch(N){console.error("Error cargando vehículos:",N),l([])}finally{d(!1)}},x=()=>{a(null),r("create")},y=()=>{n&&r("edit")},_=E=>{a(E),r("detail")},b=()=>{r("search"),a(null),l([])},w=E=>`https://wa.me/52${E.replace(/^\+52/,"")}`,S=E=>E.length===13&&E.startsWith("+52")?`+52 ${E.slice(3,5)} ${E.slice(5,9)} ${E.slice(9)}`:E,T=()=>{switch(e){case"create":return p.jsx(jd,{onSuccess:_,onCancel:b});case"edit":return p.jsx(jd,{customer:n,onSuccess:_,onCancel:b});case"detail":return p.jsxs("div",{className:"space-y-6",children:[p.jsx("button",{onClick:()=>r("search"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a búsqueda"}),p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?.nombre}),p.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[n?.rfc&&p.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["RFC: ",n.rfc]}),p.jsxs("span",{className:"text-gray-600 text-sm",children:["Cliente desde: ",new Date(n?.fecha_registro||"").toLocaleDateString("es-MX")]})]})]}),h&&p.jsx("button",{onClick:y,className:"btn-secondary",children:"Editar Cliente"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información de Contacto"}),p.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"📞"}),p.jsx("span",{children:S(n?.telefono||"")}),p.jsx("a",{href:`tel:${n?.telefono}`,className:"text-blue-600 hover:text-blue-700 ml-2",children:"Llamar"})]}),n?.whatsapp&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"💬"}),p.jsx("span",{children:S(n.whatsapp)}),p.jsx("a",{href:w(n.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 ml-2",children:"WhatsApp"})]}),n?.email&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"✉️"}),p.jsx("span",{children:n.email}),p.jsx("a",{href:`mailto:${n.email}`,className:"text-purple-600 hover:text-purple-700 ml-2",children:"Email"})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Ubicación"}),p.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n?.direccion?p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("span",{children:"📍"}),p.jsx("span",{children:n.direccion})]}):p.jsx("p",{className:"text-gray-500",children:"No especificada"}),n?.codigo_postal&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"📮"}),p.jsxs("span",{children:["CP: ",n.codigo_postal]})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Estadísticas"}),p.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Vehículos:"})," ",o.length]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Último contacto:"})," Hace 2 días"]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Servicios totales:"})," --"]})]})]})]}),n?.notas&&p.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Notas"}),p.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:n.notas})]})]}),p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Vehículos del Cliente (",o.length,")"]}),p.jsx("button",{className:"btn-secondary text-sm",children:"+ Registrar Vehículo para este Cliente"})]}),c?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando vehículos..."})]}):o.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(E=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("h4",{className:"font-medium text-gray-900",children:[E.marca," ",E.modelo," ",E.año]}),p.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium",children:E.placa_actual||"Sin placas"})]}),p.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"VIN:"})," ",E.vin]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",E.kilometraje_actual?.toLocaleString()," km"]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Último servicio:"})," --"]})]}),p.jsxs("div",{className:"mt-3 flex space-x-2",children:[p.jsx("button",{className:"text-xs bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded",children:"Ver Historial"}),p.jsx("button",{className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded",children:"Crear Oportunidad"})]})]},E.vin))}):p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx("p",{children:"Este cliente no tiene vehículos registrados"}),p.jsx("button",{className:"mt-2 btn-secondary text-sm",children:"Registrar Primer Vehículo"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[p.jsx("div",{className:"text-2xl mb-2",children:"💬"}),p.jsx("div",{className:"font-medium",children:"Enviar WhatsApp"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Contacto directo"})]}),p.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[p.jsx("div",{className:"text-2xl mb-2",children:"🔧"}),p.jsx("div",{className:"font-medium",children:"Crear Oportunidad"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Nuevo servicio"})]}),p.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[p.jsx("div",{className:"text-2xl mb-2",children:"📋"}),p.jsx("div",{className:"font-medium",children:"Ver Historial"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Todos los servicios"})]})]})]});default:return p.jsx(eC,{onCustomerSelect:m,onCreateNew:h?x:void 0})}};return p.jsx("div",{className:"bg-gray-50",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:T()})})},rC={pendiente:"bg-yellow-100 text-yellow-800",contactado:"bg-blue-100 text-blue-800",agendado:"bg-purple-100 text-purple-800",en_proceso:"bg-orange-100 text-orange-800",completado:"bg-green-100 text-green-800",perdido:"bg-red-100 text-red-800"},nC={alta:"bg-red-100 text-red-800",media:"bg-yellow-100 text-yellow-800",baja:"bg-green-100 text-green-800"},aC={pendiente:"Pendiente",contactado:"Contactado",agendado:"Agendado",en_proceso:"En Proceso",completado:"Completado",perdido:"Perdido"},iC={alta:"Alta",media:"Media",baja:"Baja"},pg=({opportunity:t,onSelect:e,onStatusChange:r,showVehicleInfo:n=!0})=>{const a=m=>m?new Date(m).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"}):"",o=m=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0}).format(m),l=m=>`https://wa.me/52${m.replace(/^\+52/,"")}`,d=(()=>{if(!t.fecha_sugerida)return null;const m=new Date,y=new Date(t.fecha_sugerida).getTime()-m.getTime();return Math.ceil(y/(1e3*60*60*24))})(),h=()=>d?d<0?"border-l-4 border-red-500":d<=3?"border-l-4 border-orange-500":d<=7?"border-l-4 border-yellow-500":"border-l-4 border-green-500":"";return p.jsxs("div",{className:`card p-6 hover:shadow-md transition-shadow cursor-pointer ${h()}`,onClick:()=>e?.(t),children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.titulo}),p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${rC[t.estado]}`,children:aC[t.estado]}),p.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${nC[t.prioridad]}`,children:["Prioridad ",iC[t.prioridad]]}),t.precio_estimado&&p.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium",children:o(t.precio_estimado)})]})]}),r&&p.jsx("div",{className:"ml-4",children:p.jsxs("select",{value:t.estado,onChange:m=>{m.stopPropagation(),r(t.opportunity_id,m.target.value)},className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"pendiente",children:"Pendiente"}),p.jsx("option",{value:"contactado",children:"Contactado"}),p.jsx("option",{value:"agendado",children:"Agendado"}),p.jsx("option",{value:"en_proceso",children:"En Proceso"}),p.jsx("option",{value:"completado",children:"Completado"}),p.jsx("option",{value:"perdido",children:"Perdido"})]})})]}),n&&(t.vehicle_marca||t.vin)||t.customer_nombre?p.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:p.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-6",children:[n&&(t.vehicle_marca||t.vin)&&p.jsxs("div",{className:"flex-1 mb-3 lg:mb-0",children:[p.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["🚗 ",t.vehicle_marca," ",t.vehicle_modelo," ",t.vehicle_año]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Placas: ",t.vehicle_placa||"No asignadas"," • VIN: ",t.vin]})]}),t.customer_nombre&&p.jsxs("div",{className:"flex-1",children:[p.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["👤 Cliente: ",t.customer_nombre]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[p.jsxs("span",{children:["📞 ",t.customer_telefono]}),t.customer_whatsapp&&p.jsx("a",{href:l(t.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",onClick:m=>m.stopPropagation(),children:"💬 WhatsApp"})]})]})]})}):null,p.jsxs("div",{className:"mb-4",children:[p.jsx("p",{className:"text-gray-700 text-sm line-clamp-2",children:t.descripcion}),t.servicio_sugerido&&p.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[p.jsx("span",{className:"font-medium",children:"Servicio:"})," ",t.servicio_sugerido]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[p.jsxs("div",{children:[t.fecha_sugerida&&p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Fecha sugerida:"})," ",a(t.fecha_sugerida),d!==null&&p.jsx("span",{className:`ml-2 ${d<0?"text-red-600 font-medium":d<=3?"text-orange-600 font-medium":d<=7?"text-yellow-600 font-medium":"text-green-600"}`,children:d<0?`(${Math.abs(d)} días vencido)`:d===0?"(Hoy)":d===1?"(Mañana)":`(en ${d} días)`})]}),t.fecha_contacto_sugerida&&p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Contactar:"})," ",a(t.fecha_contacto_sugerida)]})]}),p.jsxs("div",{children:[t.usuario_asignado_nombre&&p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Asignado a:"})," ",t.usuario_asignado_nombre]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Creado:"})," ",a(t.fecha_creacion)]})]})]}),p.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200 flex justify-between items-center",children:[p.jsxs("div",{className:"text-xs text-gray-500",children:["Tipo: ",t.tipo_oportunidad.replace(/_/g," "),t.kilometraje_referencia&&p.jsxs("span",{className:"ml-2",children:["• ",t.kilometraje_referencia.toLocaleString()," km"]})]}),p.jsxs("div",{className:"flex space-x-2",children:[t.customer_whatsapp&&p.jsx("a",{href:l(t.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded",onClick:m=>m.stopPropagation(),children:"WhatsApp"}),p.jsx("button",{onClick:m=>{m.stopPropagation(),e?.(t)},className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 px-2 py-1 rounded",children:"Ver Detalles"})]})]})]})},oC=()=>{const{user:t}=Ln(),[e,r]=W.useState("search"),[n,a]=W.useState(null),[o,l]=W.useState([]),[c,d]=W.useState([]),[h,m]=W.useState(!1),[x,y]=W.useState(null),[_,b]=W.useState(!1),w=t?.rol==="administrador"||t?.rol==="mecanico",S=t?.rol==="administrador"||t?.rol==="seguimiento",{register:T,watch:E,reset:N}=qa(),R=E();W.useEffect(()=>{M(),k()},[]),W.useEffect(()=>{Object.values(R).some(P=>P)&&M()},[R]);const M=async()=>{m(!0),y(null);try{const P=Object.fromEntries(Object.entries(R).filter(([re,Ae])=>Ae&&Ae!=="")),oe=await Br.search(P);l(oe.opportunities||[])}catch(P){y(P.response?.data?.message||"Error al cargar oportunidades")}finally{m(!1)}},k=async()=>{try{const P=await Br.getRemindersToday();d(P.reminders||[])}catch(P){console.error("Error cargando recordatorios:",P)}},Z=P=>{a(P),r("detail")},ee=()=>{a(null),r("create")},ie=()=>{n&&r("edit")},se=P=>{a(P),r("detail"),M(),k()},ye=()=>{r("search"),a(null)},le=async(P,oe)=>{try{await Br.changeStatus(P,oe),M(),k()}catch(re){y(re.response?.data?.message||"Error al cambiar estado")}},ve=()=>{N(),M()},ce=P=>`https://wa.me/52${P.replace(/^\+52/,"")}`,he=()=>{switch(e){case"create":return p.jsx(Md,{onSuccess:se,onCancel:ye});case"edit":return p.jsx(Md,{opportunity:n,onSuccess:se,onCancel:ye});case"detail":return p.jsxs("div",{className:"space-y-6",children:[p.jsx("button",{onClick:()=>r("search"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a oportunidades"}),p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?.titulo}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n?.estado==="pendiente"?"bg-yellow-100 text-yellow-800":n?.estado==="contactado"?"bg-blue-100 text-blue-800":n?.estado==="agendado"?"bg-purple-100 text-purple-800":n?.estado==="completado"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:n?.estado?n.estado.charAt(0).toUpperCase()+n.estado.slice(1):""}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n?.prioridad==="alta"?"bg-red-100 text-red-800":n?.prioridad==="media"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:["Prioridad ",n?.prioridad]})]})]}),S&&p.jsx("button",{onClick:ie,className:"btn-secondary",children:"Editar Oportunidad"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Información del Servicio"}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Descripción:"})," ",n?.descripcion]}),n?.servicio_sugerido&&p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Servicio:"})," ",n.servicio_sugerido]}),n?.precio_estimado&&p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Precio estimado:"})," $",n.precio_estimado.toLocaleString()]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Tipo:"})," ",n?.tipo_oportunidad.replace(/_/g," ")]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Fechas y Seguimiento"}),p.jsxs("div",{className:"space-y-2 text-sm",children:[n?.fecha_sugerida&&p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Fecha sugerida:"})," ",new Date(n.fecha_sugerida).toLocaleDateString("es-MX")]}),n?.fecha_contacto_sugerida&&p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Contactar antes del:"})," ",new Date(n.fecha_contacto_sugerida).toLocaleDateString("es-MX")]}),n?.usuario_asignado_nombre&&p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Asignado a:"})," ",n.usuario_asignado_nombre]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Creado:"})," ",new Date(n?.fecha_creacion||"").toLocaleDateString("es-MX")]})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[p.jsx("div",{className:"text-2xl mb-2",children:"💬"}),p.jsx("div",{className:"font-medium",children:"Contactar Cliente"}),p.jsx("div",{className:"text-sm text-gray-600",children:"WhatsApp o llamada"})]}),p.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[p.jsx("div",{className:"text-2xl mb-2",children:"📅"}),p.jsx("div",{className:"font-medium",children:"Programar Cita"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Agendar servicio"})]}),p.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[p.jsx("div",{className:"text-2xl mb-2",children:"📝"}),p.jsx("div",{className:"font-medium",children:"Agregar Nota"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Seguimiento"})]})]})]});default:return p.jsxs("div",{className:"space-y-6",children:[c.length>0&&p.jsxs("div",{className:"card p-6 border-l-4 border-orange-500",children:[p.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:["⏰ Recordatorios de Hoy (",c.length,")"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.slice(0,6).map(P=>p.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:P.titulo}),p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:P.customer_nombre}),p.jsxs("p",{className:"text-sm text-gray-600",children:[P.vehicle_marca," ",P.vehicle_modelo]}),p.jsxs("div",{className:"mt-2 flex space-x-2",children:[P.customer_whatsapp&&p.jsx("a",{href:ce(P.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded",children:"WhatsApp"}),p.jsx("button",{onClick:()=>Z(P),className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 px-2 py-1 rounded",children:"Ver"})]})]},P.opportunity_id))}),c.length>6&&p.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["Y ",c.length-6," recordatorios más..."]})]}),p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Oportunidades de Venta"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>b(!_),className:"btn-secondary text-sm",children:_?"Ocultar Filtros":"Mostrar Filtros"}),w&&p.jsx("button",{onClick:ee,className:"btn-primary text-sm",children:"+ Nueva Oportunidad"})]})]}),_&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),p.jsxs("select",{...T("estado"),className:"input-field text-sm",children:[p.jsx("option",{value:"",children:"Todos"}),p.jsx("option",{value:"pendiente",children:"Pendiente"}),p.jsx("option",{value:"contactado",children:"Contactado"}),p.jsx("option",{value:"agendado",children:"Agendado"}),p.jsx("option",{value:"en_proceso",children:"En Proceso"}),p.jsx("option",{value:"completado",children:"Completado"}),p.jsx("option",{value:"perdido",children:"Perdido"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),p.jsxs("select",{...T("prioridad"),className:"input-field text-sm",children:[p.jsx("option",{value:"",children:"Todas"}),p.jsx("option",{value:"alta",children:"Alta"}),p.jsx("option",{value:"media",children:"Media"}),p.jsx("option",{value:"baja",children:"Baja"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),p.jsx("input",{...T("fecha_desde"),type:"date",className:"input-field text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),p.jsx("input",{...T("fecha_hasta"),type:"date",className:"input-field text-sm"})]}),p.jsx("div",{className:"md:col-span-2 lg:col-span-4",children:p.jsx("button",{onClick:ve,className:"btn-secondary text-sm",children:"Limpiar Filtros"})})]})]}),x&&p.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:p.jsx("p",{className:"text-red-600 text-sm",children:x})}),h?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando oportunidades..."})]}):o.length>0?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[o.length," oportunidades encontradas"]}),o.map(P=>p.jsx(pg,{opportunity:P,onSelect:Z,onStatusChange:S?le:void 0},P.opportunity_id))]}):p.jsx("div",{className:"card p-8 text-center",children:p.jsx("p",{className:"text-gray-600",children:"No hay oportunidades que coincidan con los filtros"})})]})}};return p.jsx("div",{className:"bg-gray-50",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:he()})})},sC=()=>{const{user:t}=Ln(),[e,r]=W.useState([]),[n,a]=W.useState(!0),[o,l]=W.useState(null),[c,d]=W.useState("today"),h=t?.rol==="administrador"||t?.rol==="seguimiento";W.useEffect(()=>{m()},[c]);const m=async()=>{a(!0),l(null);try{let w;switch(c){case"today":w=await Br.getRemindersToday(),r(w.reminders||[]);break;case"upcoming":const S=new Date;S.setDate(S.getDate()+7),w=await Br.search({estado:"pendiente",fecha_hasta:S.toISOString().split("T")[0]}),r(w.opportunities||[]);break;case"overdue":const T=new Date;T.setDate(T.getDate()-1),w=await Br.search({estado:"pendiente",fecha_hasta:T.toISOString().split("T")[0]}),r(w.opportunities||[]);break}}catch(w){l(w.response?.data?.message||"Error al cargar recordatorios")}finally{a(!1)}},x=async(w,S)=>{try{await Br.changeStatus(w,S),m()}catch(T){l(T.response?.data?.message||"Error al cambiar estado")}},y=w=>`https://wa.me/52${w.replace(/^\+52/,"")}`,b=(()=>{if(c!=="today")return null;const w=e.reduce((S,T)=>(S[T.prioridad]=(S[T.prioridad]||0)+1,S),{});return{total:e.length,alta:w.alta||0,media:w.media||0,baja:w.baja||0}})();return p.jsx("div",{className:"bg-gray-50",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recordatorios y Seguimiento"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona los recordatorios de contacto con clientes"})]}),b&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsx("div",{className:"card p-4",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Hoy"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total})]}),p.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:p.jsx("span",{className:"text-blue-600 text-xl",children:"📅"})})]})}),p.jsx("div",{className:"card p-4",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prioridad Alta"}),p.jsx("p",{className:"text-2xl font-bold text-red-600",children:b.alta})]}),p.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:p.jsx("span",{className:"text-red-600 text-xl",children:"🔥"})})]})}),p.jsx("div",{className:"card p-4",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prioridad Media"}),p.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:b.media})]}),p.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:p.jsx("span",{className:"text-yellow-600 text-xl",children:"⚡"})})]})}),p.jsx("div",{className:"card p-4",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prioridad Baja"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:b.baja})]}),p.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:p.jsx("span",{className:"text-green-600 text-xl",children:"📝"})})]})})]}),p.jsxs("div",{className:"card",children:[p.jsx("div",{className:"border-b border-gray-200",children:p.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[p.jsxs("button",{onClick:()=>d("today"),className:`py-4 px-1 border-b-2 font-medium text-sm ${c==="today"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Hoy",c==="today"&&p.jsx("span",{className:"bg-blue-100 text-blue-600 ml-2 py-0.5 px-2 rounded-full text-xs",children:e.length})]}),p.jsxs("button",{onClick:()=>d("upcoming"),className:`py-4 px-1 border-b-2 font-medium text-sm ${c==="upcoming"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Próximos 7 días",c==="upcoming"&&p.jsx("span",{className:"bg-blue-100 text-blue-600 ml-2 py-0.5 px-2 rounded-full text-xs",children:e.length})]}),p.jsxs("button",{onClick:()=>d("overdue"),className:`py-4 px-1 border-b-2 font-medium text-sm ${c==="overdue"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Vencidos",c==="overdue"&&p.jsx("span",{className:"bg-red-100 text-red-600 ml-2 py-0.5 px-2 rounded-full text-xs",children:e.length})]})]})}),p.jsxs("div",{className:"p-6",children:[o&&p.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:p.jsx("p",{className:"text-red-600 text-sm",children:o})}),n?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando recordatorios..."})]}):e.length>0?p.jsxs("div",{className:"space-y-4",children:[c==="today"&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📞 Clientes para contactar hoy"}),p.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[p.jsx("p",{className:"text-blue-800 text-sm mb-3",children:p.jsx("strong",{children:"Sugerencia de flujo de trabajo:"})}),p.jsxs("ol",{className:"text-blue-700 text-sm space-y-1 list-decimal list-inside",children:[p.jsx("li",{children:"Contactar primero las prioridades altas 🔥"}),p.jsx("li",{children:"Enviar mensaje de WhatsApp con el template sugerido"}),p.jsx("li",{children:'Marcar como "Contactado" después de enviar mensaje'}),p.jsx("li",{children:"Programar seguimiento si es necesario"})]})]})]}),e.map(w=>p.jsxs("div",{className:"relative",children:[p.jsx(pg,{opportunity:w,onStatusChange:h?x:void 0,showVehicleInfo:!0}),w.customer_whatsapp&&p.jsx("div",{className:"absolute top-4 right-4",children:p.jsxs("a",{href:y(w.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm font-medium flex items-center space-x-2 shadow-lg",children:[p.jsx("span",{children:"💬"}),p.jsx("span",{children:"WhatsApp"})]})})]},w.opportunity_id))]}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"text-6xl mb-4",children:c==="today"?"🎉":c==="upcoming"?"📅":"✅"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:c==="today"?"¡Excelente! No hay recordatorios para hoy":c==="upcoming"?"No hay recordatorios próximos":"¡Perfecto! No hay recordatorios vencidos"}),p.jsx("p",{className:"text-gray-600",children:c==="today"?"Puedes revisar los recordatorios próximos o crear nuevas oportunidades.":c==="upcoming"?"Los próximos recordatorios aparecerán aquí cuando se acerquen las fechas.":"Mantén este estado al día contactando a los clientes oportunamente."})]})]})]}),c==="today"&&e.length>0&&p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"💬 Templates de WhatsApp Sugeridos"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Recordatorio General"}),p.jsx("p",{className:"text-sm text-gray-700 italic",children:'"Hola [Cliente], espero que esté bien. Su [Marca Modelo Placas] necesita [Servicio]. ¿Cuándo le conviene traerlo al taller? Saludos - Henry Diagnostics"'})]}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Seguimiento de Cotización"}),p.jsx("p",{className:"text-sm text-gray-700 italic",children:'"Buenos días [Cliente], recordamos que tiene una cotización pendiente para su [Vehículo Placas]. ¿Podemos agendarlo? - Henry Diagnostics"'})]}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mantenimiento Programado"}),p.jsx("p",{className:"text-sm text-gray-700 italic",children:'"Su [Marca Modelo Placas] ha recorrido [Kilometraje] desde el último servicio. Es momento de [Servicio]. ¿Le conviene esta semana? - Henry Diagnostics"'})]}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Prioridad Alta"}),p.jsx("p",{className:"text-sm text-gray-700 italic",children:'"⚠️ [Cliente], es importante revisar su [Vehículo] para [Motivo]. ¿Puede traerlo hoy o mañana? - Henry Diagnostics"'})]})]})]})]})})})},lC=async()=>{try{return(await De.get("/users/stats")).data}catch(t){throw console.error("Error al obtener estadísticas de usuarios:",t),t}},uC=async t=>{try{const e=new URLSearchParams;return t?.search&&e.append("search",t.search),t?.rol&&e.append("rol",t.rol),t?.activo!==void 0&&e.append("activo",t.activo.toString()),t?.page&&e.append("page",t.page.toString()),t?.limit&&e.append("limit",t.limit.toString()),(await De.get(`/users?${e.toString()}`)).data}catch(e){throw console.error("Error al obtener usuarios:",e),e}},cC=async t=>{try{return(await De.post("/users",t)).data}catch(e){throw console.error("Error al crear usuario:",e),e}},fC=async(t,e)=>{try{return(await De.put(`/users/${t}`,e)).data}catch(r){throw console.error("Error al actualizar usuario:",r),r}},dC=async t=>{try{return(await De.post(`/users/${t}/reset-password`)).data}catch(e){throw console.error("Error al restablecer contraseña:",e),e}},hC=async(t,e=1,r=20)=>{try{return(await De.get(`/users/${t}/activity?page=${e}&limit=${r}`)).data}catch(n){throw console.error("Error al obtener actividades del usuario:",n),n}},pC=({user:t,isOpen:e,onClose:r,onSubmit:n,loading:a=!1})=>{const[o,l]=W.useState({email:"",nombre:"",rol:"mecanico",telefono:"",activo:!0}),[c,d]=W.useState({});W.useEffect(()=>{l(t?{email:t.email,nombre:t.nombre,rol:t.rol,telefono:t.telefono||"",activo:t.activo}:{email:"",nombre:"",rol:"mecanico",telefono:"",activo:!0}),d({})},[t,e]);const h=()=>{const y={};return o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(y.email="El email no es válido"):y.email="El email es requerido",o.nombre.trim()?o.nombre.trim().length<2&&(y.nombre="El nombre debe tener al menos 2 caracteres"):y.nombre="El nombre es requerido",o.rol||(y.rol="El rol es requerido"),d(y),Object.keys(y).length===0},m=y=>{if(y.preventDefault(),!h())return;const _={email:o.email.trim(),nombre:o.nombre.trim(),rol:o.rol,telefono:o.telefono.trim()||void 0,...t&&{activo:o.activo}};n(_)},x=(y,_)=>{l(b=>({...b,[y]:_})),c[y]&&d(b=>({...b,[y]:""}))};return e?p.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:p.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white",children:p.jsxs("div",{className:"mt-3",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t?"Editar Usuario":"Crear Nuevo Usuario"}),p.jsxs("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:[p.jsx("span",{className:"sr-only",children:"Cerrar"}),p.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),p.jsxs("form",{onSubmit:m,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),p.jsx("input",{type:"email",id:"email",value:o.email,onChange:y=>x("email",y.target.value),className:`input ${c.email?"border-red-500":""}`,placeholder:"usuario@ejemplo.com",disabled:a}),c.email&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo *"}),p.jsx("input",{type:"text",id:"nombre",value:o.nombre,onChange:y=>x("nombre",y.target.value),className:`input ${c.nombre?"border-red-500":""}`,placeholder:"Juan Pérez",disabled:a}),c.nombre&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.nombre})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"rol",className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol *"}),p.jsxs("select",{id:"rol",value:o.rol,onChange:y=>x("rol",y.target.value),className:`input ${c.rol?"border-red-500":""}`,disabled:a,children:[p.jsx("option",{value:"mecanico",children:"Técnico/Mecánico"}),p.jsx("option",{value:"seguimiento",children:"Personal de Seguimiento"}),p.jsx("option",{value:"administrador",children:"Administrador"})]}),c.rol&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.rol}),p.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[o.rol==="administrador"&&"Acceso completo al sistema",o.rol==="mecanico"&&"Gestión de vehículos y servicios",o.rol==="seguimiento"&&"Seguimiento de oportunidades y clientes"]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),p.jsx("input",{type:"tel",id:"telefono",value:o.telefono,onChange:y=>x("telefono",y.target.value),className:"input",placeholder:"+1 234 567 8900",disabled:a})]}),t&&p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:o.activo,onChange:y=>x("activo",y.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:a}),p.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Usuario activo"})]}),p.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Los usuarios inactivos no pueden iniciar sesión en el sistema"})]}),!t&&p.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),p.jsxs("div",{className:"ml-3",children:[p.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Contraseña temporal"}),p.jsx("div",{className:"mt-2 text-sm text-blue-700",children:p.jsx("p",{children:"Se generará automáticamente una contraseña temporal que deberás proporcionar al usuario."})})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[p.jsx("button",{type:"button",onClick:r,className:"btn-secondary",disabled:a,children:"Cancelar"}),p.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?"Actualizando...":"Creando..."]}):t?"Actualizar Usuario":"Crear Usuario"})]})]})]})})}):null},vC=({user:t,activities:e,isOpen:r,onClose:n})=>{if(!r||!t)return null;const a=h=>new Date(h).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=h=>{switch(h){case"user_created":return"Usuario creado";case"user_updated":return"Usuario actualizado";case"password_reset":return"Contraseña restablecida";case"login":return"Inicio de sesión";case"logout":return"Cierre de sesión";case"password_changed":return"Contraseña cambiada";default:return h}},l=h=>{switch(h){case"user_created":return"➕";case"user_updated":return"✏️";case"password_reset":return"🔑";case"login":return"🔓";case"logout":return"🔒";case"password_changed":return"🔐";default:return"📝"}},c=h=>{switch(h){case"user_created":return"text-green-600 bg-green-50";case"user_updated":return"text-blue-600 bg-blue-50";case"password_reset":return"text-yellow-600 bg-yellow-50";case"login":return"text-green-600 bg-green-50";case"logout":return"text-gray-600 bg-gray-50";case"password_changed":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},d=h=>{if(!h.detalles)return null;try{const m=typeof h.detalles=="string"?JSON.parse(h.detalles):h.detalles;return p.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[h.accion==="user_updated"&&m.changes&&p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Cambios realizados:"}),p.jsx("ul",{className:"list-disc list-inside ml-2 mt-1",children:Object.entries(m.changes).map(([x,y])=>p.jsxs("li",{children:[p.jsxs("span",{className:"capitalize",children:[x,":"]})," ",String(y)]},x))})]}),h.accion==="user_created"&&m.created_user&&p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Usuario creado:"}),p.jsxs("div",{className:"ml-2 mt-1",children:["Email: ",m.created_user.email,p.jsx("br",{}),"Rol: ",m.created_user.rol]})]}),h.accion==="password_reset"&&m.reset_by&&p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Restablecido por:"})," ",m.reset_by]})]})}catch{return p.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Detalles: ",String(h.detalles)]})}};return p.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:p.jsxs("div",{className:"relative top-10 mx-auto p-0 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[p.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-md",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Actividad de Usuario"}),p.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.nombre," (",t.email,")"]})]}),p.jsxs("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:[p.jsx("span",{className:"sr-only",children:"Cerrar"}),p.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),p.jsx("div",{className:"px-6 py-4 max-h-96 overflow-y-auto",children:e.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"📋"}),p.jsx("p",{className:"text-gray-500",children:"No hay actividades registradas para este usuario"})]}):p.jsx("div",{className:"space-y-4",children:e.map(h=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("div",{className:"flex items-start justify-between",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${c(h.accion)}`,children:p.jsx("span",{className:"text-sm",children:l(h.accion)})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900",children:o(h.accion)}),p.jsx("p",{className:"text-sm text-gray-500",children:a(h.fecha)}),h.performed_by_name&&p.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Realizado por: ",h.performed_by_name]}),d(h)]})]})}),(h.ip_address||h.user_agent)&&p.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:p.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[h.ip_address&&p.jsxs("div",{children:["IP: ",h.ip_address]}),h.user_agent&&p.jsxs("div",{className:"truncate",children:["Navegador: ",h.user_agent]})]})})]},h.log_id))})}),p.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-3 rounded-b-md",children:p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{onClick:n,className:"btn-secondary",children:"Cerrar"})})})]})})},mC=()=>{const[t,e]=W.useState([]),[r,n]=W.useState(null),[a,o]=W.useState(!0),[l,c]=W.useState(""),[d,h]=W.useState(null),[m,x]=W.useState(!1),[y,_]=W.useState(!1),[b,w]=W.useState(!1),[S,T]=W.useState([]),[E,N]=W.useState(""),[R,M]=W.useState(!1),[k,Z]=W.useState({page:1,limit:10}),[ee,ie]=W.useState({page:1,limit:10,total:0,totalPages:0,hasNext:!1,hasPrev:!1});W.useEffect(()=>{se()},[k]);const se=async()=>{try{o(!0);const[re,Ae]=await Promise.all([uC(k),lC()]);e(re.users),ie(re.pagination),n(Ae)}catch(re){c("Error al cargar datos de usuarios"),console.error(re)}finally{o(!1)}},ye=async re=>{try{const Ae=await cC(re);N(Ae.temporary_password),M(!0),x(!1),se()}catch(Ae){c("Error al crear usuario"),console.error(Ae)}},le=async re=>{if(d)try{await fC(d.user_id,re),_(!1),h(null),se()}catch(Ae){c("Error al actualizar usuario"),console.error(Ae)}},ve=async re=>{try{const Ae=await dC(re);N(Ae.temporary_password),M(!0)}catch(Ae){c("Error al restablecer contraseña"),console.error(Ae)}},ce=async re=>{try{h(re);const Ae=await hC(re.user_id);T(Ae.activities),w(!0)}catch(Ae){c("Error al cargar actividades del usuario"),console.error(Ae)}},he=re=>{switch(re){case"administrador":return"Administrador";case"mecanico":return"Técnico/Mecánico";case"seguimiento":return"Personal de Seguimiento";default:return re}},P=re=>{switch(re){case"administrador":return"bg-red-100 text-red-800";case"mecanico":return"bg-blue-100 text-blue-800";case"seguimiento":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},oe=re=>new Date(re).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Usuarios"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Administra usuarios del sistema"})]}),l&&p.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),r&&p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[p.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.total_usuarios}),p.jsx("div",{className:"text-sm text-gray-600",children:"Total Usuarios"})]}),p.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.usuarios_activos}),p.jsx("div",{className:"text-sm text-gray-600",children:"Activos"})]}),p.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[p.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.passwords_temporales}),p.jsx("div",{className:"text-sm text-gray-600",children:"Contraseñas Temp."})]}),p.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[p.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.activos_mes}),p.jsx("div",{className:"text-sm text-gray-600",children:"Activos Este Mes"})]})]}),p.jsx("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",className:"input",value:k.search||"",onChange:re=>Z({...k,search:re.target.value,page:1})}),p.jsxs("select",{className:"input",value:k.rol||"",onChange:re=>Z({...k,rol:re.target.value||void 0,page:1}),children:[p.jsx("option",{value:"",children:"Todos los roles"}),p.jsx("option",{value:"administrador",children:"Administrador"}),p.jsx("option",{value:"mecanico",children:"Técnico/Mecánico"}),p.jsx("option",{value:"seguimiento",children:"Personal de Seguimiento"})]}),p.jsxs("select",{className:"input",value:k.activo?.toString()||"",onChange:re=>Z({...k,activo:re.target.value?re.target.value==="true":void 0,page:1}),children:[p.jsx("option",{value:"",children:"Todos los estados"}),p.jsx("option",{value:"true",children:"Activos"}),p.jsx("option",{value:"false",children:"Inactivos"})]})]}),p.jsx("button",{onClick:()=>x(!0),className:"btn-primary whitespace-nowrap",children:"+ Nuevo Usuario"})]})}),p.jsxs("div",{className:"bg-white shadow border rounded-lg overflow-hidden",children:[p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Último Acceso"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(re=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:re.nombre}),p.jsx("div",{className:"text-sm text-gray-500",children:re.email}),re.password_temp&&p.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Contraseña temporal"})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P(re.rol)}`,children:he(re.rol)})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${re.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:re.activo?"Activo":"Inactivo"})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.ultimo_login?oe(re.ultimo_login):"Nunca"}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[p.jsx("button",{onClick:()=>{h(re),_(!0)},className:"text-blue-600 hover:text-blue-900",children:"Editar"}),p.jsx("button",{onClick:()=>ve(re.user_id),className:"text-yellow-600 hover:text-yellow-900",children:"Reset Password"}),p.jsx("button",{onClick:()=>ce(re),className:"text-green-600 hover:text-green-900",children:"Actividad"})]})]},re.user_id))})]})}),ee.totalPages>1&&p.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[p.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",(ee.page-1)*ee.limit+1," a ",Math.min(ee.page*ee.limit,ee.total)," de ",ee.total," usuarios"]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>Z({...k,page:ee.page-1}),disabled:!ee.hasPrev,className:"btn-secondary disabled:opacity-50",children:"Anterior"}),p.jsx("button",{onClick:()=>Z({...k,page:ee.page+1}),disabled:!ee.hasNext,className:"btn-secondary disabled:opacity-50",children:"Siguiente"})]})]})]}),R&&p.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:p.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:p.jsxs("div",{className:"mt-3",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contraseña Temporal Generada"}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded border",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Contraseña temporal:"}),p.jsx("p",{className:"text-lg font-mono font-bold text-blue-600 bg-white p-2 rounded border",children:E})]}),p.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"⚠️ Guarda esta contraseña temporal. El usuario deberá cambiarla en su primer inicio de sesión."}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsx("button",{onClick:()=>{M(!1),N("")},className:"btn-primary",children:"Entendido"})})]})})}),p.jsx(pC,{user:y?d:void 0,isOpen:m||y,onClose:()=>{x(!1),_(!1),h(null)},onSubmit:y?le:ye,loading:a}),p.jsx(vC,{user:d,activities:S,isOpen:b,onClose:()=>{w(!1),h(null),T([])}})]})};class xC{async getCitasDelDia(e){const r=e?`?fecha=${e}`:"";return(await De.get(`/reception/citas${r}`)).data}async processWalkInClient(e){return(await De.post("/reception/walk-in",e)).data}async convertOpportunityToCita(e){return(await De.post("/reception/convert-opportunity",e)).data}async receptionarCita(e,r){return(await De.post(`/reception/recepcionar/${e}`,r)).data}async buscarCliente(e){return(await De.get(`/customers/search?nombre=${encodeURIComponent(e)}`)).data}async getVehiculosCliente(e){return(await De.get(`/customers/${e}/vehicles`)).data}async buscarVehiculo(e){return(await De.get(`/vehicles/search?placa=${encodeURIComponent(e)}`)).data}}const ns=new xC,gC=()=>{const[t,e]=W.useState([]),[r,n]=W.useState(!0),[a,o]=W.useState(new Date().toISOString().split("T")[0]),[l,c]=W.useState(!1),[d,h]=W.useState(!1),[m,x]=W.useState(null),[y,_]=W.useState(""),[b,w]=W.useState([]),[S,T]=W.useState(null),[E,N]=W.useState([]),[R,M]=W.useState("nuevo"),[k,Z]=W.useState({accion:"servicio_inmediato",cliente_nuevo:{nombre:"",telefono:"",whatsapp:"",email:"",direccion:""},vehiculo_nuevo:{marca:"",modelo:"",año:new Date().getFullYear(),placa_actual:"",color:"",kilometraje_actual:0},servicio_inmediato:{tipo_servicio:"",descripcion:"",precio_estimado:0}}),[ee,ie]=W.useState({tipo_servicio:"",descripcion:"",precio_estimado:0,usuario_mecanico:null}),se=async()=>{try{n(!0);const F=await ns.getCitasDelDia(a);e(F.citas)}catch(F){console.error("Error cargando citas:",F),alert("Error cargando citas del día")}finally{n(!1)}},ye=async()=>{if(y.trim().length<2){w([]);return}try{console.log("🔍 Buscando clientes con query:",y);const F=await ns.buscarCliente(y.trim());console.log("📋 Respuesta de búsqueda:",F);const q=F.customers||[];w(q),console.log("✅ Clientes encontrados:",q.length)}catch(F){console.error("❌ Error buscando clientes:",F),w([])}},le=async F=>{T(F),_(F.nombre),w([]);try{console.log("🚗 Cargando vehículos para cliente:",F.customer_id,F.nombre);const q=await ns.getVehiculosCliente(F.customer_id);console.log("📋 Respuesta de vehículos:",q);const me=q.vehicles||[];N(me),console.log("✅ Vehículos encontrados:",me.length),me.length>0&&console.log("🚙 Lista de vehículos:",me)}catch(q){console.error("❌ Error cargando vehículos:",q),N([])}},ve=F=>{Z(q=>({...q,cliente_existente_id:S.customer_id,vehiculo_existente_id:F.vehicle_id,cliente_nuevo:void 0,vehiculo_nuevo:void 0}))},ce=W.useCallback(he(()=>{ye()},500),[y]);W.useEffect(()=>{se()},[a]),W.useEffect(()=>(y.trim().length>=2?ce():w([]),()=>{ce.cancel&&ce.cancel()}),[y,ce]);function he(F,q){let me;const Be=(...Oe)=>{clearTimeout(me),me=setTimeout(()=>F.apply(null,Oe),q)};return Be.cancel=()=>clearTimeout(me),Be}const P=async F=>{F.preventDefault();try{await ns.processWalkInClient(k),alert("Cliente walk-in procesado exitosamente"),c(!1),re(),se()}catch(q){console.error("Error procesando walk-in:",q),alert(q.response?.data?.details||"Error procesando cliente")}},oe=async F=>{if(F.preventDefault(),!!m)try{await ns.receptionarCita(m.opportunity_id,ee),alert("Cita recepcionada exitosamente"),h(!1),x(null),Ae(),se()}catch(q){console.error("Error recepcionando cita:",q),alert(q.response?.data?.details||"Error recepcionando cita")}},re=()=>{Z({accion:"servicio_inmediato",cliente_nuevo:{nombre:"",telefono:"",whatsapp:"",email:"",direccion:""},vehiculo_nuevo:{marca:"",modelo:"",año:new Date().getFullYear(),placa_actual:"",color:"",kilometraje_actual:0},servicio_inmediato:{tipo_servicio:"",descripcion:"",precio_estimado:0}}),_(""),w([]),T(null),N([]),M("nuevo")},Ae=()=>{ie({tipo_servicio:"",descripcion:"",precio_estimado:0,usuario_mecanico:null})},j=F=>{const q={opportunity:"bg-blue-100 text-blue-800",llamada_cliente:"bg-green-100 text-green-800",walk_in:"bg-purple-100 text-purple-800",seguimiento:"bg-orange-100 text-orange-800",manual:"bg-gray-100 text-gray-800"},me={opportunity:"Seguimiento",llamada_cliente:"Llamada",walk_in:"Walk-in",seguimiento:"Seguimiento",manual:"Manual"},Be=q[F]||"bg-gray-100 text-gray-800",Oe=me[F]||F;return p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Be}`,children:Oe})},ae=F=>F==="cita_rapida"?p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Datos Incompletos"}):p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Datos Completos"});return p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recepción"}),p.jsx("p",{className:"text-gray-600",children:"Gestión de llegada de clientes y citas"})]}),p.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[p.jsx("span",{className:"mr-2",children:"👤"}),"Cliente Walk-In"]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Fecha"}),p.jsx("input",{id:"date",type:"date",value:a,onChange:F=>o(F.target.value),className:"mt-1 block w-48 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsx("div",{className:"bg-white shadow rounded-lg",children:p.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[p.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["📅 Citas del Día - ",new Date(a).toLocaleDateString("es-MX")]}),r?p.jsx("p",{children:"Cargando citas..."}):t.length===0?p.jsx("p",{className:"text-gray-500",children:"No hay citas programadas para este día"}):p.jsx("div",{className:"space-y-4",children:t.map(F=>p.jsx("div",{className:"border border-gray-200 rounded-lg p-4 border-l-4 border-l-blue-500",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{children:"⏰"}),p.jsx("span",{className:"font-semibold",children:F.cita_hora})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{children:"👤"}),p.jsx("span",{children:F.cita_nombre_contacto})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{children:"📞"}),p.jsx("span",{children:F.cita_telefono_contacto})]})]}),p.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[p.jsx("span",{children:"🚗"}),p.jsx("span",{children:F.cita_descripcion_breve})]}),F.placa_actual&&p.jsxs("div",{className:"text-sm text-gray-600",children:[F.marca," ",F.modelo," - ",F.placa_actual]}),p.jsxs("div",{className:"flex gap-2",children:[j(F.origen_cita),ae(F.tipo_cita)]})]}),p.jsx("div",{className:"flex gap-2",children:F.tipo_cita==="cita_completa"?p.jsxs("button",{onClick:()=>{x(F),h(!0)},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[p.jsx("span",{className:"mr-1",children:"✅"}),"Recepcionar"]}):p.jsx("button",{disabled:!0,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-400 bg-gray-100 cursor-not-allowed",children:"Completar Datos Primero"})})]})},F.opportunity_id))})]})}),l&&p.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:p.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:p.jsxs("div",{className:"mt-3",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cliente Walk-In"}),p.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Procesar cliente que llegó sin cita previa"}),p.jsxs("form",{onSubmit:P,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Cliente"}),p.jsxs("div",{className:"flex space-x-4 mb-4",children:[p.jsxs("label",{className:"inline-flex items-center",children:[p.jsx("input",{type:"radio",value:"nuevo",checked:R==="nuevo",onChange:F=>M(F.target.value),className:"form-radio h-4 w-4 text-blue-600"}),p.jsx("span",{className:"ml-2 text-sm",children:"Cliente Nuevo"})]}),p.jsxs("label",{className:"inline-flex items-center",children:[p.jsx("input",{type:"radio",value:"existente",checked:R==="existente",onChange:F=>M(F.target.value),className:"form-radio h-4 w-4 text-blue-600"}),p.jsx("span",{className:"ml-2 text-sm",children:"Cliente Existente"})]})]}),R==="existente"?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buscar Cliente"}),p.jsx("input",{type:"text",value:y,onChange:F=>_(F.target.value),placeholder:"Buscar por nombre o teléfono... (mín. 2 caracteres)",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),b.length>0&&p.jsx("div",{className:"mt-2 border border-gray-300 rounded-md shadow-sm max-h-40 overflow-y-auto",children:b.map(F=>p.jsxs("div",{onClick:()=>le(F),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",children:[p.jsx("div",{className:"font-medium text-sm",children:F.nombre}),p.jsx("div",{className:"text-xs text-gray-600",children:F.telefono})]},F.customer_id))})]}),S&&p.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[p.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Cliente Seleccionado:"}),p.jsx("div",{className:"text-sm text-blue-800",children:S.nombre}),p.jsx("div",{className:"text-xs text-blue-700",children:S.telefono})]})]}):p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre *"}),p.jsx("input",{type:"text",required:!0,value:k.cliente_nuevo?.nombre||"",onChange:F=>Z(q=>({...q,cliente_nuevo:{...q.cliente_nuevo,nombre:F.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teléfono *"}),p.jsx("input",{type:"tel",required:!0,value:k.cliente_nuevo?.telefono||"",onChange:F=>Z(q=>({...q,cliente_nuevo:{...q.cliente_nuevo,telefono:F.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Vehículo"}),R==="existente"&&S?p.jsxs("div",{className:"space-y-4",children:[E.length>0?p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Vehículo del Cliente"}),p.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:E.map(F=>p.jsxs("div",{onClick:()=>ve(F),className:`p-3 border rounded-md cursor-pointer hover:bg-gray-50 ${k.vehiculo_existente_id===F.vehicle_id?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[p.jsxs("div",{className:"font-medium text-sm",children:[F.marca," ",F.modelo," ",F.año]}),p.jsxs("div",{className:"text-xs text-gray-600",children:["Placas: ",F.placa_actual," • KM: ",F.kilometraje_actual]})]},F.vehicle_id))}),p.jsx("div",{className:"mt-3 pt-3 border-t",children:p.jsxs("label",{className:"inline-flex items-center",children:[p.jsx("input",{type:"checkbox",checked:!k.vehiculo_existente_id,onChange:F=>{F.target.checked&&Z(q=>({...q,vehiculo_existente_id:void 0,vehiculo_nuevo:{marca:"",modelo:"",año:new Date().getFullYear(),placa_actual:"",color:"",kilometraje_actual:0}}))},className:"form-checkbox h-4 w-4 text-blue-600"}),p.jsx("span",{className:"ml-2 text-sm",children:"Es un vehículo nuevo del cliente"})]})})]}):p.jsx("div",{className:"bg-yellow-50 p-3 rounded-md",children:p.jsx("div",{className:"text-sm text-yellow-800",children:"Este cliente no tiene vehículos registrados. Se registrará un nuevo vehículo."})}),(E.length===0||!k.vehiculo_existente_id)&&p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marca *"}),p.jsx("input",{type:"text",required:!0,value:k.vehiculo_nuevo?.marca||"",onChange:F=>Z(q=>({...q,vehiculo_nuevo:{...q.vehiculo_nuevo,marca:F.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modelo *"}),p.jsx("input",{type:"text",required:!0,value:k.vehiculo_nuevo?.modelo||"",onChange:F=>Z(q=>({...q,vehiculo_nuevo:{...q.vehiculo_nuevo,modelo:F.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Año *"}),p.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:k.vehiculo_nuevo?.año||new Date().getFullYear(),onChange:F=>Z(q=>({...q,vehiculo_nuevo:{...q.vehiculo_nuevo,año:parseInt(F.target.value)}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Placas *"}),p.jsx("input",{type:"text",required:!0,value:k.vehiculo_nuevo?.placa_actual||"",onChange:F=>Z(q=>({...q,vehiculo_nuevo:{...q.vehiculo_nuevo,placa_actual:F.target.value.toUpperCase()}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}):p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marca *"}),p.jsx("input",{type:"text",required:!0,value:k.vehiculo_nuevo?.marca||"",onChange:F=>Z(q=>({...q,vehiculo_nuevo:{...q.vehiculo_nuevo,marca:F.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modelo *"}),p.jsx("input",{type:"text",required:!0,value:k.vehiculo_nuevo?.modelo||"",onChange:F=>Z(q=>({...q,vehiculo_nuevo:{...q.vehiculo_nuevo,modelo:F.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Año *"}),p.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:k.vehiculo_nuevo?.año||new Date().getFullYear(),onChange:F=>Z(q=>({...q,vehiculo_nuevo:{...q.vehiculo_nuevo,año:parseInt(F.target.value)}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Placas *"}),p.jsx("input",{type:"text",required:!0,value:k.vehiculo_nuevo?.placa_actual||"",onChange:F=>Z(q=>({...q,vehiculo_nuevo:{...q.vehiculo_nuevo,placa_actual:F.target.value.toUpperCase()}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Servicio"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"¿Qué quiere hacer el cliente?"}),p.jsxs("select",{value:k.accion,onChange:F=>Z(q=>({...q,accion:F.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[p.jsx("option",{value:"servicio_inmediato",children:"Servicio inmediato"}),p.jsx("option",{value:"agendar_cita",children:"Agendar cita para después"})]})]}),k.accion==="servicio_inmediato"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de servicio *"}),p.jsx("input",{type:"text",required:!0,value:k.servicio_inmediato?.tipo_servicio||"",onChange:F=>Z(q=>({...q,servicio_inmediato:{...q.servicio_inmediato,tipo_servicio:F.target.value}})),placeholder:"Ej: Cambio de aceite, Reparación de frenos...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción"}),p.jsx("textarea",{value:k.servicio_inmediato?.descripcion||"",onChange:F=>Z(q=>({...q,servicio_inmediato:{...q.servicio_inmediato,descripcion:F.target.value}})),placeholder:"Detalles del servicio requerido...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3})]})]})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:k.accion==="servicio_inmediato"?"Crear Servicio":"Agendar Cita"})]})]})]})})}),d&&m&&p.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:p.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/3 shadow-lg rounded-md bg-white",children:p.jsxs("div",{className:"mt-3",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recepcionar Cita"}),p.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Cliente: ",m.cita_nombre_contacto," - ",m.cita_descripcion_breve]}),p.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de servicio"}),p.jsx("input",{type:"text",value:ee.tipo_servicio,onChange:F=>ie(q=>({...q,tipo_servicio:F.target.value})),placeholder:m.cita_descripcion_breve,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción detallada"}),p.jsx("textarea",{value:ee.descripcion,onChange:F=>ie(q=>({...q,descripcion:F.target.value})),placeholder:"Detalles del diagnóstico y trabajo a realizar...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Precio estimado"}),p.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.precio_estimado,onChange:F=>ie(q=>({...q,precio_estimado:parseFloat(F.target.value)||0})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Crear Servicio"})]})]})]})})})]})},yC=()=>{const[t,e]=W.useState("dashboard");W.useEffect(()=>{const l=c=>{e(c.detail)};return window.addEventListener("navigate",l),()=>window.removeEventListener("navigate",l)},[]);const[r,n]=W.useState(!1),a=()=>{console.log("🎯 MainApp: Navigating to vehicle creation form"),n(!0),e("vehicles")},o=()=>{switch(t){case"appointments":return p.jsx(aE,{});case"vehicles":return p.jsx(W6,{initialMode:r?"create":"search",onModeUsed:()=>n(!1)});case"customers":return p.jsx(tC,{});case"opportunities":return p.jsx(oC,{});case"reminders":return p.jsx(sC,{});case"reception":return p.jsx(gC,{});case"users":return p.jsx(mC,{});default:return p.jsx(nE,{onNavigate:e,onNavigateToVehicleForm:a})}};return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(rE,{currentPage:t,onPageChange:e}),o()]})},_C=new o_({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function bC(){const{user:t,isLoading:e}=Ln();return e?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):t?p.jsx(yC,{}):p.jsx(tE,{})}function wC(){return p.jsx(l_,{client:_C,children:p.jsx(Ub,{children:p.jsx(bC,{})})})}Ly.createRoot(document.getElementById("root")).render(p.jsx(W.StrictMode,{children:p.jsx(wC,{})}));
