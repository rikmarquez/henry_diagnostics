(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function O2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lf={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function T2(){if(Jp)return Yo;Jp=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:t,type:n,key:l,ref:a!==void 0?a:null,props:o}}return Yo.Fragment=e,Yo.jsx=r,Yo.jsxs=r,Yo}var ev;function D2(){return ev||(ev=1,Lf.exports=T2()),Lf.exports}var h=D2(),kf={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function R2(){if(tv)return Be;tv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function S(j,ie,me){this.props=j,this.context=ie,this.refs=w,this.updater=me||b}S.prototype.isReactComponent={},S.prototype.setState=function(j,ie){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ie,"setState")},S.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=S.prototype;function E(j,ie,me){this.props=j,this.context=ie,this.refs=w,this.updater=me||b}var N=E.prototype=new T;N.constructor=E,_(N,S.prototype),N.isPureReactComponent=!0;var D=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function Y(j,ie,me,pe,H,re){return me=re.ref,{$$typeof:t,type:j,key:ie,ref:me!==void 0?me:null,props:re}}function q(j,ie){return Y(j.type,ie,void 0,void 0,void 0,j.props)}function J(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function se(j){var ie={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(me){return ie[me]})}var xe=/\/+/g;function le(j,ie){return typeof j=="object"&&j!==null&&j.key!=null?se(""+j.key):ie.toString(36)}function ve(){}function ue(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ve,ve):(j.status="pending",j.then(function(ie){j.status==="pending"&&(j.status="fulfilled",j.value=ie)},function(ie){j.status==="pending"&&(j.status="rejected",j.reason=ie)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function de(j,ie,me,pe,H){var re=typeof j;(re==="undefined"||re==="boolean")&&(j=null);var be=!1;if(j===null)be=!0;else switch(re){case"bigint":case"string":case"number":be=!0;break;case"object":switch(j.$$typeof){case t:case e:be=!0;break;case m:return be=j._init,de(be(j._payload),ie,me,pe,H)}}if(be)return H=H(j),be=pe===""?"."+le(j,0):pe,D(H)?(me="",be!=null&&(me=be.replace(xe,"$&/")+"/"),de(H,ie,me,"",function(Pr){return Pr})):H!=null&&(J(H)&&(H=q(H,me+(H.key==null||j&&j.key===H.key?"":(""+H.key).replace(xe,"$&/")+"/")+be)),ie.push(H)),1;be=0;var bt=pe===""?".":pe+":";if(D(j))for(var Ye=0;Ye<j.length;Ye++)pe=j[Ye],re=bt+le(pe,Ye),be+=de(pe,ie,me,re,H);else if(Ye=y(j),typeof Ye=="function")for(j=Ye.call(j),Ye=0;!(pe=j.next()).done;)pe=pe.value,re=bt+le(pe,Ye++),be+=de(pe,ie,me,re,H);else if(re==="object"){if(typeof j.then=="function")return de(ue(j),ie,me,pe,H);throw ie=String(j),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function P(j,ie,me){if(j==null)return j;var pe=[],H=0;return de(j,pe,"","",function(re){return ie.call(me,re,H++)}),pe}function oe(j){if(j._status===-1){var ie=j._result;ie=ie(),ie.then(function(me){(j._status===0||j._status===-1)&&(j._status=1,j._result=me)},function(me){(j._status===0||j._status===-1)&&(j._status=2,j._result=me)}),j._status===-1&&(j._status=0,j._result=ie)}if(j._status===1)return j._result.default;throw j._result}var F=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ye(){}return Be.Children={map:P,forEach:function(j,ie,me){P(j,function(){ie.apply(this,arguments)},me)},count:function(j){var ie=0;return P(j,function(){ie++}),ie},toArray:function(j){return P(j,function(ie){return ie})||[]},only:function(j){if(!J(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Be.Component=S,Be.Fragment=r,Be.Profiler=a,Be.PureComponent=E,Be.StrictMode=n,Be.Suspense=d,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Be.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},Be.cache=function(j){return function(){return j.apply(null,arguments)}},Be.cloneElement=function(j,ie,me){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var pe=_({},j.props),H=j.key,re=void 0;if(ie!=null)for(be in ie.ref!==void 0&&(re=void 0),ie.key!==void 0&&(H=""+ie.key),ie)!U.call(ie,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ie.ref===void 0||(pe[be]=ie[be]);var be=arguments.length-2;if(be===1)pe.children=me;else if(1<be){for(var bt=Array(be),Ye=0;Ye<be;Ye++)bt[Ye]=arguments[Ye+2];pe.children=bt}return Y(j.type,H,void 0,void 0,re,pe)},Be.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Be.createElement=function(j,ie,me){var pe,H={},re=null;if(ie!=null)for(pe in ie.key!==void 0&&(re=""+ie.key),ie)U.call(ie,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(H[pe]=ie[pe]);var be=arguments.length-2;if(be===1)H.children=me;else if(1<be){for(var bt=Array(be),Ye=0;Ye<be;Ye++)bt[Ye]=arguments[Ye+2];H.children=bt}if(j&&j.defaultProps)for(pe in be=j.defaultProps,be)H[pe]===void 0&&(H[pe]=be[pe]);return Y(j,re,void 0,void 0,null,H)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(j){return{$$typeof:u,render:j}},Be.isValidElement=J,Be.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:oe}},Be.memo=function(j,ie){return{$$typeof:p,type:j,compare:ie===void 0?null:ie}},Be.startTransition=function(j){var ie=I.T,me={};I.T=me;try{var pe=j(),H=I.S;H!==null&&H(me,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(ye,F)}catch(re){F(re)}finally{I.T=ie}},Be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Be.use=function(j){return I.H.use(j)},Be.useActionState=function(j,ie,me){return I.H.useActionState(j,ie,me)},Be.useCallback=function(j,ie){return I.H.useCallback(j,ie)},Be.useContext=function(j){return I.H.useContext(j)},Be.useDebugValue=function(){},Be.useDeferredValue=function(j,ie){return I.H.useDeferredValue(j,ie)},Be.useEffect=function(j,ie,me){var pe=I.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(j,ie)},Be.useId=function(){return I.H.useId()},Be.useImperativeHandle=function(j,ie,me){return I.H.useImperativeHandle(j,ie,me)},Be.useInsertionEffect=function(j,ie){return I.H.useInsertionEffect(j,ie)},Be.useLayoutEffect=function(j,ie){return I.H.useLayoutEffect(j,ie)},Be.useMemo=function(j,ie){return I.H.useMemo(j,ie)},Be.useOptimistic=function(j,ie){return I.H.useOptimistic(j,ie)},Be.useReducer=function(j,ie,me){return I.H.useReducer(j,ie,me)},Be.useRef=function(j){return I.H.useRef(j)},Be.useState=function(j){return I.H.useState(j)},Be.useSyncExternalStore=function(j,ie,me){return I.H.useSyncExternalStore(j,ie,me)},Be.useTransition=function(){return I.H.useTransition()},Be.version="19.1.0",Be}var rv;function Pd(){return rv||(rv=1,kf.exports=R2()),kf.exports}var W=Pd();const en=O2(W);var Ff={exports:{}},$o={},Uf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function j2(){return nv||(nv=1,function(t){function e(P,oe){var F=P.length;P.push(oe);e:for(;0<F;){var ye=F-1>>>1,j=P[ye];if(0<a(j,oe))P[ye]=oe,P[F]=j,F=ye;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var oe=P[0],F=P.pop();if(F!==oe){P[0]=F;e:for(var ye=0,j=P.length,ie=j>>>1;ye<ie;){var me=2*(ye+1)-1,pe=P[me],H=me+1,re=P[H];if(0>a(pe,F))H<j&&0>a(re,pe)?(P[ye]=re,P[H]=F,ye=H):(P[ye]=pe,P[me]=F,ye=me);else if(H<j&&0>a(re,F))P[ye]=re,P[H]=F,ye=H;else break e}}return oe}function a(P,oe){var F=P.sortIndex-oe.sortIndex;return F!==0?F:P.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],p=[],m=1,x=null,y=3,b=!1,_=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(P){for(var oe=r(p);oe!==null;){if(oe.callback===null)n(p);else if(oe.startTime<=P)n(p),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=r(p)}}function I(P){if(w=!1,D(P),!_)if(r(d)!==null)_=!0,U||(U=!0,le());else{var oe=r(p);oe!==null&&de(I,oe.startTime-P)}}var U=!1,Y=-1,q=5,J=-1;function se(){return S?!0:!(t.unstable_now()-J<q)}function xe(){if(S=!1,U){var P=t.unstable_now();J=P;var oe=!0;try{e:{_=!1,w&&(w=!1,E(Y),Y=-1),b=!0;var F=y;try{t:{for(D(P),x=r(d);x!==null&&!(x.expirationTime>P&&se());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,y=x.priorityLevel;var j=ye(x.expirationTime<=P);if(P=t.unstable_now(),typeof j=="function"){x.callback=j,D(P),oe=!0;break t}x===r(d)&&n(d),D(P)}else n(d);x=r(d)}if(x!==null)oe=!0;else{var ie=r(p);ie!==null&&de(I,ie.startTime-P),oe=!1}}break e}finally{x=null,y=F,b=!1}oe=void 0}}finally{oe?le():U=!1}}}var le;if(typeof N=="function")le=function(){N(xe)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ue=ve.port2;ve.port1.onmessage=xe,le=function(){ue.postMessage(null)}}else le=function(){T(xe,0)};function de(P,oe){Y=T(function(){P(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(P){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var F=y;y=oe;try{return P()}finally{y=F}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(P,oe){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=y;y=P;try{return oe()}finally{y=F}},t.unstable_scheduleCallback=function(P,oe,F){var ye=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ye+F:ye):F=ye,P){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=F+j,P={id:m++,callback:oe,priorityLevel:P,startTime:F,expirationTime:j,sortIndex:-1},F>ye?(P.sortIndex=F,e(p,P),r(d)===null&&P===r(p)&&(w?(E(Y),Y=-1):w=!0,de(I,F-ye))):(P.sortIndex=j,e(d,P),_||b||(_=!0,U||(U=!0,le()))),P},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(P){var oe=y;return function(){var F=y;y=oe;try{return P.apply(this,arguments)}finally{y=F}}}}(zf)),zf}var av;function I2(){return av||(av=1,Uf.exports=j2()),Uf.exports}var Vf={exports:{}},ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function M2(){if(iv)return ir;iv=1;var t=Pd();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:d,containerInfo:p,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ir.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,m)},ir.flushSync=function(d){var p=l.T,m=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=p,n.p=m,n.d.f()}},ir.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},ir.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ir.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,x=u(m,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:b}):m==="script"&&n.d.X(d,{crossOrigin:x,integrity:y,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ir.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},ir.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,x=u(m,p.crossOrigin);n.d.L(d,m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ir.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=u(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},ir.requestFormReset=function(d){n.d.r(d)},ir.unstable_batchedUpdates=function(d,p){return d(p)},ir.useFormState=function(d,p,m){return l.H.useFormState(d,p,m)},ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},ir.version="19.1.0",ir}var ov;function B2(){if(ov)return Vf.exports;ov=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vf.exports=M2(),Vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function P2(){if(sv)return $o;sv=1;var t=I2(),e=Pd(),r=B2();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(n(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var c=i,f=s;;){var v=c.return;if(v===null)break;var g=v.alternate;if(g===null){if(f=v.return,f!==null){c=f;continue}break}if(v.child===g.child){for(g=v.child;g;){if(g===c)return u(v),i;if(g===f)return u(v),s;g=g.sibling}throw Error(n(188))}if(c.return!==f.return)c=v,f=g;else{for(var A=!1,C=v.child;C;){if(C===c){A=!0,c=v,f=g;break}if(C===f){A=!0,f=v,c=g;break}C=C.sibling}if(!A){for(C=g.child;C;){if(C===c){A=!0,c=g,f=v;break}if(C===f){A=!0,f=g,c=v;break}C=C.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=xe&&i[xe]||i["@@iterator"],typeof i=="function"?i:null)}var ve=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ve?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case U:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case N:return(i.displayName||"Context")+".Provider";case E:return(i._context.displayName||"Context")+".Consumer";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return s=i.displayName||null,s!==null?s:ue(i.type)||"Memo";case q:s=i._payload,i=i._init;try{return ue(i(s))}catch{}}return null}var de=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ye=[],j=-1;function ie(i){return{current:i}}function me(i){0>j||(i.current=ye[j],ye[j]=null,j--)}function pe(i,s){j++,ye[j]=i.current,i.current=s}var H=ie(null),re=ie(null),be=ie(null),bt=ie(null);function Ye(i,s){switch(pe(be,s),pe(re,i),pe(H,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Np(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Np(s),i=Op(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(H),pe(H,i)}function Pr(){me(H),me(re),me(be)}function xa(i){i.memoizedState!==null&&pe(bt,i);var s=H.current,c=Op(s,i.type);s!==c&&(pe(re,i),pe(H,c))}function Ka(i){re.current===i&&(me(H),me(re)),bt.current===i&&(me(bt),Ho._currentValue=F)}var Wa=Object.prototype.hasOwnProperty,Ki=t.unstable_scheduleCallback,Qa=t.unstable_cancelCallback,_s=t.unstable_shouldYield,Ac=t.unstable_requestPaint,Lr=t.unstable_now,c0=t.unstable_getCurrentPriorityLevel,Wi=t.unstable_ImmediatePriority,M=t.unstable_UserBlockingPriority,G=t.unstable_NormalPriority,ee=t.unstable_LowPriority,ge=t.unstable_IdlePriority,he=t.log,ce=t.unstable_setDisableYieldValue,Ee=null,Ie=null;function Ve(i){if(typeof he=="function"&&ce(i),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Ee,i)}catch{}}var ct=Math.clz32?Math.clz32:Ec,Ja=Math.log,cn=Math.LN2;function Ec(i){return i>>>=0,i===0?32:31-(Ja(i)/cn|0)|0}var Fn=256,Un=4194304;function _n(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ga(i,s,c){var f=i.pendingLanes;if(f===0)return 0;var v=0,g=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var C=f&134217727;return C!==0?(f=C&~g,f!==0?v=_n(f):(A&=C,A!==0?v=_n(A):c||(c=C&~i,c!==0&&(v=_n(c))))):(C=f&~g,C!==0?v=_n(C):A!==0?v=_n(A):c||(c=f&~i,c!==0&&(v=_n(c)))),v===0?0:s!==0&&s!==v&&(s&g)===0&&(g=v&-v,c=s&-s,g>=c||g===32&&(c&4194048)!==0)?s:v}function ya(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ws(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u0(){var i=Fn;return Fn<<=1,(Fn&4194048)===0&&(Fn=256),i}function f0(){var i=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),i}function Sc(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function Qi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mg(i,s,c,f,v,g){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var C=i.entanglements,R=i.expirationTimes,z=i.hiddenUpdates;for(c=A&~c;0<c;){var Q=31-ct(c),ne=1<<Q;C[Q]=0,R[Q]=-1;var Z=z[Q];if(Z!==null)for(z[Q]=null,Q=0;Q<Z.length;Q++){var X=Z[Q];X!==null&&(X.lane&=-536870913)}c&=~ne}f!==0&&d0(i,f,0),g!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=g&~(A&~s))}function d0(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-ct(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|c&4194090}function h0(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var f=31-ct(c),v=1<<f;v&s|i[f]&s&&(i[f]|=s),c&=~v}}function Cc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Nc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function p0(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:qp(i.type))}function xg(i,s){var c=oe.p;try{return oe.p=i,s()}finally{oe.p=c}}var zn=Math.random().toString(36).slice(2),nr="__reactFiber$"+zn,vr="__reactProps$"+zn,ei="__reactContainer$"+zn,Oc="__reactEvents$"+zn,gg="__reactListeners$"+zn,yg="__reactHandles$"+zn,v0="__reactResources$"+zn,Ji="__reactMarker$"+zn;function Tc(i){delete i[nr],delete i[vr],delete i[Oc],delete i[gg],delete i[yg]}function ti(i){var s=i[nr];if(s)return s;for(var c=i.parentNode;c;){if(s=c[ei]||c[nr]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=jp(i);i!==null;){if(c=i[nr])return c;i=jp(i)}return s}i=c,c=i.parentNode}return null}function ri(i){if(i=i[nr]||i[ei]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function eo(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function ni(i){var s=i[v0];return s||(s=i[v0]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function zt(i){i[Ji]=!0}var m0=new Set,x0={};function ba(i,s){ai(i,s),ai(i+"Capture",s)}function ai(i,s){for(x0[i]=s,i=0;i<s.length;i++)m0.add(s[i])}var bg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),g0={},y0={};function _g(i){return Wa.call(y0,i)?!0:Wa.call(g0,i)?!1:bg.test(i)?y0[i]=!0:(g0[i]=!0,!1)}function As(i,s,c){if(_g(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function Es(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function wn(i,s,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+f)}}var Dc,b0;function ii(i){if(Dc===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Dc=s&&s[1]||"",b0=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dc+i+b0}var Rc=!1;function jc(i,s){if(!i||Rc)return"";Rc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Z=X}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(X){Z=X}i.call(ne.prototype)}}else{try{throw Error()}catch(X){Z=X}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Z&&typeof X.stack=="string")return[X.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),A=g[0],C=g[1];if(A&&C){var R=A.split(`
`),z=C.split(`
`);for(v=f=0;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;for(;v<z.length&&!z[v].includes("DetermineComponentFrameRoot");)v++;if(f===R.length||v===z.length)for(f=R.length-1,v=z.length-1;1<=f&&0<=v&&R[f]!==z[v];)v--;for(;1<=f&&0<=v;f--,v--)if(R[f]!==z[v]){if(f!==1||v!==1)do if(f--,v--,0>v||R[f]!==z[v]){var Q=`
`+R[f].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=f&&0<=v);break}}}finally{Rc=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ii(c):""}function wg(i){switch(i.tag){case 26:case 27:case 5:return ii(i.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return jc(i.type,!1);case 11:return jc(i.type.render,!1);case 1:return jc(i.type,!0);case 31:return ii("Activity");default:return""}}function _0(i){try{var s="";do s+=wg(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function kr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function w0(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ag(i){var s=w0(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return v.call(this)},set:function(A){f=""+A,g.call(this,A)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ss(i){i._valueTracker||(i._valueTracker=Ag(i))}function A0(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return i&&(f=w0(i)?i.checked?"true":"false":i.value),i=f,i!==c?(s.setValue(i),!0):!1}function Cs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Eg=/[\n"\\]/g;function Fr(i){return i.replace(Eg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ic(i,s,c,f,v,g,A,C){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+kr(s)):i.value!==""+kr(s)&&(i.value=""+kr(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Mc(i,A,kr(s)):c!=null?Mc(i,A,kr(c)):f!=null&&i.removeAttribute("value"),v==null&&g!=null&&(i.defaultChecked=!!g),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+kr(C):i.removeAttribute("name")}function E0(i,s,c,f,v,g,A,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||c!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;c=c!=null?""+kr(c):"",s=s!=null?""+kr(s):c,C||s===i.value||(i.value=s),i.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=C?i.checked:!!f,i.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function Mc(i,s,c){s==="number"&&Cs(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function oi(i,s,c,f){if(i=i.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=s.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&f&&(i[c].defaultSelected=!0)}else{for(c=""+kr(c),s=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}s!==null||i[v].disabled||(s=i[v])}s!==null&&(s.selected=!0)}}function S0(i,s,c){if(s!=null&&(s=""+kr(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+kr(c):""}function C0(i,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(n(92));if(de(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=kr(s),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f)}function si(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Sg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function N0(i,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,c):typeof c!="number"||c===0||Sg.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function O0(i,s,c){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&c[v]!==f&&N0(i,v,f)}else for(var g in s)s.hasOwnProperty(g)&&N0(i,g,s[g])}function Bc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(i){return Ng.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Pc=null;function Lc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var li=null,ci=null;function T0(i){var s=ri(i);if(s&&(i=s.stateNode)){var c=i[vr]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ic(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Fr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==i&&f.form===i.form){var v=f[vr]||null;if(!v)throw Error(n(90));Ic(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===i.form&&A0(f)}break e;case"textarea":S0(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&oi(i,!!c.multiple,s,!1)}}}var kc=!1;function D0(i,s,c){if(kc)return i(s,c);kc=!0;try{var f=i(s);return f}finally{if(kc=!1,(li!==null||ci!==null)&&(dl(),li&&(s=li,i=ci,ci=li=null,T0(s),i)))for(s=0;s<i.length;s++)T0(i[s])}}function to(i,s){var c=i.stateNode;if(c===null)return null;var f=c[vr]||null;if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=!1;if(An)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Fc=!1}var Vn=null,Uc=null,Os=null;function R0(){if(Os)return Os;var i,s=Uc,c=s.length,f,v="value"in Vn?Vn.value:Vn.textContent,g=v.length;for(i=0;i<c&&s[i]===v[i];i++);var A=c-i;for(f=1;f<=A&&s[c-f]===v[g-f];f++);return Os=v.slice(i,1<f?1-f:void 0)}function Ts(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ds(){return!0}function j0(){return!1}function mr(i){function s(c,f,v,g,A){this._reactName=c,this._targetInst=v,this.type=f,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(c=i[C],this[C]=c?c(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ds:j0,this.isPropagationStopped=j0,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),s}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=mr(_a),no=m({},_a,{view:0,detail:0}),Og=mr(no),zc,Vc,ao,js=m({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ao&&(ao&&i.type==="mousemove"?(zc=i.screenX-ao.screenX,Vc=i.screenY-ao.screenY):Vc=zc=0,ao=i),zc)},movementY:function(i){return"movementY"in i?i.movementY:Vc}}),I0=mr(js),Tg=m({},js,{dataTransfer:0}),Dg=mr(Tg),Rg=m({},no,{relatedTarget:0}),Hc=mr(Rg),jg=m({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=mr(jg),Mg=m({},_a,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bg=mr(Mg),Pg=m({},_a,{data:0}),M0=mr(Pg),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Fg[i])?!!s[i]:!1}function Gc(){return Ug}var zg=m({},no,{key:function(i){if(i.key){var s=Lg[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ts(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kg[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(i){return i.type==="keypress"?Ts(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ts(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Vg=mr(zg),Hg=m({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B0=mr(Hg),Gg=m({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),Zg=mr(Gg),Xg=m({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),qg=mr(Xg),Yg=m({},js,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=mr(Yg),Kg=m({},_a,{newState:0,oldState:0}),Wg=mr(Kg),Qg=[9,13,27,32],Zc=An&&"CompositionEvent"in window,io=null;An&&"documentMode"in document&&(io=document.documentMode);var Jg=An&&"TextEvent"in window&&!io,P0=An&&(!Zc||io&&8<io&&11>=io),L0=" ",k0=!1;function F0(i,s){switch(i){case"keyup":return Qg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ui=!1;function ey(i,s){switch(i){case"compositionend":return U0(s);case"keypress":return s.which!==32?null:(k0=!0,L0);case"textInput":return i=s.data,i===L0&&k0?null:i;default:return null}}function ty(i,s){if(ui)return i==="compositionend"||!Zc&&F0(i,s)?(i=R0(),Os=Uc=Vn=null,ui=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return P0&&s.locale!=="ko"?null:s.data;default:return null}}var ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ry[i.type]:s==="textarea"}function V0(i,s,c,f){li?ci?ci.push(f):ci=[f]:li=f,s=gl(s,"onChange"),0<s.length&&(c=new Rs("onChange","change",null,c,f),i.push({event:c,listeners:s}))}var oo=null,so=null;function ny(i){wp(i,0)}function Is(i){var s=eo(i);if(A0(s))return i}function H0(i,s){if(i==="change")return s}var G0=!1;if(An){var Xc;if(An){var qc="oninput"in document;if(!qc){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),qc=typeof Z0.oninput=="function"}Xc=qc}else Xc=!1;G0=Xc&&(!document.documentMode||9<document.documentMode)}function X0(){oo&&(oo.detachEvent("onpropertychange",q0),so=oo=null)}function q0(i){if(i.propertyName==="value"&&Is(so)){var s=[];V0(s,so,i,Lc(i)),D0(ny,s)}}function ay(i,s,c){i==="focusin"?(X0(),oo=s,so=c,oo.attachEvent("onpropertychange",q0)):i==="focusout"&&X0()}function iy(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Is(so)}function oy(i,s){if(i==="click")return Is(s)}function sy(i,s){if(i==="input"||i==="change")return Is(s)}function ly(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Nr=typeof Object.is=="function"?Object.is:ly;function lo(i,s){if(Nr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var v=c[f];if(!Wa.call(s,v)||!Nr(i[v],s[v]))return!1}return!0}function Y0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $0(i,s){var c=Y0(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=s&&f>=s)return{node:c,offset:s-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Y0(c)}}function K0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?K0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function W0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Cs(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=Cs(i.document)}return s}function Yc(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var cy=An&&"documentMode"in document&&11>=document.documentMode,fi=null,$c=null,co=null,Kc=!1;function Q0(i,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Kc||fi==null||fi!==Cs(f)||(f=fi,"selectionStart"in f&&Yc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),co&&lo(co,f)||(co=f,f=gl($c,"onSelect"),0<f.length&&(s=new Rs("onSelect","select",null,s,c),i.push({event:s,listeners:f}),s.target=fi)))}function wa(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var di={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},Wc={},J0={};An&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Aa(i){if(Wc[i])return Wc[i];if(!di[i])return i;var s=di[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in J0)return Wc[i]=s[c];return i}var eh=Aa("animationend"),th=Aa("animationiteration"),rh=Aa("animationstart"),uy=Aa("transitionrun"),fy=Aa("transitionstart"),dy=Aa("transitioncancel"),nh=Aa("transitionend"),ah=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Kr(i,s){ah.set(i,s),ba(s,[i])}var ih=new WeakMap;function Ur(i,s){if(typeof i=="object"&&i!==null){var c=ih.get(i);return c!==void 0?c:(s={value:i,source:s,stack:_0(s)},ih.set(i,s),s)}return{value:i,source:s,stack:_0(s)}}var zr=[],hi=0,Jc=0;function Ms(){for(var i=hi,s=Jc=hi=0;s<i;){var c=zr[s];zr[s++]=null;var f=zr[s];zr[s++]=null;var v=zr[s];zr[s++]=null;var g=zr[s];if(zr[s++]=null,f!==null&&v!==null){var A=f.pending;A===null?v.next=v:(v.next=A.next,A.next=v),f.pending=v}g!==0&&oh(c,v,g)}}function Bs(i,s,c,f){zr[hi++]=i,zr[hi++]=s,zr[hi++]=c,zr[hi++]=f,Jc|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function eu(i,s,c,f){return Bs(i,s,c,f),Ps(i)}function pi(i,s){return Bs(i,null,null,s),Ps(i)}function oh(i,s,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var v=!1,g=i.return;g!==null;)g.childLanes|=c,f=g.alternate,f!==null&&(f.childLanes|=c),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(v=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,v&&s!==null&&(v=31-ct(c),i=g.hiddenUpdates,f=i[v],f===null?i[v]=[s]:f.push(s),s.lane=c|536870912),g):null}function Ps(i){if(50<Bo)throw Bo=0,sf=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var vi={};function hy(i,s,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(i,s,c,f){return new hy(i,s,c,f)}function tu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function En(i,s){var c=i.alternate;return c===null?(c=Or(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function sh(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ls(i,s,c,f,v,g){var A=0;if(f=i,typeof i=="function")tu(i)&&(A=1);else if(typeof i=="string")A=v2(i,c,H.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=Or(31,c,s,v),i.elementType=J,i.lanes=g,i;case _:return Ea(c.children,v,g,s);case w:A=8,v|=24;break;case S:return i=Or(12,c,s,v|2),i.elementType=S,i.lanes=g,i;case I:return i=Or(13,c,s,v),i.elementType=I,i.lanes=g,i;case U:return i=Or(19,c,s,v),i.elementType=U,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case N:A=10;break e;case E:A=9;break e;case D:A=11;break e;case Y:A=14;break e;case q:A=16,f=null;break e}A=29,c=Error(n(130,i===null?"null":typeof i,"")),f=null}return s=Or(A,c,s,v),s.elementType=i,s.type=f,s.lanes=g,s}function Ea(i,s,c,f){return i=Or(7,i,f,s),i.lanes=c,i}function ru(i,s,c){return i=Or(6,i,null,s),i.lanes=c,i}function nu(i,s,c){return s=Or(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var mi=[],xi=0,ks=null,Fs=0,Vr=[],Hr=0,Sa=null,Sn=1,Cn="";function Ca(i,s){mi[xi++]=Fs,mi[xi++]=ks,ks=i,Fs=s}function lh(i,s,c){Vr[Hr++]=Sn,Vr[Hr++]=Cn,Vr[Hr++]=Sa,Sa=i;var f=Sn;i=Cn;var v=32-ct(f)-1;f&=~(1<<v),c+=1;var g=32-ct(s)+v;if(30<g){var A=v-v%5;g=(f&(1<<A)-1).toString(32),f>>=A,v-=A,Sn=1<<32-ct(s)+v|c<<v|f,Cn=g+i}else Sn=1<<g|c<<v|f,Cn=i}function au(i){i.return!==null&&(Ca(i,1),lh(i,1,0))}function iu(i){for(;i===ks;)ks=mi[--xi],mi[xi]=null,Fs=mi[--xi],mi[xi]=null;for(;i===Sa;)Sa=Vr[--Hr],Vr[Hr]=null,Cn=Vr[--Hr],Vr[Hr]=null,Sn=Vr[--Hr],Vr[Hr]=null}var cr=null,_t=null,$e=!1,Na=null,un=!1,ou=Error(n(519));function Oa(i){var s=Error(n(418,""));throw ho(Ur(s,i)),ou}function ch(i){var s=i.stateNode,c=i.type,f=i.memoizedProps;switch(s[nr]=i,s[vr]=f,c){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(c=0;c<Lo.length;c++)ze(Lo[c],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),E0(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ss(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),C0(s,f.value,f.defaultValue,f.children),Ss(s)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||Cp(s.textContent,c)?(f.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),f.onScroll!=null&&ze("scroll",s),f.onScrollEnd!=null&&ze("scrollend",s),f.onClick!=null&&(s.onclick=yl),s=!0):s=!1,s||Oa(i)}function uh(i){for(cr=i.return;cr;)switch(cr.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:cr=cr.return}}function uo(i){if(i!==cr)return!1;if(!$e)return uh(i),$e=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Af(i.type,i.memoizedProps)),c=!c),c&&_t&&Oa(i),uh(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(s===0){_t=Qr(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;i=i.nextSibling}_t=null}}else s===27?(s=_t,aa(i.type)?(i=Nf,Nf=null,_t=i):_t=s):_t=cr?Qr(i.stateNode.nextSibling):null;return!0}function fo(){_t=cr=null,$e=!1}function fh(){var i=Na;return i!==null&&(yr===null?yr=i:yr.push.apply(yr,i),Na=null),i}function ho(i){Na===null?Na=[i]:Na.push(i)}var su=ie(null),Ta=null,Nn=null;function Hn(i,s,c){pe(su,s._currentValue),s._currentValue=c}function On(i){i._currentValue=su.current,me(su)}function lu(i,s,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===c)break;i=i.return}}function cu(i,s,c,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var g=v.dependencies;if(g!==null){var A=v.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=v;for(var R=0;R<s.length;R++)if(C.context===s[R]){g.lanes|=c,C=g.alternate,C!==null&&(C.lanes|=c),lu(g.return,c,i),f||(A=null);break e}g=C.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(n(341));A.lanes|=c,g=A.alternate,g!==null&&(g.lanes|=c),lu(A,c,i),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===i){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function po(i,s,c,f){i=null;for(var v=s,g=!1;v!==null;){if(!g){if((v.flags&524288)!==0)g=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var C=v.type;Nr(v.pendingProps.value,A.value)||(i!==null?i.push(C):i=[C])}}else if(v===bt.current){if(A=v.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Ho):i=[Ho])}v=v.return}i!==null&&cu(s,i,c,f),s.flags|=262144}function Us(i){for(i=i.firstContext;i!==null;){if(!Nr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Da(i){Ta=i,Nn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ar(i){return dh(Ta,i)}function zs(i,s){return Ta===null&&Da(i),dh(i,s)}function dh(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Nn===null){if(i===null)throw Error(n(308));Nn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Nn=Nn.next=s;return c}var py=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},vy=t.unstable_scheduleCallback,my=t.unstable_NormalPriority,jt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uu(){return{controller:new py,data:new Map,refCount:0}}function vo(i){i.refCount--,i.refCount===0&&vy(my,function(){i.controller.abort()})}var mo=null,fu=0,gi=0,yi=null;function xy(i,s){if(mo===null){var c=mo=[];fu=0,gi=pf(),yi={status:"pending",value:void 0,then:function(f){c.push(f)}}}return fu++,s.then(hh,hh),s}function hh(){if(--fu===0&&mo!==null){yi!==null&&(yi.status="fulfilled");var i=mo;mo=null,gi=0,yi=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function gy(i,s){var c=[],f={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),f}var ph=P.S;P.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xy(i,s),ph!==null&&ph(i,s)};var Ra=ie(null);function du(){var i=Ra.current;return i!==null?i:ut.pooledCache}function Vs(i,s){s===null?pe(Ra,Ra.current):pe(Ra,s.pool)}function vh(){var i=du();return i===null?null:{parent:jt._currentValue,pool:i}}var xo=Error(n(460)),mh=Error(n(474)),Hs=Error(n(542)),hu={then:function(){}};function xh(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gs(){}function gh(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(Gs,Gs),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,bh(i),i;default:if(typeof s.status=="string")s.then(Gs,Gs);else{if(i=ut,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,bh(i),i}throw go=s,xo}}var go=null;function yh(){if(go===null)throw Error(n(459));var i=go;return go=null,i}function bh(i){if(i===xo||i===Hs)throw Error(n(483))}var Gn=!1;function pu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vu(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xn(i,s,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=Ps(i),oh(i,null,c),s}return Bs(i,f,s,c),Ps(i)}function yo(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,h0(i,c)}}function mu(i,s){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var v=null,g=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};g===null?v=g=A:g=g.next=A,c=c.next}while(c!==null);g===null?v=g=s:g=g.next=s}else v=g=s;c={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var xu=!1;function bo(){if(xu){var i=yi;if(i!==null)throw i}}function _o(i,s,c,f){xu=!1;var v=i.updateQueue;Gn=!1;var g=v.firstBaseUpdate,A=v.lastBaseUpdate,C=v.shared.pending;if(C!==null){v.shared.pending=null;var R=C,z=R.next;R.next=null,A===null?g=z:A.next=z,A=R;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==A&&(C===null?Q.firstBaseUpdate=z:C.next=z,Q.lastBaseUpdate=R))}if(g!==null){var ne=v.baseState;A=0,Q=z=R=null,C=g;do{var Z=C.lane&-536870913,X=Z!==C.lane;if(X?(He&Z)===Z:(f&Z)===Z){Z!==0&&Z===gi&&(xu=!0),Q!==null&&(Q=Q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var je=i,De=C;Z=s;var it=c;switch(De.tag){case 1:if(je=De.payload,typeof je=="function"){ne=je.call(it,ne,Z);break e}ne=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=De.payload,Z=typeof je=="function"?je.call(it,ne,Z):je,Z==null)break e;ne=m({},ne,Z);break e;case 2:Gn=!0}}Z=C.callback,Z!==null&&(i.flags|=64,X&&(i.flags|=8192),X=v.callbacks,X===null?v.callbacks=[Z]:X.push(Z))}else X={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(z=Q=X,R=ne):Q=Q.next=X,A|=Z;if(C=C.next,C===null){if(C=v.shared.pending,C===null)break;X=C,C=X.next,X.next=null,v.lastBaseUpdate=X,v.shared.pending=null}}while(!0);Q===null&&(R=ne),v.baseState=R,v.firstBaseUpdate=z,v.lastBaseUpdate=Q,g===null&&(v.shared.lanes=0),ea|=A,i.lanes=A,i.memoizedState=ne}}function _h(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function wh(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)_h(c[i],s)}var bi=ie(null),Zs=ie(0);function Ah(i,s){i=Bn,pe(Zs,i),pe(bi,s),Bn=i|s.baseLanes}function gu(){pe(Zs,Bn),pe(bi,bi.current)}function yu(){Bn=Zs.current,me(bi),me(Zs)}var qn=0,Pe=null,nt=null,Ot=null,Xs=!1,_i=!1,ja=!1,qs=0,wo=0,wi=null,yy=0;function At(){throw Error(n(321))}function bu(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Nr(i[c],s[c]))return!1;return!0}function _u(i,s,c,f,v,g){return qn=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=i===null||i.memoizedState===null?o1:s1,ja=!1,g=c(f,v),ja=!1,_i&&(g=Sh(s,c,f,v)),Eh(i),g}function Eh(i){P.H=Js;var s=nt!==null&&nt.next!==null;if(qn=0,Ot=nt=Pe=null,Xs=!1,wo=0,wi=null,s)throw Error(n(300));i===null||Vt||(i=i.dependencies,i!==null&&Us(i)&&(Vt=!0))}function Sh(i,s,c,f){Pe=i;var v=0;do{if(_i&&(wi=null),wo=0,_i=!1,25<=v)throw Error(n(301));if(v+=1,Ot=nt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=Cy,g=s(c,f)}while(_i);return g}function by(){var i=P.H,s=i.useState()[0];return s=typeof s.then=="function"?Ao(s):s,i=i.useState()[0],(nt!==null?nt.memoizedState:null)!==i&&(Pe.flags|=1024),s}function wu(){var i=qs!==0;return qs=0,i}function Au(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function Eu(i){if(Xs){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Xs=!1}qn=0,Ot=nt=Pe=null,_i=!1,wo=qs=0,wi=null}function xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Pe.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Tt(){if(nt===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=nt.next;var s=Ot===null?Pe.memoizedState:Ot.next;if(s!==null)Ot=s,nt=i;else{if(i===null)throw Pe.alternate===null?Error(n(467)):Error(n(310));nt=i,i={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ot===null?Pe.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(i){var s=wo;return wo+=1,wi===null&&(wi=[]),i=gh(wi,i,s),s=Pe,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?o1:s1),i}function Ys(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ao(i);if(i.$$typeof===N)return ar(i)}throw Error(n(438,String(i)))}function Cu(i){var s=null,c=Pe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Pe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Su(),Pe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),f=0;f<i;f++)c[f]=se;return s.index++,c}function Tn(i,s){return typeof s=="function"?s(i):s}function $s(i){var s=Tt();return Nu(s,nt,i)}function Nu(i,s,c){var f=i.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=c;var v=i.baseQueue,g=f.pending;if(g!==null){if(v!==null){var A=v.next;v.next=g.next,g.next=A}s.baseQueue=v=g,f.pending=null}if(g=i.baseState,v===null)i.memoizedState=g;else{s=v.next;var C=A=null,R=null,z=s,Q=!1;do{var ne=z.lane&-536870913;if(ne!==z.lane?(He&ne)===ne:(qn&ne)===ne){var Z=z.revertLane;if(Z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ne===gi&&(Q=!0);else if((qn&Z)===Z){z=z.next,Z===gi&&(Q=!0);continue}else ne={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(C=R=ne,A=g):R=R.next=ne,Pe.lanes|=Z,ea|=Z;ne=z.action,ja&&c(g,ne),g=z.hasEagerState?z.eagerState:c(g,ne)}else Z={lane:ne,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(C=R=Z,A=g):R=R.next=Z,Pe.lanes|=ne,ea|=ne;z=z.next}while(z!==null&&z!==s);if(R===null?A=g:R.next=C,!Nr(g,i.memoizedState)&&(Vt=!0,Q&&(c=yi,c!==null)))throw c;i.memoizedState=g,i.baseState=A,i.baseQueue=R,f.lastRenderedState=g}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Ou(i){var s=Tt(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var f=c.dispatch,v=c.pending,g=s.memoizedState;if(v!==null){c.pending=null;var A=v=v.next;do g=i(g,A.action),A=A.next;while(A!==v);Nr(g,s.memoizedState)||(Vt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),c.lastRenderedState=g}return[g,f]}function Ch(i,s,c){var f=Pe,v=Tt(),g=$e;if(g){if(c===void 0)throw Error(n(407));c=c()}else c=s();var A=!Nr((nt||v).memoizedState,c);A&&(v.memoizedState=c,Vt=!0),v=v.queue;var C=Th.bind(null,f,v,i);if(Eo(2048,8,C,[i]),v.getSnapshot!==s||A||Ot!==null&&Ot.memoizedState.tag&1){if(f.flags|=2048,Ai(9,Ks(),Oh.bind(null,f,v,c,s),null),ut===null)throw Error(n(349));g||(qn&124)!==0||Nh(f,s,c)}return c}function Nh(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Pe.updateQueue,s===null?(s=Su(),Pe.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function Oh(i,s,c,f){s.value=c,s.getSnapshot=f,Dh(s)&&Rh(i)}function Th(i,s,c){return c(function(){Dh(s)&&Rh(i)})}function Dh(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Nr(i,c)}catch{return!0}}function Rh(i){var s=pi(i,2);s!==null&&Ir(s,i,2)}function Tu(i){var s=xr();if(typeof i=="function"){var c=i;if(i=c(),ja){Ve(!0);try{c()}finally{Ve(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:i},s}function jh(i,s,c,f){return i.baseState=c,Nu(i,nt,typeof f=="function"?f:Tn)}function _y(i,s,c,f,v){if(Qs(i))throw Error(n(485));if(i=s.action,i!==null){var g={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};P.T!==null?c(!0):g.isTransition=!1,f(g),c=s.pending,c===null?(g.next=s.pending=g,Ih(s,g)):(g.next=c.next,s.pending=c.next=g)}}function Ih(i,s){var c=s.action,f=s.payload,v=i.state;if(s.isTransition){var g=P.T,A={};P.T=A;try{var C=c(v,f),R=P.S;R!==null&&R(A,C),Mh(i,s,C)}catch(z){Du(i,s,z)}finally{P.T=g}}else try{g=c(v,f),Mh(i,s,g)}catch(z){Du(i,s,z)}}function Mh(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Bh(i,s,f)},function(f){return Du(i,s,f)}):Bh(i,s,c)}function Bh(i,s,c){s.status="fulfilled",s.value=c,Ph(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,Ih(i,c)))}function Du(i,s,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,Ph(s),s=s.next;while(s!==f)}i.action=null}function Ph(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Lh(i,s){return s}function kh(i,s){if($e){var c=ut.formState;if(c!==null){e:{var f=Pe;if($e){if(_t){t:{for(var v=_t,g=un;v.nodeType!==8;){if(!g){v=null;break t}if(v=Qr(v.nextSibling),v===null){v=null;break t}}g=v.data,v=g==="F!"||g==="F"?v:null}if(v){_t=Qr(v.nextSibling),f=v.data==="F!";break e}}Oa(f)}f=!1}f&&(s=c[0])}}return c=xr(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lh,lastRenderedState:s},c.queue=f,c=n1.bind(null,Pe,f),f.dispatch=c,f=Tu(!1),g=Bu.bind(null,Pe,!1,f.queue),f=xr(),v={state:s,dispatch:null,action:i,pending:null},f.queue=v,c=_y.bind(null,Pe,v,g,c),v.dispatch=c,f.memoizedState=i,[s,c,!1]}function Fh(i){var s=Tt();return Uh(s,nt,i)}function Uh(i,s,c){if(s=Nu(i,s,Lh)[0],i=$s(Tn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Ao(s)}catch(A){throw A===xo?Hs:A}else f=s;s=Tt();var v=s.queue,g=v.dispatch;return c!==s.memoizedState&&(Pe.flags|=2048,Ai(9,Ks(),wy.bind(null,v,c),null)),[f,g,i]}function wy(i,s){i.action=s}function zh(i){var s=Tt(),c=nt;if(c!==null)return Uh(s,c,i);Tt(),s=s.memoizedState,c=Tt();var f=c.queue.dispatch;return c.memoizedState=i,[s,f,!1]}function Ai(i,s,c,f){return i={tag:i,create:c,deps:f,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Su(),Pe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,s.lastEffect=i),i}function Ks(){return{destroy:void 0,resource:void 0}}function Vh(){return Tt().memoizedState}function Ws(i,s,c,f){var v=xr();f=f===void 0?null:f,Pe.flags|=i,v.memoizedState=Ai(1|s,Ks(),c,f)}function Eo(i,s,c,f){var v=Tt();f=f===void 0?null:f;var g=v.memoizedState.inst;nt!==null&&f!==null&&bu(f,nt.memoizedState.deps)?v.memoizedState=Ai(s,g,c,f):(Pe.flags|=i,v.memoizedState=Ai(1|s,g,c,f))}function Hh(i,s){Ws(8390656,8,i,s)}function Gh(i,s){Eo(2048,8,i,s)}function Zh(i,s){return Eo(4,2,i,s)}function Xh(i,s){return Eo(4,4,i,s)}function qh(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Yh(i,s,c){c=c!=null?c.concat([i]):null,Eo(4,4,qh.bind(null,s,i),c)}function Ru(){}function $h(i,s){var c=Tt();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&bu(s,f[1])?f[0]:(c.memoizedState=[i,s],i)}function Kh(i,s){var c=Tt();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&bu(s,f[1]))return f[0];if(f=i(),ja){Ve(!0);try{i()}finally{Ve(!1)}}return c.memoizedState=[f,s],f}function ju(i,s,c){return c===void 0||(qn&1073741824)!==0?i.memoizedState=s:(i.memoizedState=c,i=J1(),Pe.lanes|=i,ea|=i,c)}function Wh(i,s,c,f){return Nr(c,s)?c:bi.current!==null?(i=ju(i,c,f),Nr(i,s)||(Vt=!0),i):(qn&42)===0?(Vt=!0,i.memoizedState=c):(i=J1(),Pe.lanes|=i,ea|=i,s)}function Qh(i,s,c,f,v){var g=oe.p;oe.p=g!==0&&8>g?g:8;var A=P.T,C={};P.T=C,Bu(i,!1,s,c);try{var R=v(),z=P.S;if(z!==null&&z(C,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=gy(R,f);So(i,s,Q,jr(i))}else So(i,s,f,jr(i))}catch(ne){So(i,s,{then:function(){},status:"rejected",reason:ne},jr())}finally{oe.p=g,P.T=A}}function Ay(){}function Iu(i,s,c,f){if(i.tag!==5)throw Error(n(476));var v=Jh(i).queue;Qh(i,v,s,F,c===null?Ay:function(){return e1(i),c(f)})}function Jh(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:F},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function e1(i){var s=Jh(i).next.queue;So(i,s,{},jr())}function Mu(){return ar(Ho)}function t1(){return Tt().memoizedState}function r1(){return Tt().memoizedState}function Ey(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=jr();i=Zn(c);var f=Xn(s,i,c);f!==null&&(Ir(f,s,c),yo(f,s,c)),s={cache:uu()},i.payload=s;return}s=s.return}}function Sy(i,s,c){var f=jr();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Qs(i)?a1(s,c):(c=eu(i,s,c,f),c!==null&&(Ir(c,i,f),i1(c,s,f)))}function n1(i,s,c){var f=jr();So(i,s,c,f)}function So(i,s,c,f){var v={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qs(i))a1(s,v);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var A=s.lastRenderedState,C=g(A,c);if(v.hasEagerState=!0,v.eagerState=C,Nr(C,A))return Bs(i,s,v,0),ut===null&&Ms(),!1}catch{}finally{}if(c=eu(i,s,v,f),c!==null)return Ir(c,i,f),i1(c,s,f),!0}return!1}function Bu(i,s,c,f){if(f={lane:2,revertLane:pf(),action:f,hasEagerState:!1,eagerState:null,next:null},Qs(i)){if(s)throw Error(n(479))}else s=eu(i,c,f,2),s!==null&&Ir(s,i,2)}function Qs(i){var s=i.alternate;return i===Pe||s!==null&&s===Pe}function a1(i,s){_i=Xs=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function i1(i,s,c){if((c&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,h0(i,c)}}var Js={readContext:ar,use:Ys,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},o1={readContext:ar,use:Ys,useCallback:function(i,s){return xr().memoizedState=[i,s===void 0?null:s],i},useContext:ar,useEffect:Hh,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Ws(4194308,4,qh.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Ws(4194308,4,i,s)},useInsertionEffect:function(i,s){Ws(4,2,i,s)},useMemo:function(i,s){var c=xr();s=s===void 0?null:s;var f=i();if(ja){Ve(!0);try{i()}finally{Ve(!1)}}return c.memoizedState=[f,s],f},useReducer:function(i,s,c){var f=xr();if(c!==void 0){var v=c(s);if(ja){Ve(!0);try{c(s)}finally{Ve(!1)}}}else v=s;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=Sy.bind(null,Pe,i),[f.memoizedState,i]},useRef:function(i){var s=xr();return i={current:i},s.memoizedState=i},useState:function(i){i=Tu(i);var s=i.queue,c=n1.bind(null,Pe,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:Ru,useDeferredValue:function(i,s){var c=xr();return ju(c,i,s)},useTransition:function(){var i=Tu(!1);return i=Qh.bind(null,Pe,i.queue,!0,!1),xr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var f=Pe,v=xr();if($e){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),ut===null)throw Error(n(349));(He&124)!==0||Nh(f,s,c)}v.memoizedState=c;var g={value:c,getSnapshot:s};return v.queue=g,Hh(Th.bind(null,f,g,i),[i]),f.flags|=2048,Ai(9,Ks(),Oh.bind(null,f,g,c,s),null),c},useId:function(){var i=xr(),s=ut.identifierPrefix;if($e){var c=Cn,f=Sn;c=(f&~(1<<32-ct(f)-1)).toString(32)+c,s="«"+s+"R"+c,c=qs++,0<c&&(s+="H"+c.toString(32)),s+="»"}else c=yy++,s="«"+s+"r"+c.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Mu,useFormState:kh,useActionState:kh,useOptimistic:function(i){var s=xr();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Bu.bind(null,Pe,!0,c),c.dispatch=s,[i,s]},useMemoCache:Cu,useCacheRefresh:function(){return xr().memoizedState=Ey.bind(null,Pe)}},s1={readContext:ar,use:Ys,useCallback:$h,useContext:ar,useEffect:Gh,useImperativeHandle:Yh,useInsertionEffect:Zh,useLayoutEffect:Xh,useMemo:Kh,useReducer:$s,useRef:Vh,useState:function(){return $s(Tn)},useDebugValue:Ru,useDeferredValue:function(i,s){var c=Tt();return Wh(c,nt.memoizedState,i,s)},useTransition:function(){var i=$s(Tn)[0],s=Tt().memoizedState;return[typeof i=="boolean"?i:Ao(i),s]},useSyncExternalStore:Ch,useId:t1,useHostTransitionStatus:Mu,useFormState:Fh,useActionState:Fh,useOptimistic:function(i,s){var c=Tt();return jh(c,nt,i,s)},useMemoCache:Cu,useCacheRefresh:r1},Cy={readContext:ar,use:Ys,useCallback:$h,useContext:ar,useEffect:Gh,useImperativeHandle:Yh,useInsertionEffect:Zh,useLayoutEffect:Xh,useMemo:Kh,useReducer:Ou,useRef:Vh,useState:function(){return Ou(Tn)},useDebugValue:Ru,useDeferredValue:function(i,s){var c=Tt();return nt===null?ju(c,i,s):Wh(c,nt.memoizedState,i,s)},useTransition:function(){var i=Ou(Tn)[0],s=Tt().memoizedState;return[typeof i=="boolean"?i:Ao(i),s]},useSyncExternalStore:Ch,useId:t1,useHostTransitionStatus:Mu,useFormState:zh,useActionState:zh,useOptimistic:function(i,s){var c=Tt();return nt!==null?jh(c,nt,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:r1},Ei=null,Co=0;function el(i){var s=Co;return Co+=1,Ei===null&&(Ei=[]),gh(Ei,i,s)}function No(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function tl(i,s){throw s.$$typeof===x?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function l1(i){var s=i._init;return s(i._payload)}function c1(i){function s(L,B){if(i){var k=L.deletions;k===null?(L.deletions=[B],L.flags|=16):k.push(B)}}function c(L,B){if(!i)return null;for(;B!==null;)s(L,B),B=B.sibling;return null}function f(L){for(var B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function v(L,B){return L=En(L,B),L.index=0,L.sibling=null,L}function g(L,B,k){return L.index=k,i?(k=L.alternate,k!==null?(k=k.index,k<B?(L.flags|=67108866,B):k):(L.flags|=67108866,B)):(L.flags|=1048576,B)}function A(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function C(L,B,k,te){return B===null||B.tag!==6?(B=ru(k,L.mode,te),B.return=L,B):(B=v(B,k),B.return=L,B)}function R(L,B,k,te){var _e=k.type;return _e===_?Q(L,B,k.props.children,te,k.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&l1(_e)===B.type)?(B=v(B,k.props),No(B,k),B.return=L,B):(B=Ls(k.type,k.key,k.props,null,L.mode,te),No(B,k),B.return=L,B)}function z(L,B,k,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==k.containerInfo||B.stateNode.implementation!==k.implementation?(B=nu(k,L.mode,te),B.return=L,B):(B=v(B,k.children||[]),B.return=L,B)}function Q(L,B,k,te,_e){return B===null||B.tag!==7?(B=Ea(k,L.mode,te,_e),B.return=L,B):(B=v(B,k),B.return=L,B)}function ne(L,B,k){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ru(""+B,L.mode,k),B.return=L,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return k=Ls(B.type,B.key,B.props,null,L.mode,k),No(k,B),k.return=L,k;case b:return B=nu(B,L.mode,k),B.return=L,B;case q:var te=B._init;return B=te(B._payload),ne(L,B,k)}if(de(B)||le(B))return B=Ea(B,L.mode,k,null),B.return=L,B;if(typeof B.then=="function")return ne(L,el(B),k);if(B.$$typeof===N)return ne(L,zs(L,B),k);tl(L,B)}return null}function Z(L,B,k,te){var _e=B!==null?B.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return _e!==null?null:C(L,B,""+k,te);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case y:return k.key===_e?R(L,B,k,te):null;case b:return k.key===_e?z(L,B,k,te):null;case q:return _e=k._init,k=_e(k._payload),Z(L,B,k,te)}if(de(k)||le(k))return _e!==null?null:Q(L,B,k,te,null);if(typeof k.then=="function")return Z(L,B,el(k),te);if(k.$$typeof===N)return Z(L,B,zs(L,k),te);tl(L,k)}return null}function X(L,B,k,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return L=L.get(k)||null,C(B,L,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return L=L.get(te.key===null?k:te.key)||null,R(B,L,te,_e);case b:return L=L.get(te.key===null?k:te.key)||null,z(B,L,te,_e);case q:var ke=te._init;return te=ke(te._payload),X(L,B,k,te,_e)}if(de(te)||le(te))return L=L.get(k)||null,Q(B,L,te,_e,null);if(typeof te.then=="function")return X(L,B,k,el(te),_e);if(te.$$typeof===N)return X(L,B,k,zs(B,te),_e);tl(B,te)}return null}function je(L,B,k,te){for(var _e=null,ke=null,Ce=B,Re=B=0,Gt=null;Ce!==null&&Re<k.length;Re++){Ce.index>Re?(Gt=Ce,Ce=null):Gt=Ce.sibling;var Xe=Z(L,Ce,k[Re],te);if(Xe===null){Ce===null&&(Ce=Gt);break}i&&Ce&&Xe.alternate===null&&s(L,Ce),B=g(Xe,B,Re),ke===null?_e=Xe:ke.sibling=Xe,ke=Xe,Ce=Gt}if(Re===k.length)return c(L,Ce),$e&&Ca(L,Re),_e;if(Ce===null){for(;Re<k.length;Re++)Ce=ne(L,k[Re],te),Ce!==null&&(B=g(Ce,B,Re),ke===null?_e=Ce:ke.sibling=Ce,ke=Ce);return $e&&Ca(L,Re),_e}for(Ce=f(Ce);Re<k.length;Re++)Gt=X(Ce,L,Re,k[Re],te),Gt!==null&&(i&&Gt.alternate!==null&&Ce.delete(Gt.key===null?Re:Gt.key),B=g(Gt,B,Re),ke===null?_e=Gt:ke.sibling=Gt,ke=Gt);return i&&Ce.forEach(function(ca){return s(L,ca)}),$e&&Ca(L,Re),_e}function De(L,B,k,te){if(k==null)throw Error(n(151));for(var _e=null,ke=null,Ce=B,Re=B=0,Gt=null,Xe=k.next();Ce!==null&&!Xe.done;Re++,Xe=k.next()){Ce.index>Re?(Gt=Ce,Ce=null):Gt=Ce.sibling;var ca=Z(L,Ce,Xe.value,te);if(ca===null){Ce===null&&(Ce=Gt);break}i&&Ce&&ca.alternate===null&&s(L,Ce),B=g(ca,B,Re),ke===null?_e=ca:ke.sibling=ca,ke=ca,Ce=Gt}if(Xe.done)return c(L,Ce),$e&&Ca(L,Re),_e;if(Ce===null){for(;!Xe.done;Re++,Xe=k.next())Xe=ne(L,Xe.value,te),Xe!==null&&(B=g(Xe,B,Re),ke===null?_e=Xe:ke.sibling=Xe,ke=Xe);return $e&&Ca(L,Re),_e}for(Ce=f(Ce);!Xe.done;Re++,Xe=k.next())Xe=X(Ce,L,Re,Xe.value,te),Xe!==null&&(i&&Xe.alternate!==null&&Ce.delete(Xe.key===null?Re:Xe.key),B=g(Xe,B,Re),ke===null?_e=Xe:ke.sibling=Xe,ke=Xe);return i&&Ce.forEach(function(N2){return s(L,N2)}),$e&&Ca(L,Re),_e}function it(L,B,k,te){if(typeof k=="object"&&k!==null&&k.type===_&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case y:e:{for(var _e=k.key;B!==null;){if(B.key===_e){if(_e=k.type,_e===_){if(B.tag===7){c(L,B.sibling),te=v(B,k.props.children),te.return=L,L=te;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&l1(_e)===B.type){c(L,B.sibling),te=v(B,k.props),No(te,k),te.return=L,L=te;break e}c(L,B);break}else s(L,B);B=B.sibling}k.type===_?(te=Ea(k.props.children,L.mode,te,k.key),te.return=L,L=te):(te=Ls(k.type,k.key,k.props,null,L.mode,te),No(te,k),te.return=L,L=te)}return A(L);case b:e:{for(_e=k.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===k.containerInfo&&B.stateNode.implementation===k.implementation){c(L,B.sibling),te=v(B,k.children||[]),te.return=L,L=te;break e}else{c(L,B);break}else s(L,B);B=B.sibling}te=nu(k,L.mode,te),te.return=L,L=te}return A(L);case q:return _e=k._init,k=_e(k._payload),it(L,B,k,te)}if(de(k))return je(L,B,k,te);if(le(k)){if(_e=le(k),typeof _e!="function")throw Error(n(150));return k=_e.call(k),De(L,B,k,te)}if(typeof k.then=="function")return it(L,B,el(k),te);if(k.$$typeof===N)return it(L,B,zs(L,k),te);tl(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,B!==null&&B.tag===6?(c(L,B.sibling),te=v(B,k),te.return=L,L=te):(c(L,B),te=ru(k,L.mode,te),te.return=L,L=te),A(L)):c(L,B)}return function(L,B,k,te){try{Co=0;var _e=it(L,B,k,te);return Ei=null,_e}catch(Ce){if(Ce===xo||Ce===Hs)throw Ce;var ke=Or(29,Ce,null,L.mode);return ke.lanes=te,ke.return=L,ke}finally{}}}var Si=c1(!0),u1=c1(!1),Gr=ie(null),fn=null;function Yn(i){var s=i.alternate;pe(It,It.current&1),pe(Gr,i),fn===null&&(s===null||bi.current!==null||s.memoizedState!==null)&&(fn=i)}function f1(i){if(i.tag===22){if(pe(It,It.current),pe(Gr,i),fn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(fn=i)}}else $n()}function $n(){pe(It,It.current),pe(Gr,Gr.current)}function Dn(i){me(Gr),fn===i&&(fn=null),me(It)}var It=ie(0);function rl(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Cf(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Pu(i,s,c,f){s=i.memoizedState,c=c(f,s),c=c==null?s:m({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Lu={enqueueSetState:function(i,s,c){i=i._reactInternals;var f=jr(),v=Zn(f);v.payload=s,c!=null&&(v.callback=c),s=Xn(i,v,f),s!==null&&(Ir(s,i,f),yo(s,i,f))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var f=jr(),v=Zn(f);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=Xn(i,v,f),s!==null&&(Ir(s,i,f),yo(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=jr(),f=Zn(c);f.tag=2,s!=null&&(f.callback=s),s=Xn(i,f,c),s!==null&&(Ir(s,i,c),yo(s,i,c))}};function d1(i,s,c,f,v,g,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,A):s.prototype&&s.prototype.isPureReactComponent?!lo(c,f)||!lo(v,g):!0}function h1(i,s,c,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==i&&Lu.enqueueReplaceState(s,s.state,null)}function Ia(i,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(i=i.defaultProps){c===s&&(c=m({},c));for(var v in i)c[v]===void 0&&(c[v]=i[v])}return c}var nl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function p1(i){nl(i)}function v1(i){console.error(i)}function m1(i){nl(i)}function al(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function x1(i,s,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ku(i,s,c){return c=Zn(c),c.tag=3,c.payload={element:null},c.callback=function(){al(i,s)},c}function g1(i){return i=Zn(i),i.tag=3,i}function y1(i,s,c,f){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var g=f.value;i.payload=function(){return v(g)},i.callback=function(){x1(s,c,f)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){x1(s,c,f),typeof v!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function Ny(i,s,c,f,v){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&po(s,c,v,!0),c=Gr.current,c!==null){switch(c.tag){case 13:return fn===null?cf():c.alternate===null&&wt===0&&(wt=3),c.flags&=-257,c.flags|=65536,c.lanes=v,f===hu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),ff(i,f,v)),!1;case 22:return c.flags|=65536,f===hu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),ff(i,f,v)),!1}throw Error(n(435,c.tag))}return ff(i,f,v),cf(),!1}if($e)return s=Gr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==ou&&(i=Error(n(422),{cause:f}),ho(Ur(i,c)))):(f!==ou&&(s=Error(n(423),{cause:f}),ho(Ur(s,c))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=Ur(f,c),v=ku(i.stateNode,f,v),mu(i,v),wt!==4&&(wt=2)),!1;var g=Error(n(520),{cause:f});if(g=Ur(g,c),Mo===null?Mo=[g]:Mo.push(g),wt!==4&&(wt=2),s===null)return!0;f=Ur(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=v&-v,c.lanes|=i,i=ku(c.stateNode,f,i),mu(c,i),!1;case 1:if(s=c.type,g=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ta===null||!ta.has(g))))return c.flags|=65536,v&=-v,c.lanes|=v,v=g1(v),y1(v,i,c,f),mu(c,v),!1}c=c.return}while(c!==null);return!1}var b1=Error(n(461)),Vt=!1;function Wt(i,s,c,f){s.child=i===null?u1(s,null,c,f):Si(s,i.child,c,f)}function _1(i,s,c,f,v){c=c.render;var g=s.ref;if("ref"in f){var A={};for(var C in f)C!=="ref"&&(A[C]=f[C])}else A=f;return Da(s),f=_u(i,s,c,A,g,v),C=wu(),i!==null&&!Vt?(Au(i,s,v),Rn(i,s,v)):($e&&C&&au(s),s.flags|=1,Wt(i,s,f,v),s.child)}function w1(i,s,c,f,v){if(i===null){var g=c.type;return typeof g=="function"&&!tu(g)&&g.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=g,A1(i,s,g,f,v)):(i=Ls(c.type,null,f,s,s.mode,v),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Xu(i,v)){var A=g.memoizedProps;if(c=c.compare,c=c!==null?c:lo,c(A,f)&&i.ref===s.ref)return Rn(i,s,v)}return s.flags|=1,i=En(g,f),i.ref=s.ref,i.return=s,s.child=i}function A1(i,s,c,f,v){if(i!==null){var g=i.memoizedProps;if(lo(g,f)&&i.ref===s.ref)if(Vt=!1,s.pendingProps=f=g,Xu(i,v))(i.flags&131072)!==0&&(Vt=!0);else return s.lanes=i.lanes,Rn(i,s,v)}return Fu(i,s,c,f,v)}function E1(i,s,c){var f=s.pendingProps,v=f.children,g=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=g!==null?g.baseLanes|c:c,i!==null){for(v=s.child=i.child,g=0;v!==null;)g=g|v.lanes|v.childLanes,v=v.sibling;s.childLanes=g&~f}else s.childLanes=0,s.child=null;return S1(i,s,f,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vs(s,g!==null?g.cachePool:null),g!==null?Ah(s,g):gu(),f1(s);else return s.lanes=s.childLanes=536870912,S1(i,s,g!==null?g.baseLanes|c:c,c)}else g!==null?(Vs(s,g.cachePool),Ah(s,g),$n(),s.memoizedState=null):(i!==null&&Vs(s,null),gu(),$n());return Wt(i,s,v,c),s.child}function S1(i,s,c,f){var v=du();return v=v===null?null:{parent:jt._currentValue,pool:v},s.memoizedState={baseLanes:c,cachePool:v},i!==null&&Vs(s,null),gu(),f1(s),i!==null&&po(i,s,f,!0),null}function il(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function Fu(i,s,c,f,v){return Da(s),c=_u(i,s,c,f,void 0,v),f=wu(),i!==null&&!Vt?(Au(i,s,v),Rn(i,s,v)):($e&&f&&au(s),s.flags|=1,Wt(i,s,c,v),s.child)}function C1(i,s,c,f,v,g){return Da(s),s.updateQueue=null,c=Sh(s,f,c,v),Eh(i),f=wu(),i!==null&&!Vt?(Au(i,s,g),Rn(i,s,g)):($e&&f&&au(s),s.flags|=1,Wt(i,s,c,g),s.child)}function N1(i,s,c,f,v){if(Da(s),s.stateNode===null){var g=vi,A=c.contextType;typeof A=="object"&&A!==null&&(g=ar(A)),g=new c(f,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Lu,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=f,g.state=s.memoizedState,g.refs={},pu(s),A=c.contextType,g.context=typeof A=="object"&&A!==null?ar(A):vi,g.state=s.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Pu(s,c,A,f),g.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&Lu.enqueueReplaceState(g,g.state,null),_o(s,f,g,v),bo(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){g=s.stateNode;var C=s.memoizedProps,R=Ia(c,C);g.props=R;var z=g.context,Q=c.contextType;A=vi,typeof Q=="object"&&Q!==null&&(A=ar(Q));var ne=c.getDerivedStateFromProps;Q=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,Q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||z!==A)&&h1(s,g,f,A),Gn=!1;var Z=s.memoizedState;g.state=Z,_o(s,f,g,v),bo(),z=s.memoizedState,C||Z!==z||Gn?(typeof ne=="function"&&(Pu(s,c,ne,f),z=s.memoizedState),(R=Gn||d1(s,c,R,f,Z,z,A))?(Q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=z),g.props=f,g.state=z,g.context=A,f=R):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{g=s.stateNode,vu(i,s),A=s.memoizedProps,Q=Ia(c,A),g.props=Q,ne=s.pendingProps,Z=g.context,z=c.contextType,R=vi,typeof z=="object"&&z!==null&&(R=ar(z)),C=c.getDerivedStateFromProps,(z=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==ne||Z!==R)&&h1(s,g,f,R),Gn=!1,Z=s.memoizedState,g.state=Z,_o(s,f,g,v),bo();var X=s.memoizedState;A!==ne||Z!==X||Gn||i!==null&&i.dependencies!==null&&Us(i.dependencies)?(typeof C=="function"&&(Pu(s,c,C,f),X=s.memoizedState),(Q=Gn||d1(s,c,Q,f,Z,X,R)||i!==null&&i.dependencies!==null&&Us(i.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,X,R),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,X,R)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=X),g.props=f,g.state=X,g.context=R,f=Q):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),f=!1)}return g=f,il(i,s),f=(s.flags&128)!==0,g||f?(g=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&f?(s.child=Si(s,i.child,null,v),s.child=Si(s,null,c,v)):Wt(i,s,c,v),s.memoizedState=g.state,i=s.child):i=Rn(i,s,v),i}function O1(i,s,c,f){return fo(),s.flags|=256,Wt(i,s,c,f),s.child}var Uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zu(i){return{baseLanes:i,cachePool:vh()}}function Vu(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=Zr),i}function T1(i,s,c){var f=s.pendingProps,v=!1,g=(s.flags&128)!==0,A;if((A=g)||(A=i!==null&&i.memoizedState===null?!1:(It.current&2)!==0),A&&(v=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if($e){if(v?Yn(s):$n(),$e){var C=_t,R;if(R=C){e:{for(R=C,C=un;R.nodeType!==8;){if(!C){C=null;break e}if(R=Qr(R.nextSibling),R===null){C=null;break e}}C=R}C!==null?(s.memoizedState={dehydrated:C,treeContext:Sa!==null?{id:Sn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},R=Or(18,null,null,0),R.stateNode=C,R.return=s,s.child=R,cr=s,_t=null,R=!0):R=!1}R||Oa(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Cf(C)?s.lanes=32:s.lanes=536870912,null;Dn(s)}return C=f.children,f=f.fallback,v?($n(),v=s.mode,C=ol({mode:"hidden",children:C},v),f=Ea(f,v,c,null),C.return=s,f.return=s,C.sibling=f,s.child=C,v=s.child,v.memoizedState=zu(c),v.childLanes=Vu(i,A,c),s.memoizedState=Uu,f):(Yn(s),Hu(s,C))}if(R=i.memoizedState,R!==null&&(C=R.dehydrated,C!==null)){if(g)s.flags&256?(Yn(s),s.flags&=-257,s=Gu(i,s,c)):s.memoizedState!==null?($n(),s.child=i.child,s.flags|=128,s=null):($n(),v=f.fallback,C=s.mode,f=ol({mode:"visible",children:f.children},C),v=Ea(v,C,c,null),v.flags|=2,f.return=s,v.return=s,f.sibling=v,s.child=f,Si(s,i.child,null,c),f=s.child,f.memoizedState=zu(c),f.childLanes=Vu(i,A,c),s.memoizedState=Uu,s=v);else if(Yn(s),Cf(C)){if(A=C.nextSibling&&C.nextSibling.dataset,A)var z=A.dgst;A=z,f=Error(n(419)),f.stack="",f.digest=A,ho({value:f,source:null,stack:null}),s=Gu(i,s,c)}else if(Vt||po(i,s,c,!1),A=(c&i.childLanes)!==0,Vt||A){if(A=ut,A!==null&&(f=c&-c,f=(f&42)!==0?1:Cc(f),f=(f&(A.suspendedLanes|c))!==0?0:f,f!==0&&f!==R.retryLane))throw R.retryLane=f,pi(i,f),Ir(A,i,f),b1;C.data==="$?"||cf(),s=Gu(i,s,c)}else C.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=R.treeContext,_t=Qr(C.nextSibling),cr=s,$e=!0,Na=null,un=!1,i!==null&&(Vr[Hr++]=Sn,Vr[Hr++]=Cn,Vr[Hr++]=Sa,Sn=i.id,Cn=i.overflow,Sa=s),s=Hu(s,f.children),s.flags|=4096);return s}return v?($n(),v=f.fallback,C=s.mode,R=i.child,z=R.sibling,f=En(R,{mode:"hidden",children:f.children}),f.subtreeFlags=R.subtreeFlags&65011712,z!==null?v=En(z,v):(v=Ea(v,C,c,null),v.flags|=2),v.return=s,f.return=s,f.sibling=v,s.child=f,f=v,v=s.child,C=i.child.memoizedState,C===null?C=zu(c):(R=C.cachePool,R!==null?(z=jt._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=vh(),C={baseLanes:C.baseLanes|c,cachePool:R}),v.memoizedState=C,v.childLanes=Vu(i,A,c),s.memoizedState=Uu,f):(Yn(s),c=i.child,i=c.sibling,c=En(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=c,s.memoizedState=null,c)}function Hu(i,s){return s=ol({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ol(i,s){return i=Or(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gu(i,s,c){return Si(s,i.child,null,c),i=Hu(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function D1(i,s,c){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),lu(i.return,s,c)}function Zu(i,s,c,f,v){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:v}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=f,g.tail=c,g.tailMode=v)}function R1(i,s,c){var f=s.pendingProps,v=f.revealOrder,g=f.tail;if(Wt(i,s,f.children,c),f=It.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&D1(i,c,s);else if(i.tag===19)D1(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(pe(It,f),v){case"forwards":for(c=s.child,v=null;c!==null;)i=c.alternate,i!==null&&rl(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),Zu(s,!1,v,c,g);break;case"backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(i=v.alternate,i!==null&&rl(i)===null){s.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}Zu(s,!0,c,null,g);break;case"together":Zu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Rn(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),ea|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(po(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,c=En(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=En(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function Xu(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Us(i)))}function Oy(i,s,c){switch(s.tag){case 3:Ye(s,s.stateNode.containerInfo),Hn(s,jt,i.memoizedState.cache),fo();break;case 27:case 5:xa(s);break;case 4:Ye(s,s.stateNode.containerInfo);break;case 10:Hn(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Yn(s),s.flags|=128,null):(c&s.child.childLanes)!==0?T1(i,s,c):(Yn(s),i=Rn(i,s,c),i!==null?i.sibling:null);Yn(s);break;case 19:var v=(i.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(po(i,s,c,!1),f=(c&s.childLanes)!==0),v){if(f)return R1(i,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(It,It.current),f)break;return null;case 22:case 23:return s.lanes=0,E1(i,s,c);case 24:Hn(s,jt,i.memoizedState.cache)}return Rn(i,s,c)}function j1(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Vt=!0;else{if(!Xu(i,c)&&(s.flags&128)===0)return Vt=!1,Oy(i,s,c);Vt=(i.flags&131072)!==0}else Vt=!1,$e&&(s.flags&1048576)!==0&&lh(s,Fs,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,v=f._init;if(f=v(f._payload),s.type=f,typeof f=="function")tu(f)?(i=Ia(f,i),s.tag=1,s=N1(null,s,f,i,c)):(s.tag=0,s=Fu(null,s,f,i,c));else{if(f!=null){if(v=f.$$typeof,v===D){s.tag=11,s=_1(null,s,f,i,c);break e}else if(v===Y){s.tag=14,s=w1(null,s,f,i,c);break e}}throw s=ue(f)||f,Error(n(306,s,""))}}return s;case 0:return Fu(i,s,s.type,s.pendingProps,c);case 1:return f=s.type,v=Ia(f,s.pendingProps),N1(i,s,f,v,c);case 3:e:{if(Ye(s,s.stateNode.containerInfo),i===null)throw Error(n(387));f=s.pendingProps;var g=s.memoizedState;v=g.element,vu(i,s),_o(s,f,null,c);var A=s.memoizedState;if(f=A.cache,Hn(s,jt,f),f!==g.cache&&cu(s,[jt],c,!0),bo(),f=A.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=O1(i,s,f,c);break e}else if(f!==v){v=Ur(Error(n(424)),s),ho(v),s=O1(i,s,f,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_t=Qr(i.firstChild),cr=s,$e=!0,Na=null,un=!0,c=u1(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(fo(),f===v){s=Rn(i,s,c);break e}Wt(i,s,f,c)}s=s.child}return s;case 26:return il(i,s),i===null?(c=Pp(s.type,null,s.pendingProps,null))?s.memoizedState=c:$e||(c=s.type,i=s.pendingProps,f=bl(be.current).createElement(c),f[nr]=s,f[vr]=i,Jt(f,c,i),zt(f),s.stateNode=f):s.memoizedState=Pp(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return xa(s),i===null&&$e&&(f=s.stateNode=Ip(s.type,s.pendingProps,be.current),cr=s,un=!0,v=_t,aa(s.type)?(Nf=v,_t=Qr(f.firstChild)):_t=v),Wt(i,s,s.pendingProps.children,c),il(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&$e&&((v=f=_t)&&(f=r2(f,s.type,s.pendingProps,un),f!==null?(s.stateNode=f,cr=s,_t=Qr(f.firstChild),un=!1,v=!0):v=!1),v||Oa(s)),xa(s),v=s.type,g=s.pendingProps,A=i!==null?i.memoizedProps:null,f=g.children,Af(v,g)?f=null:A!==null&&Af(v,A)&&(s.flags|=32),s.memoizedState!==null&&(v=_u(i,s,by,null,null,c),Ho._currentValue=v),il(i,s),Wt(i,s,f,c),s.child;case 6:return i===null&&$e&&((i=c=_t)&&(c=n2(c,s.pendingProps,un),c!==null?(s.stateNode=c,cr=s,_t=null,i=!0):i=!1),i||Oa(s)),null;case 13:return T1(i,s,c);case 4:return Ye(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Si(s,null,f,c):Wt(i,s,f,c),s.child;case 11:return _1(i,s,s.type,s.pendingProps,c);case 7:return Wt(i,s,s.pendingProps,c),s.child;case 8:return Wt(i,s,s.pendingProps.children,c),s.child;case 12:return Wt(i,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,Hn(s,s.type,f.value),Wt(i,s,f.children,c),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Da(s),v=ar(v),f=f(v),s.flags|=1,Wt(i,s,f,c),s.child;case 14:return w1(i,s,s.type,s.pendingProps,c);case 15:return A1(i,s,s.type,s.pendingProps,c);case 19:return R1(i,s,c);case 31:return f=s.pendingProps,c=s.mode,f={mode:f.mode,children:f.children},i===null?(c=ol(f,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=En(i.child,f),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return E1(i,s,c);case 24:return Da(s),f=ar(jt),i===null?(v=du(),v===null&&(v=ut,g=uu(),v.pooledCache=g,g.refCount++,g!==null&&(v.pooledCacheLanes|=c),v=g),s.memoizedState={parent:f,cache:v},pu(s),Hn(s,jt,v)):((i.lanes&c)!==0&&(vu(i,s),_o(s,null,null,c),bo()),v=i.memoizedState,g=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Hn(s,jt,f)):(f=g.cache,Hn(s,jt,f),f!==v.cache&&cu(s,[jt],c,!0))),Wt(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function jn(i){i.flags|=4}function I1(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!zp(s)){if(s=Gr.current,s!==null&&((He&4194048)===He?fn!==null:(He&62914560)!==He&&(He&536870912)===0||s!==fn))throw go=hu,mh;i.flags|=8192}}function sl(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?f0():536870912,i.lanes|=s,Ti|=s)}function Oo(i,s){if(!$e)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(s)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=c,s}function Ty(i,s,c){var f=s.pendingProps;switch(iu(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return c=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),On(jt),Pr(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(uo(s)?jn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fh())),gt(s),null;case 26:return c=s.memoizedState,i===null?(jn(s),c!==null?(gt(s),I1(s,c)):(gt(s),s.flags&=-16777217)):c?c!==i.memoizedState?(jn(s),gt(s),I1(s,c)):(gt(s),s.flags&=-16777217):(i.memoizedProps!==f&&jn(s),gt(s),s.flags&=-16777217),null;case 27:Ka(s),c=be.current;var v=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&jn(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return gt(s),null}i=H.current,uo(s)?ch(s):(i=Ip(v,f,c),s.stateNode=i,jn(s))}return gt(s),null;case 5:if(Ka(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&jn(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return gt(s),null}if(i=H.current,uo(s))ch(s);else{switch(v=bl(be.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?v.createElement(c,{is:f.is}):v.createElement(c)}}i[nr]=s,i[vr]=f;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=i;e:switch(Jt(i,c,f),c){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&jn(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&jn(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(i=be.current,uo(s)){if(i=s.stateNode,c=s.memoizedProps,f=null,v=cr,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[nr]=s,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||Cp(i.nodeValue,c)),i||Oa(s)}else i=bl(i).createTextNode(f),i[nr]=s,s.stateNode=i}return gt(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=uo(s),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[nr]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),v=!1}else v=fh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Dn(s),s):(Dn(s),null)}if(Dn(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=f!==null,i=i!==null&&i.memoizedState!==null,c){f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var g=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==v&&(f.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),sl(s,s.updateQueue),gt(s),null;case 4:return Pr(),i===null&&gf(s.stateNode.containerInfo),gt(s),null;case 10:return On(s.type),gt(s),null;case 19:if(me(It),v=s.memoizedState,v===null)return gt(s),null;if(f=(s.flags&128)!==0,g=v.rendering,g===null)if(f)Oo(v,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=rl(i),g!==null){for(s.flags|=128,Oo(v,!1),i=g.updateQueue,s.updateQueue=i,sl(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)sh(c,i),c=c.sibling;return pe(It,It.current&1|2),s.child}i=i.sibling}v.tail!==null&&Lr()>ul&&(s.flags|=128,f=!0,Oo(v,!1),s.lanes=4194304)}else{if(!f)if(i=rl(g),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,sl(s,i),Oo(v,!0),v.tail===null&&v.tailMode==="hidden"&&!g.alternate&&!$e)return gt(s),null}else 2*Lr()-v.renderingStartTime>ul&&c!==536870912&&(s.flags|=128,f=!0,Oo(v,!1),s.lanes=4194304);v.isBackwards?(g.sibling=s.child,s.child=g):(i=v.last,i!==null?i.sibling=g:s.child=g,v.last=g)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Lr(),s.sibling=null,i=It.current,pe(It,f?i&1|2:i&1),s):(gt(s),null);case 22:case 23:return Dn(s),yu(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),c=s.updateQueue,c!==null&&sl(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),i!==null&&me(Ra),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),On(jt),gt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function Dy(i,s){switch(iu(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return On(jt),Pr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ka(s),null;case 13:if(Dn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));fo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return me(It),null;case 4:return Pr(),null;case 10:return On(s.type),null;case 22:case 23:return Dn(s),yu(),i!==null&&me(Ra),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return On(jt),null;case 25:return null;default:return null}}function M1(i,s){switch(iu(s),s.tag){case 3:On(jt),Pr();break;case 26:case 27:case 5:Ka(s);break;case 4:Pr();break;case 13:Dn(s);break;case 19:me(It);break;case 10:On(s.type);break;case 22:case 23:Dn(s),yu(),i!==null&&me(Ra);break;case 24:On(jt)}}function To(i,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var v=f.next;c=v;do{if((c.tag&i)===i){f=void 0;var g=c.create,A=c.inst;f=g(),A.destroy=f}c=c.next}while(c!==v)}}catch(C){st(s,s.return,C)}}function Kn(i,s,c){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var g=v.next;f=g;do{if((f.tag&i)===i){var A=f.inst,C=A.destroy;if(C!==void 0){A.destroy=void 0,v=s;var R=c,z=C;try{z()}catch(Q){st(v,R,Q)}}}f=f.next}while(f!==g)}}catch(Q){st(s,s.return,Q)}}function B1(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{wh(s,c)}catch(f){st(i,i.return,f)}}}function P1(i,s,c){c.props=Ia(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){st(i,s,f)}}function Do(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(v){st(i,s,v)}}function dn(i,s){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(v){st(i,s,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){st(i,s,v)}else c.current=null}function L1(i){var s=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(v){st(i,i.return,v)}}function qu(i,s,c){try{var f=i.stateNode;Wy(f,i.type,c,s),f[vr]=s}catch(v){st(i,i.return,v)}}function k1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&aa(i.type)||i.tag===4}function Yu(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||k1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&aa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $u(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=yl));else if(f!==4&&(f===27&&aa(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for($u(i,s,c),i=i.sibling;i!==null;)$u(i,s,c),i=i.sibling}function ll(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(f!==4&&(f===27&&aa(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(ll(i,s,c),i=i.sibling;i!==null;)ll(i,s,c),i=i.sibling}function F1(i){var s=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Jt(s,f,c),s[nr]=i,s[vr]=c}catch(g){st(i,i.return,g)}}var In=!1,Et=!1,Ku=!1,U1=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Ry(i,s){if(i=i.containerInfo,_f=Cl,i=W0(i),Yc(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var v=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{c.nodeType,g.nodeType}catch{c=null;break e}var A=0,C=-1,R=-1,z=0,Q=0,ne=i,Z=null;t:for(;;){for(var X;ne!==c||v!==0&&ne.nodeType!==3||(C=A+v),ne!==g||f!==0&&ne.nodeType!==3||(R=A+f),ne.nodeType===3&&(A+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Z=ne,ne=X;for(;;){if(ne===i)break t;if(Z===c&&++z===v&&(C=A),Z===g&&++Q===f&&(R=A),(X=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=X}c=C===-1||R===-1?null:{start:C,end:R}}else c=null}c=c||{start:0,end:0}}else c=null;for(wf={focusedElem:i,selectionRange:c},Cl=!1,Ht=s;Ht!==null;)if(s=Ht,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Ht=i;else for(;Ht!==null;){switch(s=Ht,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,c=s,v=g.memoizedProps,g=g.memoizedState,f=c.stateNode;try{var je=Ia(c.type,v,c.elementType===c.type);i=f.getSnapshotBeforeUpdate(je,g),f.__reactInternalSnapshotBeforeUpdate=i}catch(De){st(c,c.return,De)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)Sf(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Ht=i;break}Ht=s.return}}function z1(i,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Wn(i,c),f&4&&To(5,c);break;case 1:if(Wn(i,c),f&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(A){st(c,c.return,A)}else{var v=Ia(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(v,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){st(c,c.return,A)}}f&64&&B1(c),f&512&&Do(c,c.return);break;case 3:if(Wn(i,c),f&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{wh(i,s)}catch(A){st(c,c.return,A)}}break;case 27:s===null&&f&4&&F1(c);case 26:case 5:Wn(i,c),s===null&&f&4&&L1(c),f&512&&Do(c,c.return);break;case 12:Wn(i,c);break;case 13:Wn(i,c),f&4&&G1(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=Uy.bind(null,c),a2(i,c))));break;case 22:if(f=c.memoizedState!==null||In,!f){s=s!==null&&s.memoizedState!==null||Et,v=In;var g=Et;In=f,(Et=s)&&!g?Qn(i,c,(c.subtreeFlags&8772)!==0):Wn(i,c),In=v,Et=g}break;case 30:break;default:Wn(i,c)}}function V1(i){var s=i.alternate;s!==null&&(i.alternate=null,V1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Tc(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var vt=null,gr=!1;function Mn(i,s,c){for(c=c.child;c!==null;)H1(i,s,c),c=c.sibling}function H1(i,s,c){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Ee,c)}catch{}switch(c.tag){case 26:Et||dn(c,s),Mn(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Et||dn(c,s);var f=vt,v=gr;aa(c.type)&&(vt=c.stateNode,gr=!1),Mn(i,s,c),Fo(c.stateNode),vt=f,gr=v;break;case 5:Et||dn(c,s);case 6:if(f=vt,v=gr,vt=null,Mn(i,s,c),vt=f,gr=v,vt!==null)if(gr)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(c.stateNode)}catch(g){st(c,s,g)}else try{vt.removeChild(c.stateNode)}catch(g){st(c,s,g)}break;case 18:vt!==null&&(gr?(i=vt,Rp(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),qo(i)):Rp(vt,c.stateNode));break;case 4:f=vt,v=gr,vt=c.stateNode.containerInfo,gr=!0,Mn(i,s,c),vt=f,gr=v;break;case 0:case 11:case 14:case 15:Et||Kn(2,c,s),Et||Kn(4,c,s),Mn(i,s,c);break;case 1:Et||(dn(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&P1(c,s,f)),Mn(i,s,c);break;case 21:Mn(i,s,c);break;case 22:Et=(f=Et)||c.memoizedState!==null,Mn(i,s,c),Et=f;break;default:Mn(i,s,c)}}function G1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qo(i)}catch(c){st(s,s.return,c)}}function jy(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new U1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new U1),s;default:throw Error(n(435,i.tag))}}function Wu(i,s){var c=jy(i);s.forEach(function(f){var v=zy.bind(null,i,f);c.has(f)||(c.add(f),f.then(v,v))})}function Tr(i,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var v=c[f],g=i,A=s,C=A;e:for(;C!==null;){switch(C.tag){case 27:if(aa(C.type)){vt=C.stateNode,gr=!1;break e}break;case 5:vt=C.stateNode,gr=!1;break e;case 3:case 4:vt=C.stateNode.containerInfo,gr=!0;break e}C=C.return}if(vt===null)throw Error(n(160));H1(g,A,v),vt=null,gr=!1,g=v.alternate,g!==null&&(g.return=null),v.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Z1(s,i),s=s.sibling}var Wr=null;function Z1(i,s){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tr(s,i),Dr(i),f&4&&(Kn(3,i,i.return),To(3,i),Kn(5,i,i.return));break;case 1:Tr(s,i),Dr(i),f&512&&(Et||c===null||dn(c,c.return)),f&64&&In&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var v=Wr;if(Tr(s,i),Dr(i),f&512&&(Et||c===null||dn(c,c.return)),f&4){var g=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":g=v.getElementsByTagName("title")[0],(!g||g[Ji]||g[nr]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=v.createElement(f),v.head.insertBefore(g,v.querySelector("head > title"))),Jt(g,f,c),g[nr]=i,zt(g),f=g;break e;case"link":var A=Fp("link","href",v).get(f+(c.href||""));if(A){for(var C=0;C<A.length;C++)if(g=A[C],g.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&g.getAttribute("rel")===(c.rel==null?null:c.rel)&&g.getAttribute("title")===(c.title==null?null:c.title)&&g.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(C,1);break t}}g=v.createElement(f),Jt(g,f,c),v.head.appendChild(g);break;case"meta":if(A=Fp("meta","content",v).get(f+(c.content||""))){for(C=0;C<A.length;C++)if(g=A[C],g.getAttribute("content")===(c.content==null?null:""+c.content)&&g.getAttribute("name")===(c.name==null?null:c.name)&&g.getAttribute("property")===(c.property==null?null:c.property)&&g.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&g.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(C,1);break t}}g=v.createElement(f),Jt(g,f,c),v.head.appendChild(g);break;default:throw Error(n(468,f))}g[nr]=i,zt(g),f=g}i.stateNode=f}else Up(v,i.type,i.stateNode);else i.stateNode=kp(v,f,i.memoizedProps);else g!==f?(g===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):g.count--,f===null?Up(v,i.type,i.stateNode):kp(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&qu(i,i.memoizedProps,c.memoizedProps)}break;case 27:Tr(s,i),Dr(i),f&512&&(Et||c===null||dn(c,c.return)),c!==null&&f&4&&qu(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Tr(s,i),Dr(i),f&512&&(Et||c===null||dn(c,c.return)),i.flags&32){v=i.stateNode;try{si(v,"")}catch(X){st(i,i.return,X)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,qu(i,v,c!==null?c.memoizedProps:v)),f&1024&&(Ku=!0);break;case 6:if(Tr(s,i),Dr(i),f&4){if(i.stateNode===null)throw Error(n(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(X){st(i,i.return,X)}}break;case 3:if(Al=null,v=Wr,Wr=_l(s.containerInfo),Tr(s,i),Wr=v,Dr(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{qo(s.containerInfo)}catch(X){st(i,i.return,X)}Ku&&(Ku=!1,X1(i));break;case 4:f=Wr,Wr=_l(i.stateNode.containerInfo),Tr(s,i),Dr(i),Wr=f;break;case 12:Tr(s,i),Dr(i);break;case 13:Tr(s,i),Dr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(nf=Lr()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Wu(i,f)));break;case 22:v=i.memoizedState!==null;var R=c!==null&&c.memoizedState!==null,z=In,Q=Et;if(In=z||v,Et=Q||R,Tr(s,i),Et=Q,In=z,Dr(i),f&8192)e:for(s=i.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||R||In||Et||Ma(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){R=c=s;try{if(g=R.stateNode,v)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{C=R.stateNode;var ne=R.memoizedProps.style,Z=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(X){st(R,R.return,X)}}}else if(s.tag===6){if(c===null){R=s;try{R.stateNode.nodeValue=v?"":R.memoizedProps}catch(X){st(R,R.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Wu(i,c))));break;case 19:Tr(s,i),Dr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Wu(i,f)));break;case 30:break;case 21:break;default:Tr(s,i),Dr(i)}}function Dr(i){var s=i.flags;if(s&2){try{for(var c,f=i.return;f!==null;){if(k1(f)){c=f;break}f=f.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var v=c.stateNode,g=Yu(i);ll(i,g,v);break;case 5:var A=c.stateNode;c.flags&32&&(si(A,""),c.flags&=-33);var C=Yu(i);ll(i,C,A);break;case 3:case 4:var R=c.stateNode.containerInfo,z=Yu(i);$u(i,z,R);break;default:throw Error(n(161))}}catch(Q){st(i,i.return,Q)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function X1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;X1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Wn(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)z1(i,s.alternate,s),s=s.sibling}function Ma(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Kn(4,s,s.return),Ma(s);break;case 1:dn(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&P1(s,s.return,c),Ma(s);break;case 27:Fo(s.stateNode);case 26:case 5:dn(s,s.return),Ma(s);break;case 22:s.memoizedState===null&&Ma(s);break;case 30:Ma(s);break;default:Ma(s)}i=i.sibling}}function Qn(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=i,g=s,A=g.flags;switch(g.tag){case 0:case 11:case 15:Qn(v,g,c),To(4,g);break;case 1:if(Qn(v,g,c),f=g,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(z){st(f,f.return,z)}if(f=g,v=f.updateQueue,v!==null){var C=f.stateNode;try{var R=v.shared.hiddenCallbacks;if(R!==null)for(v.shared.hiddenCallbacks=null,v=0;v<R.length;v++)_h(R[v],C)}catch(z){st(f,f.return,z)}}c&&A&64&&B1(g),Do(g,g.return);break;case 27:F1(g);case 26:case 5:Qn(v,g,c),c&&f===null&&A&4&&L1(g),Do(g,g.return);break;case 12:Qn(v,g,c);break;case 13:Qn(v,g,c),c&&A&4&&G1(v,g);break;case 22:g.memoizedState===null&&Qn(v,g,c),Do(g,g.return);break;case 30:break;default:Qn(v,g,c)}s=s.sibling}}function Qu(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&vo(c))}function Ju(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vo(i))}function hn(i,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q1(i,s,c,f),s=s.sibling}function q1(i,s,c,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:hn(i,s,c,f),v&2048&&To(9,s);break;case 1:hn(i,s,c,f);break;case 3:hn(i,s,c,f),v&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vo(i)));break;case 12:if(v&2048){hn(i,s,c,f),i=s.stateNode;try{var g=s.memoizedProps,A=g.id,C=g.onPostCommit;typeof C=="function"&&C(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(R){st(s,s.return,R)}}else hn(i,s,c,f);break;case 13:hn(i,s,c,f);break;case 23:break;case 22:g=s.stateNode,A=s.alternate,s.memoizedState!==null?g._visibility&2?hn(i,s,c,f):Ro(i,s):g._visibility&2?hn(i,s,c,f):(g._visibility|=2,Ci(i,s,c,f,(s.subtreeFlags&10256)!==0)),v&2048&&Qu(A,s);break;case 24:hn(i,s,c,f),v&2048&&Ju(s.alternate,s);break;default:hn(i,s,c,f)}}function Ci(i,s,c,f,v){for(v=v&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,A=s,C=c,R=f,z=A.flags;switch(A.tag){case 0:case 11:case 15:Ci(g,A,C,R,v),To(8,A);break;case 23:break;case 22:var Q=A.stateNode;A.memoizedState!==null?Q._visibility&2?Ci(g,A,C,R,v):Ro(g,A):(Q._visibility|=2,Ci(g,A,C,R,v)),v&&z&2048&&Qu(A.alternate,A);break;case 24:Ci(g,A,C,R,v),v&&z&2048&&Ju(A.alternate,A);break;default:Ci(g,A,C,R,v)}s=s.sibling}}function Ro(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,f=s,v=f.flags;switch(f.tag){case 22:Ro(c,f),v&2048&&Qu(f.alternate,f);break;case 24:Ro(c,f),v&2048&&Ju(f.alternate,f);break;default:Ro(c,f)}s=s.sibling}}var jo=8192;function Ni(i){if(i.subtreeFlags&jo)for(i=i.child;i!==null;)Y1(i),i=i.sibling}function Y1(i){switch(i.tag){case 26:Ni(i),i.flags&jo&&i.memoizedState!==null&&x2(Wr,i.memoizedState,i.memoizedProps);break;case 5:Ni(i);break;case 3:case 4:var s=Wr;Wr=_l(i.stateNode.containerInfo),Ni(i),Wr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=jo,jo=16777216,Ni(i),jo=s):Ni(i));break;default:Ni(i)}}function $1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Io(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Ht=f,W1(f,i)}$1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)K1(i),i=i.sibling}function K1(i){switch(i.tag){case 0:case 11:case 15:Io(i),i.flags&2048&&Kn(9,i,i.return);break;case 3:Io(i);break;case 12:Io(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,cl(i)):Io(i);break;default:Io(i)}}function cl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Ht=f,W1(f,i)}$1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Kn(8,s,s.return),cl(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,cl(s));break;default:cl(s)}i=i.sibling}}function W1(i,s){for(;Ht!==null;){var c=Ht;switch(c.tag){case 0:case 11:case 15:Kn(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:vo(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Ht=f;else e:for(c=i;Ht!==null;){f=Ht;var v=f.sibling,g=f.return;if(V1(f),f===c){Ht=null;break e}if(v!==null){v.return=g,Ht=v;break e}Ht=g}}}var Iy={getCacheForType:function(i){var s=ar(jt),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},My=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,Ue=null,He=0,et=0,Rr=null,Jn=!1,Oi=!1,ef=!1,Bn=0,wt=0,ea=0,Ba=0,tf=0,Zr=0,Ti=0,Mo=null,yr=null,rf=!1,nf=0,ul=1/0,fl=null,ta=null,Qt=0,ra=null,Di=null,Ri=0,af=0,of=null,Q1=null,Bo=0,sf=null;function jr(){if((Je&2)!==0&&He!==0)return He&-He;if(P.T!==null){var i=gi;return i!==0?i:pf()}return p0()}function J1(){Zr===0&&(Zr=(He&536870912)===0||$e?u0():536870912);var i=Gr.current;return i!==null&&(i.flags|=32),Zr}function Ir(i,s,c){(i===ut&&(et===2||et===9)||i.cancelPendingCommit!==null)&&(ji(i,0),na(i,He,Zr,!1)),Qi(i,c),((Je&2)===0||i!==ut)&&(i===ut&&((Je&2)===0&&(Ba|=c),wt===4&&na(i,He,Zr,!1)),pn(i))}function ep(i,s,c){if((Je&6)!==0)throw Error(n(327));var f=!c&&(s&124)===0&&(s&i.expiredLanes)===0||ya(i,s),v=f?Ly(i,s):uf(i,s,!0),g=f;do{if(v===0){Oi&&!f&&na(i,s,0,!1);break}else{if(c=i.current.alternate,g&&!By(c)){v=uf(i,s,!1),g=!1;continue}if(v===2){if(g=s,i.errorRecoveryDisabledLanes&g)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var C=i;v=Mo;var R=C.current.memoizedState.isDehydrated;if(R&&(ji(C,A).flags|=256),A=uf(C,A,!1),A!==2){if(ef&&!R){C.errorRecoveryDisabledLanes|=g,Ba|=g,v=4;break e}g=yr,yr=v,g!==null&&(yr===null?yr=g:yr.push.apply(yr,g))}v=A}if(g=!1,v!==2)continue}}if(v===1){ji(i,0),na(i,s,0,!0);break}e:{switch(f=i,g=v,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:na(f,s,Zr,!Jn);break e;case 2:yr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(v=nf+300-Lr(),10<v)){if(na(f,s,Zr,!Jn),ga(f,0,!0)!==0)break e;f.timeoutHandle=Tp(tp.bind(null,f,c,yr,fl,rf,s,Zr,Ba,Ti,Jn,g,2,-0,0),v);break e}tp(f,c,yr,fl,rf,s,Zr,Ba,Ti,Jn,g,0,-0,0)}}break}while(!0);pn(i)}function tp(i,s,c,f,v,g,A,C,R,z,Q,ne,Z,X){if(i.timeoutHandle=-1,ne=s.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Vo={stylesheets:null,count:0,unsuspend:m2},Y1(s),ne=g2(),ne!==null)){i.cancelPendingCommit=ne(lp.bind(null,i,s,g,c,f,v,A,C,R,Q,1,Z,X)),na(i,g,A,!z);return}lp(i,s,g,c,f,v,A,C,R)}function By(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var v=c[f],g=v.getSnapshot;v=v.value;try{if(!Nr(g(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function na(i,s,c,f){s&=~tf,s&=~Ba,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var v=s;0<v;){var g=31-ct(v),A=1<<g;f[g]=-1,v&=~A}c!==0&&d0(i,c,s)}function dl(){return(Je&6)===0?(Po(0),!1):!0}function lf(){if(Ue!==null){if(et===0)var i=Ue.return;else i=Ue,Nn=Ta=null,Eu(i),Ei=null,Co=0,i=Ue;for(;i!==null;)M1(i.alternate,i),i=i.return;Ue=null}}function ji(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,Jy(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),lf(),ut=i,Ue=c=En(i.current,null),He=s,et=0,Rr=null,Jn=!1,Oi=ya(i,s),ef=!1,Ti=Zr=tf=Ba=ea=wt=0,yr=Mo=null,rf=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var v=31-ct(f),g=1<<v;s|=i[v],f&=~g}return Bn=s,Ms(),c}function rp(i,s){Pe=null,P.H=Js,s===xo||s===Hs?(s=yh(),et=3):s===mh?(s=yh(),et=4):et=s===b1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rr=s,Ue===null&&(wt=1,al(i,Ur(s,i.current)))}function np(){var i=P.H;return P.H=Js,i===null?Js:i}function ap(){var i=P.A;return P.A=Iy,i}function cf(){wt=4,Jn||(He&4194048)!==He&&Gr.current!==null||(Oi=!0),(ea&134217727)===0&&(Ba&134217727)===0||ut===null||na(ut,He,Zr,!1)}function uf(i,s,c){var f=Je;Je|=2;var v=np(),g=ap();(ut!==i||He!==s)&&(fl=null,ji(i,s)),s=!1;var A=wt;e:do try{if(et!==0&&Ue!==null){var C=Ue,R=Rr;switch(et){case 8:lf(),A=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(s=!0);var z=et;if(et=0,Rr=null,Ii(i,C,R,z),c&&Oi){A=0;break e}break;default:z=et,et=0,Rr=null,Ii(i,C,R,z)}}Py(),A=wt;break}catch(Q){rp(i,Q)}while(!0);return s&&i.shellSuspendCounter++,Nn=Ta=null,Je=f,P.H=v,P.A=g,Ue===null&&(ut=null,He=0,Ms()),A}function Py(){for(;Ue!==null;)ip(Ue)}function Ly(i,s){var c=Je;Je|=2;var f=np(),v=ap();ut!==i||He!==s?(fl=null,ul=Lr()+500,ji(i,s)):Oi=ya(i,s);e:do try{if(et!==0&&Ue!==null){s=Ue;var g=Rr;t:switch(et){case 1:et=0,Rr=null,Ii(i,s,g,1);break;case 2:case 9:if(xh(g)){et=0,Rr=null,op(s);break}s=function(){et!==2&&et!==9||ut!==i||(et=7),pn(i)},g.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:xh(g)?(et=0,Rr=null,op(s)):(et=0,Rr=null,Ii(i,s,g,7));break;case 5:var A=null;switch(Ue.tag){case 26:A=Ue.memoizedState;case 5:case 27:var C=Ue;if(!A||zp(A)){et=0,Rr=null;var R=C.sibling;if(R!==null)Ue=R;else{var z=C.return;z!==null?(Ue=z,hl(z)):Ue=null}break t}}et=0,Rr=null,Ii(i,s,g,5);break;case 6:et=0,Rr=null,Ii(i,s,g,6);break;case 8:lf(),wt=6;break e;default:throw Error(n(462))}}ky();break}catch(Q){rp(i,Q)}while(!0);return Nn=Ta=null,P.H=f,P.A=v,Je=c,Ue!==null?0:(ut=null,He=0,Ms(),wt)}function ky(){for(;Ue!==null&&!_s();)ip(Ue)}function ip(i){var s=j1(i.alternate,i,Bn);i.memoizedProps=i.pendingProps,s===null?hl(i):Ue=s}function op(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=C1(c,s,s.pendingProps,s.type,void 0,He);break;case 11:s=C1(c,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Eu(s);default:M1(c,s),s=Ue=sh(s,Bn),s=j1(c,s,Bn)}i.memoizedProps=i.pendingProps,s===null?hl(i):Ue=s}function Ii(i,s,c,f){Nn=Ta=null,Eu(s),Ei=null,Co=0;var v=s.return;try{if(Ny(i,v,s,c,He)){wt=1,al(i,Ur(c,i.current)),Ue=null;return}}catch(g){if(v!==null)throw Ue=v,g;wt=1,al(i,Ur(c,i.current)),Ue=null;return}s.flags&32768?($e||f===1?i=!0:Oi||(He&536870912)!==0?i=!1:(Jn=i=!0,(f===2||f===9||f===3||f===6)&&(f=Gr.current,f!==null&&f.tag===13&&(f.flags|=16384))),sp(s,i)):hl(s)}function hl(i){var s=i;do{if((s.flags&32768)!==0){sp(s,Jn);return}i=s.return;var c=Ty(s.alternate,s,Bn);if(c!==null){Ue=c;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=i}while(s!==null);wt===0&&(wt=5)}function sp(i,s){do{var c=Dy(i.alternate,i);if(c!==null){c.flags&=32767,Ue=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=c}while(i!==null);wt=6,Ue=null}function lp(i,s,c,f,v,g,A,C,R){i.cancelPendingCommit=null;do pl();while(Qt!==0);if((Je&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(g=s.lanes|s.childLanes,g|=Jc,mg(i,c,g,A,C,R),i===ut&&(Ue=ut=null,He=0),Di=s,ra=i,Ri=c,af=g,of=v,Q1=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Vy(G,function(){return hp(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=P.T,P.T=null,v=oe.p,oe.p=2,A=Je,Je|=4;try{Ry(i,s,c)}finally{Je=A,oe.p=v,P.T=f}}Qt=1,cp(),up(),fp()}}function cp(){if(Qt===1){Qt=0;var i=ra,s=Di,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=P.T,P.T=null;var f=oe.p;oe.p=2;var v=Je;Je|=4;try{Z1(s,i);var g=wf,A=W0(i.containerInfo),C=g.focusedElem,R=g.selectionRange;if(A!==C&&C&&C.ownerDocument&&K0(C.ownerDocument.documentElement,C)){if(R!==null&&Yc(C)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in C)C.selectionStart=z,C.selectionEnd=Math.min(Q,C.value.length);else{var ne=C.ownerDocument||document,Z=ne&&ne.defaultView||window;if(Z.getSelection){var X=Z.getSelection(),je=C.textContent.length,De=Math.min(R.start,je),it=R.end===void 0?De:Math.min(R.end,je);!X.extend&&De>it&&(A=it,it=De,De=A);var L=$0(C,De),B=$0(C,it);if(L&&B&&(X.rangeCount!==1||X.anchorNode!==L.node||X.anchorOffset!==L.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var k=ne.createRange();k.setStart(L.node,L.offset),X.removeAllRanges(),De>it?(X.addRange(k),X.extend(B.node,B.offset)):(k.setEnd(B.node,B.offset),X.addRange(k))}}}}for(ne=[],X=C;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ne.length;C++){var te=ne[C];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Cl=!!_f,wf=_f=null}finally{Je=v,oe.p=f,P.T=c}}i.current=s,Qt=2}}function up(){if(Qt===2){Qt=0;var i=ra,s=Di,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=P.T,P.T=null;var f=oe.p;oe.p=2;var v=Je;Je|=4;try{z1(i,s.alternate,s)}finally{Je=v,oe.p=f,P.T=c}}Qt=3}}function fp(){if(Qt===4||Qt===3){Qt=0,Ac();var i=ra,s=Di,c=Ri,f=Q1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qt=5:(Qt=0,Di=ra=null,dp(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(ta=null),Nc(c),s=s.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Ee,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=P.T,v=oe.p,oe.p=2,P.T=null;try{for(var g=i.onRecoverableError,A=0;A<f.length;A++){var C=f[A];g(C.value,{componentStack:C.stack})}}finally{P.T=s,oe.p=v}}(Ri&3)!==0&&pl(),pn(i),v=i.pendingLanes,(c&4194090)!==0&&(v&42)!==0?i===sf?Bo++:(Bo=0,sf=i):Bo=0,Po(0)}}function dp(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,vo(s)))}function pl(i){return cp(),up(),fp(),hp()}function hp(){if(Qt!==5)return!1;var i=ra,s=af;af=0;var c=Nc(Ri),f=P.T,v=oe.p;try{oe.p=32>c?32:c,P.T=null,c=of,of=null;var g=ra,A=Ri;if(Qt=0,Di=ra=null,Ri=0,(Je&6)!==0)throw Error(n(331));var C=Je;if(Je|=4,K1(g.current),q1(g,g.current,A,c),Je=C,Po(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Ee,g)}catch{}return!0}finally{oe.p=v,P.T=f,dp(i,s)}}function pp(i,s,c){s=Ur(c,s),s=ku(i.stateNode,s,2),i=Xn(i,s,2),i!==null&&(Qi(i,2),pn(i))}function st(i,s,c){if(i.tag===3)pp(i,i,c);else for(;s!==null;){if(s.tag===3){pp(s,i,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ta===null||!ta.has(f))){i=Ur(c,i),c=g1(2),f=Xn(s,c,2),f!==null&&(y1(c,f,s,i),Qi(f,2),pn(f));break}}s=s.return}}function ff(i,s,c){var f=i.pingCache;if(f===null){f=i.pingCache=new My;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(c)||(ef=!0,v.add(c),i=Fy.bind(null,i,s,c),s.then(i,i))}function Fy(i,s,c){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,ut===i&&(He&c)===c&&(wt===4||wt===3&&(He&62914560)===He&&300>Lr()-nf?(Je&2)===0&&ji(i,0):tf|=c,Ti===He&&(Ti=0)),pn(i)}function vp(i,s){s===0&&(s=f0()),i=pi(i,s),i!==null&&(Qi(i,s),pn(i))}function Uy(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),vp(i,c)}function zy(i,s){var c=0;switch(i.tag){case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(s),vp(i,c)}function Vy(i,s){return Ki(i,s)}var vl=null,Mi=null,df=!1,ml=!1,hf=!1,Pa=0;function pn(i){i!==Mi&&i.next===null&&(Mi===null?vl=Mi=i:Mi=Mi.next=i),ml=!0,df||(df=!0,Gy())}function Po(i,s){if(!hf&&ml){hf=!0;do for(var c=!1,f=vl;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var g=0;else{var A=f.suspendedLanes,C=f.pingedLanes;g=(1<<31-ct(42|i)+1)-1,g&=v&~(A&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(c=!0,yp(f,g))}else g=He,g=ga(f,f===ut?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||ya(f,g)||(c=!0,yp(f,g));f=f.next}while(c);hf=!1}}function Hy(){mp()}function mp(){ml=df=!1;var i=0;Pa!==0&&(Qy()&&(i=Pa),Pa=0);for(var s=Lr(),c=null,f=vl;f!==null;){var v=f.next,g=xp(f,s);g===0?(f.next=null,c===null?vl=v:c.next=v,v===null&&(Mi=c)):(c=f,(i!==0||(g&3)!==0)&&(ml=!0)),f=v}Po(i)}function xp(i,s){for(var c=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var A=31-ct(g),C=1<<A,R=v[A];R===-1?((C&c)===0||(C&f)!==0)&&(v[A]=ws(C,s)):R<=s&&(i.expiredLanes|=C),g&=~C}if(s=ut,c=He,c=ga(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===s&&(et===2||et===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Qa(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||ya(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(f!==null&&Qa(f),Nc(c)){case 2:case 8:c=M;break;case 32:c=G;break;case 268435456:c=ge;break;default:c=G}return f=gp.bind(null,i),c=Ki(c,f),i.callbackPriority=s,i.callbackNode=c,s}return f!==null&&f!==null&&Qa(f),i.callbackPriority=2,i.callbackNode=null,2}function gp(i,s){if(Qt!==0&&Qt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(pl()&&i.callbackNode!==c)return null;var f=He;return f=ga(i,i===ut?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(ep(i,f,s),xp(i,Lr()),i.callbackNode!=null&&i.callbackNode===c?gp.bind(null,i):null)}function yp(i,s){if(pl())return null;ep(i,s,!0)}function Gy(){e2(function(){(Je&6)!==0?Ki(Wi,Hy):mp()})}function pf(){return Pa===0&&(Pa=u0()),Pa}function bp(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ns(""+i)}function _p(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function Zy(i,s,c,f,v){if(s==="submit"&&c&&c.stateNode===v){var g=bp((v[vr]||null).action),A=f.submitter;A&&(s=(s=A[vr]||null)?bp(s.formAction):A.getAttribute("formAction"),s!==null&&(g=s,A=null));var C=new Rs("action","action",null,f,v);i.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Pa!==0){var R=A?_p(v,A):new FormData(v);Iu(c,{pending:!0,data:R,method:v.method,action:g},null,R)}}else typeof g=="function"&&(C.preventDefault(),R=A?_p(v,A):new FormData(v),Iu(c,{pending:!0,data:R,method:v.method,action:g},g,R))},currentTarget:v}]})}}for(var vf=0;vf<Qc.length;vf++){var mf=Qc[vf],Xy=mf.toLowerCase(),qy=mf[0].toUpperCase()+mf.slice(1);Kr(Xy,"on"+qy)}Kr(eh,"onAnimationEnd"),Kr(th,"onAnimationIteration"),Kr(rh,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(uy,"onTransitionRun"),Kr(fy,"onTransitionStart"),Kr(dy,"onTransitionCancel"),Kr(nh,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function wp(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],v=f.event;f=f.listeners;e:{var g=void 0;if(s)for(var A=f.length-1;0<=A;A--){var C=f[A],R=C.instance,z=C.currentTarget;if(C=C.listener,R!==g&&v.isPropagationStopped())break e;g=C,v.currentTarget=z;try{g(v)}catch(Q){nl(Q)}v.currentTarget=null,g=R}else for(A=0;A<f.length;A++){if(C=f[A],R=C.instance,z=C.currentTarget,C=C.listener,R!==g&&v.isPropagationStopped())break e;g=C,v.currentTarget=z;try{g(v)}catch(Q){nl(Q)}v.currentTarget=null,g=R}}}}function ze(i,s){var c=s[Oc];c===void 0&&(c=s[Oc]=new Set);var f=i+"__bubble";c.has(f)||(Ap(s,i,2,!1),c.add(f))}function xf(i,s,c){var f=0;s&&(f|=4),Ap(c,i,f,s)}var xl="_reactListening"+Math.random().toString(36).slice(2);function gf(i){if(!i[xl]){i[xl]=!0,m0.forEach(function(c){c!=="selectionchange"&&(Yy.has(c)||xf(c,!1,i),xf(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[xl]||(s[xl]=!0,xf("selectionchange",!1,s))}}function Ap(i,s,c,f){switch(qp(s)){case 2:var v=_2;break;case 8:v=w2;break;default:v=jf}c=v.bind(null,s,c,i),v=void 0,!Fc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(s,c,{capture:!0,passive:v}):i.addEventListener(s,c,!0):v!==void 0?i.addEventListener(s,c,{passive:v}):i.addEventListener(s,c,!1)}function yf(i,s,c,f,v){var g=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var C=f.stateNode.containerInfo;if(C===v)break;if(A===4)for(A=f.return;A!==null;){var R=A.tag;if((R===3||R===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;C!==null;){if(A=ti(C),A===null)return;if(R=A.tag,R===5||R===6||R===26||R===27){f=g=A;continue e}C=C.parentNode}}f=f.return}D0(function(){var z=g,Q=Lc(c),ne=[];e:{var Z=ah.get(i);if(Z!==void 0){var X=Rs,je=i;switch(i){case"keypress":if(Ts(c)===0)break e;case"keydown":case"keyup":X=Vg;break;case"focusin":je="focus",X=Hc;break;case"focusout":je="blur",X=Hc;break;case"beforeblur":case"afterblur":X=Hc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Zg;break;case eh:case th:case rh:X=Ig;break;case nh:X=qg;break;case"scroll":case"scrollend":X=Og;break;case"wheel":X=$g;break;case"copy":case"cut":case"paste":X=Bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=B0;break;case"toggle":case"beforetoggle":X=Wg}var De=(s&4)!==0,it=!De&&(i==="scroll"||i==="scrollend"),L=De?Z!==null?Z+"Capture":null:Z;De=[];for(var B=z,k;B!==null;){var te=B;if(k=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||k===null||L===null||(te=to(B,L),te!=null&&De.push(ko(B,te,k))),it)break;B=B.return}0<De.length&&(Z=new X(Z,je,null,c,Q),ne.push({event:Z,listeners:De}))}}if((s&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Z&&c!==Pc&&(je=c.relatedTarget||c.fromElement)&&(ti(je)||je[ei]))break e;if((X||Z)&&(Z=Q.window===Q?Q:(Z=Q.ownerDocument)?Z.defaultView||Z.parentWindow:window,X?(je=c.relatedTarget||c.toElement,X=z,je=je?ti(je):null,je!==null&&(it=o(je),De=je.tag,je!==it||De!==5&&De!==27&&De!==6)&&(je=null)):(X=null,je=z),X!==je)){if(De=I0,te="onMouseLeave",L="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(De=B0,te="onPointerLeave",L="onPointerEnter",B="pointer"),it=X==null?Z:eo(X),k=je==null?Z:eo(je),Z=new De(te,B+"leave",X,c,Q),Z.target=it,Z.relatedTarget=k,te=null,ti(Q)===z&&(De=new De(L,B+"enter",je,c,Q),De.target=k,De.relatedTarget=it,te=De),it=te,X&&je)t:{for(De=X,L=je,B=0,k=De;k;k=Bi(k))B++;for(k=0,te=L;te;te=Bi(te))k++;for(;0<B-k;)De=Bi(De),B--;for(;0<k-B;)L=Bi(L),k--;for(;B--;){if(De===L||L!==null&&De===L.alternate)break t;De=Bi(De),L=Bi(L)}De=null}else De=null;X!==null&&Ep(ne,Z,X,De,!1),je!==null&&it!==null&&Ep(ne,it,je,De,!0)}}e:{if(Z=z?eo(z):window,X=Z.nodeName&&Z.nodeName.toLowerCase(),X==="select"||X==="input"&&Z.type==="file")var _e=H0;else if(z0(Z))if(G0)_e=sy;else{_e=iy;var ke=ay}else X=Z.nodeName,!X||X.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?z&&Bc(z.elementType)&&(_e=H0):_e=oy;if(_e&&(_e=_e(i,z))){V0(ne,_e,c,Q);break e}ke&&ke(i,Z,z),i==="focusout"&&z&&Z.type==="number"&&z.memoizedProps.value!=null&&Mc(Z,"number",Z.value)}switch(ke=z?eo(z):window,i){case"focusin":(z0(ke)||ke.contentEditable==="true")&&(fi=ke,$c=z,co=null);break;case"focusout":co=$c=fi=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Q0(ne,c,Q);break;case"selectionchange":if(cy)break;case"keydown":case"keyup":Q0(ne,c,Q)}var Ce;if(Zc)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ui?F0(i,c)&&(Re="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(P0&&c.locale!=="ko"&&(ui||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ui&&(Ce=R0()):(Vn=Q,Uc="value"in Vn?Vn.value:Vn.textContent,ui=!0)),ke=gl(z,Re),0<ke.length&&(Re=new M0(Re,i,null,c,Q),ne.push({event:Re,listeners:ke}),Ce?Re.data=Ce:(Ce=U0(c),Ce!==null&&(Re.data=Ce)))),(Ce=Jg?ey(i,c):ty(i,c))&&(Re=gl(z,"onBeforeInput"),0<Re.length&&(ke=new M0("onBeforeInput","beforeinput",null,c,Q),ne.push({event:ke,listeners:Re}),ke.data=Ce)),Zy(ne,i,z,c,Q)}wp(ne,s)})}function ko(i,s,c){return{instance:i,listener:s,currentTarget:c}}function gl(i,s){for(var c=s+"Capture",f=[];i!==null;){var v=i,g=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||g===null||(v=to(i,c),v!=null&&f.unshift(ko(i,v,g)),v=to(i,s),v!=null&&f.push(ko(i,v,g))),i.tag===3)return f;i=i.return}return[]}function Bi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ep(i,s,c,f,v){for(var g=s._reactName,A=[];c!==null&&c!==f;){var C=c,R=C.alternate,z=C.stateNode;if(C=C.tag,R!==null&&R===f)break;C!==5&&C!==26&&C!==27||z===null||(R=z,v?(z=to(c,g),z!=null&&A.unshift(ko(c,z,R))):v||(z=to(c,g),z!=null&&A.push(ko(c,z,R)))),c=c.return}A.length!==0&&i.push({event:s,listeners:A})}var $y=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function Sp(i){return(typeof i=="string"?i:""+i).replace($y,`
`).replace(Ky,"")}function Cp(i,s){return s=Sp(s),Sp(i)===s}function yl(){}function at(i,s,c,f,v,g){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||si(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&si(i,""+f);break;case"className":Es(i,"class",f);break;case"tabIndex":Es(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Es(i,c,f);break;case"style":O0(i,f,g);break;case"data":if(s!=="object"){Es(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Ns(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(c==="formAction"?(s!=="input"&&at(i,s,"name",v.name,v,null),at(i,s,"formEncType",v.formEncType,v,null),at(i,s,"formMethod",v.formMethod,v,null),at(i,s,"formTarget",v.formTarget,v,null)):(at(i,s,"encType",v.encType,v,null),at(i,s,"method",v.method,v,null),at(i,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Ns(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=yl);break;case"onScroll":f!=null&&ze("scroll",i);break;case"onScrollEnd":f!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=Ns(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":ze("beforetoggle",i),ze("toggle",i),As(i,"popover",f);break;case"xlinkActuate":wn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":wn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":wn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":wn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":wn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":wn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":wn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":wn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":wn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":As(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Cg.get(c)||c,As(i,c,f))}}function bf(i,s,c,f,v,g){switch(c){case"style":O0(i,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof f=="string"?si(i,f):(typeof f=="number"||typeof f=="bigint")&&si(i,""+f);break;case"onScroll":f!=null&&ze("scroll",i);break;case"onScrollEnd":f!=null&&ze("scrollend",i);break;case"onClick":f!=null&&(i.onclick=yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!x0.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),g=i[vr]||null,g=g!=null?g[c]:null,typeof g=="function"&&i.removeEventListener(s,g,v),typeof f=="function")){typeof g!="function"&&g!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,f,v);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):As(i,c,f)}}}function Jt(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var f=!1,v=!1,g;for(g in c)if(c.hasOwnProperty(g)){var A=c[g];if(A!=null)switch(g){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:at(i,s,g,A,c,null)}}v&&at(i,s,"srcSet",c.srcSet,c,null),f&&at(i,s,"src",c.src,c,null);return;case"input":ze("invalid",i);var C=g=A=v=null,R=null,z=null;for(f in c)if(c.hasOwnProperty(f)){var Q=c[f];if(Q!=null)switch(f){case"name":v=Q;break;case"type":A=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":g=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,s));break;default:at(i,s,f,Q,c,null)}}E0(i,g,C,R,z,A,v,!1),Ss(i);return;case"select":ze("invalid",i),f=A=g=null;for(v in c)if(c.hasOwnProperty(v)&&(C=c[v],C!=null))switch(v){case"value":g=C;break;case"defaultValue":A=C;break;case"multiple":f=C;default:at(i,s,v,C,c,null)}s=g,c=A,i.multiple=!!f,s!=null?oi(i,!!f,s,!1):c!=null&&oi(i,!!f,c,!0);return;case"textarea":ze("invalid",i),g=v=f=null;for(A in c)if(c.hasOwnProperty(A)&&(C=c[A],C!=null))switch(A){case"value":f=C;break;case"defaultValue":v=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:at(i,s,A,C,c,null)}C0(i,f,v,g),Ss(i);return;case"option":for(R in c)if(c.hasOwnProperty(R)&&(f=c[R],f!=null))switch(R){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:at(i,s,R,f,c,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(f=0;f<Lo.length;f++)ze(Lo[f],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in c)if(c.hasOwnProperty(z)&&(f=c[z],f!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:at(i,s,z,f,c,null)}return;default:if(Bc(s)){for(Q in c)c.hasOwnProperty(Q)&&(f=c[Q],f!==void 0&&bf(i,s,Q,f,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(f=c[C],f!=null&&at(i,s,C,f,c,null))}function Wy(i,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,g=null,A=null,C=null,R=null,z=null,Q=null;for(X in c){var ne=c[X];if(c.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":R=ne;default:f.hasOwnProperty(X)||at(i,s,X,null,f,ne)}}for(var Z in f){var X=f[Z];if(ne=c[Z],f.hasOwnProperty(Z)&&(X!=null||ne!=null))switch(Z){case"type":g=X;break;case"name":v=X;break;case"checked":z=X;break;case"defaultChecked":Q=X;break;case"value":A=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,s));break;default:X!==ne&&at(i,s,Z,X,f,ne)}}Ic(i,A,C,R,z,Q,g,v);return;case"select":X=A=C=Z=null;for(g in c)if(R=c[g],c.hasOwnProperty(g)&&R!=null)switch(g){case"value":break;case"multiple":X=R;default:f.hasOwnProperty(g)||at(i,s,g,null,f,R)}for(v in f)if(g=f[v],R=c[v],f.hasOwnProperty(v)&&(g!=null||R!=null))switch(v){case"value":Z=g;break;case"defaultValue":C=g;break;case"multiple":A=g;default:g!==R&&at(i,s,v,g,f,R)}s=C,c=A,f=X,Z!=null?oi(i,!!c,Z,!1):!!f!=!!c&&(s!=null?oi(i,!!c,s,!0):oi(i,!!c,c?[]:"",!1));return;case"textarea":X=Z=null;for(C in c)if(v=c[C],c.hasOwnProperty(C)&&v!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:at(i,s,C,null,f,v)}for(A in f)if(v=f[A],g=c[A],f.hasOwnProperty(A)&&(v!=null||g!=null))switch(A){case"value":Z=v;break;case"defaultValue":X=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==g&&at(i,s,A,v,f,g)}S0(i,Z,X);return;case"option":for(var je in c)if(Z=c[je],c.hasOwnProperty(je)&&Z!=null&&!f.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:at(i,s,je,null,f,Z)}for(R in f)if(Z=f[R],X=c[R],f.hasOwnProperty(R)&&Z!==X&&(Z!=null||X!=null))switch(R){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:at(i,s,R,Z,f,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in c)Z=c[De],c.hasOwnProperty(De)&&Z!=null&&!f.hasOwnProperty(De)&&at(i,s,De,null,f,Z);for(z in f)if(Z=f[z],X=c[z],f.hasOwnProperty(z)&&Z!==X&&(Z!=null||X!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,s));break;default:at(i,s,z,Z,f,X)}return;default:if(Bc(s)){for(var it in c)Z=c[it],c.hasOwnProperty(it)&&Z!==void 0&&!f.hasOwnProperty(it)&&bf(i,s,it,void 0,f,Z);for(Q in f)Z=f[Q],X=c[Q],!f.hasOwnProperty(Q)||Z===X||Z===void 0&&X===void 0||bf(i,s,Q,Z,f,X);return}}for(var L in c)Z=c[L],c.hasOwnProperty(L)&&Z!=null&&!f.hasOwnProperty(L)&&at(i,s,L,null,f,Z);for(ne in f)Z=f[ne],X=c[ne],!f.hasOwnProperty(ne)||Z===X||Z==null&&X==null||at(i,s,ne,Z,f,X)}var _f=null,wf=null;function bl(i){return i.nodeType===9?i:i.ownerDocument}function Np(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Af(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ef=null;function Qy(){var i=window.event;return i&&i.type==="popstate"?i===Ef?!1:(Ef=i,!0):(Ef=null,!1)}var Tp=typeof setTimeout=="function"?setTimeout:void 0,Jy=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(i){return Dp.resolve(null).then(i).catch(t2)}:Tp;function t2(i){setTimeout(function(){throw i})}function aa(i){return i==="head"}function Rp(i,s){var c=s,f=0,v=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(0<f&&8>f){c=f;var A=i.ownerDocument;if(c&1&&Fo(A.documentElement),c&2&&Fo(A.body),c&4)for(c=A.head,Fo(c),A=c.firstChild;A;){var C=A.nextSibling,R=A.nodeName;A[Ji]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=C}}if(v===0){i.removeChild(g),qo(s);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:f=c.charCodeAt(0)-48;else f=0;c=g}while(c);qo(s)}function Sf(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Sf(c),Tc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function r2(i,s,c,f){for(;i.nodeType===1;){var v=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ji])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Qr(i.nextSibling),i===null)break}return null}function n2(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Qr(i.nextSibling),i===null))return null;return i}function Cf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function a2(i,s){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Qr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Nf=null;function jp(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}function Ip(i,s,c){switch(s=bl(c),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Fo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Tc(i)}var Xr=new Map,Mp=new Set;function _l(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Pn=oe.d;oe.d={f:i2,r:o2,D:s2,C:l2,L:c2,m:u2,X:d2,S:f2,M:h2};function i2(){var i=Pn.f(),s=dl();return i||s}function o2(i){var s=ri(i);s!==null&&s.tag===5&&s.type==="form"?e1(s):Pn.r(i)}var Pi=typeof document>"u"?null:document;function Bp(i,s,c){var f=Pi;if(f&&typeof s=="string"&&s){var v=Fr(s);v='link[rel="'+i+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),Mp.has(v)||(Mp.add(v),i={rel:i,crossOrigin:c,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),Jt(s,"link",i),zt(s),f.head.appendChild(s)))}}function s2(i){Pn.D(i),Bp("dns-prefetch",i,null)}function l2(i,s){Pn.C(i,s),Bp("preconnect",i,s)}function c2(i,s,c){Pn.L(i,s,c);var f=Pi;if(f&&i&&s){var v='link[rel="preload"][as="'+Fr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Fr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Fr(c.imageSizes)+'"]')):v+='[href="'+Fr(i)+'"]';var g=v;switch(s){case"style":g=Li(i);break;case"script":g=ki(i)}Xr.has(g)||(i=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),Xr.set(g,i),f.querySelector(v)!==null||s==="style"&&f.querySelector(Uo(g))||s==="script"&&f.querySelector(zo(g))||(s=f.createElement("link"),Jt(s,"link",i),zt(s),f.head.appendChild(s)))}}function u2(i,s){Pn.m(i,s);var c=Pi;if(c&&i){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Fr(f)+'"][href="'+Fr(i)+'"]',g=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ki(i)}if(!Xr.has(g)&&(i=m({rel:"modulepreload",href:i},s),Xr.set(g,i),c.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(zo(g)))return}f=c.createElement("link"),Jt(f,"link",i),zt(f),c.head.appendChild(f)}}}function f2(i,s,c){Pn.S(i,s,c);var f=Pi;if(f&&i){var v=ni(f).hoistableStyles,g=Li(i);s=s||"default";var A=v.get(g);if(!A){var C={loading:0,preload:null};if(A=f.querySelector(Uo(g)))C.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},c),(c=Xr.get(g))&&Of(i,c);var R=A=f.createElement("link");zt(R),Jt(R,"link",i),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){C.loading|=1}),R.addEventListener("error",function(){C.loading|=2}),C.loading|=4,wl(A,s,f)}A={type:"stylesheet",instance:A,count:1,state:C},v.set(g,A)}}}function d2(i,s){Pn.X(i,s);var c=Pi;if(c&&i){var f=ni(c).hoistableScripts,v=ki(i),g=f.get(v);g||(g=c.querySelector(zo(v)),g||(i=m({src:i,async:!0},s),(s=Xr.get(v))&&Tf(i,s),g=c.createElement("script"),zt(g),Jt(g,"link",i),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(v,g))}}function h2(i,s){Pn.M(i,s);var c=Pi;if(c&&i){var f=ni(c).hoistableScripts,v=ki(i),g=f.get(v);g||(g=c.querySelector(zo(v)),g||(i=m({src:i,async:!0,type:"module"},s),(s=Xr.get(v))&&Tf(i,s),g=c.createElement("script"),zt(g),Jt(g,"link",i),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(v,g))}}function Pp(i,s,c,f){var v=(v=be.current)?_l(v):null;if(!v)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Li(c.href),c=ni(v).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Li(c.href);var g=ni(v).hoistableStyles,A=g.get(i);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,A),(g=v.querySelector(Uo(i)))&&!g._p&&(A.instance=g,A.state.loading=5),Xr.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Xr.set(i,c),g||p2(v,i,c,A.state))),s&&f===null)throw Error(n(528,""));return A}if(s&&f!==null)throw Error(n(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ki(c),c=ni(v).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Li(i){return'href="'+Fr(i)+'"'}function Uo(i){return'link[rel="stylesheet"]['+i+"]"}function Lp(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function p2(i,s,c,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Jt(s,"link",c),zt(s),i.head.appendChild(s))}function ki(i){return'[src="'+Fr(i)+'"]'}function zo(i){return"script[async]"+i}function kp(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Fr(c.href)+'"]');if(f)return s.instance=f,zt(f),f;var v=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),zt(f),Jt(f,"style",v),wl(f,c.precedence,i),s.instance=f;case"stylesheet":v=Li(c.href);var g=i.querySelector(Uo(v));if(g)return s.state.loading|=4,s.instance=g,zt(g),g;f=Lp(c),(v=Xr.get(v))&&Of(f,v),g=(i.ownerDocument||i).createElement("link"),zt(g);var A=g;return A._p=new Promise(function(C,R){A.onload=C,A.onerror=R}),Jt(g,"link",f),s.state.loading|=4,wl(g,c.precedence,i),s.instance=g;case"script":return g=ki(c.src),(v=i.querySelector(zo(g)))?(s.instance=v,zt(v),v):(f=c,(v=Xr.get(g))&&(f=m({},c),Tf(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),zt(v),Jt(v,"link",f),i.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,wl(f,c.precedence,i));return s.instance}function wl(i,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,g=v,A=0;A<f.length;A++){var C=f[A];if(C.dataset.precedence===s)g=C;else if(g!==v)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function Of(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Tf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Al=null;function Fp(i,s,c){if(Al===null){var f=new Map,v=Al=new Map;v.set(c,f)}else v=Al,f=v.get(c),f||(f=new Map,v.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),v=0;v<c.length;v++){var g=c[v];if(!(g[Ji]||g[nr]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(s)||"";A=i+A;var C=f.get(A);C?C.push(g):f.set(A,[g])}}return f}function Up(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function v2(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function zp(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Vo=null;function m2(){}function x2(i,s,c){if(Vo===null)throw Error(n(475));var f=Vo;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var v=Li(c.href),g=i.querySelector(Uo(v));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=El.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=g,zt(g);return}g=i.ownerDocument||i,c=Lp(c),(v=Xr.get(v))&&Of(c,v),g=g.createElement("link"),zt(g);var A=g;A._p=new Promise(function(C,R){A.onload=C,A.onerror=R}),Jt(g,"link",c),s.instance=g}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=El.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function g2(){if(Vo===null)throw Error(n(475));var i=Vo;return i.stylesheets&&i.count===0&&Df(i,i.stylesheets),0<i.count?function(s){var c=setTimeout(function(){if(i.stylesheets&&Df(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(c)}}:null}function El(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sl=null;function Df(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sl=new Map,s.forEach(y2,i),Sl=null,El.call(i))}function y2(i,s){if(!(s.state.loading&4)){var c=Sl.get(i);if(c)var f=c.get(null);else{c=new Map,Sl.set(i,c);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<v.length;g++){var A=v[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),f=A)}f&&c.set(null,f)}v=s.instance,A=v.getAttribute("data-precedence"),g=c.get(A)||f,g===f&&c.set(null,v),c.set(A,v),this.count++,f=El.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),g?g.parentNode.insertBefore(v,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),s.state.loading|=4}}var Ho={$$typeof:N,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function b2(i,s,c,f,v,g,A,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.hiddenUpdates=Sc(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Vp(i,s,c,f,v,g,A,C,R,z,Q,ne){return i=new b2(i,s,c,A,C,R,z,ne),s=1,g===!0&&(s|=24),g=Or(3,null,null,s),i.current=g,g.stateNode=i,s=uu(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:f,isDehydrated:c,cache:s},pu(g),i}function Hp(i){return i?(i=vi,i):vi}function Gp(i,s,c,f,v,g){v=Hp(v),f.context===null?f.context=v:f.pendingContext=v,f=Zn(s),f.payload={element:c},g=g===void 0?null:g,g!==null&&(f.callback=g),c=Xn(i,f,s),c!==null&&(Ir(c,i,s),yo(c,i,s))}function Zp(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function Rf(i,s){Zp(i,s),(i=i.alternate)&&Zp(i,s)}function Xp(i){if(i.tag===13){var s=pi(i,67108864);s!==null&&Ir(s,i,67108864),Rf(i,67108864)}}var Cl=!0;function _2(i,s,c,f){var v=P.T;P.T=null;var g=oe.p;try{oe.p=2,jf(i,s,c,f)}finally{oe.p=g,P.T=v}}function w2(i,s,c,f){var v=P.T;P.T=null;var g=oe.p;try{oe.p=8,jf(i,s,c,f)}finally{oe.p=g,P.T=v}}function jf(i,s,c,f){if(Cl){var v=If(f);if(v===null)yf(i,s,f,Nl,c),Yp(i,f);else if(E2(v,i,s,c,f))f.stopPropagation();else if(Yp(i,f),s&4&&-1<A2.indexOf(i)){for(;v!==null;){var g=ri(v);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=_n(g.pendingLanes);if(A!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;A;){var R=1<<31-ct(A);C.entanglements[1]|=R,A&=~R}pn(g),(Je&6)===0&&(ul=Lr()+500,Po(0))}}break;case 13:C=pi(g,2),C!==null&&Ir(C,g,2),dl(),Rf(g,2)}if(g=If(f),g===null&&yf(i,s,f,Nl,c),g===v)break;v=g}v!==null&&f.stopPropagation()}else yf(i,s,f,null,c)}}function If(i){return i=Lc(i),Mf(i)}var Nl=null;function Mf(i){if(Nl=null,i=ti(i),i!==null){var s=o(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=l(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Nl=i,null}function qp(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(c0()){case Wi:return 2;case M:return 8;case G:case ee:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Bf=!1,ia=null,oa=null,sa=null,Go=new Map,Zo=new Map,la=[],A2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yp(i,s){switch(i){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Go.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(s.pointerId)}}function Xo(i,s,c,f,v,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:g,targetContainers:[v]},s!==null&&(s=ri(s),s!==null&&Xp(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),i)}function E2(i,s,c,f,v){switch(s){case"focusin":return ia=Xo(ia,i,s,c,f,v),!0;case"dragenter":return oa=Xo(oa,i,s,c,f,v),!0;case"mouseover":return sa=Xo(sa,i,s,c,f,v),!0;case"pointerover":var g=v.pointerId;return Go.set(g,Xo(Go.get(g)||null,i,s,c,f,v)),!0;case"gotpointercapture":return g=v.pointerId,Zo.set(g,Xo(Zo.get(g)||null,i,s,c,f,v)),!0}return!1}function $p(i){var s=ti(i.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){i.blockedOn=s,xg(i.priority,function(){if(c.tag===13){var f=jr();f=Cc(f);var v=pi(c,f);v!==null&&Ir(v,c,f),Rf(c,f)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ol(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=If(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Pc=f,c.target.dispatchEvent(f),Pc=null}else return s=ri(c),s!==null&&Xp(s),i.blockedOn=c,!1;s.shift()}return!0}function Kp(i,s,c){Ol(i)&&c.delete(s)}function S2(){Bf=!1,ia!==null&&Ol(ia)&&(ia=null),oa!==null&&Ol(oa)&&(oa=null),sa!==null&&Ol(sa)&&(sa=null),Go.forEach(Kp),Zo.forEach(Kp)}function Tl(i,s){i.blockedOn===s&&(i.blockedOn=null,Bf||(Bf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,S2)))}var Dl=null;function Wp(i){Dl!==i&&(Dl=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dl===i&&(Dl=null);for(var s=0;s<i.length;s+=3){var c=i[s],f=i[s+1],v=i[s+2];if(typeof f!="function"){if(Mf(f||c)===null)continue;break}var g=ri(c);g!==null&&(i.splice(s,3),s-=3,Iu(g,{pending:!0,data:v,method:c.method,action:f},f,v))}}))}function qo(i){function s(R){return Tl(R,i)}ia!==null&&Tl(ia,i),oa!==null&&Tl(oa,i),sa!==null&&Tl(sa,i),Go.forEach(s),Zo.forEach(s);for(var c=0;c<la.length;c++){var f=la[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<la.length&&(c=la[0],c.blockedOn===null);)$p(c),c.blockedOn===null&&la.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var v=c[f],g=c[f+1],A=v[vr]||null;if(typeof g=="function")A||Wp(c);else if(A){var C=null;if(g&&g.hasAttribute("formAction")){if(v=g,A=g[vr]||null)C=A.formAction;else if(Mf(v)!==null)continue}else C=A.action;typeof C=="function"?c[f+1]=C:(c.splice(f,3),f-=3),Wp(c)}}}function Pf(i){this._internalRoot=i}Rl.prototype.render=Pf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var c=s.current,f=jr();Gp(c,f,i,s,null,null)},Rl.prototype.unmount=Pf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Gp(i.current,2,null,i,null,null),dl(),s[ei]=null}};function Rl(i){this._internalRoot=i}Rl.prototype.unstable_scheduleHydration=function(i){if(i){var s=p0();i={blockedOn:null,target:i,priority:s};for(var c=0;c<la.length&&s!==0&&s<la[c].priority;c++);la.splice(c,0,i),c===0&&$p(i)}};var Qp=e.version;if(Qp!=="19.1.0")throw Error(n(527,Qp,"19.1.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var C2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Ee=jl.inject(C2),Ie=jl}catch{}}return $o.createRoot=function(i,s){if(!a(i))throw Error(n(299));var c=!1,f="",v=p1,g=v1,A=m1,C=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=Vp(i,1,!1,null,null,c,f,v,g,A,C,null),i[ei]=s.current,gf(i),new Pf(s)},$o.hydrateRoot=function(i,s,c){if(!a(i))throw Error(n(299));var f=!1,v="",g=p1,A=v1,C=m1,R=null,z=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(g=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(R=c.unstable_transitionCallbacks),c.formState!==void 0&&(z=c.formState)),s=Vp(i,1,!0,s,c??null,f,v,g,A,C,R,z),s.context=Hp(null),c=s.current,f=jr(),f=Cc(f),v=Zn(f),v.callback=null,Xn(c,v,f),c=f,s.current.lanes=c,Qi(s,c),pn(s),i[ei]=s.current,gf(i),new Rl(s)},$o.version="19.1.0",$o}var lv;function L2(){if(lv)return Ff.exports;lv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ff.exports=P2(),Ff.exports}var k2=L2(),oc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sc=typeof window>"u"||"Deno"in globalThis;function rn(){}function F2(t,e){return typeof t=="function"?t(e):t}function U2(t){return typeof t=="number"&&t>=0&&t!==1/0}function z2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function od(t,e){return typeof t=="function"?t(e):t}function V2(t,e){return typeof t=="function"?t(e):t}function cv(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:l,stale:u}=t;if(l){if(n){if(e.queryHash!==Ld(l,e.options))return!1}else if(!ds(e.queryKey,l))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||a&&a!==e.state.fetchStatus||o&&!o(e))}function uv(t,e){const{exact:r,status:n,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(fs(e.options.mutationKey)!==fs(o))return!1}else if(!ds(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function Ld(t,e){return(e?.queryKeyHashFn||fs)(t)}function fs(t){return JSON.stringify(t,(e,r)=>sd(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function ds(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ds(t[r],e[r])):!1}function Xm(t,e){if(t===e)return t;const r=fv(t)&&fv(e);if(r||sd(t)&&sd(e)){const n=r?t:Object.keys(t),a=n.length,o=r?e:Object.keys(e),l=o.length,u=r?[]:{},d=new Set(n);let p=0;for(let m=0;m<l;m++){const x=r?m:o[m];(!r&&d.has(x)||r)&&t[x]===void 0&&e[x]===void 0?(u[x]=void 0,p++):(u[x]=Xm(t[x],e[x]),u[x]===t[x]&&t[x]!==void 0&&p++)}return a===l&&p===a?t:u}return e}function fv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sd(t){if(!dv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!dv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dv(t){return Object.prototype.toString.call(t)==="[object Object]"}function H2(t){return new Promise(e=>{setTimeout(e,t)})}function G2(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Xm(t,e):e}function Z2(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function X2(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var kd=Symbol();function qm(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===kd?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var q2=class extends oc{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!sc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ym=new q2,Y2=class extends oc{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!sc&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Wl=new Y2;function $2(){let t,e;const r=new Promise((a,o)=>{t=a,e=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function K2(t){return Math.min(1e3*2**t,3e4)}function $m(t){return(t??"online")==="online"?Wl.isOnline():!0}var Km=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Hf(t){return t instanceof Km}function Wm(t){let e=!1,r=0,n=!1,a;const o=$2(),l=w=>{n||(y(new Km(w)),t.abort?.())},u=()=>{e=!0},d=()=>{e=!1},p=()=>Ym.isFocused()&&(t.networkMode==="always"||Wl.isOnline())&&t.canRun(),m=()=>$m(t.networkMode)&&t.canRun(),x=w=>{n||(n=!0,t.onSuccess?.(w),a?.(),o.resolve(w))},y=w=>{n||(n=!0,t.onError?.(w),a?.(),o.reject(w))},b=()=>new Promise(w=>{a=S=>{(n||p())&&w(S)},t.onPause?.()}).then(()=>{a=void 0,n||t.onContinue?.()}),_=()=>{if(n)return;let w;const S=r===0?t.initialPromise:void 0;try{w=S??t.fn()}catch(T){w=Promise.reject(T)}Promise.resolve(w).then(x).catch(T=>{if(n)return;const E=t.retry??(sc?0:3),N=t.retryDelay??K2,D=typeof N=="function"?N(r,T):N,I=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,T);if(e||!I){y(T);return}r++,t.onFail?.(r,T),H2(D).then(()=>p()?void 0:b()).then(()=>{e?y(T):_()})})};return{promise:o,cancel:l,continue:()=>(a?.(),o),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?_():b().then(_),o)}}var W2=t=>setTimeout(t,0);function Q2(){let t=[],e=0,r=u=>{u()},n=u=>{u()},a=W2;const o=u=>{e?t.push(u):a(()=>{r(u)})},l=()=>{const u=t;t=[],u.length&&a(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{a=u}}}var pr=Q2(),Qm=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U2(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(sc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},J2=class extends Qm{#e;#t;#r;#a;#n;#o;#s;constructor(t){super(),this.#s=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#r=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=tb(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=G2(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>V2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>od(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!z2(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},a=()=>{const d=qm(this.options,e),m=(()=>{const x={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(x),x})();return this.#s=!1,this.options.persister?this.options.persister(d,m,this):d(m)},l=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(d),d})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta});const u=d=>{Hf(d)&&d.silent||this.#i({type:"error",error:d}),Hf(d)||(this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#n=Wm({initialPromise:e?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(p){u(p);return}this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,p)=>{this.#i({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...eb(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Hf(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function eb(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$m(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var rb=class extends oc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,a=e.queryHash??Ld(n,e);let o=this.get(a);return o||(o=new J2({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>cv(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>cv(t,r)):e}notify(t){pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nb=class extends Qm{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||ab(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#a({type:"continue"})};this.#r=Wm({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#a({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#a({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#a({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#a({type:"pending",context:o,variables:t,isPaused:n})}const a=await this.#r.start();return await this.#t.config.onSuccess?.(a,t,this.state.context,this),await this.options.onSuccess?.(a,t,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,t,this.state.context),this.#a({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,t,this.state.context,this),await this.options.onError?.(a,t,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,t,this.state.context),a}finally{this.#a({type:"error",error:a})}}finally{this.#t.runNext(this)}}#a(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),pr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function ab(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ib=class extends oc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new nb({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=Il(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Il(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Il(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(a=>a.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=Il(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>uv(e,r))}findAll(t={}){return this.getAll().filter(e=>uv(t,e))}notify(t){pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return pr.batch(()=>Promise.all(t.map(e=>e.continue().catch(rn))))}};function Il(t){return t.options.scope?.id}function hv(t){return{onFetch:(e,r)=>{const n=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const p=async()=>{let m=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=qm(e.options,e.fetchOptions),b=async(_,w,S)=>{if(m)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:w,direction:S?"backward":"forward",meta:e.options.meta};return x(U),U})(),N=await y(E),{maxPages:D}=e.options,I=S?X2:Z2;return{pages:I(_.pages,N,D),pageParams:I(_.pageParams,w,D)}};if(a&&o.length){const _=a==="backward",w=_?ob:pv,S={pages:o,pageParams:l},T=w(n,S);u=await b(S,T,_)}else{const _=t??o.length;do{const w=d===0?l[0]??n.initialPageParam:pv(n,u);if(d>0&&w==null)break;u=await b(u,w),d++}while(d<_)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=p}}}function pv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ob(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var sb=class{#e;#t;#r;#a;#n;#o;#s;#i;constructor(t={}){this.#e=t.queryCache||new rb,this.#t=t.mutationCache||new ib,this.#r=t.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=Ym.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Wl.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(od(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(n.queryHash)?.state.data,l=F2(e,o);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return pr.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;pr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return pr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=pr.batch(()=>this.#e.findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(rn).catch(rn)}invalidateQueries(t,e={}){return pr.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=pr.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(rn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(od(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rn).catch(rn)}fetchInfiniteQuery(t){return t.behavior=hv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rn).catch(rn)}ensureInfiniteQueryData(t){return t.behavior=hv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#a.set(fs(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#a.values()],r={};return e.forEach(n=>{ds(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(fs(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{ds(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ld(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===kd&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},lb=W.createContext(void 0),cb=({client:t,children:e})=>(W.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(lb.Provider,{value:t,children:e}));function Jm(t,e){return function(){return t.apply(e,arguments)}}const{toString:ub}=Object.prototype,{getPrototypeOf:Fd}=Object,{iterator:lc,toStringTag:ex}=Symbol,cc=(t=>e=>{const r=ub.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ln=t=>(t=t.toLowerCase(),e=>cc(e)===t),uc=t=>e=>typeof e===t,{isArray:Xi}=Array,hs=uc("undefined");function fb(t){return t!==null&&!hs(t)&&t.constructor!==null&&!hs(t.constructor)&&Ar(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tx=ln("ArrayBuffer");function db(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tx(t.buffer),e}const hb=uc("string"),Ar=uc("function"),rx=uc("number"),fc=t=>t!==null&&typeof t=="object",pb=t=>t===!0||t===!1,Hl=t=>{if(cc(t)!=="object")return!1;const e=Fd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ex in t)&&!(lc in t)},vb=ln("Date"),mb=ln("File"),xb=ln("Blob"),gb=ln("FileList"),yb=t=>fc(t)&&Ar(t.pipe),bb=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ar(t.append)&&((e=cc(t))==="formdata"||e==="object"&&Ar(t.toString)&&t.toString()==="[object FormData]"))},_b=ln("URLSearchParams"),[wb,Ab,Eb,Sb]=["ReadableStream","Request","Response","Headers"].map(ln),Cb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ms(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Xi(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(n=0;n<l;n++)u=o[n],e.call(null,t[u],u,t)}}function nx(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const Ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ax=t=>!hs(t)&&t!==Ua;function ld(){const{caseless:t}=ax(this)&&this||{},e={},r=(n,a)=>{const o=t&&nx(e,a)||a;Hl(e[o])&&Hl(n)?e[o]=ld(e[o],n):Hl(n)?e[o]=ld({},n):Xi(n)?e[o]=n.slice():e[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&ms(arguments[n],r);return e}const Nb=(t,e,r,{allOwnKeys:n}={})=>(ms(e,(a,o)=>{r&&Ar(a)?t[o]=Jm(a,r):t[o]=a},{allOwnKeys:n}),t),Ob=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Tb=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Db=(t,e,r,n)=>{let a,o,l;const u={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)l=a[o],(!n||n(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=r!==!1&&Fd(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Rb=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},jb=t=>{if(!t)return null;if(Xi(t))return t;let e=t.length;if(!rx(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Ib=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fd(Uint8Array)),Mb=(t,e)=>{const n=(t&&t[lc]).call(t);let a;for(;(a=n.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},Bb=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Pb=ln("HTMLFormElement"),Lb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),vv=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),kb=ln("RegExp"),ix=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ms(r,(a,o)=>{let l;(l=e(a,o,t))!==!1&&(n[o]=l||a)}),Object.defineProperties(t,n)},Fb=t=>{ix(t,(e,r)=>{if(Ar(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ar(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ub=(t,e)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return Xi(t)?n(t):n(String(t).split(e)),r},zb=()=>{},Vb=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Hb(t){return!!(t&&Ar(t.append)&&t[ex]==="FormData"&&t[lc])}const Gb=t=>{const e=new Array(10),r=(n,a)=>{if(fc(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const o=Xi(n)?[]:{};return ms(n,(l,u)=>{const d=r(l,a+1);!hs(d)&&(o[u]=d)}),e[a]=void 0,o}}return n};return r(t,0)},Zb=ln("AsyncFunction"),Xb=t=>t&&(fc(t)||Ar(t))&&Ar(t.then)&&Ar(t.catch),ox=((t,e)=>t?setImmediate:e?((r,n)=>(Ua.addEventListener("message",({source:a,data:o})=>{a===Ua&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ua.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ar(Ua.postMessage)),qb=typeof queueMicrotask<"u"?queueMicrotask.bind(Ua):typeof process<"u"&&process.nextTick||ox,Yb=t=>t!=null&&Ar(t[lc]),$={isArray:Xi,isArrayBuffer:tx,isBuffer:fb,isFormData:bb,isArrayBufferView:db,isString:hb,isNumber:rx,isBoolean:pb,isObject:fc,isPlainObject:Hl,isReadableStream:wb,isRequest:Ab,isResponse:Eb,isHeaders:Sb,isUndefined:hs,isDate:vb,isFile:mb,isBlob:xb,isRegExp:kb,isFunction:Ar,isStream:yb,isURLSearchParams:_b,isTypedArray:Ib,isFileList:gb,forEach:ms,merge:ld,extend:Nb,trim:Cb,stripBOM:Ob,inherits:Tb,toFlatObject:Db,kindOf:cc,kindOfTest:ln,endsWith:Rb,toArray:jb,forEachEntry:Mb,matchAll:Bb,isHTMLForm:Pb,hasOwnProperty:vv,hasOwnProp:vv,reduceDescriptors:ix,freezeMethods:Fb,toObjectSet:Ub,toCamelCase:Lb,noop:zb,toFiniteNumber:Vb,findKey:nx,global:Ua,isContextDefined:ax,isSpecCompliantForm:Hb,toJSONObject:Gb,isAsyncFn:Zb,isThenable:Xb,setImmediate:ox,asap:qb,isIterable:Yb};function Me(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}$.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const sx=Me.prototype,lx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lx[t]={value:t}});Object.defineProperties(Me,lx);Object.defineProperty(sx,"isAxiosError",{value:!0});Me.from=(t,e,r,n,a,o)=>{const l=Object.create(sx);return $.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Me.call(l,t.message,e,r,n,a),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const $b=null;function cd(t){return $.isPlainObject(t)||$.isArray(t)}function cx(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function mv(t,e,r){return t?t.concat(e).map(function(a,o){return a=cx(a),!r&&o?"["+a+"]":a}).join(r?".":""):e}function Kb(t){return $.isArray(t)&&!t.some(cd)}const Wb=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function dc(t,e,r){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!$.isUndefined(S[w])});const n=r.metaTokens,a=r.visitor||m,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(a))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if($.isDate(_))return _.toISOString();if($.isBoolean(_))return _.toString();if(!d&&$.isBlob(_))throw new Me("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(_)||$.isTypedArray(_)?d&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function m(_,w,S){let T=_;if(_&&!S&&typeof _=="object"){if($.endsWith(w,"{}"))w=n?w:w.slice(0,-2),_=JSON.stringify(_);else if($.isArray(_)&&Kb(_)||($.isFileList(_)||$.endsWith(w,"[]"))&&(T=$.toArray(_)))return w=cx(w),T.forEach(function(N,D){!($.isUndefined(N)||N===null)&&e.append(l===!0?mv([w],D,o):l===null?w:w+"[]",p(N))}),!1}return cd(_)?!0:(e.append(mv(S,w,o),p(_)),!1)}const x=[],y=Object.assign(Wb,{defaultVisitor:m,convertValue:p,isVisitable:cd});function b(_,w){if(!$.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));x.push(_),$.forEach(_,function(T,E){(!($.isUndefined(T)||T===null)&&a.call(e,T,$.isString(E)?E.trim():E,w,y))===!0&&b(T,w?w.concat(E):[E])}),x.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return b(t),e}function xv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Ud(t,e){this._pairs=[],t&&dc(t,this,e)}const ux=Ud.prototype;ux.append=function(e,r){this._pairs.push([e,r])};ux.toString=function(e){const r=e?function(n){return e.call(this,n,xv)}:xv;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Qb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fx(t,e,r){if(!e)return t;const n=r&&r.encode||Qb;$.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(e,r):o=$.isURLSearchParams(e)?e.toString():new Ud(e,r).toString(n),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class gv{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(n){n!==null&&e(n)})}}const dx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jb=typeof URLSearchParams<"u"?URLSearchParams:Ud,e_=typeof FormData<"u"?FormData:null,t_=typeof Blob<"u"?Blob:null,r_={isBrowser:!0,classes:{URLSearchParams:Jb,FormData:e_,Blob:t_},protocols:["http","https","file","blob","url","data"]},zd=typeof window<"u"&&typeof document<"u",ud=typeof navigator=="object"&&navigator||void 0,n_=zd&&(!ud||["ReactNative","NativeScript","NS"].indexOf(ud.product)<0),a_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i_=zd&&window.location.href||"http://localhost",o_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zd,hasStandardBrowserEnv:n_,hasStandardBrowserWebWorkerEnv:a_,navigator:ud,origin:i_},Symbol.toStringTag,{value:"Module"})),sr={...o_,...r_};function s_(t,e){return dc(t,new sr.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,o){return sr.isNode&&$.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function l_(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function c_(t){const e={},r=Object.keys(t);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],e[o]=t[o];return e}function hx(t){function e(r,n,a,o){let l=r[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=r.length;return l=!l&&$.isArray(a)?a.length:l,d?($.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!u):((!a[l]||!$.isObject(a[l]))&&(a[l]=[]),e(r,n,a[l],o)&&$.isArray(a[l])&&(a[l]=c_(a[l])),!u)}if($.isFormData(t)&&$.isFunction(t.entries)){const r={};return $.forEachEntry(t,(n,a)=>{e(l_(n),a,r,0)}),r}return null}function u_(t,e,r){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const xs={transitional:dx,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=$.isObject(e);if(o&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return a?JSON.stringify(hx(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return s_(e,this.formSerializer).toString();if((u=$.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return dc(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),u_(e)):e}],transformResponse:[function(e){const r=this.transitional||xs.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Me.from(u,Me.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sr.classes.FormData,Blob:sr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],t=>{xs.headers[t]={}});const f_=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d_=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||e[r]&&f_[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},yv=Symbol("internals");function Ko(t){return t&&String(t).trim().toLowerCase()}function Gl(t){return t===!1||t==null?t:$.isArray(t)?t.map(Gl):String(t)}function h_(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const p_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gf(t,e,r,n,a){if($.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!$.isString(e)){if($.isString(n))return e.indexOf(n)!==-1;if($.isRegExp(n))return n.test(e)}}function v_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function m_(t,e){const r=$.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,o,l){return this[n].call(this,e,a,o,l)},configurable:!0})})}let Er=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function o(u,d,p){const m=Ko(d);if(!m)throw new Error("header name must be a non-empty string");const x=$.findKey(a,m);(!x||a[x]===void 0||p===!0||p===void 0&&a[x]!==!1)&&(a[x||d]=Gl(u))}const l=(u,d)=>$.forEach(u,(p,m)=>o(p,m,d));if($.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if($.isString(e)&&(e=e.trim())&&!p_(e))l(d_(e),r);else if($.isObject(e)&&$.isIterable(e)){let u={},d,p;for(const m of e){if(!$.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[p=m[0]]=(d=u[p])?$.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(u,r)}else e!=null&&o(r,e,n);return this}get(e,r){if(e=Ko(e),e){const n=$.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return h_(a);if($.isFunction(r))return r.call(this,a,n);if($.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ko(e),e){const n=$.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Gf(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function o(l){if(l=Ko(l),l){const u=$.findKey(n,l);u&&(!r||Gf(n,n[u],u,r))&&(delete n[u],a=!0)}}return $.isArray(e)?e.forEach(o):o(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!e||Gf(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const r=this,n={};return $.forEach(this,(a,o)=>{const l=$.findKey(n,o);if(l){r[l]=Gl(a),delete r[o];return}const u=e?v_(o):String(o).trim();u!==o&&delete r[o],r[u]=Gl(a),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return $.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&$.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[yv]=this[yv]={accessors:{}}).accessors,a=this.prototype;function o(l){const u=Ko(l);n[u]||(m_(a,l),n[u]=!0)}return $.isArray(e)?e.forEach(o):o(e),this}};Er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Er.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});$.freezeMethods(Er);function Zf(t,e){const r=this||xs,n=e||r,a=Er.from(n.headers);let o=n.data;return $.forEach(t,function(u){o=u.call(r,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function px(t){return!!(t&&t.__CANCEL__)}function qi(t,e,r){Me.call(this,t??"canceled",Me.ERR_CANCELED,e,r),this.name="CanceledError"}$.inherits(qi,Me,{__CANCEL__:!0});function vx(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Me("Request failed with status code "+r.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function x_(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function g_(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),m=n[o];l||(l=p),r[a]=d,n[a]=p;let x=o,y=0;for(;x!==a;)y+=r[x++],x=x%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),p-l<e)return;const b=m&&p-m;return b?Math.round(y*1e3/b):void 0}}function y_(t,e){let r=0,n=1e3/e,a,o;const l=(p,m=Date.now())=>{r=m,a=null,o&&(clearTimeout(o),o=null),t.apply(null,p)};return[(...p)=>{const m=Date.now(),x=m-r;x>=n?l(p,m):(a=p,o||(o=setTimeout(()=>{o=null,l(a)},n-x)))},()=>a&&l(a)]}const Ql=(t,e,r=3)=>{let n=0;const a=g_(50,250);return y_(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,p=a(d),m=l<=u;n=l;const x={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:p||void 0,estimated:p&&u&&m?(u-l)/p:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(x)},r)},bv=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},_v=t=>(...e)=>$.asap(()=>t(...e)),b_=sr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,sr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(sr.origin),sr.navigator&&/(msie|trident)/i.test(sr.navigator.userAgent)):()=>!0,__=sr.hasStandardBrowserEnv?{write(t,e,r,n,a,o){const l=[t+"="+encodeURIComponent(e)];$.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),$.isString(n)&&l.push("path="+n),$.isString(a)&&l.push("domain="+a),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function w_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function A_(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mx(t,e,r){let n=!w_(e);return t&&(n||r==!1)?A_(t,e):e}const wv=t=>t instanceof Er?{...t}:t;function Za(t,e){e=e||{};const r={};function n(p,m,x,y){return $.isPlainObject(p)&&$.isPlainObject(m)?$.merge.call({caseless:y},p,m):$.isPlainObject(m)?$.merge({},m):$.isArray(m)?m.slice():m}function a(p,m,x,y){if($.isUndefined(m)){if(!$.isUndefined(p))return n(void 0,p,x,y)}else return n(p,m,x,y)}function o(p,m){if(!$.isUndefined(m))return n(void 0,m)}function l(p,m){if($.isUndefined(m)){if(!$.isUndefined(p))return n(void 0,p)}else return n(void 0,m)}function u(p,m,x){if(x in e)return n(p,m);if(x in t)return n(void 0,p)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(p,m,x)=>a(wv(p),wv(m),x,!0)};return $.forEach(Object.keys(Object.assign({},t,e)),function(m){const x=d[m]||a,y=x(t[m],e[m],m);$.isUndefined(y)&&x!==u||(r[m]=y)}),r}const xx=t=>{const e=Za({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Er.from(l),e.url=fx(mx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if($.isFormData(r)){if(sr.hasStandardBrowserEnv||sr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,...m]=d?d.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...m].join("; "))}}if(sr.hasStandardBrowserEnv&&(n&&$.isFunction(n)&&(n=n(e)),n||n!==!1&&b_(e.url))){const p=a&&o&&__.read(o);p&&l.set(a,p)}return e},E_=typeof XMLHttpRequest<"u",S_=E_&&function(t){return new Promise(function(r,n){const a=xx(t);let o=a.data;const l=Er.from(a.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:p}=a,m,x,y,b,_;function w(){b&&b(),_&&_(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function T(){if(!S)return;const N=Er.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),I={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:N,config:t,request:S};vx(function(Y){r(Y),w()},function(Y){n(Y),w()},I),S=null}"onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(n(new Me("Request aborted",Me.ECONNABORTED,t,S)),S=null)},S.onerror=function(){n(new Me("Network Error",Me.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let D=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const I=a.transitional||dx;a.timeoutErrorMessage&&(D=a.timeoutErrorMessage),n(new Me(D,I.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,S)),S=null},o===void 0&&l.setContentType(null),"setRequestHeader"in S&&$.forEach(l.toJSON(),function(D,I){S.setRequestHeader(I,D)}),$.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),u&&u!=="json"&&(S.responseType=a.responseType),p&&([y,_]=Ql(p,!0),S.addEventListener("progress",y)),d&&S.upload&&([x,b]=Ql(d),S.upload.addEventListener("progress",x),S.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(m=N=>{S&&(n(!N||N.type?new qi(null,t,S):N),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const E=x_(a.url);if(E&&sr.protocols.indexOf(E)===-1){n(new Me("Unsupported protocol "+E+":",Me.ERR_BAD_REQUEST,t));return}S.send(o||null)})},C_=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const o=function(p){if(!a){a=!0,u();const m=p instanceof Error?p:this.reason;n.abort(m instanceof Me?m:new qi(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),t=null)};t.forEach(p=>p.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>$.asap(u),d}},N_=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},O_=async function*(t,e){for await(const r of T_(t))yield*N_(r,e)},T_=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Av=(t,e,r,n)=>{const a=O_(t,e);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:m}=await a.next();if(p){u(),d.close();return}let x=m.byteLength;if(r){let y=o+=x;r(y)}d.enqueue(new Uint8Array(m))}catch(p){throw u(p),p}},cancel(d){return u(d),a.return()}},{highWaterMark:2})},hc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gx=hc&&typeof ReadableStream=="function",D_=hc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),yx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},R_=gx&&yx(()=>{let t=!1;const e=new Request(sr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ev=64*1024,fd=gx&&yx(()=>$.isReadableStream(new Response("").body)),Jl={stream:fd&&(t=>t.body)};hc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jl[e]&&(Jl[e]=$.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,n)})})})(new Response);const j_=async t=>{if(t==null)return 0;if($.isBlob(t))return t.size;if($.isSpecCompliantForm(t))return(await new Request(sr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if($.isArrayBufferView(t)||$.isArrayBuffer(t))return t.byteLength;if($.isURLSearchParams(t)&&(t=t+""),$.isString(t))return(await D_(t)).byteLength},I_=async(t,e)=>{const r=$.toFiniteNumber(t.getContentLength());return r??j_(e)},M_=hc&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:p,headers:m,withCredentials:x="same-origin",fetchOptions:y}=xx(t);p=p?(p+"").toLowerCase():"text";let b=C_([a,o&&o.toAbortSignal()],l),_;const w=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let S;try{if(d&&R_&&r!=="get"&&r!=="head"&&(S=await I_(m,n))!==0){let I=new Request(e,{method:"POST",body:n,duplex:"half"}),U;if($.isFormData(n)&&(U=I.headers.get("content-type"))&&m.setContentType(U),I.body){const[Y,q]=bv(S,Ql(_v(d)));n=Av(I.body,Ev,Y,q)}}$.isString(x)||(x=x?"include":"omit");const T="credentials"in Request.prototype;_=new Request(e,{...y,signal:b,method:r.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:T?x:void 0});let E=await fetch(_,y);const N=fd&&(p==="stream"||p==="response");if(fd&&(u||N&&w)){const I={};["status","statusText","headers"].forEach(J=>{I[J]=E[J]});const U=$.toFiniteNumber(E.headers.get("content-length")),[Y,q]=u&&bv(U,Ql(_v(u),!0))||[];E=new Response(Av(E.body,Ev,Y,()=>{q&&q(),w&&w()}),I)}p=p||"text";let D=await Jl[$.findKey(Jl,p)||"text"](E,t);return!N&&w&&w(),await new Promise((I,U)=>{vx(I,U,{data:D,headers:Er.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:_})})}catch(T){throw w&&w(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,t,_),{cause:T.cause||T}):Me.from(T,T&&T.code,t,_)}}),dd={http:$b,xhr:S_,fetch:M_};$.forEach(dd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Sv=t=>`- ${t}`,B_=t=>$.isFunction(t)||t===null||t===!1,bx={getAdapter:t=>{t=$.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let o=0;o<e;o++){r=t[o];let l;if(n=r,!B_(r)&&(n=dd[(l=String(r)).toLowerCase()],n===void 0))throw new Me(`Unknown adapter '${l}'`);if(n)break;a[l||"#"+o]=n}if(!n){const o=Object.entries(a).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(Sv).join(`
`):" "+Sv(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:dd};function Xf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qi(null,t)}function Cv(t){return Xf(t),t.headers=Er.from(t.headers),t.data=Zf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),bx.getAdapter(t.adapter||xs.adapter)(t).then(function(n){return Xf(t),n.data=Zf.call(t,t.transformResponse,n),n.headers=Er.from(n.headers),n},function(n){return px(n)||(Xf(t),n&&n.response&&(n.response.data=Zf.call(t,t.transformResponse,n.response),n.response.headers=Er.from(n.response.headers))),Promise.reject(n)})}const _x="1.10.0",pc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pc[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Nv={};pc.transitional=function(e,r,n){function a(o,l){return"[Axios v"+_x+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(e===!1)throw new Me(a(l," has been removed"+(r?" in "+r:"")),Me.ERR_DEPRECATED);return r&&!Nv[l]&&(Nv[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,l,u):!0}};pc.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function P_(t,e,r){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const o=n[a],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new Me("option "+o+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const Zl={assertOptions:P_,validators:pc},vn=Zl.validators;let Ha=class{constructor(e){this.defaults=e||{},this.interceptors={request:new gv,response:new gv}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Za(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&Zl.assertOptions(n,{silentJSONParsing:vn.transitional(vn.boolean),forcedJSONParsing:vn.transitional(vn.boolean),clarifyTimeoutError:vn.transitional(vn.boolean)},!1),a!=null&&($.isFunction(a)?r.paramsSerializer={serialize:a}:Zl.assertOptions(a,{encode:vn.function,serialize:vn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Zl.assertOptions(r,{baseUrl:vn.spelling("baseURL"),withXsrfToken:vn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&$.merge(o.common,o[r.method]);o&&$.forEach(["delete","get","head","post","put","patch","common"],_=>{delete o[_]}),r.headers=Er.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(d=d&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const p=[];this.interceptors.response.forEach(function(w){p.push(w.fulfilled,w.rejected)});let m,x=0,y;if(!d){const _=[Cv.bind(this),void 0];for(_.unshift.apply(_,u),_.push.apply(_,p),y=_.length,m=Promise.resolve(r);x<y;)m=m.then(_[x++],_[x++]);return m}y=u.length;let b=r;for(x=0;x<y;){const _=u[x++],w=u[x++];try{b=_(b)}catch(S){w.call(this,S);break}}try{m=Cv.call(this,b)}catch(_){return Promise.reject(_)}for(x=0,y=p.length;x<y;)m=m.then(p[x++],p[x++]);return m}getUri(e){e=Za(this.defaults,e);const r=mx(e.baseURL,e.url,e.allowAbsoluteUrls);return fx(r,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){Ha.prototype[e]=function(r,n){return this.request(Za(n||{},{method:e,url:r,data:(n||{}).data}))}});$.forEach(["post","put","patch"],function(e){function r(n){return function(o,l,u){return this.request(Za(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Ha.prototype[e]=r(),Ha.prototype[e+"Form"]=r(!0)});let L_=class wx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(a);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,u){n.reason||(n.reason=new qi(o,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new wx(function(a){e=a}),cancel:e}}};function k_(t){return function(r){return t.apply(null,r)}}function F_(t){return $.isObject(t)&&t.isAxiosError===!0}const hd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hd).forEach(([t,e])=>{hd[e]=t});function Ax(t){const e=new Ha(t),r=Jm(Ha.prototype.request,e);return $.extend(r,Ha.prototype,e,{allOwnKeys:!0}),$.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return Ax(Za(t,a))},r}const Ct=Ax(xs);Ct.Axios=Ha;Ct.CanceledError=qi;Ct.CancelToken=L_;Ct.isCancel=px;Ct.VERSION=_x;Ct.toFormData=dc;Ct.AxiosError=Me;Ct.Cancel=Ct.CanceledError;Ct.all=function(e){return Promise.all(e)};Ct.spread=k_;Ct.isAxiosError=F_;Ct.mergeConfig=Za;Ct.AxiosHeaders=Er;Ct.formToJSON=t=>hx($.isHTMLForm(t)?new FormData(t):t);Ct.getAdapter=bx.getAdapter;Ct.HttpStatusCode=hd;Ct.default=Ct;const{Axios:OC,AxiosError:TC,CanceledError:DC,isCancel:RC,CancelToken:jC,VERSION:IC,all:MC,Cancel:BC,isAxiosError:PC,spread:LC,toFormData:kC,AxiosHeaders:FC,HttpStatusCode:UC,formToJSON:zC,getAdapter:VC,mergeConfig:HC}=Ct,U_="https://henrydiagnostics-production.up.railway.app",Se=Ct.create({baseURL:`${U_}/api`,headers:{"Content-Type":"application/json"}});Se.interceptors.request.use(t=>{const e=localStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});Se.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)));const qf={login:async t=>(await Se.post("/auth/login",t)).data,logout:async()=>{const t=await Se.post("/auth/logout");return localStorage.removeItem("auth_token"),localStorage.removeItem("user"),t.data},getProfile:async()=>(await Se.get("/auth/profile")).data,changePassword:async t=>(await Se.put("/auth/change-password",t)).data},Ex=W.createContext(null),z_=({children:t})=>{const[e,r]=W.useState(null),[n,a]=W.useState(!0);W.useEffect(()=>{(async()=>{const p=localStorage.getItem("auth_token"),m=localStorage.getItem("user");if(p&&m)try{const x=await qf.getProfile();r(x.user)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}a(!1)})()},[]);const u={user:e,isLoading:n,login:async d=>{try{const p=await qf.login(d);localStorage.setItem("auth_token",p.token),localStorage.setItem("user",JSON.stringify(p.user)),r(p.user)}catch(p){throw p}},logout:async()=>{try{await qf.logout()}catch(d){console.error("Error during logout:",d)}finally{r(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},isAuthenticated:!!e};return h.jsx(Ex.Provider,{value:u,children:t})},bn=()=>{const t=W.useContext(Ex);if(!t)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return t};var gs=t=>t.type==="checkbox",za=t=>t instanceof Date,hr=t=>t==null;const Sx=t=>typeof t=="object";var St=t=>!hr(t)&&!Array.isArray(t)&&Sx(t)&&!za(t),V_=t=>St(t)&&t.target?gs(t.target)?t.target.checked:t.target.value:t,H_=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,G_=(t,e)=>t.has(H_(e)),Z_=t=>{const e=t.constructor&&t.constructor.prototype;return St(e)&&e.hasOwnProperty("isPrototypeOf")},Vd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Vd&&(t instanceof Blob||n))&&(r||St(t)))if(e=r?[]:{},!r&&!Z_(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Zt(t[a]));else return t;return e}var vc=t=>/^\w*$/.test(t),Rt=t=>t===void 0,Hd=t=>Array.isArray(t)?t.filter(Boolean):[],Gd=t=>Hd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(t,e,r)=>{if(!e||!St(t))return r;const n=(vc(e)?[e]:Gd(e)).reduce((a,o)=>hr(a)?a:a[o],t);return Rt(n)||n===t?Rt(t[e])?r:t[e]:n},mn=t=>typeof t=="boolean",lt=(t,e,r)=>{let n=-1;const a=vc(e)?[e]:Gd(e),o=a.length,l=o-1;for(;++n<o;){const u=a[n];let d=r;if(n!==l){const p=t[u];d=St(p)||Array.isArray(p)?p:isNaN(+a[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}};const Ov={BLUR:"blur",FOCUS_OUT:"focusout"},nn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ln={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},X_=en.createContext(null);X_.displayName="HookFormContext";var q_=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(a,o,{get:()=>{const l=o;return e._proxyFormState[l]!==nn.all&&(e._proxyFormState[l]=!n||nn.all),t[l]}});return a};const Y_=typeof window<"u"?W.useLayoutEffect:W.useEffect;var xn=t=>typeof t=="string",$_=(t,e,r,n,a)=>xn(t)?(n&&e.watch.add(t),we(r,t,a)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),we(r,o))):(n&&(e.watchAll=!0),r),Zd=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},ls=t=>Array.isArray(t)?t:[t],Tv=()=>{let t=[];return{get observers(){return t},next:a=>{for(const o of t)o.next&&o.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(o=>o!==a)}}),unsubscribe:()=>{t=[]}}},pd=t=>hr(t)||!Sx(t);function ha(t,e,r=new WeakSet){if(pd(t)||pd(e))return t===e;if(za(t)&&za(e))return t.getTime()===e.getTime();const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const o of n){const l=t[o];if(!a.includes(o))return!1;if(o!=="ref"){const u=e[o];if(za(l)&&za(u)||St(l)&&St(u)||Array.isArray(l)&&Array.isArray(u)?!ha(l,u,r):l!==u)return!1}}return!0}var _r=t=>St(t)&&!Object.keys(t).length,Xd=t=>t.type==="file",an=t=>typeof t=="function",ec=t=>{if(!Vd)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Cx=t=>t.type==="select-multiple",qd=t=>t.type==="radio",K_=t=>qd(t)||gs(t),Yf=t=>ec(t)&&t.isConnected;function W_(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Rt(t)?n++:t[e[n++]];return t}function Q_(t){for(const e in t)if(t.hasOwnProperty(e)&&!Rt(t[e]))return!1;return!0}function Dt(t,e){const r=Array.isArray(e)?e:vc(e)?[e]:Gd(e),n=r.length===1?t:W_(t,r),a=r.length-1,o=r[a];return n&&delete n[o],a!==0&&(St(n)&&_r(n)||Array.isArray(n)&&Q_(n))&&Dt(t,r.slice(0,-1)),t}var Nx=t=>{for(const e in t)if(an(t[e]))return!0;return!1};function tc(t,e={}){const r=Array.isArray(t);if(St(t)||r)for(const n in t)Array.isArray(t[n])||St(t[n])&&!Nx(t[n])?(e[n]=Array.isArray(t[n])?[]:{},tc(t[n],e[n])):hr(t[n])||(e[n]=!0);return e}function Ox(t,e,r){const n=Array.isArray(t);if(St(t)||n)for(const a in t)Array.isArray(t[a])||St(t[a])&&!Nx(t[a])?Rt(e)||pd(r[a])?r[a]=Array.isArray(t[a])?tc(t[a],[]):{...tc(t[a])}:Ox(t[a],hr(e)?{}:e[a],r[a]):r[a]=!ha(t[a],e[a]);return r}var Wo=(t,e)=>Ox(t,e,tc(e));const Dv={value:!1,isValid:!1},Rv={value:!0,isValid:!0};var Tx=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Rt(t[0].attributes.value)?Rt(t[0].value)||t[0].value===""?Rv:{value:t[0].value,isValid:!0}:Rv:Dv}return Dv},Dx=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Rt(t)?t:e?t===""?NaN:t&&+t:r&&xn(t)?new Date(t):n?n(t):t;const jv={isValid:!1,value:null};var Rx=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,jv):jv;function Iv(t){const e=t.ref;return Xd(e)?e.files:qd(e)?Rx(t.refs).value:Cx(e)?[...e.selectedOptions].map(({value:r})=>r):gs(e)?Tx(t.refs).value:Dx(Rt(e.value)?t.ref.value:e.value,t)}var J_=(t,e,r,n)=>{const a={};for(const o of t){const l=we(e,o);l&&lt(a,o,l._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},rc=t=>t instanceof RegExp,Qo=t=>Rt(t)?t:rc(t)?t.source:St(t)?rc(t.value)?t.value.source:t.value:t,Mv=t=>({isOnSubmit:!t||t===nn.onSubmit,isOnBlur:t===nn.onBlur,isOnChange:t===nn.onChange,isOnAll:t===nn.all,isOnTouch:t===nn.onTouched});const Bv="AsyncFunction";var e3=t=>!!t&&!!t.validate&&!!(an(t.validate)&&t.validate.constructor.name===Bv||St(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Bv)),t3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Pv=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const cs=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const o=we(t,a);if(o){const{_f:l,...u}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],a)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(cs(u,e))break}else if(St(u)&&cs(u,e))break}}};function Lv(t,e,r){const n=we(t,r);if(n||vc(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),l=we(e,o),u=we(t,o);if(l&&!Array.isArray(l)&&r!==o)return{name:r};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};a.pop()}return{name:r}}var r3=(t,e,r,n)=>{r(t);const{name:a,...o}=t;return _r(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===(!n||nn.all))},n3=(t,e,r)=>!t||!e||t===e||ls(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),a3=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,i3=(t,e)=>!Hd(we(t,e)).length&&Dt(t,e),o3=(t,e,r)=>{const n=ls(we(t,r));return lt(n,"root",e[r]),lt(t,r,n),t},Xl=t=>xn(t);function kv(t,e,r="validate"){if(Xl(t)||Array.isArray(t)&&t.every(Xl)||mn(t)&&!t)return{type:r,message:Xl(t)?t:"",ref:e}}var Fi=t=>St(t)&&!rc(t)?t:{value:t,message:""},Fv=async(t,e,r,n,a,o)=>{const{ref:l,refs:u,required:d,maxLength:p,minLength:m,min:x,max:y,pattern:b,validate:_,name:w,valueAsNumber:S,mount:T}=t._f,E=we(r,w);if(!T||e.has(w))return{};const N=u?u[0]:l,D=le=>{a&&N.reportValidity&&(N.setCustomValidity(mn(le)?"":le||""),N.reportValidity())},I={},U=qd(l),Y=gs(l),q=U||Y,J=(S||Xd(l))&&Rt(l.value)&&Rt(E)||ec(l)&&l.value===""||E===""||Array.isArray(E)&&!E.length,se=Zd.bind(null,w,n,I),xe=(le,ve,ue,de=Ln.maxLength,P=Ln.minLength)=>{const oe=le?ve:ue;I[w]={type:le?de:P,message:oe,ref:l,...se(le?de:P,oe)}};if(o?!Array.isArray(E)||!E.length:d&&(!q&&(J||hr(E))||mn(E)&&!E||Y&&!Tx(u).isValid||U&&!Rx(u).isValid)){const{value:le,message:ve}=Xl(d)?{value:!!d,message:d}:Fi(d);if(le&&(I[w]={type:Ln.required,message:ve,ref:N,...se(Ln.required,ve)},!n))return D(ve),I}if(!J&&(!hr(x)||!hr(y))){let le,ve;const ue=Fi(y),de=Fi(x);if(!hr(E)&&!isNaN(E)){const P=l.valueAsNumber||E&&+E;hr(ue.value)||(le=P>ue.value),hr(de.value)||(ve=P<de.value)}else{const P=l.valueAsDate||new Date(E),oe=j=>new Date(new Date().toDateString()+" "+j),F=l.type=="time",ye=l.type=="week";xn(ue.value)&&E&&(le=F?oe(E)>oe(ue.value):ye?E>ue.value:P>new Date(ue.value)),xn(de.value)&&E&&(ve=F?oe(E)<oe(de.value):ye?E<de.value:P<new Date(de.value))}if((le||ve)&&(xe(!!le,ue.message,de.message,Ln.max,Ln.min),!n))return D(I[w].message),I}if((p||m)&&!J&&(xn(E)||o&&Array.isArray(E))){const le=Fi(p),ve=Fi(m),ue=!hr(le.value)&&E.length>+le.value,de=!hr(ve.value)&&E.length<+ve.value;if((ue||de)&&(xe(ue,le.message,ve.message),!n))return D(I[w].message),I}if(b&&!J&&xn(E)){const{value:le,message:ve}=Fi(b);if(rc(le)&&!E.match(le)&&(I[w]={type:Ln.pattern,message:ve,ref:l,...se(Ln.pattern,ve)},!n))return D(ve),I}if(_){if(an(_)){const le=await _(E,r),ve=kv(le,N);if(ve&&(I[w]={...ve,...se(Ln.validate,ve.message)},!n))return D(ve.message),I}else if(St(_)){let le={};for(const ve in _){if(!_r(le)&&!n)break;const ue=kv(await _[ve](E,r),N,ve);ue&&(le={...ue,...se(ve,ue.message)},D(ue.message),n&&(I[w]=le))}if(!_r(le)&&(I[w]={ref:N,...le},!n))return I}}return D(!0),I};const s3={mode:nn.onSubmit,reValidateMode:nn.onChange,shouldFocusError:!0};function l3(t={}){let e={...s3,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:an(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=St(e.defaultValues)||St(e.values)?Zt(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Zt(a),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,p=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...m};const y={array:Tv(),state:Tv()},b=e.criteriaMode===nn.all,_=M=>G=>{clearTimeout(p),p=setTimeout(M,G)},w=async M=>{if(!e.disabled&&(m.isValid||x.isValid||M)){const G=e.resolver?_r((await Y()).errors):await J(n,!0);G!==r.isValid&&y.state.next({isValid:G})}},S=(M,G)=>{!e.disabled&&(m.isValidating||m.validatingFields||x.isValidating||x.validatingFields)&&((M||Array.from(u.mount)).forEach(ee=>{ee&&(G?lt(r.validatingFields,ee,G):Dt(r.validatingFields,ee))}),y.state.next({validatingFields:r.validatingFields,isValidating:!_r(r.validatingFields)}))},T=(M,G=[],ee,ge,he=!0,ce=!0)=>{if(ge&&ee&&!e.disabled){if(l.action=!0,ce&&Array.isArray(we(n,M))){const Ee=ee(we(n,M),ge.argA,ge.argB);he&&lt(n,M,Ee)}if(ce&&Array.isArray(we(r.errors,M))){const Ee=ee(we(r.errors,M),ge.argA,ge.argB);he&&lt(r.errors,M,Ee),i3(r.errors,M)}if((m.touchedFields||x.touchedFields)&&ce&&Array.isArray(we(r.touchedFields,M))){const Ee=ee(we(r.touchedFields,M),ge.argA,ge.argB);he&&lt(r.touchedFields,M,Ee)}(m.dirtyFields||x.dirtyFields)&&(r.dirtyFields=Wo(a,o)),y.state.next({name:M,isDirty:xe(M,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else lt(o,M,G)},E=(M,G)=>{lt(r.errors,M,G),y.state.next({errors:r.errors})},N=M=>{r.errors=M,y.state.next({errors:r.errors,isValid:!1})},D=(M,G,ee,ge)=>{const he=we(n,M);if(he){const ce=we(o,M,Rt(ee)?we(a,M):ee);Rt(ce)||ge&&ge.defaultChecked||G?lt(o,M,G?ce:Iv(he._f)):ue(M,ce),l.mount&&w()}},I=(M,G,ee,ge,he)=>{let ce=!1,Ee=!1;const Ie={name:M};if(!e.disabled){if(!ee||ge){(m.isDirty||x.isDirty)&&(Ee=r.isDirty,r.isDirty=Ie.isDirty=xe(),ce=Ee!==Ie.isDirty);const Ve=ha(we(a,M),G);Ee=!!we(r.dirtyFields,M),Ve?Dt(r.dirtyFields,M):lt(r.dirtyFields,M,!0),Ie.dirtyFields=r.dirtyFields,ce=ce||(m.dirtyFields||x.dirtyFields)&&Ee!==!Ve}if(ee){const Ve=we(r.touchedFields,M);Ve||(lt(r.touchedFields,M,ee),Ie.touchedFields=r.touchedFields,ce=ce||(m.touchedFields||x.touchedFields)&&Ve!==ee)}ce&&he&&y.state.next(Ie)}return ce?Ie:{}},U=(M,G,ee,ge)=>{const he=we(r.errors,M),ce=(m.isValid||x.isValid)&&mn(G)&&r.isValid!==G;if(e.delayError&&ee?(d=_(()=>E(M,ee)),d(e.delayError)):(clearTimeout(p),d=null,ee?lt(r.errors,M,ee):Dt(r.errors,M)),(ee?!ha(he,ee):he)||!_r(ge)||ce){const Ee={...ge,...ce&&mn(G)?{isValid:G}:{},errors:r.errors,name:M};r={...r,...Ee},y.state.next(Ee)}},Y=async M=>{S(M,!0);const G=await e.resolver(o,e.context,J_(M||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return S(M),G},q=async M=>{const{errors:G}=await Y(M);if(M)for(const ee of M){const ge=we(G,ee);ge?lt(r.errors,ee,ge):Dt(r.errors,ee)}else r.errors=G;return G},J=async(M,G,ee={valid:!0})=>{for(const ge in M){const he=M[ge];if(he){const{_f:ce,...Ee}=he;if(ce){const Ie=u.array.has(ce.name),Ve=he._f&&e3(he._f);Ve&&m.validatingFields&&S([ge],!0);const ct=await Fv(he,u.disabled,o,b,e.shouldUseNativeValidation&&!G,Ie);if(Ve&&m.validatingFields&&S([ge]),ct[ce.name]&&(ee.valid=!1,G))break;!G&&(we(ct,ce.name)?Ie?o3(r.errors,ct,ce.name):lt(r.errors,ce.name,ct[ce.name]):Dt(r.errors,ce.name))}!_r(Ee)&&await J(Ee,G,ee)}}return ee.valid},se=()=>{for(const M of u.unMount){const G=we(n,M);G&&(G._f.refs?G._f.refs.every(ee=>!Yf(ee)):!Yf(G._f.ref))&&bt(M)}u.unMount=new Set},xe=(M,G)=>!e.disabled&&(M&&G&&lt(o,M,G),!ha(j(),a)),le=(M,G,ee)=>$_(M,u,{...l.mount?o:Rt(G)?a:xn(M)?{[M]:G}:G},ee,G),ve=M=>Hd(we(l.mount?o:a,M,e.shouldUnregister?we(a,M,[]):[])),ue=(M,G,ee={})=>{const ge=we(n,M);let he=G;if(ge){const ce=ge._f;ce&&(!ce.disabled&&lt(o,M,Dx(G,ce)),he=ec(ce.ref)&&hr(G)?"":G,Cx(ce.ref)?[...ce.ref.options].forEach(Ee=>Ee.selected=he.includes(Ee.value)):ce.refs?gs(ce.ref)?ce.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(he)?Ee.checked=!!he.find(Ie=>Ie===Ee.value):Ee.checked=he===Ee.value||!!he)}):ce.refs.forEach(Ee=>Ee.checked=Ee.value===he):Xd(ce.ref)?ce.ref.value="":(ce.ref.value=he,ce.ref.type||y.state.next({name:M,values:Zt(o)})))}(ee.shouldDirty||ee.shouldTouch)&&I(M,he,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&ye(M)},de=(M,G,ee)=>{for(const ge in G){if(!G.hasOwnProperty(ge))return;const he=G[ge],ce=M+"."+ge,Ee=we(n,ce);(u.array.has(M)||St(he)||Ee&&!Ee._f)&&!za(he)?de(ce,he,ee):ue(ce,he,ee)}},P=(M,G,ee={})=>{const ge=we(n,M),he=u.array.has(M),ce=Zt(G);lt(o,M,ce),he?(y.array.next({name:M,values:Zt(o)}),(m.isDirty||m.dirtyFields||x.isDirty||x.dirtyFields)&&ee.shouldDirty&&y.state.next({name:M,dirtyFields:Wo(a,o),isDirty:xe(M,ce)})):ge&&!ge._f&&!hr(ce)?de(M,ce,ee):ue(M,ce,ee),Pv(M,u)&&y.state.next({...r}),y.state.next({name:l.mount?M:void 0,values:Zt(o)})},oe=async M=>{l.mount=!0;const G=M.target;let ee=G.name,ge=!0;const he=we(n,ee),ce=Ve=>{ge=Number.isNaN(Ve)||za(Ve)&&isNaN(Ve.getTime())||ha(Ve,we(o,ee,Ve))},Ee=Mv(e.mode),Ie=Mv(e.reValidateMode);if(he){let Ve,ct;const Ja=G.type?Iv(he._f):V_(M),cn=M.type===Ov.BLUR||M.type===Ov.FOCUS_OUT,Ec=!t3(he._f)&&!e.resolver&&!we(r.errors,ee)&&!he._f.deps||a3(cn,we(r.touchedFields,ee),r.isSubmitted,Ie,Ee),Fn=Pv(ee,u,cn);lt(o,ee,Ja),cn?(he._f.onBlur&&he._f.onBlur(M),d&&d(0)):he._f.onChange&&he._f.onChange(M);const Un=I(ee,Ja,cn),_n=!_r(Un)||Fn;if(!cn&&y.state.next({name:ee,type:M.type,values:Zt(o)}),Ec)return(m.isValid||x.isValid)&&(e.mode==="onBlur"?cn&&w():cn||w()),_n&&y.state.next({name:ee,...Fn?{}:Un});if(!cn&&Fn&&y.state.next({...r}),e.resolver){const{errors:ga}=await Y([ee]);if(ce(Ja),ge){const ya=Lv(r.errors,n,ee),ws=Lv(ga,n,ya.name||ee);Ve=ws.error,ee=ws.name,ct=_r(ga)}}else S([ee],!0),Ve=(await Fv(he,u.disabled,o,b,e.shouldUseNativeValidation))[ee],S([ee]),ce(Ja),ge&&(Ve?ct=!1:(m.isValid||x.isValid)&&(ct=await J(n,!0)));ge&&(he._f.deps&&ye(he._f.deps),U(ee,ct,Ve,Un))}},F=(M,G)=>{if(we(r.errors,G)&&M.focus)return M.focus(),1},ye=async(M,G={})=>{let ee,ge;const he=ls(M);if(e.resolver){const ce=await q(Rt(M)?M:he);ee=_r(ce),ge=M?!he.some(Ee=>we(ce,Ee)):ee}else M?(ge=(await Promise.all(he.map(async ce=>{const Ee=we(n,ce);return await J(Ee&&Ee._f?{[ce]:Ee}:Ee)}))).every(Boolean),!(!ge&&!r.isValid)&&w()):ge=ee=await J(n);return y.state.next({...!xn(M)||(m.isValid||x.isValid)&&ee!==r.isValid?{}:{name:M},...e.resolver||!M?{isValid:ee}:{},errors:r.errors}),G.shouldFocus&&!ge&&cs(n,F,M?he:u.mount),ge},j=M=>{const G={...l.mount?o:a};return Rt(M)?G:xn(M)?we(G,M):M.map(ee=>we(G,ee))},ie=(M,G)=>({invalid:!!we((G||r).errors,M),isDirty:!!we((G||r).dirtyFields,M),error:we((G||r).errors,M),isValidating:!!we(r.validatingFields,M),isTouched:!!we((G||r).touchedFields,M)}),me=M=>{M&&ls(M).forEach(G=>Dt(r.errors,G)),y.state.next({errors:M?r.errors:{}})},pe=(M,G,ee)=>{const ge=(we(n,M,{_f:{}})._f||{}).ref,he=we(r.errors,M)||{},{ref:ce,message:Ee,type:Ie,...Ve}=he;lt(r.errors,M,{...Ve,...G,ref:ge}),y.state.next({name:M,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&ge&&ge.focus&&ge.focus()},H=(M,G)=>an(M)?y.state.subscribe({next:ee=>M(le(void 0,G),ee)}):le(M,G,!0),re=M=>y.state.subscribe({next:G=>{n3(M.name,G.name,M.exact)&&r3(G,M.formState||m,Lr,M.reRenderRoot)&&M.callback({values:{...o},...r,...G})}}).unsubscribe,be=M=>(l.mount=!0,x={...x,...M.formState},re({...M,formState:x})),bt=(M,G={})=>{for(const ee of M?ls(M):u.mount)u.mount.delete(ee),u.array.delete(ee),G.keepValue||(Dt(n,ee),Dt(o,ee)),!G.keepError&&Dt(r.errors,ee),!G.keepDirty&&Dt(r.dirtyFields,ee),!G.keepTouched&&Dt(r.touchedFields,ee),!G.keepIsValidating&&Dt(r.validatingFields,ee),!e.shouldUnregister&&!G.keepDefaultValue&&Dt(a,ee);y.state.next({values:Zt(o)}),y.state.next({...r,...G.keepDirty?{isDirty:xe()}:{}}),!G.keepIsValid&&w()},Ye=({disabled:M,name:G})=>{(mn(M)&&l.mount||M||u.disabled.has(G))&&(M?u.disabled.add(G):u.disabled.delete(G))},Pr=(M,G={})=>{let ee=we(n,M);const ge=mn(G.disabled)||mn(e.disabled);return lt(n,M,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:M}},name:M,mount:!0,...G}}),u.mount.add(M),ee?Ye({disabled:mn(G.disabled)?G.disabled:e.disabled,name:M}):D(M,!0,G.value),{...ge?{disabled:G.disabled||e.disabled}:{},...e.progressive?{required:!!G.required,min:Qo(G.min),max:Qo(G.max),minLength:Qo(G.minLength),maxLength:Qo(G.maxLength),pattern:Qo(G.pattern)}:{},name:M,onChange:oe,onBlur:oe,ref:he=>{if(he){Pr(M,G),ee=we(n,M);const ce=Rt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Ee=K_(ce),Ie=ee._f.refs||[];if(Ee?Ie.find(Ve=>Ve===ce):ce===ee._f.ref)return;lt(n,M,{_f:{...ee._f,...Ee?{refs:[...Ie.filter(Yf),ce,...Array.isArray(we(a,M))?[{}]:[]],ref:{type:ce.type,name:M}}:{ref:ce}}}),D(M,!1,void 0,ce)}else ee=we(n,M,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||G.shouldUnregister)&&!(G_(u.array,M)&&l.action)&&u.unMount.add(M)}}},xa=()=>e.shouldFocusError&&cs(n,F,u.mount),Ka=M=>{mn(M)&&(y.state.next({disabled:M}),cs(n,(G,ee)=>{const ge=we(n,ee);ge&&(G.disabled=ge._f.disabled||M,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(he=>{he.disabled=ge._f.disabled||M}))},0,!1))},Wa=(M,G)=>async ee=>{let ge;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let he=Zt(o);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:Ee}=await Y();r.errors=ce,he=Zt(Ee)}else await J(n);if(u.disabled.size)for(const ce of u.disabled)Dt(he,ce);if(Dt(r.errors,"root"),_r(r.errors)){y.state.next({errors:{}});try{await M(he,ee)}catch(ce){ge=ce}}else G&&await G({...r.errors},ee),xa(),setTimeout(xa);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_r(r.errors)&&!ge,submitCount:r.submitCount+1,errors:r.errors}),ge)throw ge},Ki=(M,G={})=>{we(n,M)&&(Rt(G.defaultValue)?P(M,Zt(we(a,M))):(P(M,G.defaultValue),lt(a,M,Zt(G.defaultValue))),G.keepTouched||Dt(r.touchedFields,M),G.keepDirty||(Dt(r.dirtyFields,M),r.isDirty=G.defaultValue?xe(M,Zt(we(a,M))):xe()),G.keepError||(Dt(r.errors,M),m.isValid&&w()),y.state.next({...r}))},Qa=(M,G={})=>{const ee=M?Zt(M):a,ge=Zt(ee),he=_r(M),ce=he?a:ge;if(G.keepDefaultValues||(a=ee),!G.keepValues){if(G.keepDirtyValues){const Ee=new Set([...u.mount,...Object.keys(Wo(a,o))]);for(const Ie of Array.from(Ee))we(r.dirtyFields,Ie)?lt(ce,Ie,we(o,Ie)):P(Ie,we(ce,Ie))}else{if(Vd&&Rt(M))for(const Ee of u.mount){const Ie=we(n,Ee);if(Ie&&Ie._f){const Ve=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(ec(Ve)){const ct=Ve.closest("form");if(ct){ct.reset();break}}}}if(G.keepFieldsRef)for(const Ee of u.mount)P(Ee,we(ce,Ee));else n={}}o=e.shouldUnregister?G.keepDefaultValues?Zt(a):{}:Zt(ce),y.array.next({values:{...ce}}),y.state.next({values:{...ce}})}u={mount:G.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!G.keepIsValid||!!G.keepDirtyValues,l.watch=!!e.shouldUnregister,y.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:he?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!ha(M,a)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:G.keepDirtyValues?G.keepDefaultValues&&o?Wo(a,o):r.dirtyFields:G.keepDefaultValues&&M?Wo(a,M):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},_s=(M,G)=>Qa(an(M)?M(o):M,G),Ac=(M,G={})=>{const ee=we(n,M),ge=ee&&ee._f;if(ge){const he=ge.refs?ge.refs[0]:ge.ref;he.focus&&(he.focus(),G.shouldSelect&&an(he.select)&&he.select())}},Lr=M=>{r={...r,...M}},Wi={control:{register:Pr,unregister:bt,getFieldState:ie,handleSubmit:Wa,setError:pe,_subscribe:re,_runSchema:Y,_focusError:xa,_getWatch:le,_getDirty:xe,_setValid:w,_setFieldArray:T,_setDisabledField:Ye,_setErrors:N,_getFieldArray:ve,_reset:Qa,_resetDefaultValues:()=>an(e.defaultValues)&&e.defaultValues().then(M=>{_s(M,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:se,_disableForm:Ka,_subjects:y,_proxyFormState:m,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(M){l=M},get _defaultValues(){return a},get _names(){return u},set _names(M){u=M},get _formState(){return r},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:be,trigger:ye,register:Pr,handleSubmit:Wa,watch:H,setValue:P,getValues:j,reset:_s,resetField:Ki,clearErrors:me,unregister:bt,setError:pe,setFocus:Ac,getFieldState:ie};return{...Wi,formControl:Wi}}function kn(t={}){const e=en.useRef(void 0),r=en.useRef(void 0),[n,a]=en.useState({isDirty:!1,isValidating:!1,isLoading:an(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:an(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!an(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...u}=l3(t);e.current={...u,formState:n}}const o=e.current.control;return o._options=t,Y_(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(u=>({...u,isReady:!0})),o._formState.isReady=!0,l},[o]),en.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),en.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),en.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),en.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),en.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),en.useEffect(()=>{t.values&&!ha(t.values,r.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=t.values,a(l=>({...l}))):o._resetDefaultValues()},[o,t.values]),en.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=q_(n,o),e.current}const Uv=(t,e,r)=>{if(t&&"reportValidity"in t){const n=we(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},vd=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Uv(n.ref,r,t):n&&n.refs&&n.refs.forEach(a=>Uv(a,r,t))}},zv=(t,e)=>{e.shouldUseNativeValidation&&vd(t,e);const r={};for(const n in t){const a=we(e.fields,n),o=Object.assign(t[n]||{},{ref:a&&a.ref});if(c3(e.names||Object.keys(t),n)){const l=Object.assign({},we(r,n));lt(l,"root",o),lt(r,n,l)}else lt(r,n,o)}return r},c3=(t,e)=>{const r=Vv(e);return t.some(n=>Vv(n).match(`^${r}\\.\\d+`))};function Vv(t){return t.replace(/\]|\[/g,"")}function ae(t,e,r){function n(u,d){var p;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(p=u._zod).traits??(p.traits=new Set),u._zod.traits.add(t),e(u,d);for(const m in l.prototype)m in u||Object.defineProperty(u,m,{value:l.prototype[m].bind(u)});u._zod.constr=l,u._zod.def=d}const a=r?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function l(u){var d;const p=r?.Parent?new o:this;n(p,u),(d=p._zod).deferred??(d.deferred=[]);for(const m of p._zod.deferred)m();return p}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(t)}),Object.defineProperty(l,"name",{value:t}),l}class ps extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const jx={};function Xa(t){return jx}function u3(t){const e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,a])=>e.indexOf(+n)===-1).map(([n,a])=>a)}function f3(t,e){return typeof e=="bigint"?e.toString():e}function Ix(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Yd(t){return t==null}function $d(t){const e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function d3(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,o=Number.parseInt(t.toFixed(a).replace(".","")),l=Number.parseInt(e.toFixed(a).replace(".",""));return o%l/10**a}function pt(t,e,r){Object.defineProperty(t,e,{get(){{const n=r();return t[e]=n,n}},set(n){Object.defineProperty(t,e,{value:n})},configurable:!0})}function Kd(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Jo(t){return JSON.stringify(t)}const Mx=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function md(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const h3=Ix(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function xd(t){if(md(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(md(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const p3=new Set(["string","number","symbol"]);function mc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ya(t,e,r){const n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function Te(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function v3(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const m3={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function x3(t,e){const r={},n=t._zod.def;for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(r[a]=n.shape[a])}return Ya(t,{...t._zod.def,shape:r,checks:[]})}function g3(t,e){const r={...t._zod.def.shape},n=t._zod.def;for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete r[a]}return Ya(t,{...t._zod.def,shape:r,checks:[]})}function y3(t,e){if(!xd(e))throw new Error("Invalid input to extend: expected a plain object");const r={...t._zod.def,get shape(){const n={...t._zod.def.shape,...e};return Kd(this,"shape",n),n},checks:[]};return Ya(t,r)}function b3(t,e){return Ya(t,{...t._zod.def,get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Kd(this,"shape",r),r},catchall:e._zod.def.catchall,checks:[]})}function _3(t,e,r){const n=e._zod.def.shape,a={...n};if(r)for(const o in r){if(!(o in n))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(a[o]=t?new t({type:"optional",innerType:n[o]}):n[o])}else for(const o in n)a[o]=t?new t({type:"optional",innerType:n[o]}):n[o];return Ya(e,{...e._zod.def,shape:a,checks:[]})}function w3(t,e,r){const n=e._zod.def.shape,a={...n};if(r)for(const o in r){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(a[o]=new t({type:"nonoptional",innerType:n[o]}))}else for(const o in n)a[o]=new t({type:"nonoptional",innerType:n[o]});return Ya(e,{...e._zod.def,shape:a,checks:[]})}function us(t,e=0){for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function Wd(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function Ml(t){return typeof t=="string"?t:t?.message}function qa(t,e,r){const n={...t,path:t.path??[]};if(!t.message){const a=Ml(t.inst?._zod.def?.error?.(t))??Ml(e?.error?.(t))??Ml(r.customError?.(t))??Ml(r.localeError?.(t))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function Qd(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function vs(...t){const[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}const Bx=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,f3,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Jd=ae("$ZodError",Bx),xc=ae("$ZodError",Bx,{Parent:Error});function A3(t,e=r=>r.message){const r={},n=[];for(const a of t.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}function E3(t,e){const r=e||function(o){return o.message},n={_errors:[]},a=o=>{for(const l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(r(l));else{let u=n,d=0;for(;d<l.path.length;){const p=l.path[d];d===l.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(r(l))):u[p]=u[p]||{_errors:[]},u=u[p],d++}}};return a(t),n}const Px=t=>(e,r,n,a)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},l=e._zod.run({value:r,issues:[]},o);if(l instanceof Promise)throw new ps;if(l.issues.length){const u=new(a?.Err??t)(l.issues.map(d=>qa(d,o,Xa())));throw Mx(u,a?.callee),u}return l.value},S3=Px(xc),Lx=t=>async(e,r,n,a)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let l=e._zod.run({value:r,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(a?.Err??t)(l.issues.map(d=>qa(d,o,Xa())));throw Mx(u,a?.callee),u}return l.value},C3=Lx(xc),kx=t=>(e,r,n)=>{const a=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new ps;return o.issues.length?{success:!1,error:new(t??Jd)(o.issues.map(l=>qa(l,a,Xa())))}:{success:!0,data:o.value}},N3=kx(xc),Fx=t=>async(e,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let o=e._zod.run({value:r,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(l=>qa(l,a,Xa())))}:{success:!0,data:o.value}},O3=Fx(xc),T3=/^[cC][^\s-]{8,}$/,D3=/^[0-9a-z]+$/,R3=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,j3=/^[0-9a-vA-V]{20}$/,I3=/^[A-Za-z0-9]{27}$/,M3=/^[a-zA-Z0-9_-]{21}$/,B3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,P3=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Hv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,L3=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,k3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function F3(){return new RegExp(k3,"u")}const U3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,z3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,V3=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,H3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,G3=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ux=/^[A-Za-z0-9_-]*$/,Z3=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,X3=/^\+(?:[0-9]){6,14}[0-9]$/,zx="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",q3=new RegExp(`^${zx}$`);function Vx(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Y3(t){return new RegExp(`^${Vx(t)}$`)}function $3(t){const e=Vx({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-]\\d{2}:\\d{2})");const n=`${e}(?:${r.join("|")})`;return new RegExp(`^${zx}T(?:${n})$`)}const K3=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},W3=/^\d+$/,Q3=/^-?\d+(?:\.\d+)?/i,J3=/^[^A-Z]*$/,ew=/^[^a-z]*$/,Sr=ae("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),Hx={number:"number",bigint:"bigint",object:"date"},Gx=ae("$ZodCheckLessThan",(t,e)=>{Sr.init(t,e);const r=Hx[typeof e.value];t._zod.onattach.push(n=>{const a=n._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Zx=ae("$ZodCheckGreaterThan",(t,e)=>{Sr.init(t,e);const r=Hx[typeof e.value];t._zod.onattach.push(n=>{const a=n._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),tw=ae("$ZodCheckMultipleOf",(t,e)=>{Sr.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):d3(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),rw=ae("$ZodCheckNumberFormat",(t,e)=>{Sr.init(t,e),e.format=e.format||"float64";const r=e.format?.includes("int"),n=r?"int":"number",[a,o]=m3[e.format];t._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=a,u.maximum=o,r&&(u.pattern=W3)}),t._zod.check=l=>{const u=l.value;if(r){if(!Number.isInteger(u)){l.issues.push({expected:n,format:e.format,code:"invalid_type",input:u,inst:t});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort});return}}u<a&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),u>o&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:o,inst:t})}}),nw=ae("$ZodCheckMaxLength",(t,e)=>{var r;Sr.init(t,e),(r=t._zod.def).when??(r.when=n=>{const a=n.value;return!Yd(a)&&a.length!==void 0}),t._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{const a=n.value;if(a.length<=e.maximum)return;const l=Qd(a);n.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),aw=ae("$ZodCheckMinLength",(t,e)=>{var r;Sr.init(t,e),(r=t._zod.def).when??(r.when=n=>{const a=n.value;return!Yd(a)&&a.length!==void 0}),t._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{const a=n.value;if(a.length>=e.minimum)return;const l=Qd(a);n.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),iw=ae("$ZodCheckLengthEquals",(t,e)=>{var r;Sr.init(t,e),(r=t._zod.def).when??(r.when=n=>{const a=n.value;return!Yd(a)&&a.length!==void 0}),t._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=n=>{const a=n.value,o=a.length;if(o===e.length)return;const l=Qd(a),u=o>e.length;n.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),gc=ae("$ZodCheckStringFormat",(t,e)=>{var r,n;Sr.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),ow=ae("$ZodCheckRegex",(t,e)=>{gc.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),sw=ae("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=J3),gc.init(t,e)}),lw=ae("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=ew),gc.init(t,e)}),cw=ae("$ZodCheckIncludes",(t,e)=>{Sr.init(t,e);const r=mc(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),uw=ae("$ZodCheckStartsWith",(t,e)=>{Sr.init(t,e);const r=new RegExp(`^${mc(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),fw=ae("$ZodCheckEndsWith",(t,e)=>{Sr.init(t,e);const r=new RegExp(`.*${mc(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}}),dw=ae("$ZodCheckOverwrite",(t,e)=>{Sr.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});class hw{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),o=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of o)this.content.push(l)}compile(){const e=Function,r=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...r,a.join(`
`))}}const pw={major:4,minor:0,patch:5},Nt=ae("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=pw;const n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(const a of n)for(const o of a._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,l,u)=>{let d=us(o),p;for(const m of l){if(m._zod.def.when){if(!m._zod.def.when(o))continue}else if(d)continue;const x=o.issues.length,y=m._zod.check(o);if(y instanceof Promise&&u?.async===!1)throw new ps;if(p||y instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await y,o.issues.length!==x&&(d||(d=us(o,x)))});else{if(o.issues.length===x)continue;d||(d=us(o,x))}}return p?p.then(()=>o):o};t._zod.run=(o,l)=>{const u=t._zod.parse(o,l);if(u instanceof Promise){if(l.async===!1)throw new ps;return u.then(d=>a(d,n,l))}return a(u,n,l)}}t["~standard"]={validate:a=>{try{const o=N3(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return O3(t,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),e0=ae("$ZodString",(t,e)=>{Nt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??K3(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),xt=ae("$ZodStringFormat",(t,e)=>{gc.init(t,e),e0.init(t,e)}),vw=ae("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=P3),xt.init(t,e)}),mw=ae("$ZodUUID",(t,e)=>{if(e.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Hv(n))}else e.pattern??(e.pattern=Hv());xt.init(t,e)}),xw=ae("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=L3),xt.init(t,e)}),gw=ae("$ZodURL",(t,e)=>{xt.init(t,e),t._zod.check=r=>{try{const n=r.value,a=new URL(n),o=a.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Z3.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),!n.endsWith("/")&&o.endsWith("/")?r.value=o.slice(0,-1):r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),yw=ae("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=F3()),xt.init(t,e)}),bw=ae("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=M3),xt.init(t,e)}),_w=ae("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=T3),xt.init(t,e)}),ww=ae("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=D3),xt.init(t,e)}),Aw=ae("$ZodULID",(t,e)=>{e.pattern??(e.pattern=R3),xt.init(t,e)}),Ew=ae("$ZodXID",(t,e)=>{e.pattern??(e.pattern=j3),xt.init(t,e)}),Sw=ae("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=I3),xt.init(t,e)}),Cw=ae("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=$3(e)),xt.init(t,e)}),Nw=ae("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=q3),xt.init(t,e)}),Ow=ae("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Y3(e)),xt.init(t,e)}),Tw=ae("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=B3),xt.init(t,e)}),Dw=ae("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=U3),xt.init(t,e),t._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),Rw=ae("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=z3),xt.init(t,e),t._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),jw=ae("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=V3),xt.init(t,e)}),Iw=ae("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=H3),xt.init(t,e),t._zod.check=r=>{const[n,a]=r.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function Xx(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Mw=ae("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=G3),xt.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{Xx(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function Bw(t){if(!Ux.test(t))return!1;const e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return Xx(r)}const Pw=ae("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Ux),xt.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{Bw(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),Lw=ae("$ZodE164",(t,e)=>{e.pattern??(e.pattern=X3),xt.init(t,e)});function kw(t,e=null){try{const r=t.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const Fw=ae("$ZodJWT",(t,e)=>{xt.init(t,e),t._zod.check=r=>{kw(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),qx=ae("$ZodNumber",(t,e)=>{Nt.init(t,e),t._zod.pattern=t._zod.bag.pattern??Q3,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),r}}),Uw=ae("$ZodNumber",(t,e)=>{rw.init(t,e),qx.init(t,e)}),zw=ae("$ZodUnknown",(t,e)=>{Nt.init(t,e),t._zod.parse=r=>r}),Vw=ae("$ZodNever",(t,e)=>{Nt.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function Gv(t,e,r){t.issues.length&&e.issues.push(...Wd(r,t.issues)),e.value[r]=t.value}const Hw=ae("$ZodArray",(t,e)=>{Nt.init(t,e),t._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),r;r.value=Array(a.length);const o=[];for(let l=0;l<a.length;l++){const u=a[l],d=e.element._zod.run({value:u,issues:[]},n);d instanceof Promise?o.push(d.then(p=>Gv(p,r,l))):Gv(d,r,l)}return o.length?Promise.all(o).then(()=>r):r}});function Bl(t,e,r){t.issues.length&&e.issues.push(...Wd(r,t.issues)),e.value[r]=t.value}function Zv(t,e,r,n){t.issues.length?n[r]===void 0?r in n?e.value[r]=void 0:e.value[r]=t.value:e.issues.push(...Wd(r,t.issues)):t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}const Gw=ae("$ZodObject",(t,e)=>{Nt.init(t,e);const r=Ix(()=>{const x=Object.keys(e.shape);for(const b of x)if(!(e.shape[b]instanceof Nt))throw new Error(`Invalid element at key "${b}": expected a Zod schema`);const y=v3(e.shape);return{shape:e.shape,keys:x,keySet:new Set(x),numKeys:x.length,optionalKeys:new Set(y)}});pt(t._zod,"propValues",()=>{const x=e.shape,y={};for(const b in x){const _=x[b]._zod;if(_.values){y[b]??(y[b]=new Set);for(const w of _.values)y[b].add(w)}}return y});const n=x=>{const y=new hw(["shape","payload","ctx"]),b=r.value,_=E=>{const N=Jo(E);return`shape[${N}]._zod.run({ value: input[${N}], issues: [] }, ctx)`};y.write("const input = payload.value;");const w=Object.create(null);let S=0;for(const E of b.keys)w[E]=`key_${S++}`;y.write("const newResult = {}");for(const E of b.keys)if(b.optionalKeys.has(E)){const N=w[E];y.write(`const ${N} = ${_(E)};`);const D=Jo(E);y.write(`
        if (${N}.issues.length) {
          if (input[${D}] === undefined) {
            if (${D} in input) {
              newResult[${D}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${N}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${D}, ...iss.path] : [${D}],
              }))
            );
          }
        } else if (${N}.value === undefined) {
          if (${D} in input) newResult[${D}] = undefined;
        } else {
          newResult[${D}] = ${N}.value;
        }
        `)}else{const N=w[E];y.write(`const ${N} = ${_(E)};`),y.write(`
          if (${N}.issues.length) payload.issues = payload.issues.concat(${N}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Jo(E)}, ...iss.path] : [${Jo(E)}]
          })));`),y.write(`newResult[${Jo(E)}] = ${N}.value`)}y.write("payload.value = newResult;"),y.write("return payload;");const T=y.compile();return(E,N)=>T(x,E,N)};let a;const o=md,l=!jx.jitless,d=l&&h3.value,p=e.catchall;let m;t._zod.parse=(x,y)=>{m??(m=r.value);const b=x.value;if(!o(b))return x.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),x;const _=[];if(l&&d&&y?.async===!1&&y.jitless!==!0)a||(a=n(e.shape)),x=a(x,y);else{x.value={};const N=m.shape;for(const D of m.keys){const I=N[D],U=I._zod.run({value:b[D],issues:[]},y),Y=I._zod.optin==="optional"&&I._zod.optout==="optional";U instanceof Promise?_.push(U.then(q=>Y?Zv(q,x,D,b):Bl(q,x,D))):Y?Zv(U,x,D,b):Bl(U,x,D)}}if(!p)return _.length?Promise.all(_).then(()=>x):x;const w=[],S=m.keySet,T=p._zod,E=T.def.type;for(const N of Object.keys(b)){if(S.has(N))continue;if(E==="never"){w.push(N);continue}const D=T.run({value:b[N],issues:[]},y);D instanceof Promise?_.push(D.then(I=>Bl(I,x,N))):Bl(D,x,N)}return w.length&&x.issues.push({code:"unrecognized_keys",keys:w,input:b,inst:t}),_.length?Promise.all(_).then(()=>x):x}});function Xv(t,e,r,n){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(a=>a.issues.map(o=>qa(o,n,Xa())))}),e}const Zw=ae("$ZodUnion",(t,e)=>{Nt.init(t,e),pt(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),pt(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),pt(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),pt(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>$d(n.source)).join("|")})$`)}}),t._zod.parse=(r,n)=>{let a=!1;const o=[];for(const l of e.options){const u=l._zod.run({value:r.value,issues:[]},n);if(u instanceof Promise)o.push(u),a=!0;else{if(u.issues.length===0)return u;o.push(u)}}return a?Promise.all(o).then(l=>Xv(l,r,t,n)):Xv(o,r,t,n)}}),Xw=ae("$ZodIntersection",(t,e)=>{Nt.init(t,e),t._zod.parse=(r,n)=>{const a=r.value,o=e.left._zod.run({value:a,issues:[]},n),l=e.right._zod.run({value:a,issues:[]},n);return o instanceof Promise||l instanceof Promise?Promise.all([o,l]).then(([d,p])=>qv(r,d,p)):qv(r,o,l)}});function gd(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(xd(t)&&xd(e)){const r=Object.keys(e),n=Object.keys(t).filter(o=>r.indexOf(o)!==-1),a={...t,...e};for(const o of n){const l=gd(t[o],e[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};a[o]=l.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<t.length;n++){const a=t[n],o=e[n],l=gd(a,o);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function qv(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),us(t))return t;const n=gd(e.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}const qw=ae("$ZodEnum",(t,e)=>{Nt.init(t,e);const r=u3(e.entries);t._zod.values=new Set(r),t._zod.pattern=new RegExp(`^(${r.filter(n=>p3.has(typeof n)).map(n=>typeof n=="string"?mc(n):n.toString()).join("|")})$`),t._zod.parse=(n,a)=>{const o=n.value;return t._zod.values.has(o)||n.issues.push({code:"invalid_value",values:r,input:o,inst:t}),n}}),Yw=ae("$ZodTransform",(t,e)=>{Nt.init(t,e),t._zod.parse=(r,n)=>{const a=e.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new ps;return r.value=a,r}}),$w=ae("$ZodOptional",(t,e)=>{Nt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",pt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),pt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${$d(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(r,n):r.value===void 0?r:e.innerType._zod.run(r,n)}),Kw=ae("$ZodNullable",(t,e)=>{Nt.init(t,e),pt(t._zod,"optin",()=>e.innerType._zod.optin),pt(t._zod,"optout",()=>e.innerType._zod.optout),pt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${$d(r.source)}|null)$`):void 0}),pt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),Ww=ae("$ZodDefault",(t,e)=>{Nt.init(t,e),t._zod.optin="optional",pt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=e.defaultValue,r;const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>Yv(o,e)):Yv(a,e)}});function Yv(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const Qw=ae("$ZodPrefault",(t,e)=>{Nt.init(t,e),t._zod.optin="optional",pt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),Jw=ae("$ZodNonOptional",(t,e)=>{Nt.init(t,e),pt(t._zod,"values",()=>{const r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>$v(o,t)):$v(a,t)}});function $v(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const eA=ae("$ZodCatch",(t,e)=>{Nt.init(t,e),t._zod.optin="optional",pt(t._zod,"optout",()=>e.innerType._zod.optout),pt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>(r.value=o.value,o.issues.length&&(r.value=e.catchValue({...r,error:{issues:o.issues.map(l=>qa(l,n,Xa()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=e.catchValue({...r,error:{issues:a.issues.map(o=>qa(o,n,Xa()))},input:r.value}),r.issues=[]),r)}}),tA=ae("$ZodPipe",(t,e)=>{Nt.init(t,e),pt(t._zod,"values",()=>e.in._zod.values),pt(t._zod,"optin",()=>e.in._zod.optin),pt(t._zod,"optout",()=>e.out._zod.optout),pt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{const a=e.in._zod.run(r,n);return a instanceof Promise?a.then(o=>Kv(o,e,n)):Kv(a,e,n)}});function Kv(t,e,r){return us(t)?t:e.out._zod.run({value:t.value,issues:t.issues},r)}const rA=ae("$ZodReadonly",(t,e)=>{Nt.init(t,e),pt(t._zod,"propValues",()=>e.innerType._zod.propValues),pt(t._zod,"values",()=>e.innerType._zod.values),pt(t._zod,"optin",()=>e.innerType._zod.optin),pt(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,n)=>{const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(Wv):Wv(a)}});function Wv(t){return t.value=Object.freeze(t.value),t}const nA=ae("$ZodCustom",(t,e)=>{Sr.init(t,e),Nt.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{const n=r.value,a=e.fn(n);if(a instanceof Promise)return a.then(o=>Qv(o,r,n,t));Qv(a,r,n,t)}});function Qv(t,e,r,n){if(!t){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),e.issues.push(vs(a))}}class aA{constructor(){this._map=new Map,this._idmap=new Map}add(e,...r){const n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){const r=e._zod.parent;if(r){const n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function iA(){return new aA}const Pl=iA();function oA(t,e){return new t({type:"string",...Te(e)})}function sA(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Te(e)})}function Jv(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Te(e)})}function lA(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Te(e)})}function cA(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Te(e)})}function uA(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Te(e)})}function fA(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Te(e)})}function dA(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Te(e)})}function hA(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Te(e)})}function pA(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Te(e)})}function vA(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Te(e)})}function mA(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Te(e)})}function xA(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Te(e)})}function gA(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Te(e)})}function yA(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Te(e)})}function bA(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Te(e)})}function _A(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Te(e)})}function wA(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Te(e)})}function AA(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Te(e)})}function EA(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Te(e)})}function SA(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Te(e)})}function CA(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Te(e)})}function NA(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Te(e)})}function OA(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Te(e)})}function TA(t,e){return new t({type:"string",format:"date",check:"string_format",...Te(e)})}function DA(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Te(e)})}function RA(t,e){return new t({type:"string",format:"duration",check:"string_format",...Te(e)})}function jA(t,e){return new t({type:"number",checks:[],...Te(e)})}function IA(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Te(e)})}function MA(t){return new t({type:"unknown"})}function BA(t,e){return new t({type:"never",...Te(e)})}function em(t,e){return new Gx({check:"less_than",...Te(e),value:t,inclusive:!1})}function $f(t,e){return new Gx({check:"less_than",...Te(e),value:t,inclusive:!0})}function tm(t,e){return new Zx({check:"greater_than",...Te(e),value:t,inclusive:!1})}function Kf(t,e){return new Zx({check:"greater_than",...Te(e),value:t,inclusive:!0})}function rm(t,e){return new tw({check:"multiple_of",...Te(e),value:t})}function Yx(t,e){return new nw({check:"max_length",...Te(e),maximum:t})}function nc(t,e){return new aw({check:"min_length",...Te(e),minimum:t})}function $x(t,e){return new iw({check:"length_equals",...Te(e),length:t})}function PA(t,e){return new ow({check:"string_format",format:"regex",...Te(e),pattern:t})}function LA(t){return new sw({check:"string_format",format:"lowercase",...Te(t)})}function kA(t){return new lw({check:"string_format",format:"uppercase",...Te(t)})}function FA(t,e){return new cw({check:"string_format",format:"includes",...Te(e),includes:t})}function UA(t,e){return new uw({check:"string_format",format:"starts_with",...Te(e),prefix:t})}function zA(t,e){return new fw({check:"string_format",format:"ends_with",...Te(e),suffix:t})}function ys(t){return new dw({check:"overwrite",tx:t})}function VA(t){return ys(e=>e.normalize(t))}function HA(){return ys(t=>t.trim())}function GA(){return ys(t=>t.toLowerCase())}function ZA(){return ys(t=>t.toUpperCase())}function XA(t,e,r){return new t({type:"array",element:e,...Te(r)})}function qA(t,e,r){return new t({type:"custom",check:"custom",fn:e,...Te(r)})}function nm(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function YA(t,e){for(var r={};t.length;){var n=t[0],a=n.code,o=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[l]={message:u.message,type:u.code}}else r[l]={message:o,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(x){return t.push(x)})}),e){var d=r[l].types,p=d&&d[n.code];r[l]=Zd(l,e,r,a,p?[].concat(p,n.message):n.message)}t.shift()}return r}function $A(t,e){for(var r={};t.length;){var n=t[0],a=n.code,o=n.message,l=n.path.join(".");if(!r[l])if(n.code==="invalid_union"){var u=n.errors[0][0];r[l]={message:u.message,type:u.code}}else r[l]={message:o,type:a};if(n.code==="invalid_union"&&n.errors.forEach(function(m){return m.forEach(function(x){return t.push(x)})}),e){var d=r[l].types,p=d&&d[n.code];r[l]=Zd(l,e,r,a,p?[].concat(p,n.message):n.message)}t.shift()}return r}function Yi(t,e,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(t))return function(n,a,o){try{return Promise.resolve(nm(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(l){return o.shouldUseNativeValidation&&vd({},o),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(u){return Array.isArray(u?.issues)}(l))return{values:{},errors:zv(YA(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(t))return function(n,a,o){try{return Promise.resolve(nm(function(){return Promise.resolve((r.mode==="sync"?S3:C3)(t,n,e)).then(function(l){return o.shouldUseNativeValidation&&vd({},o),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(u){return u instanceof Jd}(l))return{values:{},errors:zv($A(l.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const KA=ae("ZodISODateTime",(t,e)=>{Cw.init(t,e),yt.init(t,e)});function WA(t){return OA(KA,t)}const QA=ae("ZodISODate",(t,e)=>{Nw.init(t,e),yt.init(t,e)});function JA(t){return TA(QA,t)}const e4=ae("ZodISOTime",(t,e)=>{Ow.init(t,e),yt.init(t,e)});function t4(t){return DA(e4,t)}const r4=ae("ZodISODuration",(t,e)=>{Tw.init(t,e),yt.init(t,e)});function n4(t){return RA(r4,t)}const a4=(t,e)=>{Jd.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>E3(t,r)},flatten:{value:r=>A3(t,r)},addIssue:{value:r=>t.issues.push(r)},addIssues:{value:r=>t.issues.push(...r)},isEmpty:{get(){return t.issues.length===0}}})},yc=ae("ZodError",a4,{Parent:Error}),i4=Px(yc),o4=Lx(yc),s4=kx(yc),l4=Fx(yc),Ut=ae("ZodType",(t,e)=>(Nt.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>Ya(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t),t.parse=(r,n)=>i4(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>s4(t,r,n),t.parseAsync=async(r,n)=>o4(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>l4(t,r,n),t.spa=t.safeParseAsync,t.refine=(r,n)=>t.check(J4(r,n)),t.superRefine=r=>t.check(eE(r)),t.overwrite=r=>t.check(ys(r)),t.optional=()=>sm(t),t.nullable=()=>lm(t),t.nullish=()=>sm(lm(t)),t.nonoptional=r=>Z4(t,r),t.array=()=>j4(t),t.or=r=>B4([t,r]),t.and=r=>L4(t,r),t.transform=r=>cm(t,F4(r)),t.default=r=>V4(t,r),t.prefault=r=>G4(t,r),t.catch=r=>q4(t,r),t.pipe=r=>cm(t,r),t.readonly=()=>K4(t),t.describe=r=>{const n=t.clone();return Pl.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return Pl.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return Pl.get(t);const n=t.clone();return Pl.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Kx=ae("_ZodString",(t,e)=>{e0.init(t,e),Ut.init(t,e);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(PA(...n)),t.includes=(...n)=>t.check(FA(...n)),t.startsWith=(...n)=>t.check(UA(...n)),t.endsWith=(...n)=>t.check(zA(...n)),t.min=(...n)=>t.check(nc(...n)),t.max=(...n)=>t.check(Yx(...n)),t.length=(...n)=>t.check($x(...n)),t.nonempty=(...n)=>t.check(nc(1,...n)),t.lowercase=n=>t.check(LA(n)),t.uppercase=n=>t.check(kA(n)),t.trim=()=>t.check(HA()),t.normalize=(...n)=>t.check(VA(...n)),t.toLowerCase=()=>t.check(GA()),t.toUpperCase=()=>t.check(ZA())}),c4=ae("ZodString",(t,e)=>{e0.init(t,e),Kx.init(t,e),t.email=r=>t.check(sA(u4,r)),t.url=r=>t.check(dA(f4,r)),t.jwt=r=>t.check(NA(C4,r)),t.emoji=r=>t.check(hA(d4,r)),t.guid=r=>t.check(Jv(am,r)),t.uuid=r=>t.check(lA(Ll,r)),t.uuidv4=r=>t.check(cA(Ll,r)),t.uuidv6=r=>t.check(uA(Ll,r)),t.uuidv7=r=>t.check(fA(Ll,r)),t.nanoid=r=>t.check(pA(h4,r)),t.guid=r=>t.check(Jv(am,r)),t.cuid=r=>t.check(vA(p4,r)),t.cuid2=r=>t.check(mA(v4,r)),t.ulid=r=>t.check(xA(m4,r)),t.base64=r=>t.check(EA(A4,r)),t.base64url=r=>t.check(SA(E4,r)),t.xid=r=>t.check(gA(x4,r)),t.ksuid=r=>t.check(yA(g4,r)),t.ipv4=r=>t.check(bA(y4,r)),t.ipv6=r=>t.check(_A(b4,r)),t.cidrv4=r=>t.check(wA(_4,r)),t.cidrv6=r=>t.check(AA(w4,r)),t.e164=r=>t.check(CA(S4,r)),t.datetime=r=>t.check(WA(r)),t.date=r=>t.check(JA(r)),t.time=r=>t.check(t4(r)),t.duration=r=>t.check(n4(r))});function Yt(t){return oA(c4,t)}const yt=ae("ZodStringFormat",(t,e)=>{xt.init(t,e),Kx.init(t,e)}),u4=ae("ZodEmail",(t,e)=>{xw.init(t,e),yt.init(t,e)}),am=ae("ZodGUID",(t,e)=>{vw.init(t,e),yt.init(t,e)}),Ll=ae("ZodUUID",(t,e)=>{mw.init(t,e),yt.init(t,e)}),f4=ae("ZodURL",(t,e)=>{gw.init(t,e),yt.init(t,e)}),d4=ae("ZodEmoji",(t,e)=>{yw.init(t,e),yt.init(t,e)}),h4=ae("ZodNanoID",(t,e)=>{bw.init(t,e),yt.init(t,e)}),p4=ae("ZodCUID",(t,e)=>{_w.init(t,e),yt.init(t,e)}),v4=ae("ZodCUID2",(t,e)=>{ww.init(t,e),yt.init(t,e)}),m4=ae("ZodULID",(t,e)=>{Aw.init(t,e),yt.init(t,e)}),x4=ae("ZodXID",(t,e)=>{Ew.init(t,e),yt.init(t,e)}),g4=ae("ZodKSUID",(t,e)=>{Sw.init(t,e),yt.init(t,e)}),y4=ae("ZodIPv4",(t,e)=>{Dw.init(t,e),yt.init(t,e)}),b4=ae("ZodIPv6",(t,e)=>{Rw.init(t,e),yt.init(t,e)}),_4=ae("ZodCIDRv4",(t,e)=>{jw.init(t,e),yt.init(t,e)}),w4=ae("ZodCIDRv6",(t,e)=>{Iw.init(t,e),yt.init(t,e)}),A4=ae("ZodBase64",(t,e)=>{Mw.init(t,e),yt.init(t,e)}),E4=ae("ZodBase64URL",(t,e)=>{Pw.init(t,e),yt.init(t,e)}),S4=ae("ZodE164",(t,e)=>{Lw.init(t,e),yt.init(t,e)}),C4=ae("ZodJWT",(t,e)=>{Fw.init(t,e),yt.init(t,e)}),Wx=ae("ZodNumber",(t,e)=>{qx.init(t,e),Ut.init(t,e),t.gt=(n,a)=>t.check(tm(n,a)),t.gte=(n,a)=>t.check(Kf(n,a)),t.min=(n,a)=>t.check(Kf(n,a)),t.lt=(n,a)=>t.check(em(n,a)),t.lte=(n,a)=>t.check($f(n,a)),t.max=(n,a)=>t.check($f(n,a)),t.int=n=>t.check(im(n)),t.safe=n=>t.check(im(n)),t.positive=n=>t.check(tm(0,n)),t.nonnegative=n=>t.check(Kf(0,n)),t.negative=n=>t.check(em(0,n)),t.nonpositive=n=>t.check($f(0,n)),t.multipleOf=(n,a)=>t.check(rm(n,a)),t.step=(n,a)=>t.check(rm(n,a)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function Hi(t){return jA(Wx,t)}const N4=ae("ZodNumberFormat",(t,e)=>{Uw.init(t,e),Wx.init(t,e)});function im(t){return IA(N4,t)}const O4=ae("ZodUnknown",(t,e)=>{zw.init(t,e),Ut.init(t,e)});function om(){return MA(O4)}const T4=ae("ZodNever",(t,e)=>{Vw.init(t,e),Ut.init(t,e)});function D4(t){return BA(T4,t)}const R4=ae("ZodArray",(t,e)=>{Hw.init(t,e),Ut.init(t,e),t.element=e.element,t.min=(r,n)=>t.check(nc(r,n)),t.nonempty=r=>t.check(nc(1,r)),t.max=(r,n)=>t.check(Yx(r,n)),t.length=(r,n)=>t.check($x(r,n)),t.unwrap=()=>t.element});function j4(t,e){return XA(R4,t,e)}const I4=ae("ZodObject",(t,e)=>{Gw.init(t,e),Ut.init(t,e),pt(t,"shape",()=>e.shape),t.keyof=()=>Gi(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:om()}),t.loose=()=>t.clone({...t._zod.def,catchall:om()}),t.strict=()=>t.clone({...t._zod.def,catchall:D4()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>y3(t,r),t.merge=r=>b3(t,r),t.pick=r=>x3(t,r),t.omit=r=>g3(t,r),t.partial=(...r)=>_3(Qx,t,r[0]),t.required=(...r)=>w3(Jx,t,r[0])});function $i(t,e){const r={type:"object",get shape(){return Kd(this,"shape",{...t}),this.shape},...Te(e)};return new I4(r)}const M4=ae("ZodUnion",(t,e)=>{Zw.init(t,e),Ut.init(t,e),t.options=e.options});function B4(t,e){return new M4({type:"union",options:t,...Te(e)})}const P4=ae("ZodIntersection",(t,e)=>{Xw.init(t,e),Ut.init(t,e)});function L4(t,e){return new P4({type:"intersection",left:t,right:e})}const yd=ae("ZodEnum",(t,e)=>{qw.init(t,e),Ut.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const r=new Set(Object.keys(e.entries));t.extract=(n,a)=>{const o={};for(const l of n)if(r.has(l))o[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new yd({...e,checks:[],...Te(a),entries:o})},t.exclude=(n,a)=>{const o={...e.entries};for(const l of n)if(r.has(l))delete o[l];else throw new Error(`Key ${l} not found in enum`);return new yd({...e,checks:[],...Te(a),entries:o})}});function Gi(t,e){const r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new yd({type:"enum",entries:r,...Te(e)})}const k4=ae("ZodTransform",(t,e)=>{Yw.init(t,e),Ut.init(t,e),t._zod.parse=(r,n)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push(vs(o,r.value,e));else{const l=o;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=t),l.continue??(l.continue=!0),r.issues.push(vs(l))}};const a=e.transform(r.value,r);return a instanceof Promise?a.then(o=>(r.value=o,r)):(r.value=a,r)}});function F4(t){return new k4({type:"transform",transform:t})}const Qx=ae("ZodOptional",(t,e)=>{$w.init(t,e),Ut.init(t,e),t.unwrap=()=>t._zod.def.innerType});function sm(t){return new Qx({type:"optional",innerType:t})}const U4=ae("ZodNullable",(t,e)=>{Kw.init(t,e),Ut.init(t,e),t.unwrap=()=>t._zod.def.innerType});function lm(t){return new U4({type:"nullable",innerType:t})}const z4=ae("ZodDefault",(t,e)=>{Ww.init(t,e),Ut.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function V4(t,e){return new z4({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const H4=ae("ZodPrefault",(t,e)=>{Qw.init(t,e),Ut.init(t,e),t.unwrap=()=>t._zod.def.innerType});function G4(t,e){return new H4({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const Jx=ae("ZodNonOptional",(t,e)=>{Jw.init(t,e),Ut.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Z4(t,e){return new Jx({type:"nonoptional",innerType:t,...Te(e)})}const X4=ae("ZodCatch",(t,e)=>{eA.init(t,e),Ut.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function q4(t,e){return new X4({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const Y4=ae("ZodPipe",(t,e)=>{tA.init(t,e),Ut.init(t,e),t.in=e.in,t.out=e.out});function cm(t,e){return new Y4({type:"pipe",in:t,out:e})}const $4=ae("ZodReadonly",(t,e)=>{rA.init(t,e),Ut.init(t,e)});function K4(t){return new $4({type:"readonly",innerType:t})}const W4=ae("ZodCustom",(t,e)=>{nA.init(t,e),Ut.init(t,e)});function Q4(t){const e=new Sr({check:"custom"});return e._zod.check=t,e}function J4(t,e={}){return qA(W4,t,e)}function eE(t){const e=Q4(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(vs(n,r.value,e._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),r.issues.push(vs(a))}},t(r.value,r)));return e}const eg=({className:t="",size:e="md"})=>{const r={sm:"h-8",md:"h-12",lg:"h-16"};return h.jsxs("div",{className:`flex items-center space-x-3 ${t}`,children:[h.jsx("img",{src:"/logo-henrys-diagnostics.png",alt:"Henry Diagnostics",className:`${r[e]} w-auto object-contain`,onError:n=>{n.currentTarget.style.display="none",n.currentTarget.nextElementSibling?.classList.remove("hidden")}}),h.jsx("span",{className:"hidden text-xl font-bold text-blue-600",children:"HENRY DIAGNOSTICS"})]})},tE=$i({email:Yt().email("Email inválido"),password:Yt().min(1,"Contraseña requerida")}),rE=()=>{const[t,e]=W.useState(!1),[r,n]=W.useState(null),{login:a}=bn(),{register:o,handleSubmit:l,formState:{errors:u}}=kn({resolver:Yi(tE)}),d=async p=>{e(!0),n(null);try{await a(p)}catch(m){n(m.response?.data?.message||"Error al iniciar sesión")}finally{e(!1)}};return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(eg,{size:"lg"})}),h.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Iniciar Sesión"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sistema de Seguimiento de Clientes"})]}),h.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:h.jsxs("div",{className:"card px-6 py-8",children:[r&&h.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600",children:r})}),h.jsxs("form",{className:"space-y-6",onSubmit:l(d),children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),h.jsxs("div",{className:"mt-1",children:[h.jsx("input",{...o("email"),type:"email",autoComplete:"email",className:"input-field",placeholder:"tu@email.com"}),u.email&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email.message})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),h.jsxs("div",{className:"mt-1",children:[h.jsx("input",{...o("password"),type:"password",autoComplete:"current-password",className:"input-field",placeholder:"Tu contraseña"}),u.password&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password.message})]})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:t,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Iniciando sesión...":"Iniciar Sesión"})})]}),h.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:h.jsxs("div",{className:"text-sm text-gray-600",children:[h.jsx("p",{className:"font-semibold mb-2",children:"Credenciales de prueba:"}),h.jsxs("div",{className:"space-y-1 text-xs",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Admin:"})," rik@rikmarquez.com / HenryDiag2024$"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Mecánico:"})," mecanico@henrydiagnostics.com / MecanicoHD2024!"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Seguimiento:"})," ventas@henrydiagnostics.com / VentasHD2024!"]})]})]})})]})})]})},nE=({currentPage:t,onPageChange:e})=>{const{user:r,logout:n}=bn(),a=async()=>{try{await n()}catch(l){console.error("Error al cerrar sesión:",l)}},o=[{id:"dashboard",label:"Dashboard",icon:"🏠"},{id:"appointments",label:"Citas",icon:"📅"},{id:"reception",label:"Recepción",icon:"🚪"},{id:"services",label:"Servicios",icon:"🔧"},{id:"vehicles",label:"Vehículos",icon:"🚗"},{id:"customers",label:"Clientes",icon:"👥"},{id:"opportunities",label:"Oportunidades",icon:"💼"},{id:"reminders",label:"Recordatorios",icon:"⏰"},...r?.rol==="administrador"?[{id:"users",label:"Usuarios",icon:"👤"}]:[]];return h.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center space-x-8",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(eg,{size:"sm"}),h.jsx("span",{className:"ml-3 text-xl font-semibold text-gray-900",children:"Henry Diagnostics"})]}),h.jsx("nav",{className:"hidden lg:flex space-x-4 xl:space-x-6",children:o.map(l=>h.jsxs("button",{onClick:()=>e(l.id),className:`flex items-center space-x-1 xl:space-x-2 px-2 xl:px-3 py-2 rounded-lg text-xs xl:text-sm font-medium transition-colors whitespace-nowrap ${t===l.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[h.jsx("span",{children:l.icon}),h.jsx("span",{className:"hidden xl:inline",children:l.label}),h.jsx("span",{className:"xl:hidden text-xs",children:l.label.length>8?l.label.substring(0,6)+".":l.label})]},l.id))})]}),h.jsx("div",{className:"flex items-center space-x-4",children:h.jsx("button",{onClick:a,className:"btn-secondary text-sm",children:"Cerrar Sesión"})})]})}),h.jsx("div",{className:"hidden md:block lg:hidden border-t border-gray-200 bg-gray-50",children:h.jsx("nav",{className:"flex justify-center px-4 py-2 space-x-6",children:o.map(l=>h.jsxs("button",{onClick:()=>e(l.id),className:`flex flex-col items-center p-2 rounded-lg text-xs font-medium transition-colors ${t===l.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,title:l.label,children:[h.jsx("span",{className:"text-lg mb-1",children:l.icon}),h.jsx("span",{className:"text-xs",children:l.label.length>6?l.label.substring(0,4)+".":l.label})]},l.id))})}),h.jsx("div",{className:"md:hidden border-t border-gray-200 bg-gray-50",children:h.jsx("nav",{className:"flex overflow-x-auto px-4 py-2 space-x-3",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.map(l=>h.jsxs("button",{onClick:()=>e(l.id),className:`flex flex-col items-center p-2 rounded-lg text-xs font-medium whitespace-nowrap transition-colors min-w-0 flex-shrink-0 ${t===l.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[h.jsx("span",{className:"text-base mb-1",children:l.icon}),h.jsx("span",{className:"text-xs",children:l.label.length>7?l.label.substring(0,5)+".":l.label})]},l.id))})})]})},Br={search:async t=>(await Se.get("/opportunities/search",{params:t})).data,create:async t=>(await Se.post("/opportunities",t)).data,getById:async t=>(await Se.get(`/opportunities/${t}`)).data,update:async(t,e)=>(await Se.put(`/opportunities/${t}`,e)).data,getByVehicle:async t=>(await Se.get(`/opportunities/vehicle/${t}`)).data,getRemindersToday:async()=>(await Se.get("/opportunities/reminders/today")).data,addNote:async(t,e)=>(await Se.post(`/opportunities/${t}/notes`,e)).data,changeStatus:async(t,e)=>(await Se.put(`/opportunities/${t}`,{estado:e})).data,assignUser:async(t,e)=>(await Se.put(`/opportunities/${t}`,{usuario_asignado:e})).data,getPending:async()=>(await Se.get("/opportunities/search",{params:{estado:"pendiente",limit:50}})).data,getByPriority:async t=>(await Se.get("/opportunities/search",{params:{prioridad:t,limit:50}})).data,getAppointmentsToday:async()=>{const t=new Date().toISOString().split("T")[0];console.log("🗓️ getAppointmentsToday: Buscando citas para fecha:",t);const e=await Se.get("/opportunities/search",{params:{tiene_cita:"true",fecha_desde:t,fecha_hasta:t,limit:50}});return console.log("📊 getAppointmentsToday: Resultado completo:",JSON.stringify(e.data,null,2)),console.log("📊 getAppointmentsToday: Total opportunities:",e.data?.opportunities?.length||0),e.data}},Mr={search:async t=>(await Se.get("/vehicles/search",{params:t})).data,create:async t=>(await Se.post("/vehicles",t)).data,getByVin:async t=>(await Se.get(`/vehicles/${t}`)).data,update:async(t,e)=>(await Se.put(`/vehicles/${t}`,e)).data,delete:async t=>(await Se.delete(`/vehicles/${t}`)).data,getHistory:async t=>(await Se.get(`/vehicles/${t}/history`)).data,searchByPlate:async t=>(await Se.get("/vehicles/search",{params:{placa:t,limit:10}})).data,searchByCustomer:async t=>(await Se.get("/vehicles/search",{params:{customer_name:t,limit:20}})).data,getCount:async()=>(await Se.get("/vehicles/count")).data};class aE{async getStats(){return(await Se.get("/services/stats")).data}async getCountThisMonth(){return(await Se.get("/services/count/month")).data}async getServices(e={},r=1,n=50){const a=new URLSearchParams;return e.fecha_desde&&a.append("fecha_desde",e.fecha_desde),e.fecha_hasta&&a.append("fecha_hasta",e.fecha_hasta),e.estado&&a.append("estado",e.estado),e.cliente&&a.append("cliente",e.cliente),e.vehiculo&&a.append("vehiculo",e.vehiculo),e.mechanic_id&&a.append("mechanic_id",e.mechanic_id.toString()),e.branch_id&&a.append("branch_id",e.branch_id.toString()),a.append("page",r.toString()),a.append("limit",n.toString()),(await Se.get(`/services?${a.toString()}`)).data}async getServiceById(e){return(await Se.get(`/services/${e}`)).data}async updateServiceStatus(e,r,n){return(await Se.put(`/services/${e}/status`,{estado:r,notas:n})).data}async updateService(e,r){return(await Se.put(`/services/${e}`,r)).data}async completeService(e,r){return(await Se.put(`/services/${e}/complete`,r)).data}async getServicesByVehicle(e){return(await Se.get(`/services/vehicle/${e}`)).data}async getServicesByCustomer(e){return(await Se.get(`/services/customer/${e}`)).data}async getRecentServices(e=10){return(await Se.get(`/services/recent?limit=${e}`)).data}}const ql=new aE,iE=({onNavigate:t,onNavigateToVehicleForm:e})=>{const{user:r,isLoading:n}=bn(),[a,o]=W.useState({vehiclesCount:0,opportunitiesPending:0,remindersToday:0,servicesThisMonth:0,appointmentsToday:0}),[l,u]=W.useState(!0),[d,p]=W.useState(""),[m,x]=W.useState(!1);W.useEffect(()=>{!n&&r&&y()},[n,r]);const y=async()=>{try{console.log("🔄 Dashboard: Iniciando carga de datos...");const w=new Date().toISOString().split("T")[0],[S,T,E,N,D]=await Promise.all([Br.getRemindersToday(),Br.getPending(),Mr.getCount(),Br.getAppointmentsToday(),ql.getCountThisMonth()]);console.log("📊 Dashboard: Datos recibidos",{vehicles:E,opportunities:T,reminders:S,appointments:N,services:D}),console.log("🔍 Dashboard: Detalle appointments:",{appointmentsResult:N,appointmentsArray:N?.opportunities,appointmentsLength:N?.opportunities?.length,finalCount:N?.opportunities?.length||0}),o({vehiclesCount:E.count||0,opportunitiesPending:T.opportunities?.length||0,remindersToday:S.reminders?.length||0,servicesThisMonth:D.count||0,appointmentsToday:N.opportunities?.length||0})}catch(w){console.error("❌ Dashboard: Error loading dashboard data:",w)}finally{u(!1)}},b=async()=>{if(d.trim()){x(!0);try{const w=await Mr.searchByPlate(d.trim());w.vehicles&&w.vehicles.length>0?(t("vehicles"),localStorage.setItem("vehicleSearchResults",JSON.stringify(w.vehicles)),localStorage.setItem("vehicleSearchQuery",d.trim())):alert("No se encontró ningún vehículo con esas placas")}catch(w){console.error("Error searching vehicle:",w),alert("Error al buscar el vehículo")}finally{x(!1)}}},_=w=>{w.key==="Enter"&&b()};return n?h.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):h.jsx("div",{className:"bg-gray-50",children:h.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Bienvenido, ",r?.nombre]}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de seguimiento de clientes y vehículos"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[h.jsx("div",{className:"card p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vehículos Registrados"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"--":a.vehiclesCount})]}),h.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:h.jsx("span",{className:"text-blue-600 text-xl",children:"🚗"})})]})}),h.jsxs("div",{className:`card p-6 ${a.appointmentsToday>0?"ring-2 ring-blue-200 bg-blue-50":""}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Citas Hoy"}),h.jsx("p",{className:`text-2xl font-bold ${a.appointmentsToday>0?"text-blue-600":"text-gray-900"}`,children:l?"--":a.appointmentsToday})]}),h.jsx("div",{className:`p-3 rounded-full ${a.appointmentsToday>0?"bg-blue-100":"bg-gray-100"}`,children:h.jsx("span",{className:`text-xl ${a.appointmentsToday>0?"text-blue-600":"text-gray-600"}`,children:"📅"})})]}),a.appointmentsToday>0&&h.jsx("div",{className:"mt-3",children:h.jsx("button",{onClick:()=>t("appointments"),className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-full font-medium",children:"Ver Citas"})})]}),h.jsx("div",{className:"card p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Oportunidades Pendientes"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"--":a.opportunitiesPending})]}),h.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:h.jsx("span",{className:"text-yellow-600 text-xl",children:"💼"})})]})}),h.jsxs("div",{className:`card p-6 cursor-pointer hover:shadow-lg transition-shadow ${a.servicesThisMonth>0?"ring-2 ring-green-200 bg-green-50":""}`,onClick:()=>t("services"),children:[h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Servicios del Mes"}),h.jsx("p",{className:`text-2xl font-bold ${a.servicesThisMonth>0?"text-green-600":"text-gray-900"}`,children:l?"--":a.servicesThisMonth})]}),h.jsx("div",{className:`p-3 rounded-full ${a.servicesThisMonth>0?"bg-green-100":"bg-gray-100"}`,children:h.jsx("span",{className:`text-xl ${a.servicesThisMonth>0?"text-green-600":"text-gray-600"}`,children:"✅"})})]}),a.servicesThisMonth>0&&h.jsx("div",{className:"mt-3",children:h.jsx("button",{onClick:w=>{w.stopPropagation(),t("services")},className:"text-xs bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-full font-medium",children:"Ver Servicios"})})]}),h.jsxs("div",{className:`card p-6 ${a.remindersToday>0?"ring-2 ring-red-200 bg-red-50":""}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recordatorios Hoy"}),h.jsx("p",{className:`text-2xl font-bold ${a.remindersToday>0?"text-red-600":"text-gray-900"}`,children:l?"--":a.remindersToday})]}),h.jsx("div",{className:`p-3 rounded-full ${a.remindersToday>0?"bg-red-100":"bg-gray-100"}`,children:h.jsx("span",{className:`text-xl ${a.remindersToday>0?"text-red-600":"text-gray-600"}`,children:a.remindersToday>0?"🔥":"⏰"})})]}),a.remindersToday>0&&h.jsx("div",{className:"mt-3",children:h.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("navigate",{detail:"reminders"})),className:"text-xs bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-full font-medium",children:"Ver Recordatorios"})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"card p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Búsqueda Rápida"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"text",value:d,onChange:w=>p(w.target.value.toUpperCase()),onKeyPress:_,placeholder:"Buscar por placas (ABC-123-A)",className:"input-field text-sm"}),h.jsx("button",{onClick:b,disabled:m||!d.trim(),className:"w-full btn-primary text-sm disabled:opacity-50",children:m?"Buscando...":"Buscar Vehículo"})]})]}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rápidas"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("button",{onClick:()=>{console.log("📅 Dashboard: Navigating to appointments"),t("appointments")},className:"w-full btn-primary text-sm",children:"📅 Agendar Cita Rápida"}),h.jsx("button",{onClick:()=>{console.log("🚗 Dashboard: Using direct vehicle form navigation"),e()},className:"w-full btn-secondary text-sm",children:"Registrar Nuevo Vehículo"}),h.jsx("button",{onClick:()=>{console.log("💼 Dashboard: Navigating to opportunities"),t("opportunities")},className:"w-full btn-secondary text-sm",children:"Crear Oportunidad"}),h.jsx("button",{onClick:()=>{console.log("⏰ Dashboard: Navigating to reminders"),t("reminders")},className:"w-full btn-secondary text-sm",children:"Ver Recordatorios"})]})]}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Próximos Recordatorios"}),h.jsx("div",{className:"text-sm text-gray-600",children:h.jsx("p",{children:"No hay recordatorios programados para hoy"})})]})]})]})})})},oE=()=>{const{user:t}=bn(),[e,r]=W.useState([]),[n,a]=W.useState(!0),[o,l]=W.useState(!1),[u,d]=W.useState({cita_fecha:"",cita_hora:"",cita_descripcion_breve:"",cita_telefono_contacto:"",cita_nombre_contacto:"",titulo:"",descripcion:""}),p=async()=>{try{const _=await Br.search({tiene_cita:"true"});r(_.opportunities||[])}catch(_){console.error("Error al cargar citas:",_)}finally{a(!1)}},m=async _=>{_.preventDefault();try{const w={...u,titulo:u.titulo||`Cita - ${u.cita_descripcion_breve}`,descripcion:u.descripcion||`Cita agendada para ${u.cita_nombre_contacto} - ${u.cita_descripcion_breve}`,tipo_oportunidad:"cita_agendada",estado:"agendado",prioridad:"media",origen:"manual",tiene_cita:!0};(await Se.post("/opportunities/appointments",w)).status===201&&(l(!1),d({cita_fecha:"",cita_hora:"",cita_descripcion_breve:"",cita_telefono_contacto:"",cita_nombre_contacto:"",titulo:"",descripcion:""}),p())}catch(w){console.error("Error al crear cita:",w),alert("Error al crear la cita. Por favor, intenta de nuevo.")}},x=_=>new Date(_).toLocaleDateString("es-MX"),y=_=>_.substring(0,5),b=_=>{switch(_){case"agendado":return"bg-blue-100 text-blue-800";case"en_proceso":return"bg-yellow-100 text-yellow-800";case"completado":return"bg-green-100 text-green-800";case"perdido":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return W.useEffect(()=>{p()},[]),n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Citas"}),h.jsx("p",{className:"text-gray-600",children:"Gestión de citas agendadas"})]}),h.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"📅 Nueva Cita"})]}),o&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Agendar Cita Rápida"}),h.jsxs("form",{onSubmit:m,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha *"}),h.jsx("input",{type:"date",value:u.cita_fecha,onChange:_=>d({...u,cita_fecha:_.target.value}),className:"input-field",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora *"}),h.jsx("input",{type:"time",value:u.cita_hora,onChange:_=>d({...u,cita_hora:_.target.value}),className:"input-field",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción del vehículo *"}),h.jsx("input",{type:"text",placeholder:"Ej: Honda HRV 2022",value:u.cita_descripcion_breve,onChange:_=>d({...u,cita_descripcion_breve:_.target.value}),className:"input-field",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del contacto *"}),h.jsx("input",{type:"text",placeholder:"Nombre completo",value:u.cita_nombre_contacto,onChange:_=>d({...u,cita_nombre_contacto:_.target.value}),className:"input-field",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono *"}),h.jsx("input",{type:"tel",placeholder:"55-1234-5678",value:u.cita_telefono_contacto,onChange:_=>d({...u,cita_telefono_contacto:_.target.value}),className:"input-field",required:!0})]}),h.jsxs("div",{className:"flex space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary flex-1",children:"Cancelar"}),h.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Agendar Cita"})]})]})]})}),h.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:e.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-6xl mb-4",children:"📅"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay citas agendadas"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Comienza agendando tu primera cita"}),h.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"Agendar Primera Cita"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cita"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehículo"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(_=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:x(_.cita_fecha)}),h.jsx("div",{className:"text-sm text-gray-500",children:y(_.cita_hora)})]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.cita_nombre_contacto}),h.jsx("div",{className:"text-sm text-gray-500",children:_.cita_telefono_contacto})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:_.cita_descripcion_breve})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(_.estado)}`,children:_.estado})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[h.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Ver"}),h.jsx("button",{className:"text-green-600 hover:text-green-900",children:"Completar"})]})]},_.opportunity_id))})]})})})]})},sE=$i({searchType:Gi(["placa","vin","cliente"]),searchValue:Yt().min(1,"Valor de búsqueda requerido")}),lE=({onVehicleSelect:t,onCreateNew:e})=>{const[r,n]=W.useState([]),[a,o]=W.useState(!1),[l,u]=W.useState(null),{register:d,handleSubmit:p,watch:m,setValue:x,formState:{errors:y}}=kn({resolver:Yi(sE),defaultValues:{searchType:"placa"}});W.useEffect(()=>{const E=localStorage.getItem("vehicleSearchResults"),N=localStorage.getItem("vehicleSearchQuery");if(E&&N)try{const D=JSON.parse(E);n(D),x("searchType","placa"),x("searchValue",N),localStorage.removeItem("vehicleSearchResults"),localStorage.removeItem("vehicleSearchQuery")}catch(D){console.error("Error parsing saved search results:",D)}},[x]);const b=m("searchType"),_=()=>{switch(b){case"placa":return"ABC-123-A";case"vin":return"1N4BL11D85C123456";case"cliente":return"Juan Pérez";default:return""}},w=async E=>{o(!0),u(null),n([]);try{let N;switch(E.searchType){case"placa":N=await Mr.searchByPlate(E.searchValue);break;case"vin":E.searchValue.length===17?N={vehicles:[(await Mr.getByVin(E.searchValue)).vehicle],total:1}:N=await Mr.search({vin:E.searchValue});break;case"cliente":N=await Mr.searchByCustomer(E.searchValue);break;default:throw new Error("Tipo de búsqueda no válido")}n(N.vehicles||[]),N.vehicles?.length===0&&u("No se encontraron vehículos que coincidan con la búsqueda")}catch(N){u(N.response?.data?.message||"Error al buscar vehículos")}finally{o(!1)}},S=async()=>{o(!0),u(null),n([]);try{const E=await Mr.search({});n(E.vehicles||[]),E.vehicles?.length===0&&u("No hay vehículos registrados en el sistema")}catch(E){u(E.response?.data?.message||"Error al cargar vehículos")}finally{o(!1)}},T=E=>`https://wa.me/52${E.replace(/^\+52/,"")}`;return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Búsqueda de Vehículos"}),h.jsx("form",{onSubmit:p(w),className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de búsqueda"}),h.jsxs("select",{...d("searchType"),className:"input-field",children:[h.jsx("option",{value:"placa",children:"Por Placas"}),h.jsx("option",{value:"vin",children:"Por VIN"}),h.jsx("option",{value:"cliente",children:"Por Cliente"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor a buscar"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{...d("searchValue"),type:"text",className:"input-field flex-1",placeholder:_()}),h.jsx("button",{type:"submit",disabled:a,className:"btn-primary px-6 disabled:opacity-50",children:a?"Buscando...":"Buscar"}),h.jsx("button",{type:"button",onClick:()=>S(),disabled:a,className:"btn-secondary px-6 disabled:opacity-50",children:a?"Cargando...":"Listar Todos"})]}),y.searchValue&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.searchValue.message})]})]})}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:h.jsx("button",{onClick:()=>{console.log("🔘 VehicleSearch button clicked"),console.log("onCreateNew function:",e),e?e():console.log("❌ onCreateNew is undefined")},className:"btn-secondary",children:"+ Registrar Nuevo Vehículo"})})]}),l&&h.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:h.jsx("p",{className:"text-red-600 text-sm",children:l})}),r.length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Resultados (",r.length,")"]}),r.map(E=>h.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t?.(E),children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[h.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[E.marca," ",E.modelo," ",E.año]}),h.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:E.placa_actual||"Sin placas"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"VIN:"})," ",E.vin]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",E.kilometraje_actual?.toLocaleString()," km"]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Propietario:"})," ",E.customer?.nombre||"No asignado"]})]}),E.customer&&h.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[h.jsxs("span",{className:"text-gray-600",children:["📞 ",E.customer.telefono]}),E.customer.whatsapp&&h.jsx("a",{href:T(E.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",onClick:N=>N.stopPropagation(),children:"💬 WhatsApp"})]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("span",{className:"text-xs text-gray-500",children:["Último registro: ",new Date(E.fecha_actualizacion).toLocaleDateString("es-MX")]})})]})},E.vin))]})]})},pa={getAll:async(t=50)=>(await Se.get("/customers/search",{params:{nombre:"",limit:t}})).data,search:async t=>(await Se.get("/customers/search",{params:t})).data,create:async t=>(await Se.post("/customers",t)).data,getById:async t=>(await Se.get(`/customers/${t}`)).data,update:async(t,e)=>(await Se.put(`/customers/${t}`,e)).data,delete:async t=>(await Se.delete(`/customers/${t}`)).data,getVehicles:async t=>(await Se.get(`/customers/${t}/vehicles`)).data,searchByName:async t=>(await Se.get("/customers/search",{params:{nombre:t,limit:10}})).data,searchByPhone:async t=>(await Se.get("/customers/search",{params:{telefono:t,limit:5}})).data};function cE(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function uE(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var fE=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dE=function(t){fE(e,t);function e(r,n){var a=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:a.name,enumerable:!1,configurable:!0}),cE(o,a.prototype),uE(o),o}return e}(Error),hE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cr=function(t){hE(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(dE),pE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tn=function(t){pE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Cr),vE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oe=function(t){vE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Cr),mE=function(){function t(e){if(this.binarizer=e,e===null)throw new Oe("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,a){var o=this.binarizer.getLuminanceSource().crop(e,r,n,a);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),xE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$t=function(t){xE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Cr),gE=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),ft=function(){function t(){}return t.arraycopy=function(e,r,n,a,o){for(;o--;)n[a++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),yE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t0=function(t){yE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Cr),bE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),um=function(t){bE(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=t.call(this,n)||this;return a.index=r,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e}(t0),_E=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kt=function(){function t(){}return t.fill=function(e,r){for(var n=0,a=e.length;n<a;n++)e[n]=r},t.fillWithin=function(e,r,n,a){t.rangeCheck(e.length,r,n);for(var o=r;o<n;o++)e[o]=a},t.rangeCheck=function(e,r,n){if(r>n)throw new Oe("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new um(r);if(n>e)throw new um(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var a=Array.from({length:e});return a.map(function(o){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var a=Array.from({length:e});return a.map(function(o){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var a=1;try{for(var o=_E(e),l=o.next();!l.done;l=o.next()){var u=l.value;a=31*a+u}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var a=n-r,o=new Int32Array(a);return ft.arraycopy(e,r,o,0,a),o},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var a=0,o=e.length-1;a<=o;){var l=o+a>>1,u=n(r,e[l]);if(u>0)a=l+1;else if(u<0)o=l-1;else return l}return-a-1},t.numberComparator=function(e,r){return e-r},t}(),Fe=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Kt=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);ft.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),o=n[a];o&=~((1<<(e&31))-1);for(var l=n.length;o===0;){if(++a===l)return r;o=n[a]}var u=a*32+Fe.numberOfTrailingZeros(o);return u>r?r:u},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),o=~n[a];o&=~((1<<(e&31))-1);for(var l=n.length;o===0;){if(++a===l)return r;o=~n[a]}var u=a*32+Fe.numberOfTrailingZeros(o);return u>r?r:u},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Oe;if(r!==e){r--;for(var n=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,l=n;l<=a;l++){var u=l>n?0:e&31,d=l<a?31:r&31,p=(2<<d)-(1<<u);o[l]|=p}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Oe;if(r===e)return!0;r--;for(var a=Math.floor(e/32),o=Math.floor(r/32),l=this.bits,u=a;u<=o;u++){var d=u>a?0:e&31,p=u<o?31:r&31,m=(2<<p)-(1<<d)&4294967295;if((l[u]&m)!==(n?m:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Oe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Oe("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,a){for(var o=0;o<a;o++){for(var l=0,u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;r[n+o]=l}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,o=0;o<n;o++){var l=a[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[r-o]=l}if(this.size!==n*32){for(var u=n*32-this.size,d=e[0]>>>u,o=1;o<n;o++){var p=e[o];d|=p<<32-u,e[o-1]=d,d=p>>>u}e[n-1]=d}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&kt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+kt.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),bd;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(bd||(bd={}));const mt=bd;var wE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fe=function(t){wE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Cr),AE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(tt||(tt={}));var Lt=function(){function t(e,r,n){for(var a,o,l=[],u=3;u<arguments.length;u++)l[u-3]=arguments[u];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var d=this.values,p=0,m=d.length;p!==m;p++){var x=d[p];t.VALUES_TO_ECI.set(x,this)}try{for(var y=AE(l),b=y.next();!b.done;b=y.next()){var _=b.value;t.NAME_TO_ECI.set(_,this)}}catch(w){a={error:w}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new fe("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new fe("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new fe("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(tt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(tt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(tt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(tt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(tt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(tt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(tt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(tt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(tt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(tt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(tt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(tt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(tt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(tt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(tt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(tt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(tt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(tt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(tt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(tt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(tt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(tt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(tt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(tt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(tt.Big5,28,"Big5"),t.GB18030=new t(tt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(tt.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),EE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yl=function(t){EE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Cr),$r=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Lt?e:Lt.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var a="",o=0,l=e.length;o<l;o++){var u=e[o].toString(16);u.length<2&&(u="0"+u),a+="%"+u}return decodeURIComponent(a)}if(n.equals(Lt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Yl("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Lt.UTF8)||e.equals(Lt.ISO8859_1)||e.equals(Lt.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),a=[],o=0;o<n.length;o++)a.push(n[o].charCodeAt(0));return new Uint8Array(a)},t}(),Ge=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return $r.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(mt.CHARACTER_SET)!==void 0)return r.get(mt.CHARACTER_SET).toString();for(var n=e.length,a=!0,o=!0,l=!0,u=0,d=0,p=0,m=0,x=0,y=0,b=0,_=0,w=0,S=0,T=0,E=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,N=0;N<n&&(a||o||l);N++){var D=e[N]&255;l&&(u>0?(D&128)===0?l=!1:u--:(D&128)!==0&&((D&64)===0?l=!1:(u++,(D&32)===0?d++:(u++,(D&16)===0?p++:(u++,(D&8)===0?m++:l=!1))))),a&&(D>127&&D<160?a=!1:D>159&&(D<192||D===215||D===247)&&T++),o&&(x>0?D<64||D===127||D>252?o=!1:x--:D===128||D===160||D>239?o=!1:D>160&&D<224?(y++,_=0,b++,b>w&&(w=b)):D>127?(x++,b=0,_++,_>S&&(S=_)):(b=0,_=0))}return l&&u>0&&(l=!1),o&&x>0&&(o=!1),l&&(E||d+p+m>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||w>=3||S>=3)?t.SHIFT_JIS:a&&o?w===2&&y===2||T*10>=n?t.SHIFT_JIS:t.ISO88591:a?t.ISO88591:o?t.SHIFT_JIS:l?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function o(u,d,p,m,x,y){if(u==="%%")return"%";if(r[++a]!==void 0){u=m?parseInt(m.substr(1)):void 0;var b=x?parseInt(x.substr(1)):void 0,_;switch(y){case"s":_=r[a];break;case"c":_=r[a][0];break;case"f":_=parseFloat(r[a]).toFixed(u);break;case"p":_=parseFloat(r[a]).toPrecision(u);break;case"e":_=parseFloat(r[a]).toExponential(u);break;case"x":_=parseInt(r[a]).toString(b||16);break;case"d":_=parseFloat(parseInt(r[a],b||10).toPrecision(u)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(b);for(var w=parseInt(p),S=p&&p[0]+""=="0"?"0":" ";_.length<w;)_=d!==void 0?_+S:S+_;return _}}var l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)},t.getBytes=function(e,r){return $r.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Lt.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Lt.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Lt.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Le=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ge.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var a=r;r<r+n;a++)this.append(e[a]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),yn=function(){function t(e,r,n,a){if(this.width=e,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=e),this.height=r,e<1||r<1)throw new Oe("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,a=new t(n,r),o=0;o<r;o++)for(var l=e[o],u=0;u<n;u++)l[u]&&a.set(u,o);return a},t.parseFromString=function(e,r,n){if(e===null)throw new Oe("stringRepresentation cannot be null");for(var a=new Array(e.length),o=0,l=0,u=-1,d=0,p=0;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new Oe("row lengths do not match");l=o,d++}p++}else if(e.substring(p,p+r.length)===r)p+=r.length,a[o]=!0,o++;else if(e.substring(p,p+n.length)===n)p+=n.length,a[o]=!1,o++;else throw new Oe("illegal character encountered: "+e.substring(p));if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new Oe("row lengths do not match");d++}for(var m=new t(u,d),x=0;x<o;x++)a[x]&&m.set(Math.floor(x%u),Math.floor(x/u));return m},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Oe("input matrix dimensions do not match");for(var r=new Kt(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,o=0,l=this.height;o<l;o++)for(var u=o*n,d=e.getRow(o,r).getBitArray(),p=0;p<n;p++)a[u+p]^=d[p]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,a){if(r<0||e<0)throw new Oe("Left and top must be nonnegative");if(a<1||n<1)throw new Oe("Height and width must be at least 1");var o=e+n,l=r+a;if(l>this.height||o>this.width)throw new Oe("The region must fit inside the matrix");for(var u=this.rowSize,d=this.bits,p=r;p<l;p++)for(var m=p*u,x=e;x<o;x++)d[m+Math.floor(x/32)]|=1<<(x&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Kt(this.width):r.clear();for(var n=this.rowSize,a=this.bits,o=e*n,l=0;l<n;l++)r.setBulk(l*32,a[o+l]);return r},t.prototype.setRow=function(e,r){ft.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Kt(e),a=new Kt(e),o=0,l=Math.floor((r+1)/2);o<l;o++)n=this.getRow(o,n),a=this.getRow(r-1-o,a),n.reverse(),a.reverse(),this.setRow(o,a),this.setRow(r-1-o,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,a=this.bits,o=e,l=r,u=-1,d=-1,p=0;p<r;p++)for(var m=0;m<n;m++){var x=a[p*n+m];if(x!==0){if(p<l&&(l=p),p>d&&(d=p),m*32<o){for(var y=0;(x<<31-y&4294967295)===0;)y++;m*32+y<o&&(o=m*32+y)}if(m*32+31>u){for(var y=31;!(x>>>y);)y--;m*32+y>u&&(u=m*32+y)}}}return u<o||d<l?null:Int32Array.from([o,l,u-o+1,d-l+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/e,o=n%e*32,l=r[n],u=0;(l<<31-u&4294967295)===0;)u++;return o+=u,Int32Array.from([o,a])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),o=Math.floor(n%e)*32,l=r[n],u=31;!(l>>>u);)u--;return o+=u,Int32Array.from([o,a])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&kt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+kt.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var a=new Le,o=0,l=this.height;o<l;o++){for(var u=0,d=this.width;u<d;u++)a.append(this.get(u,o)?e:r);a.append(n)}return a.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),SE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(t){SE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Cr),CE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NE=function(t){CE(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),o=a.getWidth();n==null||n.getSize()<o?n=new Kt(o):n.clear(),this.initArrays(o);for(var l=a.getRow(r,this.luminances),u=this.buckets,d=0;d<o;d++)u[(l[d]&255)>>e.LUMINANCE_SHIFT]++;var p=e.estimateBlackPoint(u);if(o<3)for(var d=0;d<o;d++)(l[d]&255)<p&&n.set(d);else for(var m=l[0]&255,x=l[1]&255,d=1;d<o-1;d++){var y=l[d+1]&255;(x*4-m-y)/2<p&&n.set(d),m=x,x=y}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),o=new yn(n,a);this.initArrays(n);for(var l=this.buckets,u=1;u<5;u++)for(var d=Math.floor(a*u/5),p=r.getRow(d,this.luminances),m=Math.floor(n*4/5),x=Math.floor(n/5);x<m;x++){var y=p[x]&255;l[y>>e.LUMINANCE_SHIFT]++}for(var b=e.estimateBlackPoint(l),_=r.getMatrix(),u=0;u<a;u++)for(var w=u*n,x=0;x<n;x++){var y=_[w+x]&255;y<b&&o.set(x,u)}return o},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(r){for(var n=r.length,a=0,o=0,l=0,u=0;u<n;u++)r[u]>l&&(o=u,l=r[u]),r[u]>a&&(a=r[u]);for(var d=0,p=0,u=0;u<n;u++){var m=u-o,x=r[u]*m*m;x>p&&(d=u,p=x)}if(o>d){var y=o;o=d,d=y}if(d-o<=n/16)throw new K;for(var b=d-1,_=-1,u=d-1;u>o;u--){var w=u-o,x=w*w*(d-u)*(a-r[u]);x>_&&(b=u,_=x)}return b<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(gE),OE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TE=function(t){OE(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var o=r.getMatrix(),l=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&l++;var u=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&u++;var d=e.calculateBlackPoints(o,l,u,n,a),p=new yn(n,a);e.calculateThresholdForBlock(o,l,u,n,a,d,p),this.matrix=p}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,a,o,l,u,d){for(var p=l-e.BLOCK_SIZE,m=o-e.BLOCK_SIZE,x=0;x<a;x++){var y=x<<e.BLOCK_SIZE_POWER;y>p&&(y=p);for(var b=e.cap(x,2,a-3),_=0;_<n;_++){var w=_<<e.BLOCK_SIZE_POWER;w>m&&(w=m);for(var S=e.cap(_,2,n-3),T=0,E=-2;E<=2;E++){var N=u[b+E];T+=N[S-2]+N[S-1]+N[S]+N[S+1]+N[S+2]}var D=T/25;e.thresholdBlock(r,w,y,D,o,d)}}},e.cap=function(r,n,a){return r<n?n:r>a?a:r},e.thresholdBlock=function(r,n,a,o,l,u){for(var d=0,p=a*l+n;d<e.BLOCK_SIZE;d++,p+=l)for(var m=0;m<e.BLOCK_SIZE;m++)(r[p+m]&255)<=o&&u.set(n+m,a+d)},e.calculateBlackPoints=function(r,n,a,o,l){for(var u=l-e.BLOCK_SIZE,d=o-e.BLOCK_SIZE,p=new Array(a),m=0;m<a;m++){p[m]=new Int32Array(n);var x=m<<e.BLOCK_SIZE_POWER;x>u&&(x=u);for(var y=0;y<n;y++){var b=y<<e.BLOCK_SIZE_POWER;b>d&&(b=d);for(var _=0,w=255,S=0,T=0,E=x*o+b;T<e.BLOCK_SIZE;T++,E+=o){for(var N=0;N<e.BLOCK_SIZE;N++){var D=r[E+N]&255;_+=D,D<w&&(w=D),D>S&&(S=D)}if(S-w>e.MIN_DYNAMIC_RANGE)for(T++,E+=o;T<e.BLOCK_SIZE;T++,E+=o)for(var N=0;N<e.BLOCK_SIZE;N++)_+=r[E+N]&255}var I=_>>e.BLOCK_SIZE_POWER*2;if(S-w<=e.MIN_DYNAMIC_RANGE&&(I=w/2,m>0&&y>0)){var U=(p[m-1][y]+2*p[m][y-1]+p[m-1][y-1])/4;w<U&&(I=U)}p[m][y]=I}}return p},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(NE),bc=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,a){throw new Yl("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Yl("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Yl("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Le,n=0;n<this.height;n++){for(var a=this.getRow(n,e),o=0;o<this.width;o++){var l=a[o]&255,u=void 0;l<64?u="#":l<128?u="+":l<192?u=".":u=" ",r.append(u)}r.append(`
`)}return r.toString()},t}(),DE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r0=function(t){DE(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),o=this.getWidth(),l=0;l<o;l++)a[l]=255-(a[l]&255);return a},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),o=0;o<n;o++)a[o]=255-(r[o]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,a,o){return new e(this.delegate.crop(r,n,a,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(bc),RE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jE=function(t){RE(e,t);function e(r,n){n===void 0&&(n=!1);var a=t.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(r,n),a}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(a.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,a,o){o===void 0&&(o=!1);var l=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var u=0,d=0,p=r.length;u<p;u+=4,d++){var m=void 0,x=r[u+3];if(x===0)m=255;else{var y=r[u],b=r[u+1],_=r[u+2];m=306*y+601*b+117*_+512>>10}l[d]=m}else for(var u=0,d=0,w=r.length;u<w;u+=4,d++){var m=void 0,x=r[u+3];if(x===0)m=255;else{var y=r[u],b=r[u+1],_=r[u+2];m=306*y+601*b+117*_+512>>10}l[d]=255-m}return l},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Oe("Requested row is outside the image: "+r);var a=this.getWidth(),o=r*a;return n===null?n=this.buffer.slice(o,o+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(o,o+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,o){return t.prototype.crop.call(this,r,n,a,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),o=r*e.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*u),p=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*u);return n.width=d,n.height=p,a.translate(d/2,p/2),a.rotate(o),a.drawImage(this.canvas,l/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new r0(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(bc),IE=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),ur=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(m){try{p(n.next(m))}catch(x){l(x)}}function d(m){try{p(n.throw(m))}catch(x){l(x)}}function p(m){m.done?o(m.value):a(m.value).then(u,d)}p((n=n.apply(t,e||[])).next())})},fr=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return d([p,m])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){r.label=p[1];break}if(p[0]===6&&r.label<o[1]){r.label=o[1],o=p;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(p);break}o[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(m){p=[6,m],a=0}finally{n=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},ME=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$a=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return ur(this,void 0,void 0,function(){var e,r,n,a,o,l,u,d,p,m,x,y;return fr(this,function(b){switch(b.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=b.sent(),r=[];try{for(n=ME(e),a=n.next();!a.done;a=n.next())o=a.value,l=o.kind==="video"?"videoinput":o.kind,l==="videoinput"&&(u=o.deviceId||o.id,d=o.label||"Video device "+(r.length+1),p=o.groupId,m={deviceId:u,label:d,kind:l,groupId:p},r.push(m))}catch(_){x={error:_}}finally{try{a&&!a.done&&(y=n.return)&&y.call(n)}finally{if(x)throw x.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return ur(this,void 0,void 0,function(){var e;return fr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new IE(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return ur(this,void 0,void 0,function(){var r;return fr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return ur(this,void 0,void 0,function(){return fr(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return ur(this,void 0,void 0,function(){var n,a;return fr(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return ur(this,void 0,void 0,function(){var n;return fr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return ur(this,void 0,void 0,function(){var n,a;return fr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return a=o.sent(),[2,a]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return ur(this,void 0,void 0,function(){return fr(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return ur(this,void 0,void 0,function(){var a,o;return fr(this,function(l){switch(l.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},o={video:a},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,l.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return ur(this,void 0,void 0,function(){var a;return fr(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=o.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return ur(this,void 0,void 0,function(){var a;return fr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return a=o.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return ur(this,void 0,void 0,function(){var n;return fr(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return ur(this,void 0,void 0,function(){return fr(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new tn("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new tn("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new tn("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new tn("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new tn("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new tn("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new tn("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new tn("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new tn("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new tn("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=e,a},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return ur(this,void 0,void 0,function(){return fr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return ur(this,void 0,void 0,function(){return fr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(l,u){if(a._stopAsyncDecode){u(new K("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var d=a.decode(e);l(d)}catch(y){var p=r&&y instanceof K,m=y instanceof $t||y instanceof fe,x=m&&n;if(p||x)return setTimeout(o,a._timeBetweenDecodingAttempts,l,u);u(y)}};return new Promise(function(l,u){return o(l,u)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);r(o,null),setTimeout(a,n.timeBetweenScansMillis)}catch(d){r(null,d);var l=d instanceof $t||d instanceof fe,u=d instanceof K;(l||u)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),a=new jE(n,r),o=new TE(a);return new mE(o)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),lr=function(){function t(e,r,n,a,o,l){n===void 0&&(n=r==null?0:8*r.length),l===void 0&&(l=ft.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=o,this.resultMetadata=null,l==null?this.timestamp=ft.currentTimeMillis():this.timestamp=l}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);ft.arraycopy(r,0,n,0,r.length),ft.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),_d;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_d||(_d={}));const Ne=_d;var wd;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(wd||(wd={}));const rr=wd;var _c=function(){function t(e,r,n,a,o,l){o===void 0&&(o=-1),l===void 0&&(l=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),as=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Oe;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),va=function(){function t(e,r){if(r.length===0)throw new Oe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),ft.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var a=0,o=r.length;a!==o;a++){var l=r[a];n=as.addOrSubtract(n,l)}return n}n=r[0];for(var u=r.length,d=this.field,a=1;a<u;a++)n=as.addOrSubtract(d.multiply(e,n),r[a]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Oe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var o=new Int32Array(n.length),l=n.length-r.length;ft.arraycopy(n,0,o,0,l);for(var u=l;u<n.length;u++)o[u]=as.addOrSubtract(r[u-l],n[u]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Oe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=e.coefficients,o=a.length,l=new Int32Array(n+o-1),u=this.field,d=0;d<n;d++)for(var p=r[d],m=0;m<o;m++)l[d+m]=as.addOrSubtract(l[d+m],u.multiply(p,a[m]));return new t(u,l)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),o=this.coefficients,l=0;l<r;l++)a[l]=n.multiply(o[l],e);return new t(n,a)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Oe;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,o=new Int32Array(a+e),l=this.field,u=0;u<a;u++)o[u]=l.multiply(n[u],r);return new t(l,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Oe("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Oe("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,o=e.getCoefficient(e.getDegree()),l=r.inverse(o);a.getDegree()>=e.getDegree()&&!a.isZero();){var u=a.getDegree()-e.getDegree(),d=r.multiply(a.getCoefficient(a.getDegree()),l),p=e.multiplyByMonomial(u,d),m=r.buildMonomial(u,d);n=n.addOrSubtract(m),a=a.addOrSubtract(p)}return[n,a]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),BE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tg=function(t){BE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Cr),PE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wr=function(t){PE(e,t);function e(r,n,a){var o=t.call(this)||this;o.primitive=r,o.size=n,o.generatorBase=a;for(var l=new Int32Array(n),u=1,d=0;d<n;d++)l[d]=u,u*=2,u>=n&&(u^=r,u&=n-1);o.expTable=l;for(var p=new Int32Array(n),d=0;d<n-1;d++)p[l[d]]=d;return o.logTable=p,o.zero=new va(o,Int32Array.from([0])),o.one=new va(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Oe;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new va(this,a)},e.prototype.inverse=function(r){if(r===0)throw new tg;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Fe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(as),LE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kl=function(t){LE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Cr),kE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bs=function(t){kE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Cr),wc=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,a=new va(n,e),o=new Int32Array(r),l=!0,u=0;u<r;u++){var d=a.evaluateAt(n.exp(u+n.getGeneratorBase()));o[o.length-1-u]=d,d!==0&&(l=!1)}if(!l)for(var p=new va(n,o),m=this.runEuclideanAlgorithm(n.buildMonomial(r,1),p,r),x=m[0],y=m[1],b=this.findErrorLocations(x),_=this.findErrorMagnitudes(y,b),u=0;u<b.length;u++){var w=e.length-1-n.log(b[u]);if(w<0)throw new kl("Bad error location");e[w]=wr.addOrSubtract(e[w],_[u])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var o=this.field,l=e,u=r,d=o.getZero(),p=o.getOne();u.getDegree()>=(n/2|0);){var m=l,x=d;if(l=u,d=p,l.isZero())throw new kl("r_{i-1} was zero");u=m;for(var y=o.getZero(),b=l.getCoefficient(l.getDegree()),_=o.inverse(b);u.getDegree()>=l.getDegree()&&!u.isZero();){var w=u.getDegree()-l.getDegree(),S=o.multiply(u.getCoefficient(u.getDegree()),_);y=y.addOrSubtract(o.buildMonomial(w,S)),u=u.addOrSubtract(l.multiplyByMonomial(w,S))}if(p=y.multiply(d).addOrSubtract(x),u.getDegree()>=l.getDegree())throw new bs("Division algorithm failed to reduce polynomial?")}var T=p.getCoefficient(0);if(T===0)throw new kl("sigmaTilde(0) was zero");var E=o.inverse(T),N=p.multiplyScalar(E),D=u.multiplyScalar(E);return[N,D]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,o=this.field,l=1;l<o.getSize()&&a<r;l++)e.evaluateAt(l)===0&&(n[a]=o.inverse(l),a++);if(a!==r)throw new kl("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,a=new Int32Array(n),o=this.field,l=0;l<n;l++){for(var u=o.inverse(r[l]),d=1,p=0;p<n;p++)if(l!==p){var m=o.multiply(r[p],u),x=(m&1)===0?m|1:m&-2;d=o.multiply(d,x)}a[l]=o.multiply(e.evaluateAt(u),o.inverse(d)),o.getGeneratorBase()!==0&&(a[l]=o.multiply(a[l],u))}return a},t}(),er;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(er||(er={}));var fm=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),a=this.correctBits(n),o=t.convertBoolArrayToByteArray(a),l=t.getEncodedData(a),u=new _c(o,l,null,null);return u.setNumBits(a.length),u},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=er.UPPER,a=er.UPPER,o="",l=0;l<r;)if(a===er.BINARY){if(r-l<5)break;var u=t.readCode(e,l,5);if(l+=5,u===0){if(r-l<11)break;u=t.readCode(e,l,11)+31,l+=11}for(var d=0;d<u;d++){if(r-l<8){l=r;break}var p=t.readCode(e,l,8);o+=Ge.castAsNonUtf8Char(p),l+=8}a=n}else{var m=a===er.DIGIT?4:5;if(r-l<m)break;var p=t.readCode(e,l,m);l+=m;var x=t.getCharacter(a,p);x.startsWith("CTRL_")?(n=a,a=t.getTable(x.charAt(5)),x.charAt(6)==="L"&&(n=a)):(o+=x,a=n)}return o},t.getTable=function(e){switch(e){case"L":return er.LOWER;case"P":return er.PUNCT;case"M":return er.MIXED;case"D":return er.DIGIT;case"B":return er.BINARY;case"U":default:return er.UPPER}},t.getCharacter=function(e,r){switch(e){case er.UPPER:return t.UPPER_TABLE[r];case er.LOWER:return t.LOWER_TABLE[r];case er.MIXED:return t.MIXED_TABLE[r];case er.PUNCT:return t.PUNCT_TABLE[r];case er.DIGIT:return t.DIGIT_TABLE[r];default:throw new bs("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=wr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=wr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=wr.AZTEC_DATA_10):(n=12,r=wr.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),o=e.length/n;if(o<a)throw new fe;for(var l=e.length%n,u=new Int32Array(o),d=0;d<o;d++,l+=n)u[d]=t.readCode(e,l,n);try{var p=new wc(r);p.decode(u,o-a)}catch(S){throw new fe(S)}for(var m=(1<<n)-1,x=0,d=0;d<a;d++){var y=u[d];if(y===0||y===m)throw new fe;(y===1||y===m-1)&&x++}for(var b=new Array(a*n-x),_=0,d=0;d<a;d++){var y=u[d];if(y===1||y===m-1)b.fill(y>1,_,_+n-1),_+=n-1;else for(var w=n-1;w>=0;--w)b[_++]=(y&1<<w)!==0}return b},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,o=new Int32Array(a),l=new Array(this.totalBitsInLayer(n,r));if(r)for(var u=0;u<o.length;u++)o[u]=u;else for(var d=a+1+2*Fe.truncDivision(Fe.truncDivision(a,2)-1,15),p=a/2,m=Fe.truncDivision(d,2),u=0;u<p;u++){var x=u+Fe.truncDivision(u,15);o[p-u-1]=m-x-1,o[p+u]=m+x+1}for(var u=0,y=0;u<n;u++){for(var b=(n-u)*4+(r?9:12),_=u*2,w=a-1-_,S=0;S<b;S++)for(var T=S*2,E=0;E<2;E++)l[y+T+E]=e.get(o[_+E],o[_+S]),l[y+2*b+T+E]=e.get(o[_+S],o[w-E]),l[y+4*b+T+E]=e.get(o[w-E],o[w-S]),l[y+6*b+T+E]=e.get(o[w-S],o[_+E]);y+=b*8}return l},t.readCode=function(e,r,n){for(var a=0,o=r;o<r+n;o++)a<<=1,e[o]&&(a|=1);return a},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),qe=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,a){var o=e-n,l=r-a;return Math.sqrt(o*o+l*l)},t.sum=function(e){for(var r=0,n=0,a=e.length;n!==a;n++){var o=e[n];r+=o}return r},t}(),Ad=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Ae=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Ad.floatToIntBits(this.x)+Ad.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),o,l,u;if(n>=r&&n>=a?(l=e[0],o=e[1],u=e[2]):a>=n&&a>=r?(l=e[1],o=e[0],u=e[2]):(l=e[2],o=e[0],u=e[1]),this.crossProductZ(o,l,u)<0){var d=o;o=u,u=d}e[0]=o,e[1]=l,e[2]=u},t.distance=function(e,r){return qe.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var a=r.x,o=r.y;return(n.x-a)*(e.y-o)-(n.y-o)*(e.x-a)},t}(),n0=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),FE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UE=function(t){FE(e,t);function e(r,n,a,o,l){var u=t.call(this,r,n)||this;return u.compact=a,u.nbDatablocks=o,u.nbLayers=l,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(n0),Ed=function(){function t(e,r,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=a-o,this.downInit=a+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new K}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,o=!1,l=!0,u=!1,d=!1,p=!1,m=!1,x=!1,y=this.width,b=this.height;l;){l=!1;for(var _=!0;(_||!d)&&r<y;)_=this.containsBlackPoint(n,a,r,!1),_?(r++,l=!0,d=!0):d||r++;if(r>=y){o=!0;break}for(var w=!0;(w||!p)&&a<b;)w=this.containsBlackPoint(e,r,a,!0),w?(a++,l=!0,p=!0):p||a++;if(a>=b){o=!0;break}for(var S=!0;(S||!m)&&e>=0;)S=this.containsBlackPoint(n,a,e,!1),S?(e--,l=!0,m=!0):m||e--;if(e<0){o=!0;break}for(var T=!0;(T||!x)&&n>=0;)T=this.containsBlackPoint(e,r,n,!0),T?(n--,l=!0,x=!0):x||n--;if(n<0){o=!0;break}l&&(u=!0)}if(!o&&u){for(var E=r-e,N=null,D=1;N===null&&D<E;D++)N=this.getBlackPointOnSegment(e,a-D,e+D,a);if(N==null)throw new K;for(var I=null,D=1;I===null&&D<E;D++)I=this.getBlackPointOnSegment(e,n+D,e+D,n);if(I==null)throw new K;for(var U=null,D=1;U===null&&D<E;D++)U=this.getBlackPointOnSegment(r,n+D,r-D,n);if(U==null)throw new K;for(var Y=null,D=1;Y===null&&D<E;D++)Y=this.getBlackPointOnSegment(r,a-D,r-D,a);if(Y==null)throw new K;return this.centerEdges(Y,N,U,I)}else throw new K},t.prototype.getBlackPointOnSegment=function(e,r,n,a){for(var o=qe.round(qe.distance(e,r,n,a)),l=(n-e)/o,u=(a-r)/o,d=this.image,p=0;p<o;p++){var m=qe.round(e+p*l),x=qe.round(r+p*u);if(d.get(m,x))return new Ae(m,x)}return null},t.prototype.centerEdges=function(e,r,n,a){var o=e.getX(),l=e.getY(),u=r.getX(),d=r.getY(),p=n.getX(),m=n.getY(),x=a.getX(),y=a.getY(),b=t.CORR;return o<this.width/2?[new Ae(x-b,y+b),new Ae(u+b,d+b),new Ae(p-b,m-b),new Ae(o+b,l-b)]:[new Ae(x+b,y+b),new Ae(u+b,d-b),new Ae(p-b,m+b),new Ae(o-b,l-b)]},t.prototype.containsBlackPoint=function(e,r,n,a){var o=this.image;if(a){for(var l=e;l<=r;l++)if(o.get(l,n))return!0}else for(var u=e;u<=r;u++)if(o.get(n,u))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),dm=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),a=e.getHeight(),o=!0,l=0;l<r.length&&o;l+=2){var u=Math.floor(r[l]),d=Math.floor(r[l+1]);if(u<-1||u>n||d<-1||d>a)throw new K;o=!1,u===-1?(r[l]=0,o=!0):u===n&&(r[l]=n-1,o=!0),d===-1?(r[l+1]=0,o=!0):d===a&&(r[l+1]=a-1,o=!0)}o=!0;for(var l=r.length-2;l>=0&&o;l-=2){var u=Math.floor(r[l]),d=Math.floor(r[l+1]);if(u<-1||u>n||d<-1||d>a)throw new K;o=!1,u===-1?(r[l]=0,o=!0):u===n&&(r[l]=n-1,o=!0),d===-1?(r[l+1]=0,o=!0):d===a&&(r[l+1]=a-1,o=!0)}},t}(),rg=function(){function t(e,r,n,a,o,l,u,d,p){this.a11=e,this.a21=r,this.a31=n,this.a12=a,this.a22=o,this.a32=l,this.a13=u,this.a23=d,this.a33=p}return t.quadrilateralToQuadrilateral=function(e,r,n,a,o,l,u,d,p,m,x,y,b,_,w,S){var T=t.quadrilateralToSquare(e,r,n,a,o,l,u,d),E=t.squareToQuadrilateral(p,m,x,y,b,_,w,S);return E.times(T)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,a=this.a12,o=this.a13,l=this.a21,u=this.a22,d=this.a23,p=this.a31,m=this.a32,x=this.a33,y=0;y<r;y+=2){var b=e[y],_=e[y+1],w=o*b+d*_+x;e[y]=(n*b+l*_+p)/w,e[y+1]=(a*b+u*_+m)/w}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,a=this.a12,o=this.a13,l=this.a21,u=this.a22,d=this.a23,p=this.a31,m=this.a32,x=this.a33,y=e.length,b=0;b<y;b++){var _=e[b],w=r[b],S=o*_+d*w+x;e[b]=(n*_+l*w+p)/S,r[b]=(a*_+u*w+m)/S}},t.squareToQuadrilateral=function(e,r,n,a,o,l,u,d){var p=e-n+o-u,m=r-a+l-d;if(p===0&&m===0)return new t(n-e,o-n,e,a-r,l-a,r,0,0,1);var x=n-o,y=u-o,b=a-l,_=d-l,w=x*_-y*b,S=(p*_-y*m)/w,T=(x*m-p*b)/w;return new t(n-e+S*n,u-e+T*u,e,a-r+S*a,d-r+T*d,r,S,T,1)},t.quadrilateralToSquare=function(e,r,n,a,o,l,u,d){return t.squareToQuadrilateral(e,r,n,a,o,l,u,d).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),zE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VE=function(t){zE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,a,o,l,u,d,p,m,x,y,b,_,w,S,T,E,N,D){var I=rg.quadrilateralToQuadrilateral(o,l,u,d,p,m,x,y,b,_,w,S,T,E,N,D);return this.sampleGridWithTransform(r,n,a,I)},e.prototype.sampleGridWithTransform=function(r,n,a,o){if(n<=0||a<=0)throw new K;for(var l=new yn(n,a),u=new Float32Array(2*n),d=0;d<a;d++){for(var p=u.length,m=d+.5,x=0;x<p;x+=2)u[x]=x/2+.5,u[x+1]=m;o.transformPoints(u),dm.checkAndNudgePoints(r,u);try{for(var x=0;x<p;x+=2)r.get(Math.floor(u[x]),Math.floor(u[x+1]))&&l.set(x/2,d)}catch{throw new K}}return l},e}(dm),a0=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new VE,t}(),br=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Ae(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),HE=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),l=this.getMatrixCornerPoints(n);return new UE(o,l,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new K;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,o=0;o<4;o++){var l=n[(this.shift+o)%4];this.compact?(a<<=7,a+=l>>1&127):(a<<=10,a+=(l>>2&992)+(l>>1&31))}var u=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(o,l,u){var d=(o>>r-2<<1)+(o&1);n=(n<<3)+d}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(Fe.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new K},t.prototype.getCorrectedParameterData=function(e,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var o=n-a,l=new Int32Array(n),u=n-1;u>=0;--u)l[u]=e&15,e>>=4;try{var d=new wc(wr.AZTEC_PARAM);d.decode(l,o)}catch{throw new K}for(var p=0,u=0;u<a;u++)p=(p<<4)+l[u];return p},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,a=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(r,l,1,-1),d=this.getFirstDifferent(n,l,1,1),p=this.getFirstDifferent(a,l,-1,1),m=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){var x=this.distancePoint(m,u)*this.nbCenterLayers/(this.distancePoint(o,r)*(this.nbCenterLayers+2));if(x<.75||x>1.25||!this.isWhiteOrBlackRectangle(u,d,p,m))break}r=u,n=d,a=p,o=m,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new K;this.compact=this.nbCenterLayers===5;var y=new Ae(r.getX()+.5,r.getY()-.5),b=new Ae(n.getX()+.5,n.getY()+.5),_=new Ae(a.getX()-.5,a.getY()+.5),w=new Ae(o.getX()-.5,o.getY()-.5);return this.expandSquare([y,b,_,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,a;try{var o=new Ed(this.image).detect();e=o[0],r=o[1],n=o[2],a=o[3]}catch{var l=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new br(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new br(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new br(l-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new br(l-7,u-7),!1,-1,-1).toResultPoint()}var d=qe.round((e.getX()+a.getX()+r.getX()+n.getX())/4),p=qe.round((e.getY()+a.getY()+r.getY()+n.getY())/4);try{var o=new Ed(this.image,15,d,p).detect();e=o[0],r=o[1],n=o[2],a=o[3]}catch{e=this.getFirstDifferent(new br(d+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new br(d+7,p+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new br(d-7,p+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new br(d-7,p-7),!1,-1,-1).toResultPoint()}return d=qe.round((e.getX()+a.getX()+r.getX()+n.getX())/4),p=qe.round((e.getY()+a.getY()+r.getY()+n.getY())/4),new br(d,p)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,a,o){var l=a0.getInstance(),u=this.getDimension(),d=u/2-this.nbCenterLayers,p=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,d,d,p,d,p,p,d,p,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,r,n){for(var a=0,o=this.distanceResultPoint(e,r),l=o/n,u=e.getX(),d=e.getY(),p=l*(r.getX()-e.getX())/o,m=l*(r.getY()-e.getY())/o,x=0;x<n;x++)this.image.get(qe.round(u+x*p),qe.round(d+x*m))&&(a|=1<<n-x-1);return a},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,a){var o=3;e=new br(e.getX()-o,e.getY()+o),r=new br(r.getX()-o,r.getY()-o),n=new br(n.getX()+o,n.getY()-o),a=new br(a.getX()+o,a.getY()+o);var l=this.getColor(a,e);if(l===0)return!1;var u=this.getColor(e,r);return u!==l||(u=this.getColor(r,n),u!==l)?!1:(u=this.getColor(n,a),u===l)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),a=(r.getX()-e.getX())/n,o=(r.getY()-e.getY())/n,l=0,u=e.getX(),d=e.getY(),p=this.image.get(e.getX(),e.getY()),m=Math.ceil(n),x=0;x<m;x++)u+=a,d+=o,this.image.get(qe.round(u),qe.round(d))!==p&&l++;var y=l/n;return y>.1&&y<.9?0:y<=.1===p?1:-1},t.prototype.getFirstDifferent=function(e,r,n,a){for(var o=e.getX()+n,l=e.getY()+a;this.isValid(o,l)&&this.image.get(o,l)===r;)o+=n,l+=a;for(o-=n,l-=a;this.isValid(o,l)&&this.image.get(o,l)===r;)o+=n;for(o-=n;this.isValid(o,l)&&this.image.get(o,l)===r;)l+=a;return l-=a,new br(o,l)},t.prototype.expandSquare=function(e,r,n){var a=n/(2*r),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,p=new Ae(u+a*o,d+a*l),m=new Ae(u-a*o,d-a*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;var x=new Ae(u+a*o,d+a*l),y=new Ae(u-a*o,d-a*l),b=[p,x,m,y];return b},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=qe.round(e.getX()),n=qe.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return qe.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return qe.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Fe.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Sd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,a=new HE(e.getBlackMatrix()),o=null,l=null;try{var u=a.detectMirror(!1);o=u.getPoints(),this.reportFoundResultPoints(r,o),l=new fm().decode(u)}catch(x){n=x}if(l==null)try{var u=a.detectMirror(!0);o=u.getPoints(),this.reportFoundResultPoints(r,o),l=new fm().decode(u)}catch(x){throw n??x}var d=new lr(l.getText(),l.getRawBytes(),l.getNumBits(),o,Ne.AZTEC,ft.currentTimeMillis()),p=l.getByteSegments();p!=null&&d.putMetadata(rr.BYTE_SEGMENTS,p);var m=l.getECLevel();return m!=null&&d.putMetadata(rr.ERROR_CORRECTION_LEVEL,m),d},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(mt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,o,l){n.foundPossibleResultPoint(a)})}},t.prototype.reset=function(){},t}(),GE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){GE(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Sd,r)||this}return e})($a);var Ft=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(mt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),o=this.doDecode(a,r),l=o.getResultMetadata(),u=270;l!==null&&l.get(rr.ORIENTATION)===!0&&(u=u+l.get(rr.ORIENTATION)%360),o.putMetadata(rr.ORIENTATION,u);var d=o.getResultPoints();if(d!==null)for(var p=a.getHeight(),m=0;m<d.length;m++)d[m]=new Ae(p-d[m].getY()-1,d[m].getX());return o}else throw new K}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),a=e.getHeight(),o=new Kt(n),l=r&&r.get(mt.TRY_HARDER)===!0,u=Math.max(1,a>>(l?8:5)),d;l?d=a:d=15;for(var p=Math.trunc(a/2),m=0;m<d;m++){var x=Math.trunc((m+1)/2),y=(m&1)===0,b=p+u*(y?x:-x);if(b<0||b>=a)break;try{o=e.getBlackRow(b,o)}catch{continue}for(var _=function(E){if(E===1&&(o.reverse(),r&&r.get(mt.NEED_RESULT_POINT_CALLBACK)===!0)){var N=new Map;r.forEach(function(U,Y){return N.set(Y,U)}),N.delete(mt.NEED_RESULT_POINT_CALLBACK),r=N}try{var D=w.decodeRow(b,o,r);if(E===1){D.putMetadata(rr.ORIENTATION,180);var I=D.getResultPoints();I!==null&&(I[0]=new Ae(n-I[0].getX()-1,I[0].getY()),I[1]=new Ae(n-I[1].getX()-1,I[1].getY()))}return{value:D}}catch{}},w=this,S=0;S<2;S++){var T=_(S);if(typeof T=="object")return T.value}}throw new K},t.recordPattern=function(e,r,n){for(var a=n.length,o=0;o<a;o++)n[o]=0;var l=e.getSize();if(r>=l)throw new K;for(var u=!e.get(r),d=0,p=r;p<l;){if(e.get(p)!==u)n[d]++;else{if(++d===a)break;n[d]=1,u=!u}p++}if(!(d===a||d===a-1&&p===l))throw new K},t.recordPatternInReverse=function(e,r,n){for(var a=n.length,o=e.get(r);r>0&&a>=0;)e.get(--r)!==o&&(a--,o=!o);if(a>=0)throw new K;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var a=e.length,o=0,l=0,u=0;u<a;u++)o+=e[u],l+=r[u];if(o<l)return Number.POSITIVE_INFINITY;var d=o/l;n*=d;for(var p=0,m=0;m<a;m++){var x=e[m],y=r[m]*d,b=x>y?x-y:y-x;if(b>n)return Number.POSITIVE_INFINITY;p+=b}return p/o},t}(),ZE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hm=function(t){ZE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),o=0,l=Int32Array.from([0,0,0,0,0,0]),u=a,d=!1,p=6,m=a;m<n;m++)if(r.get(m)!==d)l[o]++;else{if(o===p-1){for(var x=e.MAX_AVG_VARIANCE,y=-1,b=e.CODE_START_A;b<=e.CODE_START_C;b++){var _=Ft.patternMatchVariance(l,e.CODE_PATTERNS[b],e.MAX_INDIVIDUAL_VARIANCE);_<x&&(x=_,y=b)}if(y>=0&&r.isRange(Math.max(0,u-(m-u)/2),u,!1))return Int32Array.from([u,m,y]);u+=l[0]+l[1],l=l.slice(2,l.length),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,d=!d}throw new K},e.decodeCode=function(r,n,a){Ft.recordPattern(r,a,n);for(var o=e.MAX_AVG_VARIANCE,l=-1,u=0;u<e.CODE_PATTERNS.length;u++){var d=e.CODE_PATTERNS[u],p=this.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=u)}if(l>=0)return l;throw new K},e.prototype.decodeRow=function(r,n,a){var o=a&&a.get(mt.ASSUME_GS1)===!0,l=e.findStartPattern(n),u=l[2],d=0,p=new Uint8Array(20);p[d++]=u;var m;switch(u){case e.CODE_START_A:m=e.CODE_CODE_A;break;case e.CODE_START_B:m=e.CODE_CODE_B;break;case e.CODE_START_C:m=e.CODE_CODE_C;break;default:throw new fe}for(var x=!1,y=!1,b="",_=l[0],w=l[1],S=Int32Array.from([0,0,0,0,0,0]),T=0,E=0,N=u,D=0,I=!0,U=!1,Y=!1;!x;){var q=y;switch(y=!1,T=E,E=e.decodeCode(n,S,w),p[d++]=E,E!==e.CODE_STOP&&(I=!0),E!==e.CODE_STOP&&(D++,N+=D*E),_=w,w+=S.reduce(function(oe,F){return oe+F},0),E){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new fe}switch(m){case e.CODE_CODE_A:if(E<64)Y===U?b+=String.fromCharCode(32+E):b+=String.fromCharCode(32+E+128),Y=!1;else if(E<96)Y===U?b+=String.fromCharCode(E-64):b+=String.fromCharCode(E+64),Y=!1;else switch(E!==e.CODE_STOP&&(I=!1),E){case e.CODE_FNC_1:o&&(b.length===0?b+="]C1":b+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!U&&Y?(U=!0,Y=!1):U&&Y?(U=!1,Y=!1):Y=!0;break;case e.CODE_SHIFT:y=!0,m=e.CODE_CODE_B;break;case e.CODE_CODE_B:m=e.CODE_CODE_B;break;case e.CODE_CODE_C:m=e.CODE_CODE_C;break;case e.CODE_STOP:x=!0;break}break;case e.CODE_CODE_B:if(E<96)Y===U?b+=String.fromCharCode(32+E):b+=String.fromCharCode(32+E+128),Y=!1;else switch(E!==e.CODE_STOP&&(I=!1),E){case e.CODE_FNC_1:o&&(b.length===0?b+="]C1":b+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!U&&Y?(U=!0,Y=!1):U&&Y?(U=!1,Y=!1):Y=!0;break;case e.CODE_SHIFT:y=!0,m=e.CODE_CODE_A;break;case e.CODE_CODE_A:m=e.CODE_CODE_A;break;case e.CODE_CODE_C:m=e.CODE_CODE_C;break;case e.CODE_STOP:x=!0;break}break;case e.CODE_CODE_C:if(E<100)E<10&&(b+="0"),b+=E;else switch(E!==e.CODE_STOP&&(I=!1),E){case e.CODE_FNC_1:o&&(b.length===0?b+="]C1":b+="");break;case e.CODE_CODE_A:m=e.CODE_CODE_A;break;case e.CODE_CODE_B:m=e.CODE_CODE_B;break;case e.CODE_STOP:x=!0;break}break}q&&(m=m===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var J=w-_;if(w=n.getNextUnset(w),!n.isRange(w,Math.min(n.getSize(),w+(w-_)/2),!1))throw new K;if(N-=D*T,N%103!==T)throw new $t;var se=b.length;if(se===0)throw new K;se>0&&I&&(m===e.CODE_CODE_C?b=b.substring(0,se-2):b=b.substring(0,se-1));for(var xe=(l[1]+l[0])/2,le=_+J/2,ve=p.length,ue=new Uint8Array(ve),de=0;de<ve;de++)ue[de]=p[de];var P=[new Ae(xe,r),new Ae(le,r)];return new lr(b,ue,0,P,Ne.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Ft),XE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pm=function(t){XE(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=t.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(r,n,a){var o,l,u,d,p=this.counters;p.fill(0),this.decodeRowResult="";var m=e.findAsteriskPattern(n,p),x=n.getNextSet(m[1]),y=n.getSize(),b,_;do{e.recordPattern(n,x,p);var w=e.toNarrowWidePattern(p);if(w<0)throw new K;b=e.patternToChar(w),this.decodeRowResult+=b,_=x;try{for(var S=(o=void 0,Wf(p)),T=S.next();!T.done;T=S.next()){var E=T.value;x+=E}}catch(ve){o={error:ve}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}x=n.getNextSet(x)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N=0;try{for(var D=Wf(p),I=D.next();!I.done;I=D.next()){var E=I.value;N+=E}}catch(ve){u={error:ve}}finally{try{I&&!I.done&&(d=D.return)&&d.call(D)}finally{if(u)throw u.error}}var U=x-_-N;if(x!==y&&U*2<N)throw new K;if(this.usingCheckDigit){for(var Y=this.decodeRowResult.length-1,q=0,J=0;J<Y;J++)q+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(Y)!==e.ALPHABET_STRING.charAt(q%43))throw new $t;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new K;var se;this.extendedMode?se=e.decodeExtended(this.decodeRowResult):se=this.decodeRowResult;var xe=(m[1]+m[0])/2,le=_+N/2;return new lr(se,null,0,[new Ae(xe,r),new Ae(le,r)],Ne.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var a=r.getSize(),o=r.getNextSet(0),l=0,u=o,d=!1,p=n.length,m=o;m<a;m++)if(r.get(m)!==d)n[l]++;else{if(l===p-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,u-Math.floor((m-u)/2)),u,!1))return[u,m];u+=n[0]+n[1],n.copyWithin(0,2,2+l-1),n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,d=!d}throw new K},e.toNarrowWidePattern=function(r){var n,a,o=r.length,l=0,u;do{var d=2147483647;try{for(var p=(n=void 0,Wf(r)),m=p.next();!m.done;m=p.next()){var x=m.value;x<d&&x>l&&(d=x)}}catch(w){n={error:w}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}l=d,u=0;for(var y=0,b=0,_=0;_<o;_++){var x=r[_];x>l&&(b|=1<<o-1-_,u++,y+=x)}if(u===3){for(var _=0;_<o&&u>0;_++){var x=r[_];if(x>l&&(u--,x*2>=y))return-1}return b}}while(u>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new K},e.decodeExtended=function(r){for(var n=r.length,a="",o=0;o<n;o++){var l=r.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){var u=r.charAt(o+1),d="\0";switch(l){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new fe;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new fe;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new fe;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new fe;break}a+=d,o++}else a+=l}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Ft),qE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vm=function(t){qE(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,a){var o,l,u,d,p=this.findAsteriskPattern(n),m=n.getNextSet(p[1]),x=n.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var b,_;do{e.recordPattern(n,m,y);var w=this.toPattern(y);if(w<0)throw new K;b=this.patternToChar(w),this.decodeRowResult+=b,_=m;try{for(var S=(o=void 0,Qf(y)),T=S.next();!T.done;T=S.next()){var E=T.value;m+=E}}catch(J){o={error:J}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}m=n.getNextSet(m)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N=0;try{for(var D=Qf(y),I=D.next();!I.done;I=D.next()){var E=I.value;N+=E}}catch(J){u={error:J}}finally{try{I&&!I.done&&(d=D.return)&&d.call(D)}finally{if(u)throw u.error}}if(m===x||!n.get(m))throw new K;if(this.decodeRowResult.length<2)throw new K;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var U=this.decodeExtended(this.decodeRowResult),Y=(p[1]+p[0])/2,q=_+N/2;return new lr(U,null,0,[new Ae(Y,r),new Ae(q,r)],Ne.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var o=this.counters,l=a,u=!1,d=o.length,p=0,m=a;m<n;m++)if(r.get(m)!==u)o[p]++;else{if(p===d-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([l,m]);l+=o[0]+o[1],o.copyWithin(0,2,2+p-1),o[p-1]=0,o[p]=0,p--}else p++;o[p]=1,u=!u}throw new K},e.prototype.toPattern=function(r){var n,a,o=0;try{for(var l=Qf(r),u=l.next();!u.done;u=l.next()){var d=u.value;o+=d}}catch(_){n={error:_}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var p=0,m=r.length,x=0;x<m;x++){var y=Math.round(r[x]*9/o);if(y<1||y>4)return-1;if((x&1)===0)for(var b=0;b<y;b++)p=p<<1|1;else p<<=y}return p},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new K},e.prototype.decodeExtended=function(r){for(var n=r.length,a="",o=0;o<n;o++){var l=r.charAt(o);if(l>="a"&&l<="d"){if(o>=n-1)throw new fe;var u=r.charAt(o+1),d="\0";switch(l){case"d":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new fe;break;case"a":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new fe;break;case"b":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u>="X"&&u<="Z")d="";else throw new fe;break;case"c":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new fe;break}a+=d,o++}else a+=l}return a},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,a){for(var o=1,l=0,u=n-1;u>=0;u--)l+=o*e.ALPHABET_STRING.indexOf(r.charAt(u)),++o>a&&(o=1);if(r.charAt(n)!==e.ALPHABET_STRING[l%47])throw new $t},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Ft),YE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$E=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mm=function(t){YE(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,a){var o,l,u=this.decodeStart(n),d=this.decodeEnd(n),p=new Le;e.decodeMiddle(n,u[1],d[0],p);var m=p.toString(),x=null;a!=null&&(x=a.get(mt.ALLOWED_LENGTHS)),x==null&&(x=e.DEFAULT_ALLOWED_LENGTHS);var y=m.length,b=!1,_=0;try{for(var w=$E(x),S=w.next();!S.done;S=w.next()){var T=S.value;if(y===T){b=!0;break}T>_&&(_=T)}}catch(D){o={error:D}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}if(!b&&y>_&&(b=!0),!b)throw new fe;var E=[new Ae(u[1],r),new Ae(d[0],r)],N=new lr(m,null,0,E,Ne.ITF,new Date().getTime());return N},e.decodeMiddle=function(r,n,a,o){var l=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),u.fill(0),d.fill(0);n<a;){Ft.recordPattern(r,n,l);for(var p=0;p<5;p++){var m=2*p;u[p]=l[m],d[p]=l[m+1]}var x=e.decodeDigit(u);o.append(x.toString()),x=this.decodeDigit(d),o.append(x.toString()),l.forEach(function(y){n+=y})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),a=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},e.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var o=n-1;a>0&&o>=0&&!r.get(o);o--)a--;if(a!==0)throw new K},e.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new K;return a},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),a=void 0;try{a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(l){l instanceof K&&(a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var o=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-o,a}finally{r.reverse()}},e.findGuardPattern=function(r,n,a){var o=a.length,l=new Int32Array(o),u=r.getSize(),d=!1,p=0,m=n;l.fill(0);for(var x=n;x<u;x++)if(r.get(x)!==d)l[p]++;else{if(p===o-1){if(Ft.patternMatchVariance(l,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[m,x];m+=l[0]+l[1],ft.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,d=!d}throw new K},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,a=-1,o=e.PATTERNS.length,l=0;l<o;l++){var u=e.PATTERNS[l],d=Ft.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);d<n?(n=d,a=l):d===n&&(a=-1)}if(a>=0)return a%10;throw new K},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Ft),KE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zi=function(t){KE(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,a,o=0,l=Int32Array.from([0,0,0]);!n;){l=Int32Array.from([0,0,0]),a=e.findGuardPattern(r,o,!1,this.START_END_PATTERN,l);var u=a[0];o=a[1];var d=u-(o-u);d>=0&&(n=r.isRange(d,u,!1))}return a},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,o=n-1;o>=0;o-=2){var l=r.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new fe;a+=l}a*=3;for(var o=n-2;o>=0;o-=2){var l=r.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new fe;a+=l}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,a,o){return this.findGuardPattern(r,n,a,o,new Int32Array(o.length))},e.findGuardPattern=function(r,n,a,o,l){var u=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var d=0,p=n,m=o.length,x=a,y=n;y<u;y++)if(r.get(y)!==x)l[d]++;else{if(d===m-1){if(Ft.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([p,y]);p+=l[0]+l[1];for(var b=l.slice(2,l.length),_=0;_<d-1;_++)l[_]=b[_];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,x=!x}throw new K},e.decodeDigit=function(r,n,a,o){this.recordPattern(r,a,n);for(var l=this.MAX_AVG_VARIANCE,u=-1,d=o.length,p=0;p<d;p++){var m=o[p],x=Ft.patternMatchVariance(n,m,e.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,u=p)}if(u>=0)return u;throw new K},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Ft),WE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QE=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,a),l=a.toString(),u=t.parseExtensionString(l),d=[new Ae((n[0]+n[1])/2,e),new Ae(o,e)],p=new lr(l,null,0,d,Ne.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p},t.prototype.decodeMiddle=function(e,r,n){var a,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=e.getSize(),d=r[1],p=0,m=0;m<5&&d<u;m++){var x=Zi.decodeDigit(e,l,d,Zi.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);try{for(var y=(a=void 0,WE(l)),b=y.next();!b.done;b=y.next()){var _=b.value;d+=_}}catch(S){a={error:S}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}x>=10&&(p|=1<<4-m),m!==4&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(n.length!==5)throw new K;var w=this.determineCheckDigit(p);if(t.extensionChecksum(n.toString())!==w)throw new K;return d},t.extensionChecksum=function(e){for(var r=e.length,n=0,a=r-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new K},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[rr.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),o=n%100,l=o<10?"0"+o:o.toString();return r+a+"."+l},t}(),JE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e8=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,a),l=a.toString(),u=t.parseExtensionString(l),d=[new Ae((n[0]+n[1])/2,e),new Ae(o,e)],p=new lr(l,null,0,d,Ne.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p},t.prototype.decodeMiddle=function(e,r,n){var a,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=e.getSize(),d=r[1],p=0,m=0;m<2&&d<u;m++){var x=Zi.decodeDigit(e,l,d,Zi.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);try{for(var y=(a=void 0,JE(l)),b=y.next();!b.done;b=y.next()){var _=b.value;d+=_}}catch(w){a={error:w}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}x>=10&&(p|=1<<1-m),m!==1&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(n.length!==2)throw new K;if(parseInt(n.toString())%4!==p)throw new K;return d},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[rr.ISSUE_NUMBER,parseInt(e)]])},t}(),t8=function(){function t(){}return t.decodeRow=function(e,r,n){var a=Zi.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new QE;return o.decodeRow(e,r,a)}catch{var l=new e8;return l.decodeRow(e,r,a)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),r8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pt=function(t){r8(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],o=new Int32Array(a.length),l=0;l<a.length;l++)o[l]=a[a.length-l-1];e.L_AND_G_PATTERNS[n]=o}return r}return e.prototype.decodeRow=function(r,n,a){var o=e.findStartGuardPattern(n),l=a==null?null:a.get(mt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=new Ae((o[0]+o[1])/2,r);l.foundPossibleResultPoint(u)}var d=this.decodeMiddle(n,o,this.decodeRowStringBuffer),p=d.rowOffset,m=d.resultString;if(l!=null){var x=new Ae(p,r);l.foundPossibleResultPoint(x)}var y=e.decodeEnd(n,p);if(l!=null){var b=new Ae((y[0]+y[1])/2,r);l.foundPossibleResultPoint(b)}var _=y[1],w=_+(_-y[0]);if(w>=n.getSize()||!n.isRange(_,w,!1))throw new K;var S=m.toString();if(S.length<8)throw new fe;if(!e.checkChecksum(S))throw new $t;var T=(o[1]+o[0])/2,E=(y[1]+y[0])/2,N=this.getBarcodeFormat(),D=[new Ae(T,r),new Ae(E,r)],I=new lr(S,null,0,D,N,new Date().getTime()),U=0;try{var Y=t8.decodeRow(r,n,y[1]);I.putMetadata(rr.UPC_EAN_EXTENSION,Y.getText()),I.putAllMetadata(Y.getResultMetadata()),I.addResultPoints(Y.getResultPoints()),U=Y.getText().length}catch{}var q=a==null?null:a.get(mt.ALLOWED_EAN_EXTENSIONS);if(q!=null){var J=!1;for(var se in q)if(U.toString()===se){J=!0;break}if(!J)throw new K}return N===Ne.EAN_13||Ne.UPC_A,I},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,o=n-1;o>=0;o-=2){var l=r.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new fe;a+=l}a*=3;for(var o=n-2;o>=0;o-=2){var l=r.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new fe;a+=l}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Zi),n8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cd=function(t){n8(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var o,l,u,d,p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;for(var m=r.getSize(),x=n[1],y=0,b=0;b<6&&x<m;b++){var _=Pt.decodeDigit(r,p,x,Pt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);try{for(var w=(o=void 0,xm(p)),S=w.next();!S.done;S=w.next()){var T=S.value;x+=T}}catch(I){o={error:I}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}_>=10&&(y|=1<<5-b)}a=e.determineFirstDigit(a,y);var E=Pt.findGuardPattern(r,x,!0,Pt.MIDDLE_PATTERN,new Int32Array(Pt.MIDDLE_PATTERN.length).fill(0));x=E[1];for(var b=0;b<6&&x<m;b++){var _=Pt.decodeDigit(r,p,x,Pt.L_PATTERNS);a+=String.fromCharCode(48+_);try{for(var N=(u=void 0,xm(p)),D=N.next();!D.done;D=N.next()){var T=D.value;x+=T}}catch(Y){u={error:Y}}finally{try{D&&!D.done&&(d=N.return)&&d.call(N)}finally{if(u)throw u.error}}}return{rowOffset:x,resultString:a}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_13},e.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new K},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Pt),a8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ym=function(t){a8(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var o,l,u,d,p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;for(var m=r.getSize(),x=n[1],y=0;y<4&&x<m;y++){var b=Pt.decodeDigit(r,p,x,Pt.L_PATTERNS);a+=String.fromCharCode(48+b);try{for(var _=(o=void 0,gm(p)),w=_.next();!w.done;w=_.next()){var S=w.value;x+=S}}catch(D){o={error:D}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}}var T=Pt.findGuardPattern(r,x,!0,Pt.MIDDLE_PATTERN,new Int32Array(Pt.MIDDLE_PATTERN.length).fill(0));x=T[1];for(var y=0;y<4&&x<m;y++){var b=Pt.decodeDigit(r,p,x,Pt.L_PATTERNS);a+=String.fromCharCode(48+b);try{for(var E=(u=void 0,gm(p)),N=E.next();!N.done;N=E.next()){var S=N.value;x+=S}}catch(U){u={error:U}}finally{try{N&&!N.done&&(d=E.return)&&d.call(E)}finally{if(u)throw u.error}}}return{rowOffset:x,resultString:a}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_8},e}(Pt),i8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bm=function(t){i8(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Cd,r}return e.prototype.getBarcodeFormat=function(){return Ne.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},e.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new lr(n.substring(1),null,null,r.getResultPoints(),Ne.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new K},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Pt),o8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_m=function(t){o8(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,a){var o,l,u=this.decodeMiddleCounters.map(function(S){return S});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),p=n[1],m=0,x=0;x<6&&p<d;x++){var y=e.decodeDigit(r,u,p,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);try{for(var b=(o=void 0,s8(u)),_=b.next();!_.done;_=b.next()){var w=_.value;p+=w}}catch(S){o={error:S}}finally{try{_&&!_.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}y>=10&&(m|=1<<5-x)}return e.determineNumSysAndCheckDigit(new Le(a),m),p},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Pt.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][o]){r.insert(0,"0"+a),r.append("0"+o);return}throw K.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ne.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(l){return l.charCodeAt(0)}),a=new Le;a.append(r.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(o),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(o);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Pt),l8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jf=function(t){l8(e,t);function e(r){var n=t.call(this)||this,a=r==null?null:r.get(mt.POSSIBLE_FORMATS),o=[];return a!=null&&(a.indexOf(Ne.EAN_13)>-1&&o.push(new Cd),a.indexOf(Ne.UPC_A)>-1&&o.push(new bm),a.indexOf(Ne.EAN_8)>-1&&o.push(new ym),a.indexOf(Ne.UPC_E)>-1&&o.push(new _m)),o.length===0&&(o.push(new Cd),o.push(new bm),o.push(new ym),o.push(new _m)),n.readers=o,n}return e.prototype.decodeRow=function(r,n,a){var o,l;try{for(var u=wm(this.readers),d=u.next();!d.done;d=u.next()){var p=d.value;try{var m=p.decodeRow(r,n,a),x=m.getBarcodeFormat()===Ne.EAN_13&&m.getText().charAt(0)==="0",y=a==null?null:a.get(mt.POSSIBLE_FORMATS),b=y==null||y.includes(Ne.UPC_A);if(x&&b){var _=m.getRawBytes(),w=new lr(m.getText().substring(1),_,_?_.length:null,m.getResultPoints(),Ne.UPC_A);return w.putAllMetadata(m.getResultMetadata()),w}return m}catch{}}}catch(S){o={error:S}}finally{try{d&&!d.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}throw new K},e.prototype.reset=function(){var r,n;try{for(var a=wm(this.readers),o=a.next();!o.done;o=a.next()){var l=o.value;l.reset()}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e}(Ft),c8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u8=function(t){c8(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,a){var o=this.getValidRowData(n);if(!o)throw new K;var l=this.codaBarDecodeRow(o.row);if(!l)throw new K;return new lr(l,null,0,[new Ae(o.left,r),new Ae(o.right,r)],Ne.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var o=n.lastIndexOf(!0);if(o<=a)return null;n=n.slice(a,o+1);for(var l=[],u=n[0],d=1,p=1;p<n.length;p++)n[p]===u?d++:(u=n[p],l.push(d),d=1);return l.push(d),l.length<23&&(l.length+1)%8!==0?null:{row:l,left:a,right:o}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(d,p){return(d+p)/2},0));r.length>0;){var o=r.splice(0,8).splice(0,7),l=o.map(function(d){return d<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[l]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[l])}var u=n.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Ft),f8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fa=function(t){f8(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(Ft.patternMatchVariance(r,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new K},e.count=function(r){return qe.sum(new Int32Array(r))},e.increment=function(r,n){for(var a=0,o=n[0],l=1;l<r.length;l++)n[l]>o&&(o=n[l],a=l);r[a]++},e.decrement=function(r,n){for(var a=0,o=n[0],l=1;l<r.length;l++)n[l]<o&&(o=n[l],a=l);r[a]--},e.isFinderPattern=function(r){var n,a,o=r[0]+r[1],l=o+r[2]+r[3],u=o/l;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var d=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;try{for(var m=d8(r),x=m.next();!x.done;x=m.next()){var y=x.value;y>p&&(p=y),y<d&&(d=y)}}catch(b){n={error:b}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}return p<10*d}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Ft),ac=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),ng=function(){function t(e,r,n,a,o){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ae(n,o)),this.resultPoints.push(new Ae(a,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),h8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zi=function(){function t(){}return t.getRSSvalue=function(e,r,n){var a,o,l=0;try{for(var u=h8(e),d=u.next();!d.done;d=u.next()){var p=d.value;l+=p}}catch(E){a={error:E}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}for(var m=0,x=0,y=e.length,b=0;b<y-1;b++){var _=void 0;for(_=1,x|=1<<b;_<e[b];_++,x&=~(1<<b)){var w=t.combins(l-_-1,y-b-2);if(n&&x===0&&l-_-(y-b-1)>=y-b-1&&(w-=t.combins(l-_-(y-b),y-b-2)),y-b-1>1){for(var S=0,T=l-_-(y-b-2);T>r;T--)S+=t.combins(l-_-T-1,y-b-3);w-=S*(y-1-b)}else l-_>r&&w--;m+=w}l-=_}return m},t.combins=function(e,r){var n,a;e-r>r?(a=r,n=e-r):(a=e-r,n=r);for(var o=1,l=1,u=e;u>n;u--)o*=u,l<=a&&(o/=l,l++);for(;l<=a;)o/=l,l++;return o},t}(),p8=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new Kt(n),o=0,l=e[0],u=l.getRightChar().getValue(),d=11;d>=0;--d)(u&1<<d)!==0&&a.set(o),o++;for(var d=1;d<e.length;++d){for(var p=e[d],m=p.getLeftChar().getValue(),x=11;x>=0;--x)(m&1<<x)!==0&&a.set(o),o++;if(p.getRightChar()!==null)for(var y=p.getRightChar().getValue(),x=11;x>=0;--x)(y&1<<x)!==0&&a.set(o),o++}return a},t}(),La=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),i0=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),v8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jr=function(t){v8(e,t);function e(r,n){var a=t.call(this,r)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(i0),m8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ka=function(t){m8(e,t);function e(r,n,a){var o=t.call(this,r)||this;return a?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(i0),x8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ui=function(t){x8(e,t);function e(r,n,a){var o=t.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new fe;return o.firstDigit=n,o.secondDigit=a,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(i0),Fl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g8=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,a,o,l,u,d,p;if(!e)return null;if(e.length<2)throw new K;var m=e.substring(0,2);try{for(var x=Fl(t.TWO_DIGIT_DATA_LENGTH),y=x.next();!y.done;y=x.next()){var b=y.value;if(b[0]===m)return b[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,b[2],e):t.processFixedAI(2,b[1],e)}}catch(U){r={error:U}}finally{try{y&&!y.done&&(n=x.return)&&n.call(x)}finally{if(r)throw r.error}}if(e.length<3)throw new K;var _=e.substring(0,3);try{for(var w=Fl(t.THREE_DIGIT_DATA_LENGTH),S=w.next();!S.done;S=w.next()){var b=S.value;if(b[0]===_)return b[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,b[2],e):t.processFixedAI(3,b[1],e)}}catch(U){a={error:U}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}try{for(var T=Fl(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),E=T.next();!E.done;E=T.next()){var b=E.value;if(b[0]===_)return b[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,b[2],e):t.processFixedAI(4,b[1],e)}}catch(U){l={error:U}}finally{try{E&&!E.done&&(u=T.return)&&u.call(T)}finally{if(l)throw l.error}}if(e.length<4)throw new K;var N=e.substring(0,4);try{for(var D=Fl(t.FOUR_DIGIT_DATA_LENGTH),I=D.next();!I.done;I=D.next()){var b=I.value;if(b[0]===N)return b[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,b[2],e):t.processFixedAI(4,b[1],e)}}catch(U){d={error:U}}finally{try{I&&!I.done&&(p=D.return)&&p.call(D)}finally{if(d)throw d.error}}throw new K},t.processFixedAI=function(e,r,n){if(n.length<e)throw new K;var a=n.substring(0,e);if(n.length<e+r)throw new K;var o=n.substring(e,e+r),l=n.substring(e+r),u="("+a+")"+o,d=t.parseFieldsInGeneralPurpose(l);return d==null?u:u+d},t.processVariableAI=function(e,r,n){var a=n.substring(0,e),o;n.length<e+r?o=n.length:o=e+r;var l=n.substring(e,o),u=n.substring(o),d="("+a+")"+l,p=t.parseFieldsInGeneralPurpose(u);return p==null?d:d+p},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),$l=function(){function t(e){this.buffer=new Le,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,a=null;do{var o=this.decodeGeneralPurposeField(n,a),l=g8.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?a=""+o.getRemainingValue():a=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Ui(this.information.getSize(),Ui.FNC1,Ui.FNC1):new Ui(this.information.getSize(),r-1,Ui.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,o=(n-8)%11;return new Ui(e+7,a,o)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var a=0,o=0;o<n;++o)e.get(r+o)&&(a|=1<<n-o-1);return a},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ka(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ka(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new ka(this.current.getPosition(),this.buffer.toString()):r=new ka(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new La(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new ka(this.current.getPosition(),this.buffer.toString());return new La(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new La(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ka(this.current.getPosition(),this.buffer.toString());return new La(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new La(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ka(this.current.getPosition(),this.buffer.toString());return new La(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new La(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Jr(e+5,Jr.FNC1);if(r>=5&&r<15)return new Jr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Jr(e+7,""+(n+1));if(n>=90&&n<116)return new Jr(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),o;switch(a){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new fe}return new Jr(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Jr(e+5,Jr.FNC1);if(r>=5&&r<15)return new Jr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Jr(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new bs("Decoding invalid alphanumeric value: "+n)}return new Jr(e+6,a)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),ag=function(){function t(e){this.information=e,this.generalDecoder=new $l(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),y8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),on=function(t){y8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var o=0;o<4;++o){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);l/100===0&&r.append("0"),l/10===0&&r.append("0"),r.append(l)}e.appendCheckDigit(r,a)},e.appendCheckDigit=function(r,n){for(var a=0,o=0;o<13;o++){var l=r.charAt(o+n).charCodeAt(0)-48;a+=(o&1)===0?3*l:l}a=10-a%10,a===10&&(a=0),r.append(a)},e.GTIN_SIZE=40,e}(ag),b8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_8=function(t){b8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Le;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(on),w8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A8=function(t){w8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Le;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(ag),E8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kl=function(t){E8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,o);for(var l=this.checkWeight(o),u=1e5,d=0;d<5;++d)l/u===0&&r.append("0"),u/=10;r.append(l)},e}(on),S8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ig=function(t){S8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Kl.GTIN_SIZE+e.WEIGHT_SIZE)throw new K;var r=new Le;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Kl.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Kl),C8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N8=function(t){C8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(ig),O8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T8=function(t){O8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(ig),D8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R8=function(t){D8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+on.GTIN_SIZE)throw new K;var r=new Le;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+on.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+on.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(on),j8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I8=function(t){j8(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+on.GTIN_SIZE)throw new K;var r=new Le;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+on.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+on.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+on.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(o.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(on),M8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ua=function(t){M8(e,t);function e(r,n,a){var o=t.call(this,r)||this;return o.dateCode=a,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new K;var r=new Le;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var o=a%32;a/=32;var l=a%12+1;a/=12;var u=a;u/10===0&&r.append("0"),r.append(u),l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Kl);function B8(t){try{if(t.get(1))return new _8(t);if(!t.get(2))return new A8(t);var e=$l.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new N8(t);case 5:return new T8(t)}var r=$l.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new R8(t);case 13:return new I8(t)}var n=$l.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new ua(t,"310","11");case 57:return new ua(t,"320","11");case 58:return new ua(t,"310","13");case 59:return new ua(t,"320","13");case 60:return new ua(t,"310","15");case 61:return new ua(t,"320","15");case 62:return new ua(t,"310","17");case 63:return new ua(t,"320","17")}}catch(a){throw console.log(a),new bs("unknown decoder: "+t)}}var Am=function(){function t(e,r,n,a){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),P8=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(a,o){r.forEach(function(l){a.getLeftChar().getValue()===l.getLeftChar().getValue()&&a.getRightChar().getValue()===l.getRightChar().getValue()&&a.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),L8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fa=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k8=function(t){L8(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(u){if(u instanceof K){if(!this.pairs.length)throw new K;a=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(r,!1),o){var l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new K},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var a,o,l=n;l<this.rows.length;l++){var u=this.rows[l];this.pairs.length=0;try{for(var d=(a=void 0,fa(r)),p=d.next();!p.done;p=d.next()){var m=p.value;this.pairs.push(m.getPairs())}}catch(y){a={error:y}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var x=new Array(r);x.push(u);try{return this.checkRows(x,l+1)}catch(y){console.log(y)}}}throw new K},e.isValidSequence=function(r){var n,a;try{for(var o=fa(e.FINDER_PATTERN_SEQUENCES),l=o.next();!l.done;l=o.next()){var u=l.value;if(!(r.length>u.length)){for(var d=!0,p=0;p<r.length;p++)if(r[p].getFinderPattern().getValue()!==u[p]){d=!1;break}if(d)return!0}}}catch(m){n={error:m}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var a=0,o=!1,l=!1;a<this.rows.length;){var u=this.rows[a];if(u.getRowNumber()>r){l=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),a++}l||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new P8(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var a,o,l,u,d,p;try{for(var m=fa(n),x=m.next();!x.done;x=m.next()){var y=x.value;if(y.getPairs().length!==r.length){var b=!0;try{for(var _=(l=void 0,fa(y.getPairs())),w=_.next();!w.done;w=_.next()){var S=w.value,T=!1;try{for(var E=(d=void 0,fa(r)),N=E.next();!N.done;N=E.next()){var D=N.value;if(Am.equals(S,D)){T=!0;break}}}catch(I){d={error:I}}finally{try{N&&!N.done&&(p=E.return)&&p.call(E)}finally{if(d)throw d.error}}T||(b=!1)}}catch(I){l={error:I}}finally{try{w&&!w.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}}}}catch(I){a={error:I}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}},e.isPartialRow=function(r,n){var a,o,l,u,d,p;try{for(var m=fa(n),x=m.next();!x.done;x=m.next()){var y=x.value,b=!0;try{for(var _=(l=void 0,fa(r)),w=_.next();!w.done;w=_.next()){var S=w.value,T=!1;try{for(var E=(d=void 0,fa(y.getPairs())),N=E.next();!N.done;N=E.next()){var D=N.value;if(S.equals(D)){T=!0;break}}}catch(I){d={error:I}}finally{try{N&&!N.done&&(p=E.return)&&p.call(E)}finally{if(d)throw d.error}}if(!T){b=!1;break}}}catch(I){l={error:I}}finally{try{w&&!w.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}if(b)return!0}}catch(I){a={error:I}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=p8.buildBitArray(r),a=B8(n),o=a.parseInformation(),l=r[0].getFinderPattern().getResultPoints(),u=r[r.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],u[0],u[1]];return new lr(o,null,null,d,Ne.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var o=a.getChecksumPortion(),l=2,u=1;u<this.pairs.size();++u){var d=this.pairs.get(u);o+=d.getLeftChar().getChecksumPortion(),l++;var p=d.getRightChar();p!=null&&(o+=p.getChecksumPortion(),l++)}o%=211;var m=211*(l-4)+o;return m===n.getValue()},e.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(r,n,a){var o=n.length%2===0;this.startFromEven&&(o=!o);var l,u=!0,d=-1;do this.findNextPair(r,n,d),l=this.parseFoundFinderPattern(r,a,o),l===null?d=e.getNextSecondBar(r,this.startEnd[0]):u=!1;while(u);var p=this.decodeDataCharacter(r,l,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new K;var m;try{m=this.decodeDataCharacter(r,l,o,!1)}catch(x){m=null,console.log(x)}return new Am(p,m,l,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,a){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var l=r.getSize(),u;if(a>=0)u=a;else if(this.isEmptyPair(n))u=0;else{var d=n[n.length-1];u=d.getFinderPattern().getStartEnd()[1]}var p=n.length%2!==0;this.startFromEven&&(p=!p);for(var m=!1;u<l&&(m=!r.get(u),!!m);)u++;for(var x=0,y=u,b=u;b<l;b++)if(r.get(b)!==m)o[x]++;else{if(x===3){if(p&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=y,this.startEnd[1]=b;return}p&&e.reverseCounters(o),y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,x--}else x++;o[x]=1,m=!m}throw new K},e.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var o=r[a];r[a]=r[n-a-1],r[n-a-1]=o}},e.prototype.parseFoundFinderPattern=function(r,n,a){var o,l,u;if(a){for(var d=this.startEnd[0]-1;d>=0&&!r.get(d);)d--;d++,o=this.startEnd[0]-d,l=d,u=this.startEnd[1]}else l=this.startEnd[0],u=r.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];var p=this.getDecodeFinderCounters();ft.arraycopy(p,0,p,1,p.length-1),p[0]=o;var m;try{m=this.parseFinderValue(p,e.FINDER_PATTERNS)}catch{return null}return new ng(m,[l,u],l,u,n)},e.prototype.decodeDataCharacter=function(r,n,a,o){for(var l=this.getDataCharacterCounters(),u=0;u<l.length;u++)l[u]=0;if(o)e.recordPatternInReverse(r,n.getStartEnd()[0],l);else{e.recordPattern(r,n.getStartEnd()[1],l);for(var d=0,p=l.length-1;d<p;d++,p--){var m=l[d];l[d]=l[p],l[p]=m}}var x=17,y=qe.sum(new Int32Array(l))/x,b=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(y-b)/b>.3)throw new K;for(var _=this.getOddCounts(),w=this.getEvenCounts(),S=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors(),d=0;d<l.length;d++){var E=1*l[d]/y,N=E+.5;if(N<1){if(E<.3)throw new K;N=1}else if(N>8){if(E>8.7)throw new K;N=8}var D=d/2;(d&1)===0?(_[D]=N,S[D]=E-N):(w[D]=N,T[D]=E-N)}this.adjustOddEvenCounts(x);for(var I=4*n.getValue()+(a?0:2)+(o?0:1)-1,U=0,Y=0,d=_.length-1;d>=0;d--){if(e.isNotA1left(n,a,o)){var q=e.WEIGHTS[I][2*d];Y+=_[d]*q}U+=_[d]}for(var J=0,d=w.length-1;d>=0;d--)if(e.isNotA1left(n,a,o)){var q=e.WEIGHTS[I][2*d+1];J+=w[d]*q}var se=Y+J;if((U&1)!==0||U>13||U<4)throw new K;var xe=(13-U)/2,le=e.SYMBOL_WIDEST[xe],ve=9-le,ue=zi.getRSSvalue(_,le,!0),de=zi.getRSSvalue(w,ve,!1),P=e.EVEN_TOTAL_SUBSET[xe],oe=e.GSUM[xe],F=ue*P+de+oe;return new ac(F,se)},e.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(r){var n=qe.sum(new Int32Array(this.getOddCounts())),a=qe.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;n>13?l=!0:n<4&&(o=!0);var u=!1,d=!1;a>13?d=!0:a<4&&(u=!0);var p=n+a-r,m=(n&1)===1,x=(a&1)===0;if(p===1)if(m){if(x)throw new K;l=!0}else{if(!x)throw new K;d=!0}else if(p===-1)if(m){if(x)throw new K;o=!0}else{if(!x)throw new K;u=!0}else if(p===0){if(m){if(!x)throw new K;n<a?(o=!0,d=!0):(l=!0,u=!0)}else if(x)throw new K}else throw new K;if(o){if(l)throw new K;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new K;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Fa),F8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U8=function(t){F8(e,t);function e(r,n,a){var o=t.call(this,r,n)||this;return o.count=0,o.finderPattern=a,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(ac),z8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ed=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Em=function(t){z8(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,a){var o,l,u,d,p=this.decodePair(n,!1,r,a);e.addOrTally(this.possibleLeftPairs,p),n.reverse();var m=this.decodePair(n,!0,r,a);e.addOrTally(this.possibleRightPairs,m),n.reverse();try{for(var x=ed(this.possibleLeftPairs),y=x.next();!y.done;y=x.next()){var b=y.value;if(b.getCount()>1)try{for(var _=(u=void 0,ed(this.possibleRightPairs)),w=_.next();!w.done;w=_.next()){var S=w.value;if(S.getCount()>1&&e.checkChecksum(b,S))return e.constructResult(b,S)}}catch(T){u={error:T}}finally{try{w&&!w.done&&(d=_.return)&&d.call(_)}finally{if(u)throw u.error}}}}catch(T){o={error:T}}finally{try{y&&!y.done&&(l=x.return)&&l.call(x)}finally{if(o)throw o.error}}throw new K},e.addOrTally=function(r,n){var a,o;if(n!=null){var l=!1;try{for(var u=ed(r),d=u.next();!d.done;d=u.next()){var p=d.value;if(p.getValue()===n.getValue()){p.incrementCount(),l=!0;break}}}catch(m){a={error:m}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}l||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),o=new String(a).toString(),l=new Le,u=13-o.length;u>0;u--)l.append("0");l.append(o);for(var d=0,u=0;u<13;u++){var p=l.charAt(u).charCodeAt(0)-48;d+=(u&1)===0?3*p:p}d=10-d%10,d===10&&(d=0),l.append(d.toString());var m=r.getFinderPattern().getResultPoints(),x=n.getFinderPattern().getResultPoints();return new lr(l.toString(),null,0,[m[0],m[1],x[0],x[1]],Ne.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,a===o},e.prototype.decodePair=function(r,n,a,o){try{var l=this.findFinderPattern(r,n),u=this.parseFoundFinderPattern(r,a,n,l),d=o==null?null:o.get(mt.NEED_RESULT_POINT_CALLBACK);if(d!=null){var p=(l[0]+l[1])/2;n&&(p=r.getSize()-1-p),d.foundPossibleResultPoint(new Ae(p,a))}var m=this.decodeDataCharacter(r,u,!0),x=this.decodeDataCharacter(r,u,!1);return new U8(1597*m.getValue()+x.getValue(),m.getChecksumPortion()+4*x.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)Ft.recordPatternInReverse(r,n.getStartEnd()[0],o);else{Ft.recordPattern(r,n.getStartEnd()[1]+1,o);for(var u=0,d=o.length-1;u<d;u++,d--){var p=o[u];o[u]=o[d],o[d]=p}}for(var m=a?16:15,x=qe.sum(new Int32Array(o))/m,y=this.getOddCounts(),b=this.getEvenCounts(),_=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var S=o[u]/x,T=Math.floor(S+.5);T<1?T=1:T>8&&(T=8);var E=Math.floor(u/2);(u&1)===0?(y[E]=T,_[E]=S-T):(b[E]=T,w[E]=S-T)}this.adjustOddEvenCounts(a,m);for(var N=0,D=0,u=y.length-1;u>=0;u--)D*=9,D+=y[u],N+=y[u];for(var I=0,U=0,u=b.length-1;u>=0;u--)I*=9,I+=b[u],U+=b[u];var Y=D+3*I;if(a){if((N&1)!==0||N>12||N<4)throw new K;var q=(12-N)/2,J=e.OUTSIDE_ODD_WIDEST[q],se=9-J,xe=zi.getRSSvalue(y,J,!1),le=zi.getRSSvalue(b,se,!0),ve=e.OUTSIDE_EVEN_TOTAL_SUBSET[q],ue=e.OUTSIDE_GSUM[q];return new ac(xe*ve+le+ue,Y)}else{if((U&1)!==0||U>10||U<4)throw new K;var q=(10-U)/2,J=e.INSIDE_ODD_WIDEST[q],se=9-J,xe=zi.getRSSvalue(y,J,!0),le=zi.getRSSvalue(b,se,!1),de=e.INSIDE_ODD_TOTAL_SUBSET[q],ue=e.INSIDE_GSUM[q];return new ac(le*de+xe+ue,Y)}},e.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=r.getSize(),l=!1,u=0;u<o&&(l=!r.get(u),n!==l);)u++;for(var d=0,p=u,m=u;m<o;m++)if(r.get(m)!==l)a[d]++;else{if(d===3){if(Fa.isFinderPattern(a))return[p,m];p+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,d--}else d++;a[d]=1,l=!l}throw new K},e.prototype.parseFoundFinderPattern=function(r,n,a,o){for(var l=r.get(o[0]),u=o[0]-1;u>=0&&l!==r.get(u);)u--;u++;var d=o[0]-u,p=this.getDecodeFinderCounters(),m=new Int32Array(p.length);ft.arraycopy(p,0,m,1,p.length-1),m[0]=d;var x=this.parseFinderValue(m,e.FINDER_PATTERNS),y=u,b=o[1];return a&&(y=r.getSize()-1-y,b=r.getSize()-1-b),new ng(x,[u,o[1]],y,b,n)},e.prototype.adjustOddEvenCounts=function(r,n){var a=qe.sum(new Int32Array(this.getOddCounts())),o=qe.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,d=!1,p=!1;r?(a>12?u=!0:a<4&&(l=!0),o>12?p=!0:o<4&&(d=!0)):(a>11?u=!0:a<5&&(l=!0),o>10?p=!0:o<4&&(d=!0));var m=a+o-n,x=(a&1)===(r?1:0),y=(o&1)===1;if(m===1)if(x){if(y)throw new K;u=!0}else{if(!y)throw new K;p=!0}else if(m===-1)if(x){if(y)throw new K;l=!0}else{if(!y)throw new K;d=!0}else if(m===0){if(x){if(!y)throw new K;a<o?(l=!0,p=!0):(u=!0,d=!0)}else if(y)throw new K}else throw new K;if(l){if(u)throw new K;Fa.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Fa.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(p)throw new K;Fa.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&Fa.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Fa),V8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),is=function(t){V8(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var a=r?r.get(mt.POSSIBLE_FORMATS):null,o=r&&r.get(mt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,l=r&&r.get(mt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Ne.EAN_13)||a.includes(Ne.UPC_A)||a.includes(Ne.EAN_8)||a.includes(Ne.UPC_E))&&n.readers.push(new Jf(r)),a.includes(Ne.CODE_39)&&n.readers.push(new pm(o,l)),a.includes(Ne.CODE_93)&&n.readers.push(new vm),a.includes(Ne.CODE_128)&&n.readers.push(new hm),a.includes(Ne.ITF)&&n.readers.push(new mm),a.includes(Ne.CODABAR)&&n.readers.push(new u8),a.includes(Ne.RSS_14)&&n.readers.push(new Em),a.includes(Ne.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new k8))),n.readers.length===0&&(n.readers.push(new Jf(r)),n.readers.push(new pm),n.readers.push(new vm),n.readers.push(new Jf(r)),n.readers.push(new hm),n.readers.push(new mm),n.readers.push(new Em)),n}return e.prototype.decodeRow=function(r,n,a){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(r,n,a)}catch{}throw new K},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Ft),H8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){H8(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new is(n),r,n)||this}return e})($a);var Sm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qe=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Ke=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),G8=function(){function t(e,r,n,a,o,l){var u,d;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=o,this.ecBlocks=l;var p=0,m=l.getECCodewords(),x=l.getECBlocks();try{for(var y=Sm(x),b=y.next();!b.done;b=y.next()){var _=b.value;p+=_.getCount()*(_.getDataCodewords()+m)}}catch(w){u={error:w}}finally{try{b&&!b.done&&(d=y.return)&&d.call(y)}finally{if(u)throw u.error}}this.totalCodewords=p}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,a;if((e&1)!==0||(r&1)!==0)throw new fe;try{for(var o=Sm(t.VERSIONS),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===r)return u}}catch(d){n={error:d}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}throw new fe},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Qe(5,new Ke(1,3))),new t(2,12,12,10,10,new Qe(7,new Ke(1,5))),new t(3,14,14,12,12,new Qe(10,new Ke(1,8))),new t(4,16,16,14,14,new Qe(12,new Ke(1,12))),new t(5,18,18,16,16,new Qe(14,new Ke(1,18))),new t(6,20,20,18,18,new Qe(18,new Ke(1,22))),new t(7,22,22,20,20,new Qe(20,new Ke(1,30))),new t(8,24,24,22,22,new Qe(24,new Ke(1,36))),new t(9,26,26,24,24,new Qe(28,new Ke(1,44))),new t(10,32,32,14,14,new Qe(36,new Ke(1,62))),new t(11,36,36,16,16,new Qe(42,new Ke(1,86))),new t(12,40,40,18,18,new Qe(48,new Ke(1,114))),new t(13,44,44,20,20,new Qe(56,new Ke(1,144))),new t(14,48,48,22,22,new Qe(68,new Ke(1,174))),new t(15,52,52,24,24,new Qe(42,new Ke(2,102))),new t(16,64,64,14,14,new Qe(56,new Ke(2,140))),new t(17,72,72,16,16,new Qe(36,new Ke(4,92))),new t(18,80,80,18,18,new Qe(48,new Ke(4,114))),new t(19,88,88,20,20,new Qe(56,new Ke(4,144))),new t(20,96,96,22,22,new Qe(68,new Ke(4,174))),new t(21,104,104,24,24,new Qe(56,new Ke(6,136))),new t(22,120,120,18,18,new Qe(68,new Ke(6,175))),new t(23,132,132,20,20,new Qe(62,new Ke(8,163))),new t(24,144,144,22,22,new Qe(62,new Ke(8,156),new Ke(2,155))),new t(25,8,18,6,16,new Qe(7,new Ke(1,5))),new t(26,8,32,6,14,new Qe(11,new Ke(1,10))),new t(27,12,26,10,24,new Qe(14,new Ke(1,16))),new t(28,12,36,10,16,new Qe(18,new Ke(1,22))),new t(29,16,36,14,16,new Qe(24,new Ke(1,32))),new t(30,16,48,14,22,new Qe(28,new Ke(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),Z8=function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new fe;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new yn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return G8.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth(),u=!1,d=!1,p=!1,m=!1;do if(n===o&&a===0&&!u)e[r++]=this.readCorner1(o,l)&255,n-=2,a+=2,u=!0;else if(n===o-2&&a===0&&(l&3)!==0&&!d)e[r++]=this.readCorner2(o,l)&255,n-=2,a+=2,d=!0;else if(n===o+4&&a===2&&(l&7)===0&&!p)e[r++]=this.readCorner3(o,l)&255,n-=2,a+=2,p=!0;else if(n===o-2&&a===0&&(l&7)===4&&!m)e[r++]=this.readCorner4(o,l)&255,n-=2,a+=2,m=!0;else{do n<o&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,o,l)&255),n-=2,a+=2;while(n>=0&&a<l);n+=1,a+=3;do n>=0&&a<l&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,o,l)&255),n+=2,a-=2;while(n<o&&a>=0);n+=3,a+=1}while(n<o||a<l);if(r!==this.version.getTotalCodewords())throw new fe;return e},t.prototype.readModule=function(e,r,n,a){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,a){var o=0;return this.readModule(e-2,r-2,n,a)&&(o|=1),o<<=1,this.readModule(e-2,r-1,n,a)&&(o|=1),o<<=1,this.readModule(e-1,r-2,n,a)&&(o|=1),o<<=1,this.readModule(e-1,r-1,n,a)&&(o|=1),o<<=1,this.readModule(e-1,r,n,a)&&(o|=1),o<<=1,this.readModule(e,r-2,n,a)&&(o|=1),o<<=1,this.readModule(e,r-1,n,a)&&(o|=1),o<<=1,this.readModule(e,r,n,a)&&(o|=1),o},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Oe("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=r/a|0,u=n/o|0,d=l*a,p=u*o,m=new yn(p,d),x=0;x<l;++x)for(var y=x*a,b=0;b<u;++b)for(var _=b*o,w=0;w<a;++w)for(var S=x*(a+2)+1+w,T=y+w,E=0;E<o;++E){var N=b*(o+2)+1+E;if(e.get(N,S)){var D=_+E;m.set(D,T)}}return m},t}(),Cm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X8=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,a,o,l,u=r.getECBlocks(),d=0,p=u.getECBlocks();try{for(var m=Cm(p),x=m.next();!x.done;x=m.next()){var y=x.value;d+=y.getCount()}}catch(ue){n={error:ue}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}var b=new Array(d),_=0;try{for(var w=Cm(p),S=w.next();!S.done;S=w.next())for(var y=S.value,T=0;T<y.getCount();T++){var E=y.getDataCodewords(),N=u.getECCodewords()+E;b[_++]=new t(E,new Uint8Array(N))}}catch(ue){o={error:ue}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}for(var D=b[0].codewords.length,I=D-u.getECCodewords(),U=I-1,Y=0,T=0;T<U;T++)for(var q=0;q<_;q++)b[q].codewords[T]=e[Y++];for(var J=r.getVersionNumber()===24,se=J?8:_,q=0;q<se;q++)b[q].codewords[I-1]=e[Y++];for(var xe=b[0].codewords.length,T=I;T<xe;T++)for(var q=0;q<_;q++){var le=J?(q+8)%_:q,ve=J&&le>7?T-1:T;b[le].codewords[ve]=e[Y++]}if(Y!==e.length)throw new Oe;return b},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),og=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Oe(""+e);var r=0,n=this.bitOffset,a=this.byteOffset,o=this.bytes;if(n>0){var l=8-n,u=e<l?e:l,d=l-u,p=255>>8-u<<d;r=(o[a]&p)>>d,e-=u,n+=u,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)r=r<<8|o[a]&255,a++,e-=8;if(e>0){var d=8-e,p=255>>d<<d;r=r<<e|(o[a]&p)>>d,n+=e}}return this.bitOffset=n,this.byteOffset=a,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Mt;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Mt||(Mt={}));var q8=function(){function t(){}return t.decode=function(e){var r=new og(e),n=new Le,a=new Le,o=new Array,l=Mt.ASCII_ENCODE;do if(l===Mt.ASCII_ENCODE)l=this.decodeAsciiSegment(r,n,a);else{switch(l){case Mt.C40_ENCODE:this.decodeC40Segment(r,n);break;case Mt.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Mt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Mt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Mt.BASE256_ENCODE:this.decodeBase256Segment(r,n,o);break;default:throw new fe}l=Mt.ASCII_ENCODE}while(l!==Mt.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new _c(e,n.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,r,n){var a=!1;do{var o=e.readBits(8);if(o===0)throw new fe;if(o<=128)return a&&(o+=128),r.append(String.fromCharCode(o-1)),Mt.ASCII_ENCODE;if(o===129)return Mt.PAD_ENCODE;if(o<=229){var l=o-130;l<10&&r.append("0"),r.append(""+l)}else switch(o){case 230:return Mt.C40_ENCODE;case 231:return Mt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Mt.ANSIX12_ENCODE;case 239:return Mt.TEXT_ENCODE;case 240:return Mt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new fe;break}}while(e.available()>0);return Mt.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,a=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var u=0;u<3;u++){var d=a[u];switch(o){case 0:if(d<3)o=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){var p=this.C40_BASIC_SET_CHARS[d];n?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),n=!1):r.append(p)}else throw new fe;break;case 1:n?(r.append(String.fromCharCode(d+128)),n=!1):r.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){var p=this.C40_SHIFT2_SET_CHARS[d];n?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),n=!1):r.append(p)}else switch(d){case 27:r.append("");break;case 30:n=!0;break;default:throw new fe}o=0;break;case 3:n?(r.append(String.fromCharCode(d+224)),n=!1):r.append(String.fromCharCode(d+96)),o=0;break;default:throw new fe}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,a=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var u=0;u<3;u++){var d=a[u];switch(o){case 0:if(d<3)o=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){var p=this.TEXT_BASIC_SET_CHARS[d];n?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),n=!1):r.append(p)}else throw new fe;break;case 1:n?(r.append(String.fromCharCode(d+128)),n=!1):r.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){var p=this.TEXT_SHIFT2_SET_CHARS[d];n?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),n=!1):r.append(p)}else switch(d){case 27:r.append("");break;case 30:n=!0;break;default:throw new fe}o=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){var p=this.TEXT_SHIFT3_SET_CHARS[d];n?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),n=!1):r.append(p),o=0}else throw new fe;break;default:throw new fe}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var o=0;o<3;o++){var l=n[o];switch(l){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(l<14)r.append(String.fromCharCode(l+44));else if(l<40)r.append(String.fromCharCode(l+51));else throw new fe;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var a=(e<<8)+r-1,o=Math.floor(a/1600);n[0]=o,a-=o*1600,o=Math.floor(a/40),n[1]=o,n[2]=a-o*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(a&32)===0&&(a|=64),r.append(String.fromCharCode(a))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var a=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),a++),l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),a++),l<0)throw new fe;for(var u=new Uint8Array(l),d=0;d<l;d++){if(e.available()<8)throw new fe;u[d]=this.unrandomize255State(e.readBits(8),a++)}n.push(u);try{r.append($r.decode(u,Ge.ISO88591))}catch(p){throw new bs("Platform does not support required encoding: "+p.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,a=e-n;return a>=0?a:a+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),Y8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$8=function(){function t(){this.rsDecoder=new wc(wr.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,a=new Z8(e),o=a.getVersion(),l=a.readCodewords(),u=X8.getDataBlocks(l,o),d=0;try{for(var p=Y8(u),m=p.next();!m.done;m=p.next()){var x=m.value;d+=x.getNumDataCodewords()}}catch(N){r={error:N}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}for(var y=new Uint8Array(d),b=u.length,_=0;_<b;_++){var w=u[_],S=w.getCodewords(),T=w.getNumDataCodewords();this.correctErrors(S,T);for(var E=0;E<T;E++)y[E*b+_]=S[E]}return q8.decode(y)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new $t}for(var a=0;a<r;a++)e[a]=n[a]},t}(),K8=function(){function t(e){this.image=e,this.rectangleDetector=new Ed(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new K;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],o=r[2],l=r[3],u=this.transitionsBetween(n,l)+1,d=this.transitionsBetween(o,l)+1;(u&1)===1&&(u+=1),(d&1)===1&&(d+=1),4*u<7*d&&4*d<7*u&&(u=d=Math.max(u,d));var p=t.sampleGrid(this.image,n,a,o,l,u,d);return new n0(p,[n,a,o,l])},t.shiftPoint=function(e,r,n){var a=(r.getX()-e.getX())/(n+1),o=(r.getY()-e.getY())/(n+1);return new Ae(e.getX()+a,e.getY()+o)},t.moveAway=function(e,r,n){var a=e.getX(),o=e.getY();return a<r?a-=1:a+=1,o<n?o-=1:o+=1,new Ae(a,o)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],a=e[3],o=e[2],l=this.transitionsBetween(r,n),u=this.transitionsBetween(n,a),d=this.transitionsBetween(a,o),p=this.transitionsBetween(o,r),m=l,x=[o,r,n,a];return m>u&&(m=u,x[0]=r,x[1]=n,x[2]=a,x[3]=o),m>d&&(m=d,x[0]=n,x[1]=a,x[2]=o,x[3]=r),m>p&&(x[0]=a,x[1]=o,x[2]=r,x[3]=n),x},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(r,o),u=t.shiftPoint(n,a,(l+1)*4),d=t.shiftPoint(a,n,(l+1)*4),p=this.transitionsBetween(u,r),m=this.transitionsBetween(d,o);return p<m?(e[0]=r,e[1]=n,e[2]=a,e[3]=o):(e[0]=n,e[1]=a,e[2]=o,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(r,o),u=this.transitionsBetween(n,o),d=t.shiftPoint(r,n,(u+1)*4),p=t.shiftPoint(a,n,(l+1)*4);l=this.transitionsBetween(d,o),u=this.transitionsBetween(p,o);var m=new Ae(o.getX()+(a.getX()-n.getX())/(l+1),o.getY()+(a.getY()-n.getY())/(l+1)),x=new Ae(o.getX()+(r.getX()-n.getX())/(u+1),o.getY()+(r.getY()-n.getY())/(u+1));if(!this.isValid(m))return this.isValid(x)?x:null;if(!this.isValid(x))return m;var y=this.transitionsBetween(d,m)+this.transitionsBetween(p,m),b=this.transitionsBetween(d,x)+this.transitionsBetween(p,x);return y>b?m:x},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(r,o)+1,u=this.transitionsBetween(a,o)+1,d=t.shiftPoint(r,n,u*4),p=t.shiftPoint(a,n,l*4);l=this.transitionsBetween(d,o)+1,u=this.transitionsBetween(p,o)+1,(l&1)===1&&(l+=1),(u&1)===1&&(u+=1);var m=(r.getX()+n.getX()+a.getX()+o.getX())/4,x=(r.getY()+n.getY()+a.getY()+o.getY())/4;r=t.moveAway(r,m,x),n=t.moveAway(n,m,x),a=t.moveAway(a,m,x),o=t.moveAway(o,m,x);var y,b;return d=t.shiftPoint(r,n,u*4),d=t.shiftPoint(d,o,l*4),y=t.shiftPoint(n,r,u*4),y=t.shiftPoint(y,a,l*4),p=t.shiftPoint(a,o,u*4),p=t.shiftPoint(p,n,l*4),b=t.shiftPoint(o,a,u*4),b=t.shiftPoint(b,r,l*4),[d,y,p,b]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,a,o,l,u){var d=a0.getInstance();return d.sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,r.getX(),r.getY(),o.getX(),o.getY(),a.getX(),a.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),o=Math.trunc(r.getX()),l=Math.trunc(r.getY()),u=Math.abs(l-a)>Math.abs(o-n);if(u){var d=n;n=a,a=d,d=o,o=l,l=d}for(var p=Math.abs(o-n),m=Math.abs(l-a),x=-p/2,y=a<l?1:-1,b=n<o?1:-1,_=0,w=this.image.get(u?a:n,u?n:a),S=n,T=a;S!==o;S+=b){var E=this.image.get(u?T:S,u?S:T);if(E!==w&&(_++,w=E),x+=m,x>0){if(T===l)break;T+=y,x-=p}}return _},t}(),Nd=function(){function t(){this.decoder=new $8}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(mt.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),a=t.NO_POINTS}else{var l=new K8(e.getBlackMatrix()).detect();n=this.decoder.decode(l.getBits()),a=l.getPoints()}var u=n.getRawBytes(),d=new lr(n.getText(),u,8*u.length,a,Ne.DATA_MATRIX,ft.currentTimeMillis()),p=n.getByteSegments();p!=null&&d.putMetadata(rr.BYTE_SEGMENTS,p);var m=n.getECLevel();return m!=null&&d.putMetadata(rr.ERROR_CORRECTION_LEVEL,m),d},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new K;var a=this.moduleSize(r,e),o=r[1],l=n[1],u=r[0],d=n[0],p=(d-u+1)/a,m=(l-o+1)/a;if(p<=0||m<=0)throw new K;var x=a/2;o+=x,u+=x;for(var y=new yn(p,m),b=0;b<m;b++)for(var _=o+b*a,w=0;w<p;w++)e.get(u+w*a,_)&&y.set(w,b);return y},t.moduleSize=function(e,r){for(var n=r.getWidth(),a=e[0],o=e[1];a<n&&r.get(a,o);)a++;if(a===n)throw new K;var l=a-e[0];if(l===0)throw new K;return l},t.NO_POINTS=[],t}(),W8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){W8(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Nd,r)||this}return e})($a);var Vi;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Vi||(Vi={}));var Q8=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new tn(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Oe;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Vi.L,"L",1),t.M=new t(Vi.M,"M",0),t.Q=new t(Vi.Q,"Q",3),t.H=new t(Vi.H,"H",2),t}(),J8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sg=function(){function t(e){this.errorCorrectionLevel=Q8.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Fe.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,a,o=Number.MAX_SAFE_INTEGER,l=0;try{for(var u=J8(t.FORMAT_INFO_DECODE_LOOKUP),d=u.next();!d.done;d=u.next()){var p=d.value,m=p[0];if(m===e||m===r)return new t(p[1]);var x=t.numBitsDiffering(e,m);x<o&&(l=p[1],o=x),e!==r&&(x=t.numBitsDiffering(r,m),x<o&&(l=p[1],o=x))}}catch(y){n={error:y}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return o<=3?new t(l):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),eS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,a=this.ecBlocks;try{for(var o=eS(a),l=o.next();!l.done;l=o.next()){var u=l.value;n+=u.getCount()}}catch(d){e={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),O=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),tS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ga=function(){function t(e,r){for(var n,a,o=[],l=2;l<arguments.length;l++)o[l-2]=arguments[l];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;var u=0,d=o[0].getECCodewordsPerBlock(),p=o[0].getECBlocks();try{for(var m=tS(p),x=m.next();!x.done;x=m.next()){var y=x.value;u+=y.getCount()*(y.getDataCodewords()+d)}}catch(b){n={error:b}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new fe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new fe}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Oe;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<t.VERSION_DECODE_INFO.length;a++){var o=t.VERSION_DECODE_INFO[a];if(o===e)return t.getVersionForNumber(a+7);var l=sg.numBitsDiffering(e,o);l<r&&(n=a+7,r=l)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new yn(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var o=this.alignmentPatternCenters[a]-2,l=0;l<n;l++)a===0&&(l===0||l===n-1)||a===n-1&&l===0||r.setRegion(this.alignmentPatternCenters[l]-2,o,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new V(7,new O(1,19)),new V(10,new O(1,16)),new V(13,new O(1,13)),new V(17,new O(1,9))),new t(2,Int32Array.from([6,18]),new V(10,new O(1,34)),new V(16,new O(1,28)),new V(22,new O(1,22)),new V(28,new O(1,16))),new t(3,Int32Array.from([6,22]),new V(15,new O(1,55)),new V(26,new O(1,44)),new V(18,new O(2,17)),new V(22,new O(2,13))),new t(4,Int32Array.from([6,26]),new V(20,new O(1,80)),new V(18,new O(2,32)),new V(26,new O(2,24)),new V(16,new O(4,9))),new t(5,Int32Array.from([6,30]),new V(26,new O(1,108)),new V(24,new O(2,43)),new V(18,new O(2,15),new O(2,16)),new V(22,new O(2,11),new O(2,12))),new t(6,Int32Array.from([6,34]),new V(18,new O(2,68)),new V(16,new O(4,27)),new V(24,new O(4,19)),new V(28,new O(4,15))),new t(7,Int32Array.from([6,22,38]),new V(20,new O(2,78)),new V(18,new O(4,31)),new V(18,new O(2,14),new O(4,15)),new V(26,new O(4,13),new O(1,14))),new t(8,Int32Array.from([6,24,42]),new V(24,new O(2,97)),new V(22,new O(2,38),new O(2,39)),new V(22,new O(4,18),new O(2,19)),new V(26,new O(4,14),new O(2,15))),new t(9,Int32Array.from([6,26,46]),new V(30,new O(2,116)),new V(22,new O(3,36),new O(2,37)),new V(20,new O(4,16),new O(4,17)),new V(24,new O(4,12),new O(4,13))),new t(10,Int32Array.from([6,28,50]),new V(18,new O(2,68),new O(2,69)),new V(26,new O(4,43),new O(1,44)),new V(24,new O(6,19),new O(2,20)),new V(28,new O(6,15),new O(2,16))),new t(11,Int32Array.from([6,30,54]),new V(20,new O(4,81)),new V(30,new O(1,50),new O(4,51)),new V(28,new O(4,22),new O(4,23)),new V(24,new O(3,12),new O(8,13))),new t(12,Int32Array.from([6,32,58]),new V(24,new O(2,92),new O(2,93)),new V(22,new O(6,36),new O(2,37)),new V(26,new O(4,20),new O(6,21)),new V(28,new O(7,14),new O(4,15))),new t(13,Int32Array.from([6,34,62]),new V(26,new O(4,107)),new V(22,new O(8,37),new O(1,38)),new V(24,new O(8,20),new O(4,21)),new V(22,new O(12,11),new O(4,12))),new t(14,Int32Array.from([6,26,46,66]),new V(30,new O(3,115),new O(1,116)),new V(24,new O(4,40),new O(5,41)),new V(20,new O(11,16),new O(5,17)),new V(24,new O(11,12),new O(5,13))),new t(15,Int32Array.from([6,26,48,70]),new V(22,new O(5,87),new O(1,88)),new V(24,new O(5,41),new O(5,42)),new V(30,new O(5,24),new O(7,25)),new V(24,new O(11,12),new O(7,13))),new t(16,Int32Array.from([6,26,50,74]),new V(24,new O(5,98),new O(1,99)),new V(28,new O(7,45),new O(3,46)),new V(24,new O(15,19),new O(2,20)),new V(30,new O(3,15),new O(13,16))),new t(17,Int32Array.from([6,30,54,78]),new V(28,new O(1,107),new O(5,108)),new V(28,new O(10,46),new O(1,47)),new V(28,new O(1,22),new O(15,23)),new V(28,new O(2,14),new O(17,15))),new t(18,Int32Array.from([6,30,56,82]),new V(30,new O(5,120),new O(1,121)),new V(26,new O(9,43),new O(4,44)),new V(28,new O(17,22),new O(1,23)),new V(28,new O(2,14),new O(19,15))),new t(19,Int32Array.from([6,30,58,86]),new V(28,new O(3,113),new O(4,114)),new V(26,new O(3,44),new O(11,45)),new V(26,new O(17,21),new O(4,22)),new V(26,new O(9,13),new O(16,14))),new t(20,Int32Array.from([6,34,62,90]),new V(28,new O(3,107),new O(5,108)),new V(26,new O(3,41),new O(13,42)),new V(30,new O(15,24),new O(5,25)),new V(28,new O(15,15),new O(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new V(28,new O(4,116),new O(4,117)),new V(26,new O(17,42)),new V(28,new O(17,22),new O(6,23)),new V(30,new O(19,16),new O(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new V(28,new O(2,111),new O(7,112)),new V(28,new O(17,46)),new V(30,new O(7,24),new O(16,25)),new V(24,new O(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new V(30,new O(4,121),new O(5,122)),new V(28,new O(4,47),new O(14,48)),new V(30,new O(11,24),new O(14,25)),new V(30,new O(16,15),new O(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new V(30,new O(6,117),new O(4,118)),new V(28,new O(6,45),new O(14,46)),new V(30,new O(11,24),new O(16,25)),new V(30,new O(30,16),new O(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new V(26,new O(8,106),new O(4,107)),new V(28,new O(8,47),new O(13,48)),new V(30,new O(7,24),new O(22,25)),new V(30,new O(22,15),new O(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new V(28,new O(10,114),new O(2,115)),new V(28,new O(19,46),new O(4,47)),new V(28,new O(28,22),new O(6,23)),new V(30,new O(33,16),new O(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new V(30,new O(8,122),new O(4,123)),new V(28,new O(22,45),new O(3,46)),new V(30,new O(8,23),new O(26,24)),new V(30,new O(12,15),new O(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new O(3,117),new O(10,118)),new V(28,new O(3,45),new O(23,46)),new V(30,new O(4,24),new O(31,25)),new V(30,new O(11,15),new O(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new O(7,116),new O(7,117)),new V(28,new O(21,45),new O(7,46)),new V(30,new O(1,23),new O(37,24)),new V(30,new O(19,15),new O(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new O(5,115),new O(10,116)),new V(28,new O(19,47),new O(10,48)),new V(30,new O(15,24),new O(25,25)),new V(30,new O(23,15),new O(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new O(13,115),new O(3,116)),new V(28,new O(2,46),new O(29,47)),new V(30,new O(42,24),new O(1,25)),new V(30,new O(23,15),new O(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new O(17,115)),new V(28,new O(10,46),new O(23,47)),new V(30,new O(10,24),new O(35,25)),new V(30,new O(19,15),new O(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new O(17,115),new O(1,116)),new V(28,new O(14,46),new O(21,47)),new V(30,new O(29,24),new O(19,25)),new V(30,new O(11,15),new O(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new O(13,115),new O(6,116)),new V(28,new O(14,46),new O(23,47)),new V(30,new O(44,24),new O(7,25)),new V(30,new O(59,16),new O(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new O(12,121),new O(7,122)),new V(28,new O(12,47),new O(26,48)),new V(30,new O(39,24),new O(14,25)),new V(30,new O(22,15),new O(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new O(6,121),new O(14,122)),new V(28,new O(6,47),new O(34,48)),new V(30,new O(46,24),new O(10,25)),new V(30,new O(2,15),new O(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new O(17,122),new O(4,123)),new V(28,new O(29,46),new O(14,47)),new V(30,new O(49,24),new O(10,25)),new V(30,new O(24,15),new O(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new O(4,122),new O(18,123)),new V(28,new O(13,46),new O(32,47)),new V(30,new O(48,24),new O(14,25)),new V(30,new O(42,15),new O(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new O(20,117),new O(4,118)),new V(28,new O(40,47),new O(7,48)),new V(30,new O(43,24),new O(22,25)),new V(30,new O(10,15),new O(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new O(19,118),new O(6,119)),new V(28,new O(18,47),new O(31,48)),new V(30,new O(34,24),new O(34,25)),new V(30,new O(20,15),new O(61,16)))],t}(),Xt;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Xt||(Xt={}));var Nm=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&e.flip(a,n)},t.values=new Map([[Xt.DATA_MASK_000,new t(Xt.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Xt.DATA_MASK_001,new t(Xt.DATA_MASK_001,function(e,r){return(e&1)===0})],[Xt.DATA_MASK_010,new t(Xt.DATA_MASK_010,function(e,r){return r%3===0})],[Xt.DATA_MASK_011,new t(Xt.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Xt.DATA_MASK_100,new t(Xt.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Xt.DATA_MASK_101,new t(Xt.DATA_MASK_101,function(e,r){return e*r%6===0})],[Xt.DATA_MASK_110,new t(Xt.DATA_MASK_110,function(e,r){return e*r%6<3})],[Xt.DATA_MASK_111,new t(Xt.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),rS=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new fe;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),o=0,l=a-7,n=a-1;n>=l;n--)o=this.copyBit(8,n,o);for(var r=a-8;r<a;r++)o=this.copyBit(r,8,o);if(this.parsedFormatInfo=sg.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new fe},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Ga.getVersionForNumber(r);for(var n=0,a=e-11,o=5;o>=0;o--)for(var l=e-9;l>=a;l--)n=this.copyBit(l,o,n);var u=Ga.decodeVersionInformation(n);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;n=0;for(var l=5;l>=0;l--)for(var o=e-9;o>=a;o--)n=this.copyBit(l,o,n);if(u=Ga.decodeVersionInformation(n),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new fe},t.prototype.copyBit=function(e,r,n){var a=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return a?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Nm.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var o=r.buildFunctionPattern(),l=!0,u=new Uint8Array(r.getTotalCodewords()),d=0,p=0,m=0,x=a-1;x>0;x-=2){x===6&&x--;for(var y=0;y<a;y++)for(var b=l?a-1-y:y,_=0;_<2;_++)o.get(x-_,b)||(m++,p<<=1,this.bitMatrix.get(x-_,b)&&(p|=1),m===8&&(u[d++]=p,m=0,p=0));l=!l}if(d!==r.getTotalCodewords())throw new fe;return u},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Nm.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var a=r+1,o=e.getHeight();a<o;a++)e.get(r,a)!==e.get(a,r)&&(e.flip(a,r),e.flip(r,a))},t}(),Om=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nS=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var a,o,l,u;if(e.length!==r.getTotalCodewords())throw new Oe;var d=r.getECBlocksForLevel(n),p=0,m=d.getECBlocks();try{for(var x=Om(m),y=x.next();!y.done;y=x.next()){var b=y.value;p+=b.getCount()}}catch(ve){a={error:ve}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}var _=new Array(p),w=0;try{for(var S=Om(m),T=S.next();!T.done;T=S.next())for(var b=T.value,E=0;E<b.getCount();E++){var N=b.getDataCodewords(),D=d.getECCodewordsPerBlock()+N;_[w++]=new t(N,new Uint8Array(D))}}catch(ve){l={error:ve}}finally{try{T&&!T.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}for(var I=_[0].codewords.length,U=_.length-1;U>=0;){var Y=_[U].codewords.length;if(Y===I)break;U--}U++;for(var q=I-d.getECCodewordsPerBlock(),J=0,E=0;E<q;E++)for(var se=0;se<w;se++)_[se].codewords[E]=e[J++];for(var se=U;se<w;se++)_[se].codewords[q]=e[J++];for(var xe=_[0].codewords.length,E=q;E<xe;E++)for(var se=0;se<w;se++){var le=se<U?E:E+1;_[se].codewords[le]=e[J++]}return _},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),qr;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(qr||(qr={}));var ht=function(){function t(e,r,n,a){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,t.FOR_BITS.set(a,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Oe;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(qr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(qr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(qr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(qr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(qr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(qr.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(qr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(qr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(qr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(qr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),aS=function(){function t(){}return t.decode=function(e,r,n,a){var o=new og(e),l=new Le,u=new Array,d=-1,p=-1;try{var m=null,x=!1,y=void 0;do{if(o.available()<4)y=ht.TERMINATOR;else{var b=o.readBits(4);y=ht.forBits(b)}switch(y){case ht.TERMINATOR:break;case ht.FNC1_FIRST_POSITION:case ht.FNC1_SECOND_POSITION:x=!0;break;case ht.STRUCTURED_APPEND:if(o.available()<16)throw new fe;d=o.readBits(8),p=o.readBits(8);break;case ht.ECI:var _=t.parseECIValue(o);if(m=Lt.getCharacterSetECIByValue(_),m===null)throw new fe;break;case ht.HANZI:var w=o.readBits(4),S=o.readBits(y.getCharacterCountBits(r));w===t.GB2312_SUBSET&&t.decodeHanziSegment(o,l,S);break;default:var T=o.readBits(y.getCharacterCountBits(r));switch(y){case ht.NUMERIC:t.decodeNumericSegment(o,l,T);break;case ht.ALPHANUMERIC:t.decodeAlphanumericSegment(o,l,T,x);break;case ht.BYTE:t.decodeByteSegment(o,l,T,m,u,a);break;case ht.KANJI:t.decodeKanjiSegment(o,l,T);break;default:throw new fe}break}}while(y!==ht.TERMINATOR)}catch{throw new fe}return new _c(e,l.toString(),u.length===0?null:u,n===null?null:n.toString(),d,p)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new fe;for(var a=new Uint8Array(2*n),o=0;n>0;){var l=e.readBits(13),u=l/96<<8&4294967295|l%96;u<959?u+=41377:u+=42657,a[o]=u>>8&255,a[o+1]=u&255,o+=2,n--}try{r.append($r.decode(a,Ge.GB2312))}catch(d){throw new fe(d)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new fe;for(var a=new Uint8Array(2*n),o=0;n>0;){var l=e.readBits(13),u=l/192<<8&4294967295|l%192;u<7936?u+=33088:u+=49472,a[o]=u>>8,a[o+1]=u,o+=2,n--}try{r.append($r.decode(a,Ge.SHIFT_JIS))}catch(d){throw new fe(d)}},t.decodeByteSegment=function(e,r,n,a,o,l){if(8*n>e.available())throw new fe;for(var u=new Uint8Array(n),d=0;d<n;d++)u[d]=e.readBits(8);var p;a===null?p=Ge.guessEncoding(u,l):p=a.getName();try{r.append($r.decode(u,p))}catch(m){throw new fe(m)}o.push(u)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new fe;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,a){for(var o=r.length();n>1;){if(e.available()<11)throw new fe;var l=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(l/45))),r.append(t.toAlphaNumericChar(l%45)),n-=2}if(n===1){if(e.available()<6)throw new fe;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(a)for(var u=o;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new fe;var a=e.readBits(10);if(a>=1e3)throw new fe;r.append(t.toAlphaNumericChar(Math.floor(a/100))),r.append(t.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(t.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new fe;var o=e.readBits(7);if(o>=100)throw new fe;r.append(t.toAlphaNumericChar(Math.floor(o/10))),r.append(t.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new fe;var l=e.readBits(4);if(l>=10)throw new fe;r.append(t.toAlphaNumericChar(l))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=e.readBits(16);return(r&31)<<16&4294967295|a}throw new fe},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),lg=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),Tm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iS=function(){function t(){this.rsDecoder=new wc(wr.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(yn.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new rS(e),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(l){a=l}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,r);return o.setOther(new lg(!0)),o}catch(l){throw a!==null?a:l}},t.prototype.decodeBitMatrixParser=function(e,r){var n,a,o,l,u=e.readVersion(),d=e.readFormatInformation().getErrorCorrectionLevel(),p=e.readCodewords(),m=nS.getDataBlocks(p,u,d),x=0;try{for(var y=Tm(m),b=y.next();!b.done;b=y.next()){var _=b.value;x+=_.getNumDataCodewords()}}catch(U){n={error:U}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(n)throw n.error}}var w=new Uint8Array(x),S=0;try{for(var T=Tm(m),E=T.next();!E.done;E=T.next()){var _=E.value,N=_.getCodewords(),D=_.getNumDataCodewords();this.correctErrors(N,D);for(var I=0;I<D;I++)w[S++]=N[I]}}catch(U){o={error:U}}finally{try{E&&!E.done&&(l=T.return)&&l.call(T)}finally{if(o)throw o.error}}return aS.decode(w,u,d,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new $t}for(var a=0;a<r;a++)e[a]=n[a]},t}(),oS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sS=function(t){oS(e,t);function e(r,n,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=a,o}return e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var o=(this.getX()+n)/2,l=(this.getY()+r)/2,u=(this.estimatedModuleSize+a)/2;return new e(o,l,u)},e}(Ae),lS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cS=function(){function t(e,r,n,a,o,l,u){this.image=e,this.startX=r,this.startY=n,this.width=a,this.height=o,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,a=e+n,o=this.startY+r/2,l=new Int32Array(3),u=this.image,d=0;d<r;d++){var p=o+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));l[0]=0,l[1]=0,l[2]=0;for(var m=e;m<a&&!u.get(m,p);)m++;for(var x=0;m<a;){if(u.get(m,p))if(x===1)l[1]++;else if(x===2){if(this.foundPatternCross(l)){var y=this.handlePossibleCenter(l,p,m);if(y!==null)return y}l[0]=l[2],l[1]=1,l[2]=0,x=1}else l[++x]++;else x===1&&x++,l[x]++;m++}if(this.foundPatternCross(l)){var y=this.handlePossibleCenter(l,p,a);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new K},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-e[a])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,a){var o=this.image,l=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var d=e;d>=0&&o.get(r,d)&&u[1]<=n;)u[1]++,d--;if(d<0||u[1]>n)return NaN;for(;d>=0&&!o.get(r,d)&&u[0]<=n;)u[0]++,d--;if(u[0]>n)return NaN;for(d=e+1;d<l&&o.get(r,d)&&u[1]<=n;)u[1]++,d++;if(d===l||u[1]>n)return NaN;for(;d<l&&!o.get(r,d)&&u[2]<=n;)u[2]++,d++;if(u[2]>n)return NaN;var p=u[0]+u[1]+u[2];return 5*Math.abs(p-a)>=2*a?NaN:this.foundPatternCross(u)?t.centerFromEnd(u,d):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var a,o,l=e[0]+e[1]+e[2],u=t.centerFromEnd(e,n),d=this.crossCheckVertical(r,u,2*e[1],l);if(!isNaN(d)){var p=(e[0]+e[1]+e[2])/3;try{for(var m=lS(this.possibleCenters),x=m.next();!x.done;x=m.next()){var y=x.value;if(y.aboutEquals(p,d,u))return y.combineEstimate(d,u,p)}}catch(_){a={error:_}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}var b=new sS(u,d,p);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null},t}(),uS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fS=function(t){uS(e,t);function e(r,n,a,o){var l=t.call(this,r,n)||this;return l.estimatedModuleSize=a,l.count=o,o===void 0&&(l.count=1),l}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var o=this.count+1,l=(this.count*this.getX()+n)/o,u=(this.count*this.getY()+r)/o,d=(this.count*this.estimatedModuleSize+a)/o;return new e(l,u,d,o)},e}(Ae),dS=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),es=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hS=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(mt.TRY_HARDER)!==void 0,n=e!=null&&e.get(mt.PURE_BARCODE)!==void 0,a=this.image,o=a.getHeight(),l=a.getWidth(),u=Math.floor(3*o/(4*t.MAX_MODULES));(u<t.MIN_SKIP||r)&&(u=t.MIN_SKIP);for(var d=!1,p=new Int32Array(5),m=u-1;m<o&&!d;m+=u){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;for(var x=0,y=0;y<l;y++)if(a.get(y,m))(x&1)===1&&x++,p[x]++;else if((x&1)===0)if(x===4)if(t.foundPatternCross(p)){var b=this.handlePossibleCenter(p,m,y,n);if(b===!0)if(u=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>p[2]&&(m+=_-p[2]-u,y=l-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,x=3;continue}x=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,x=3;else p[++x]++;else p[x]++;if(t.foundPatternCross(p)){var b=this.handlePossibleCenter(p,m,l,n);b===!0&&(u=p[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Ae.orderBestPatterns(w),new dS(w)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;r+=a}if(r<7)return!1;var o=r/7,l=o/2;return Math.abs(o-e[0])<l&&Math.abs(o-e[1])<l&&Math.abs(3*o-e[2])<3*l&&Math.abs(o-e[3])<l&&Math.abs(o-e[4])<l},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,a){for(var o=this.getCrossCheckStateCount(),l=0,u=this.image;e>=l&&r>=l&&u.get(r-l,e-l);)o[2]++,l++;if(e<l||r<l)return!1;for(;e>=l&&r>=l&&!u.get(r-l,e-l)&&o[1]<=n;)o[1]++,l++;if(e<l||r<l||o[1]>n)return!1;for(;e>=l&&r>=l&&u.get(r-l,e-l)&&o[0]<=n;)o[0]++,l++;if(o[0]>n)return!1;var d=u.getHeight(),p=u.getWidth();for(l=1;e+l<d&&r+l<p&&u.get(r+l,e+l);)o[2]++,l++;if(e+l>=d||r+l>=p)return!1;for(;e+l<d&&r+l<p&&!u.get(r+l,e+l)&&o[3]<n;)o[3]++,l++;if(e+l>=d||r+l>=p||o[3]>=n)return!1;for(;e+l<d&&r+l<p&&u.get(r+l,e+l)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return!1;var m=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(m-a)<2*a&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,r,n,a){for(var o=this.image,l=o.getHeight(),u=this.getCrossCheckStateCount(),d=e;d>=0&&o.get(r,d);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(r,d)&&u[1]<=n;)u[1]++,d--;if(d<0||u[1]>n)return NaN;for(;d>=0&&o.get(r,d)&&u[0]<=n;)u[0]++,d--;if(u[0]>n)return NaN;for(d=e+1;d<l&&o.get(r,d);)u[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(r,d)&&u[3]<n;)u[3]++,d++;if(d===l||u[3]>=n)return NaN;for(;d<l&&o.get(r,d)&&u[4]<n;)u[4]++,d++;if(u[4]>=n)return NaN;var p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-a)>=2*a?NaN:t.foundPatternCross(u)?t.centerFromEnd(u,d):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,a){for(var o=this.image,l=o.getWidth(),u=this.getCrossCheckStateCount(),d=e;d>=0&&o.get(d,r);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(d,r)&&u[1]<=n;)u[1]++,d--;if(d<0||u[1]>n)return NaN;for(;d>=0&&o.get(d,r)&&u[0]<=n;)u[0]++,d--;if(u[0]>n)return NaN;for(d=e+1;d<l&&o.get(d,r);)u[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(d,r)&&u[3]<n;)u[3]++,d++;if(d===l||u[3]>=n)return NaN;for(;d<l&&o.get(d,r)&&u[4]<n;)u[4]++,d++;if(u[4]>=n)return NaN;var p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-a)>=a?NaN:t.foundPatternCross(u)?t.centerFromEnd(u,d):NaN},t.prototype.handlePossibleCenter=function(e,r,n,a){var o=e[0]+e[1]+e[2]+e[3]+e[4],l=t.centerFromEnd(e,n),u=this.crossCheckVertical(r,Math.floor(l),e[2],o);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],o),!isNaN(l)&&(!a||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],o)))){for(var d=o/7,p=!1,m=this.possibleCenters,x=0,y=m.length;x<y;x++){var b=m[x];if(b.aboutEquals(d,u,l)){m[x]=b.combineEstimate(u,l,d),p=!0;break}}if(!p){var _=new fS(l,u,d);m.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var o=es(this.possibleCenters),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.getCount()>=t.CENTER_QUORUM)if(a==null)a=u;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-u.getX())-Math.abs(a.getY()-u.getY()))/2)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,a,o=0,l=0,u=this.possibleCenters.length;try{for(var d=es(this.possibleCenters),p=d.next();!p.done;p=d.next()){var m=p.value;m.getCount()>=t.CENTER_QUORUM&&(o++,l+=m.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}if(o<3)return!1;var x=l/u,y=0;try{for(var b=es(this.possibleCenters),_=b.next();!_.done;_=b.next()){var m=_.value;y+=Math.abs(m.getEstimatedModuleSize()-x)}}catch(w){n={error:w}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}return y<=.05*l},t.prototype.selectBestPatterns=function(){var e,r,n,a,o=this.possibleCenters.length;if(o<3)throw new K;var l=this.possibleCenters,u;if(o>3){var d=0,p=0;try{for(var m=es(this.possibleCenters),x=m.next();!x.done;x=m.next()){var y=x.value,b=y.getEstimatedModuleSize();d+=b,p+=b*b}}catch(I){e={error:I}}finally{try{x&&!x.done&&(r=m.return)&&r.call(m)}finally{if(e)throw e.error}}u=d/o;var _=Math.sqrt(p/o-u*u);l.sort(function(I,U){var Y=Math.abs(U.getEstimatedModuleSize()-u),q=Math.abs(I.getEstimatedModuleSize()-u);return Y<q?-1:Y>q?1:0});for(var w=Math.max(.2*u,_),S=0;S<l.length&&l.length>3;S++){var T=l[S];Math.abs(T.getEstimatedModuleSize()-u)>w&&(l.splice(S,1),S--)}}if(l.length>3){var d=0;try{for(var E=es(l),N=E.next();!N.done;N=E.next()){var D=N.value;d+=D.getEstimatedModuleSize()}}catch(U){n={error:U}}finally{try{N&&!N.done&&(a=E.return)&&a.call(E)}finally{if(n)throw n.error}}u=d/l.length,l.sort(function(U,Y){if(Y.getCount()===U.getCount()){var q=Math.abs(Y.getEstimatedModuleSize()-u),J=Math.abs(U.getEstimatedModuleSize()-u);return q<J?1:q>J?-1:0}else return Y.getCount()-U.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),pS=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(mt.NEED_RESULT_POINT_CALLBACK);var r=new hS(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),o=this.calculateModuleSize(r,n,a);if(o<1)throw new K("No pattern found in proccess finder.");var l=t.computeDimension(r,n,a,o),u=Ga.getProvisionalVersionForDimension(l),d=u.getDimensionForVersion()-7,p=null;if(u.getAlignmentPatternCenters().length>0)for(var m=n.getX()-r.getX()+a.getX(),x=n.getY()-r.getY()+a.getY(),y=1-3/d,b=Math.floor(r.getX()+y*(m-r.getX())),_=Math.floor(r.getY()+y*(x-r.getY())),w=4;w<=16;w<<=1)try{p=this.findAlignmentInRegion(o,b,_,w);break}catch(N){if(!(N instanceof K))throw N}var S=t.createTransform(r,n,a,p,l),T=t.sampleGrid(this.image,S,l),E;return p===null?E=[a,r,n]:E=[a,r,n,p],new n0(T,E)},t.createTransform=function(e,r,n,a,o){var l=o-3.5,u,d,p,m;return a!==null?(u=a.getX(),d=a.getY(),p=l-3,m=p):(u=r.getX()-e.getX()+n.getX(),d=r.getY()-e.getY()+n.getY(),p=l,m=l),rg.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,p,m,3.5,l,e.getX(),e.getY(),r.getX(),r.getY(),u,d,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var a=a0.getInstance();return a.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,a){var o=qe.round(Ae.distance(e,r)/a),l=qe.round(Ae.distance(e,n)/a),u=Math.floor((o+l)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new K("Dimensions could be not found.")}return u},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,a){var o=this.sizeOfBlackWhiteBlackRun(e,r,n,a),l=1,u=e-(n-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var d=Math.floor(r-(a-r)*l);return l=1,d<0?(l=r/(r-d),d=0):d>=this.image.getHeight()&&(l=(this.image.getHeight()-1-r)/(d-r),d=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,r,u,d),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,a){var o=Math.abs(a-r)>Math.abs(n-e);if(o){var l=e;e=r,r=l,l=n,n=a,a=l}for(var u=Math.abs(n-e),d=Math.abs(a-r),p=-u/2,m=e<n?1:-1,x=r<a?1:-1,y=0,b=n+m,_=e,w=r;_!==b;_+=m){var S=o?w:_,T=o?_:w;if(y===1===this.image.get(S,T)){if(y===2)return qe.distance(_,w,e,r);y++}if(p+=d,p>0){if(w===a)break;w+=x,p-=u}}return y===2?qe.distance(n+m,a,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,a){var o=Math.floor(a*e),l=Math.max(0,r-o),u=Math.min(this.image.getWidth()-1,r+o);if(u-l<e*3)throw new K("Alignment top exceeds estimated module size.");var d=Math.max(0,n-o),p=Math.min(this.image.getHeight()-1,n+o);if(p-d<e*3)throw new K("Alignment bottom exceeds estimated module size.");var m=new cS(this.image,l,d,u-l,p-d,e,this.resultPointCallback);return m.find()},t}(),Od=function(){function t(){this.decoder=new iS}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,a;if(r!=null&&r.get(mt.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),a=t.NO_POINTS}else{var l=new pS(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(l.getBits(),r),a=l.getPoints()}n.getOther()instanceof lg&&n.getOther().applyMirroredCorrection(a);var u=new lr(n.getText(),n.getRawBytes(),void 0,a,Ne.QR_CODE,void 0),d=n.getByteSegments();d!==null&&u.putMetadata(rr.BYTE_SEGMENTS,d);var p=n.getECLevel();return p!==null&&u.putMetadata(rr.ERROR_CORRECTION_LEVEL,p),n.hasStructuredAppend()&&(u.putMetadata(rr.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),u.putMetadata(rr.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new K;var a=this.moduleSize(r,e),o=r[1],l=n[1],u=r[0],d=n[0];if(u>=d||o>=l)throw new K;if(l-o!==d-u&&(d=u+(l-o),d>=e.getWidth()))throw new K;var p=Math.round((d-u+1)/a),m=Math.round((l-o+1)/a);if(p<=0||m<=0)throw new K;if(m!==p)throw new K;var x=Math.floor(a/2);o+=x,u+=x;var y=u+Math.floor((p-1)*a)-d;if(y>0){if(y>x)throw new K;u-=y}var b=o+Math.floor((m-1)*a)-l;if(b>0){if(b>x)throw new K;o-=b}for(var _=new yn(p,m),w=0;w<m;w++)for(var S=o+Math.floor(w*a),T=0;T<p;T++)e.get(u+Math.floor(T*a),S)&&_.set(T,w);return _},t.moduleSize=function(e,r){for(var n=r.getHeight(),a=r.getWidth(),o=e[0],l=e[1],u=!0,d=0;o<a&&l<n;){if(u!==r.get(o,l)){if(++d===5)break;u=!u}o++,l++}if(o===a||l===n)throw new K;return(o-e[0])/7},t.NO_POINTS=new Array,t}(),vS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ze=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return qe.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),o=0;try{for(var l=vS(e),u=l.next();!u.done;u=l.next()){var d=u.value;a[o++]=d}}catch(p){r={error:p}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return a},t.getCodeword=function(e){var r=kt.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),mS=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),xS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gS=function(){function t(){}return t.detectMultiple=function(e,r,n){var a=e.getBlackMatrix(),o=t.detect(n,a);return o.length||(a=a.clone(),a.rotate180(),o=t.detect(n,a)),new mS(a,o)},t.detect=function(e,r){for(var n,a,o=new Array,l=0,u=0,d=!1;l<r.getHeight();){var p=t.findVertices(r,l,u);if(p[0]==null&&p[3]==null){if(!d)break;d=!1,u=0;try{for(var m=(n=void 0,xS(o)),x=m.next();!x.done;x=m.next()){var y=x.value;y[1]!=null&&(l=Math.trunc(Math.max(l,y[1].getY()))),y[3]!=null&&(l=Math.max(l,Math.trunc(y[3].getY())))}}catch(b){n={error:b}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}l+=t.ROW_STEP;continue}if(d=!0,o.push(p),!e)break;p[2]!=null?(u=Math.trunc(p[2].getX()),l=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),l=Math.trunc(p[4].getY()))}return o},t.findVertices=function(e,r,n){var a=e.getHeight(),o=e.getWidth(),l=new Array(8);return t.copyToResult(l,t.findRowsWithPattern(e,a,o,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),l[4]!=null&&(n=Math.trunc(l[4].getX()),r=Math.trunc(l[4].getY())),t.copyToResult(l,t.findRowsWithPattern(e,a,o,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),l},t.copyToResult=function(e,r,n){for(var a=0;a<n.length;a++)e[n[a]]=r[a]},t.findRowsWithPattern=function(e,r,n,a,o,l){for(var u=new Array(4),d=!1,p=new Int32Array(l.length);a<r;a+=t.ROW_STEP){var m=t.findGuardPattern(e,o,a,n,!1,l,p);if(m!=null){for(;a>0;){var x=t.findGuardPattern(e,o,--a,n,!1,l,p);if(x!=null)m=x;else{a++;break}}u[0]=new Ae(m[0],a),u[1]=new Ae(m[1],a),d=!0;break}}var y=a+1;if(d){for(var b=0,x=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);y<r;y++){var m=t.findGuardPattern(e,x[0],y,n,!1,l,p);if(m!=null&&Math.abs(x[0]-m[0])<t.MAX_PATTERN_DRIFT&&Math.abs(x[1]-m[1])<t.MAX_PATTERN_DRIFT)x=m,b=0;else{if(b>t.SKIPPED_ROW_COUNT_MAX)break;b++}}y-=b+1,u[2]=new Ae(x[0],y),u[3]=new Ae(x[1],y)}return y-a<t.BARCODE_MIN_HEIGHT&&kt.fill(u,null),u},t.findGuardPattern=function(e,r,n,a,o,l,u){kt.fillWithin(u,0,u.length,0);for(var d=r,p=0;e.get(d,n)&&d>0&&p++<t.MAX_PIXEL_DRIFT;)d--;for(var m=d,x=0,y=l.length,b=o;m<a;m++){var _=e.get(m,n);if(_!==b)u[x]++;else{if(x===y-1){if(t.patternMatchVariance(u,l,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([d,m]);d+=u[0]+u[1],ft.arraycopy(u,2,u,0,x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,b=!b}}return x===y-1&&t.patternMatchVariance(u,l,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([d,m-1]):null},t.patternMatchVariance=function(e,r,n){for(var a=e.length,o=0,l=0,u=0;u<a;u++)o+=e[u],l+=r[u];if(o<l)return 1/0;var d=o/l;n*=d;for(var p=0,m=0;m<a;m++){var x=e[m],y=r[m]*d,b=x>y?x-y:y-x;if(b>n)return 1/0;p+=b}return p/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),yS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Va=function(){function t(e,r){if(r.length===0)throw new Oe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),ft.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var o=yS(this.coefficients),l=o.next();!l.done;l=o.next()){var u=l.value;a=this.field.add(a,u)}}catch(x){r={error:x}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}for(var d=this.coefficients[0],p=this.coefficients.length,m=1;m<p;m++)d=this.field.add(this.field.multiply(e,d),this.coefficients[m]);return d},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Oe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var o=new Int32Array(n.length),l=n.length-r.length;ft.arraycopy(n,0,o,0,l);for(var u=l;u<n.length;u++)o[u]=this.field.add(r[u-l],n[u]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Oe("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Oe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=e.coefficients,o=a.length,l=new Int32Array(n+o-1),u=0;u<n;u++)for(var d=r[u],p=0;p<o;p++)l[u+p]=this.field.add(l[u+p],this.field.multiply(d,a[p]));return new t(this.field,l)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Oe;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),o=0;o<n;o++)a[o]=this.field.multiply(this.coefficients[o],r);return new t(this.field,a)},t.prototype.toString=function(){for(var e=new Le,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),bS=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Oe;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new tg;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),_S=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wS=function(t){_S(e,t);function e(r,n){var a=t.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var o=1,l=0;l<r;l++)a.expTable[l]=o,o=o*n%r;for(var l=0;l<r-1;l++)a.logTable[a.expTable[l]]=l;return a.zero=new Va(a,new Int32Array([0])),a.one=new Va(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Oe;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Va(this,a)},e.PDF417_GF=new e(Ze.NUMBER_OF_CODEWORDS,3),e}(bS),AS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ES=function(){function t(){this.field=wS.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var a,o,l=new Va(this.field,e),u=new Int32Array(r),d=!1,p=r;p>0;p--){var m=l.evaluateAt(this.field.exp(p));u[r-p]=m,m!==0&&(d=!0)}if(!d)return 0;var x=this.field.getOne();if(n!=null)try{for(var y=AS(n),b=y.next();!b.done;b=y.next()){var _=b.value,w=this.field.exp(e.length-1-_),S=new Va(this.field,new Int32Array([this.field.subtract(0,w),1]));x=x.multiply(S)}}catch(q){a={error:q}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}for(var T=new Va(this.field,u),E=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),T,r),N=E[0],D=E[1],I=this.findErrorLocations(N),U=this.findErrorMagnitudes(D,N,I),p=0;p<I.length;p++){var Y=e.length-1-this.field.log(I[p]);if(Y<0)throw $t.getChecksumInstance();e[Y]=this.field.subtract(e[Y],U[p])}return I.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var o=e,l=r,u=this.field.getZero(),d=this.field.getOne();l.getDegree()>=Math.round(n/2);){var p=o,m=u;if(o=l,u=d,o.isZero())throw $t.getChecksumInstance();l=p;for(var x=this.field.getZero(),y=o.getCoefficient(o.getDegree()),b=this.field.inverse(y);l.getDegree()>=o.getDegree()&&!l.isZero();){var _=l.getDegree()-o.getDegree(),w=this.field.multiply(l.getCoefficient(l.getDegree()),b);x=x.add(this.field.buildMonomial(_,w)),l=l.subtract(o.multiplyByMonomial(_,w))}d=x.multiply(u).subtract(m).negative()}var S=d.getCoefficient(0);if(S===0)throw $t.getChecksumInstance();var T=this.field.inverse(S),E=d.multiply(T),N=l.multiply(T);return[E,N]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),a=0,o=1;o<this.field.getSize()&&a<r;o++)e.evaluateAt(o)===0&&(n[a]=this.field.inverse(o),a++);if(a!==r)throw $t.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var a=r.getDegree(),o=new Int32Array(a),l=1;l<=a;l++)o[a-l]=this.field.multiply(l,r.getCoefficient(l));for(var u=new Va(this.field,o),d=n.length,p=new Int32Array(d),l=0;l<d;l++){var m=this.field.inverse(n[l]),x=this.field.subtract(0,e.evaluateAt(m)),y=this.field.inverse(u.evaluateAt(m));p[l]=this.field.multiply(x,y)}return p},t}(),Td=function(){function t(e,r,n,a,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,a,o)}return t.prototype.constructor_1=function(e,r,n,a,o){var l=r==null||n==null,u=a==null||o==null;if(l&&u)throw new K;l?(r=new Ae(0,a.getY()),n=new Ae(0,o.getY())):u&&(a=new Ae(e.getWidth()-1,r.getY()),o=new Ae(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=o,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),o.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var a=this.topLeft,o=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){var d=n?this.topLeft:this.topRight,p=Math.trunc(d.getY()-e);p<0&&(p=0);var m=new Ae(d.getX(),p);n?a=m:l=m}if(r>0){var x=n?this.bottomLeft:this.bottomRight,y=Math.trunc(x.getY()+r);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var b=new Ae(x.getX(),y);n?o=b:u=b}return new t(this.image,a,o,l,u)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),SS=function(){function t(e,r,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),o0=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function a(l,u,d,p,m,x){if(l==="%%")return"%";if(r[++n]!==void 0){l=p?parseInt(p.substr(1)):void 0;var y=m?parseInt(m.substr(1)):void 0,b;switch(x){case"s":b=r[n];break;case"c":b=r[n][0];break;case"f":b=parseFloat(r[n]).toFixed(l);break;case"p":b=parseFloat(r[n]).toPrecision(l);break;case"e":b=parseFloat(r[n]).toExponential(l);break;case"x":b=parseInt(r[n]).toString(y||16);break;case"d":b=parseFloat(parseInt(r[n],y||10).toPrecision(l)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(y);for(var _=parseInt(d),w=d&&d[0]+""=="0"?"0":" ";b.length<_;)b=u!==void 0?b+w:w+b;return b}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),CS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cg=function(){function t(e){this.boundingBox=new Td(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new o0,a=0;try{for(var o=CS(this.codewords),l=o.next();!l.done;l=o.next()){var u=l.value;if(u==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,u.getRowNumber(),u.getValue())}}catch(d){e={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),NS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OS=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,o=[],l;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return o},os=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,a=new Array,o=function(x,y){var b={getKey:function(){return x},getValue:function(){return y}};b.getValue()>n?(n=b.getValue(),a=[],a.push(b.getKey())):b.getValue()===n&&a.push(b.getKey())};try{for(var l=NS(this.values.entries()),u=l.next();!u.done;u=l.next()){var d=OS(u.value,2),p=d[0],m=d[1];o(p,m)}}catch(x){e={error:x}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return Ze.toIntArray(a)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),TS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),td=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dm=function(t){TS(e,t);function e(r,n){var a=t.call(this,r)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var r,n;try{for(var a=td(this.getCodewords()),o=a.next();!o.done;o=a.next()){var l=o.value;l?.setRowNumberAsRowIndicatorColumn()}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),o=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=-1,m=1,x=0,y=u;y<d;y++)if(n[y]!=null){var b=n[y],_=b.getRowNumber()-p;if(_===0)x++;else if(_===1)m=Math.max(m,x),x=1,p=b.getRowNumber();else if(_<0||b.getRowNumber()>=r.getRowCount()||_>y)n[y]=null;else{var w=void 0;m>2?w=(m-2)*_:w=_;for(var S=w>=y,T=1;T<=w&&!S;T++)S=n[y-T]!=null;S?n[y]=null:(p=b.getRowNumber(),x=1)}}},e.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var o=new Int32Array(a.getRowCount());try{for(var l=td(this.getCodewords()),u=l.next();!u.done;u=l.next()){var d=u.value;if(d!=null){var p=d.getRowNumber();if(p>=o.length)continue;o[p]++}}}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),p=-1,m=l;m<u;m++)if(d[m]!=null){var x=d[m];x.setRowNumberAsRowIndicatorColumn();var y=x.getRowNumber()-p;y===0||(y===1?p=x.getRowNumber():x.getRowNumber()>=r.getRowCount()?d[m]=null:p=x.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),o=new os,l=new os,u=new os,d=new os;try{for(var p=td(a),m=p.next();!m.done;m=p.next()){var x=m.value;if(x!=null){x.setRowNumberAsRowIndicatorColumn();var y=x.getValue()%30,b=x.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),u.setValue(y%3);break;case 2:o.setValue(y+1);break}}}}catch(w){r={error:w}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}if(o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Ze.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Ze.MAX_ROWS_IN_BARCODE)return null;var _=new SS(o.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(a,_),_},e.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var o=r[a];if(r[a]!=null){var l=o.getValue()%30,u=o.getRowNumber();if(u>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(l/3)!==n.getErrorCorrectionLevel()||l%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:l+1!==n.getColumnCount()&&(r[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(cg),DS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RS=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ze.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var o=this.detectionResultColumns[a].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),o=0,l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){var u=this.detectionResultColumns[l].getCodewords()[n];u!=null&&(o=t.adjustRowNumberIfValid(a,o,u),u.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),o=0,l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){var u=this.detectionResultColumns[l].getCodewords()[n];u!=null&&(o=t.adjustRowNumberIfValid(a,o,u),u.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var a,o;if(this.detectionResultColumns[e-1]!=null){var l=n[r],u=this.detectionResultColumns[e-1].getCodewords(),d=u;this.detectionResultColumns[e+1]!=null&&(d=this.detectionResultColumns[e+1].getCodewords());var p=new Array(14);p[2]=u[r],p[3]=d[r],r>0&&(p[0]=n[r-1],p[4]=u[r-1],p[5]=d[r-1]),r>1&&(p[8]=n[r-2],p[10]=u[r-2],p[11]=d[r-2]),r<n.length-1&&(p[1]=n[r+1],p[6]=u[r+1],p[7]=d[r+1]),r<n.length-2&&(p[9]=n[r+2],p[12]=u[r+2],p[13]=d[r+2]);try{for(var m=DS(p),x=m.next();!x.done;x=m.next()){var y=x.value;if(t.adjustRowNumber(l,y))return}}catch(b){a={error:b}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new o0,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var o=this.detectionResultColumns[a].getCodewords()[n];if(o==null){r.format("    |   ");continue}r.format(" %3d|%3d",o.getRowNumber(),o.getValue())}r.format("%n")}return r.toString()},t}(),jS=function(){function t(e,r,n,a){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),IS=function(){function t(){}return t.initialize=function(){for(var e=0;e<Ze.SYMBOL_TABLE.length;e++)for(var r=Ze.SYMBOL_TABLE[e],n=r&1,a=0;a<Ze.BARS_IN_MODULE;a++){for(var o=0;(r&1)===n;)o+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Ze.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Ze.BARS_IN_MODULE-a-1]=Math.fround(o/Ze.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=qe.sum(e),n=new Int32Array(Ze.BARS_IN_MODULE),a=0,o=0,l=0;l<Ze.MODULES_IN_CODEWORD;l++){var u=r/(2*Ze.MODULES_IN_CODEWORD)+l*r/Ze.MODULES_IN_CODEWORD;o+e[a]<=u&&(o+=e[a],a++),n[a]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Ze.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=qe.sum(e),n=new Array(Ze.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/r);var o=Ad.MAX_VALUE,l=-1;this.bSymbolTableReady||t.initialize();for(var u=0;u<t.RATIOS_TABLE.length;u++){for(var d=0,p=t.RATIOS_TABLE[u],m=0;m<Ze.BARS_IN_MODULE;m++){var x=Math.fround(p[m]-n[m]);if(d+=Math.fround(x*x),d>=o)break}d<o&&(o=d,l=Ze.SYMBOL_TABLE[u])}return l},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Ze.SYMBOL_TABLE.length).map(function(e){return new Array(Ze.BARS_IN_MODULE)}),t}(),MS=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),Rm=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),BS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PS=function(t){BS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Cr),LS=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new PS;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new t0;if(n===0)return;for(var a=0;a<n;a++)this.write(e[r+a])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),kS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FS=function(t){kS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Cr),US=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zS=function(t){US(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Oe("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new FS;a=Fe.MAX_VALUE}this.buf=kt.copyOfUint8Array(this.buf,a)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new t0;this.ensureCapacity(this.count+a),ft.arraycopy(r,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return kt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(LS),ot;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ot||(ot={}));function ug(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Ul;function da(t){if(typeof Ul>"u"&&(Ul=ug()),Ul===null)throw new Error("BigInt is not supported!");return Ul(t)}function VS(){var t=[];t[0]=da(1);var e=da(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var HS=function(){function t(){}return t.decode=function(e,r){var n=new Le(""),a=Lt.ISO8859_1;n.enableDecoding(a);for(var o=1,l=e[o++],u=new MS;o<e[0];){switch(l){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(l,e,a,o,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,n);break;case t.ECI_CHARSET:Lt.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,u);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new fe;default:o--,o=t.textCompaction(e,o,n);break}if(o<e.length)l=e[o++];else throw fe.getFormatInstance()}if(n.length()===0)throw fe.getFormatInstance();var d=new _c(null,n.toString(),null,r);return d.setOther(u),d},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw fe.getFormatInstance();for(var a=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)a[o]=e[r];n.setSegmentIndex(Fe.parseInt(t.decodeBase900toBase10(a,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var l=new Le;r=t.textCompaction(e,r,l),n.setFileId(l.toString());var u=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var d=new Le;r=t.textCompaction(e,r+1,d),n.setFileName(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var p=new Le;r=t.textCompaction(e,r+1,p),n.setSender(p.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var m=new Le;r=t.textCompaction(e,r+1,m),n.setAddressee(m.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var x=new Le;r=t.numericCompaction(e,r+1,x),n.setSegmentCount(Fe.parseInt(x.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new Le;r=t.numericCompaction(e,r+1,y),n.setTimestamp(Rm.parseLong(y.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var b=new Le;r=t.numericCompaction(e,r+1,b),n.setChecksum(Fe.parseInt(b.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new Le;r=t.numericCompaction(e,r+1,_),n.setFileSize(Rm.parseLong(_.toString()));break;default:throw fe.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw fe.getFormatInstance()}if(u!==-1){var w=r-u;n.isLastSegment()&&w--,n.setOptionalData(kt.copyOfRange(e,u,u+w))}return r},t.textCompaction=function(e,r,n){for(var a=new Int32Array((e[0]-r)*2),o=new Int32Array((e[0]-r)*2),l=0,u=!1;r<e[0]&&!u;){var d=e[r++];if(d<t.TEXT_COMPACTION_MODE_LATCH)a[l]=d/30,a[l+1]=d%30,l+=2;else switch(d){case t.TEXT_COMPACTION_MODE_LATCH:a[l++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,u=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[l]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[r++],o[l]=d,l++;break}}return t.decodeTextCompaction(a,o,l,n),r},t.decodeTextCompaction=function(e,r,n,a){for(var o=ot.ALPHA,l=ot.ALPHA,u=0;u<n;){var d=e[u],p="";switch(o){case ot.ALPHA:if(d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case t.LL:o=ot.LOWER;break;case t.ML:o=ot.MIXED;break;case t.PS:l=o,o=ot.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ot.ALPHA;break}break;case ot.LOWER:if(d<26)p=String.fromCharCode(97+d);else switch(d){case 26:p=" ";break;case t.AS:l=o,o=ot.ALPHA_SHIFT;break;case t.ML:o=ot.MIXED;break;case t.PS:l=o,o=ot.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ot.ALPHA;break}break;case ot.MIXED:if(d<t.PL)p=t.MIXED_CHARS[d];else switch(d){case t.PL:o=ot.PUNCT;break;case 26:p=" ";break;case t.LL:o=ot.LOWER;break;case t.AL:o=ot.ALPHA;break;case t.PS:l=o,o=ot.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ot.ALPHA;break}break;case ot.PUNCT:if(d<t.PAL)p=t.PUNCT_CHARS[d];else switch(d){case t.PAL:o=ot.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ot.ALPHA;break}break;case ot.ALPHA_SHIFT:if(o=l,d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=ot.ALPHA;break}break;case ot.PUNCT_SHIFT:if(o=l,d<t.PAL)p=t.PUNCT_CHARS[d];else switch(d){case t.PAL:o=ot.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ot.ALPHA;break}break}p!==""&&a.append(p),u++}},t.byteCompaction=function(e,r,n,a,o){var l=new zS,u=0,d=0,p=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var m=new Int32Array(6),x=r[a++];a<r[0]&&!p;)switch(m[u++]=x,d=900*d+x,x=r[a++],x){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,p=!0;break;default:if(u%5===0&&u>0){for(var y=0;y<6;++y)l.write(Number(da(d)>>da(8*(5-y))));d=0,u=0}break}a===r[0]&&x<t.TEXT_COMPACTION_MODE_LATCH&&(m[u++]=x);for(var b=0;b<u;b++)l.write(m[b]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!p;){var _=r[a++];if(_<t.TEXT_COMPACTION_MODE_LATCH)u++,d=900*d+_;else switch(_){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,p=!0;break}if(u%5===0&&u>0){for(var y=0;y<6;++y)l.write(Number(da(d)>>da(8*(5-y))));d=0,u=0}}break}return o.append($r.decode(l.toByteArray(),n)),a},t.numericCompaction=function(e,r,n){for(var a=0,o=!1,l=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!o;){var u=e[r++];if(r===e[0]&&(o=!0),u<t.TEXT_COMPACTION_MODE_LATCH)l[a]=u,a++;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break}(a%t.MAX_NUMERIC_CODEWORDS===0||u===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&a>0&&(n.append(t.decodeBase900toBase10(l,a)),a=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=da(0),a=0;a<r;a++)n+=t.EXP900[r-a-1]*da(e[a]);var o=n.toString();if(o.charAt(0)!=="1")throw new fe;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=ug()?VS():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),ts=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GS=function(){function t(){}return t.decode=function(e,r,n,a,o,l,u){for(var d=new Td(e,r,n,a,o),p=null,m=null,x,y=!0;;y=!1){if(r!=null&&(p=t.getRowIndicatorColumn(e,d,r,!0,l,u)),a!=null&&(m=t.getRowIndicatorColumn(e,d,a,!1,l,u)),x=t.merge(p,m),x==null)throw K.getNotFoundInstance();var b=x.getBoundingBox();if(y&&b!=null&&(b.getMinY()<d.getMinY()||b.getMaxY()>d.getMaxY()))d=b;else break}x.setBoundingBox(d);var _=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,p),x.setDetectionResultColumn(_,m);for(var w=p!=null,S=1;S<=_;S++){var T=w?S:_-S;if(x.getDetectionResultColumn(T)===void 0){var E=void 0;T===0||T===_?E=new Dm(d,T===0):E=new cg(d),x.setDetectionResultColumn(T,E);for(var N=-1,D=N,I=d.getMinY();I<=d.getMaxY();I++){if(N=t.getStartColumn(x,T,I,w),N<0||N>d.getMaxX()){if(D===-1)continue;N=D}var U=t.detectCodeword(e,d.getMinX(),d.getMaxX(),w,N,I,l,u);U!=null&&(E.setCodeword(I,U),D=N,l=Math.min(l,U.getWidth()),u=Math.max(u,U.getWidth()))}}}return t.createDecoderResult(x)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var a=Td.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new RS(n,a)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var o=t.getMax(a),l=0;try{for(var u=ts(a),d=u.next();!d.done;d=u.next()){var p=d.value;if(l+=o-p,p>0)break}}catch(b){r={error:b}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var m=e.getCodewords(),x=0;l>0&&m[x]==null;x++)l--;for(var y=0,x=a.length-1;x>=0&&(y+=o-a[x],!(a[x]>0));x--);for(var x=m.length-1;y>0&&m[x]==null;x--)y--;return e.getBoundingBox().addMissingRows(l,y,e.isLeft())},t.getMax=function(e){var r,n,a=-1;try{for(var o=ts(e),l=o.next();!l.done;l=o.next()){var u=l.value;a=Math.max(a,u)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,a,o,l){for(var u=new Dm(r,a),d=0;d<2;d++)for(var p=d===0?1:-1,m=Math.trunc(Math.trunc(n.getX())),x=Math.trunc(Math.trunc(n.getY()));x<=r.getMaxY()&&x>=r.getMinY();x+=p){var y=t.detectCodeword(e,0,e.getWidth(),a,m,x,o,l);y!=null&&(u.setCodeword(x,y),a?m=y.getStartX():m=y.getEndX())}return u},t.adjustCodewordCount=function(e,r){var n=r[0][1],a=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(o<1||o>Ze.MAX_CODEWORDS_IN_BARCODE)throw K.getNotFoundInstance();n.setValue(o)}else a[0]!==o&&n.setValue(o)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var d=0;d<e.getBarcodeColumnCount();d++){var p=r[u][d+1].getValue(),m=u*e.getBarcodeColumnCount()+d;p.length===0?n.push(m):p.length===1?a[m]=p[0]:(l.push(m),o.push(p))}for(var x=new Array(o.length),y=0;y<x.length;y++)x[y]=o[y];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,Ze.toIntArray(n),Ze.toIntArray(l),x)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,a,o){for(var l=new Int32Array(a.length),u=100;u-- >0;){for(var d=0;d<l.length;d++)r[a[d]]=o[d][l[d]];try{return t.decodeCodewords(r,e,n)}catch(m){var p=m instanceof $t;if(!p)throw m}if(l.length===0)throw $t.getChecksumInstance();for(var d=0;d<l.length;d++)if(l[d]<o[d].length-1){l[d]++;break}else if(l[d]=0,d===l.length-1)throw $t.getChecksumInstance()}throw $t.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,a,o,l=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<l.length;u++)for(var d=0;d<l[u].length;d++)l[u][d]=new os;var p=0;try{for(var m=ts(e.getDetectionResultColumns()),x=m.next();!x.done;x=m.next()){var y=x.value;if(y!=null)try{for(var b=(a=void 0,ts(y.getCodewords())),_=b.next();!_.done;_=b.next()){var w=_.value;if(w!=null){var S=w.getRowNumber();if(S>=0){if(S>=l.length)continue;l[S][p].setValue(w.getValue())}}}}catch(T){a={error:T}}finally{try{_&&!_.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}p++}}catch(T){r={error:T}}finally{try{x&&!x.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}return l},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,a){var o,l,u=a?1:-1,d=null;if(t.isValidBarcodeColumn(e,r-u)&&(d=e.getDetectionResultColumn(r-u).getCodeword(n)),d!=null)return a?d.getEndX():d.getStartX();if(d=e.getDetectionResultColumn(r).getCodewordNearby(n),d!=null)return a?d.getStartX():d.getEndX();if(t.isValidBarcodeColumn(e,r-u)&&(d=e.getDetectionResultColumn(r-u).getCodewordNearby(n)),d!=null)return a?d.getEndX():d.getStartX();for(var p=0;t.isValidBarcodeColumn(e,r-u);){r-=u;try{for(var m=(o=void 0,ts(e.getDetectionResultColumn(r).getCodewords())),x=m.next();!x.done;x=m.next()){var y=x.value;if(y!=null)return(a?y.getEndX():y.getStartX())+u*p*(y.getEndX()-y.getStartX())}}catch(b){o={error:b}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}p++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,a,o,l,u,d){o=t.adjustCodewordStartColumn(e,r,n,a,o,l);var p=t.getModuleBitCount(e,r,n,a,o,l);if(p==null)return null;var m,x=qe.sum(p);if(a)m=o+x;else{for(var y=0;y<p.length/2;y++){var b=p[y];p[y]=p[p.length-1-y],p[p.length-1-y]=b}m=o,o=m-x}if(!t.checkCodewordSkew(x,u,d))return null;var _=IS.getDecodedValue(p),w=Ze.getCodeword(_);return w===-1?null:new jS(o,m,t.getCodewordBucketNumber(_),w)},t.getModuleBitCount=function(e,r,n,a,o,l){for(var u=o,d=new Int32Array(8),p=0,m=a?1:-1,x=a;(a?u<n:u>=r)&&p<d.length;)e.get(u,l)===x?(d[p]++,u+=m):(p++,x=!x);return p===d.length||u===(a?n:r)&&p===d.length-1?d:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,a,o,l){for(var u=o,d=a?-1:1,p=0;p<2;p++){for(;(a?u>=r:u<n)&&a===e.get(u,l);){if(Math.abs(o-u)>t.CODEWORD_SKEW_SIZE)return o;u+=d}d=-d,a=!a}return u},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw fe.getFormatInstance();var a=1<<r+1,o=t.correctErrors(e,n,a);t.verifyCodewordCount(e,a);var l=HS.decode(e,""+r);return l.setErrorsCorrected(o),l.setErasures(n.length),l},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw $t.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw fe.getFormatInstance();var n=e[0];if(n>e.length)throw fe.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw fe.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,a=r.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)r[a]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new o0,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var o=e[n][a];o.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new ES,t}(),ZS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw K.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof fe||n instanceof $t?K.getNotFoundInstance():n}},t.decode=function(e,r,n){var a,o,l=new Array,u=gS.detectMultiple(e,r,n);try{for(var d=ZS(u.getPoints()),p=d.next();!p.done;p=d.next()){var m=p.value,x=GS.decode(u.getBits(),m[4],m[5],m[6],m[7],t.getMinCodewordWidth(m),t.getMaxCodewordWidth(m)),y=new lr(x.getText(),x.getRawBytes(),void 0,m,Ne.PDF_417);y.putMetadata(rr.ERROR_CORRECTION_LEVEL,x.getECLevel());var b=x.getOther();b!=null&&y.putMetadata(rr.PDF417_EXTRA_METADATA,b),l.push(y)}}catch(_){a={error:_}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}return l.map(function(_){return _})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Fe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),XS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jm=function(t){XS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Cr),Im=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qS=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(mt.TRY_HARDER)!==void 0,n=e==null?null:e.get(mt.POSSIBLE_FORMATS),a=new Array;if(n!=null){var o=n.some(function(l){return l===Ne.UPC_A||l===Ne.UPC_E||l===Ne.EAN_13||l===Ne.EAN_8||l===Ne.CODABAR||l===Ne.CODE_39||l===Ne.CODE_93||l===Ne.CODE_128||l===Ne.ITF||l===Ne.RSS_14||l===Ne.RSS_EXPANDED});o&&!r&&a.push(new is(e)),n.includes(Ne.QR_CODE)&&a.push(new Od),n.includes(Ne.DATA_MATRIX)&&a.push(new Nd),n.includes(Ne.AZTEC)&&a.push(new Sd),n.includes(Ne.PDF_417)&&a.push(new Dd),o&&r&&a.push(new is(e))}a.length===0&&(r||a.push(new is(e)),a.push(new Od),a.push(new Nd),a.push(new Sd),a.push(new Dd),r&&a.push(new is(e))),this.readers=a},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=Im(this.readers),a=n.next();!a.done;a=n.next()){var o=a.value;o.reset()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new jm("No readers where selected, nothing can be read.");try{for(var a=Im(this.readers),o=a.next();!o.done;o=a.next()){var l=o.value;try{return l.decode(e,this.hints)}catch(u){if(u instanceof jm)continue}}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new K("No MultiFormat Readers were able to detect the code.")},t}(),YS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){YS(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,o=new qS;return o.setHints(r),a=t.call(this,o,n)||this,a}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})($a);var $S=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){$S(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Dd,r)||this}return e})($a);var KS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){KS(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Od,r)||this}return e})($a);var Rd;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Rd||(Rd={}));const zl=Rd;var fg=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new va(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],a=this.field,o=r.length;o<=e;o++){var l=n.multiply(new va(a,Int32Array.from([1,a.exp(o-1+a.getGeneratorBase())])));r.push(l),n=l}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Oe("No error correction bytes");var n=e.length-r;if(n<=0)throw new Oe("No data bytes provided");var a=this.buildGenerator(r),o=new Int32Array(n);ft.arraycopy(e,0,o,0,n);var l=new va(this.field,o);l=l.multiplyByMonomial(r,1);for(var u=l.divide(a)[1],d=u.getCoefficients(),p=r-d.length,m=0;m<p;m++)e[n+m]=0;ft.arraycopy(d,0,e,n+p,d.length)},t}(),ss=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o-1;l++)for(var u=n[l],d=0;d<a-1;d++){var p=u[d];p===u[d+1]&&p===n[l+1][d]&&p===n[l+1][d+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var u=0;u<a;u++){var d=n[l];u+6<a&&d[u]===1&&d[u+1]===0&&d[u+2]===1&&d[u+3]===1&&d[u+4]===1&&d[u+5]===0&&d[u+6]===1&&(t.isWhiteHorizontal(d,u-4,u)||t.isWhiteHorizontal(d,u+7,u+11))&&r++,l+6<o&&n[l][u]===1&&n[l+1][u]===0&&n[l+2][u]===1&&n[l+3][u]===1&&n[l+4][u]===1&&n[l+5][u]===0&&n[l+6][u]===1&&(t.isWhiteVertical(n,u,l-4,l)||t.isWhiteVertical(n,u,l+7,l+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var a=r;a<n;a++)if(e[a]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var o=n;o<a;o++)if(e[o][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var u=n[l],d=0;d<a;d++)u[d]===1&&r++;var p=e.getHeight()*e.getWidth(),m=Math.floor(Math.abs(r*2-p)*10/p);return m*t.N4},t.getDataMaskBit=function(e,r,n){var a,o;switch(e){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:o=n*r,a=(o&1)+o%3;break;case 6:o=n*r,a=(o&1)+o%3&1;break;case 7:o=n*r,a=o%3+(n+r&1)&1;break;default:throw new Oe("Invalid mask pattern: "+e)}return a===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,a=r?e.getHeight():e.getWidth(),o=r?e.getWidth():e.getHeight(),l=e.getArray(),u=0;u<a;u++){for(var d=0,p=-1,m=0;m<o;m++){var x=r?l[u][m]:l[m][u];x===p?d++:(d>=5&&(n+=t.N1+(d-5)),d=1,p=x)}d>=5&&(n+=t.N1+(d-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),WS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QS=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var a=WS(this.bytes),o=a.next();!o.done;o=a.next()){var l=o.value;kt.fill(l,e)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var o=this.bytes[n],l=r.bytes[n],u=0,d=this.width;u<d;++u)if(o[u]!==l[u])return!1;return!0},t.prototype.toString=function(){for(var e=new Le,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],o=0,l=this.width;o<l;++o)switch(a[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),jd=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Le;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),JS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dt=function(t){JS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Cr),Mm=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,a,o){t.clearMatrix(o),t.embedBasicPatterns(n,o),t.embedTypeInfo(r,a,o),t.maybeEmbedVersionInfo(n,o),t.embedDataBits(e,a,o)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var a=new Kt;t.makeTypeInfoBits(e,r,a);for(var o=0,l=a.getSize();o<l;++o){var u=a.get(a.getSize()-1-o),d=t.TYPE_INFO_COORDINATES[o],p=d[0],m=d[1];if(n.setBoolean(p,m,u),o<8){var x=n.getWidth()-o-1,y=8;n.setBoolean(x,y,u)}else{var x=8,y=n.getHeight()-7+(o-8);n.setBoolean(x,y,u)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Kt;t.makeVersionInfoBits(e,n);for(var a=17,o=0;o<6;++o)for(var l=0;l<3;++l){var u=n.get(a);a--,r.setBoolean(o,r.getHeight()-11+l,u),r.setBoolean(r.getHeight()-11+l,o,u)}}},t.embedDataBits=function(e,r,n){for(var a=0,o=-1,l=n.getWidth()-1,u=n.getHeight()-1;l>0;){for(l===6&&(l-=1);u>=0&&u<n.getHeight();){for(var d=0;d<2;++d){var p=l-d;if(t.isEmpty(n.get(p,u))){var m=void 0;a<e.getSize()?(m=e.get(a),++a):m=!1,r!==255&&ss.getDataMaskBit(r,p,u)&&(m=!m),n.setBoolean(p,u,m)}}u+=o}o=-o,u+=o,l-=2}if(a!==e.getSize())throw new dt("Not all bits consumed: "+a+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Fe.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Oe("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!jd.isValidMaskPattern(r))throw new dt("Invalid mask pattern");var a=e.getBits()<<3|r;n.appendBits(a,5);var o=t.calculateBCHCode(a,t.TYPE_INFO_POLY);n.appendBits(o,10);var l=new Kt;if(l.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(l),n.getSize()!==15)throw new dt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new dt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new dt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var a=0;a<8;++a){if(!t.isEmpty(n.get(e+a,r)))throw new dt;n.setNumber(e+a,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var a=0;a<7;++a){if(!t.isEmpty(n.get(e,r+a)))throw new dt;n.setNumber(e,r+a,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var a=0;a<5;++a)for(var o=t.POSITION_ADJUSTMENT_PATTERN[a],l=0;l<5;++l)n.setNumber(e+l,r+a,o[l])},t.embedPositionDetectionPattern=function(e,r,n){for(var a=0;a<7;++a)for(var o=t.POSITION_DETECTION_PATTERN[a],l=0;l<7;++l)n.setNumber(e+l,r+a,o[l])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;t.embedVerticalSeparationPattern(a,0,e),t.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),t.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,l=a.length;o!==l;o++){var u=a[o];if(u>=0)for(var d=0;d!==l;d++){var p=a[d];p>=0&&t.isEmpty(r.get(p,u))&&t.embedPositionAdjustmentPattern(p-2,u-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),e6=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),Bm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return ss.applyMaskPenaltyRule1(e)+ss.applyMaskPenaltyRule2(e)+ss.applyMaskPenaltyRule3(e)+ss.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var a=t.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(zl.CHARACTER_SET)!==void 0;o&&(a=n.get(zl.CHARACTER_SET).toString());var l=this.chooseMode(e,a),u=new Kt;if(l===ht.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==a)){var d=Lt.getCharacterSetECIByName(a);d!==void 0&&this.appendECI(d,u)}this.appendModeInfo(l,u);var p=new Kt;this.appendBytes(e,l,p,a);var m;if(n!==null&&n.get(zl.QR_VERSION)!==void 0){var x=Number.parseInt(n.get(zl.QR_VERSION).toString(),10);m=Ga.getVersionForNumber(x);var y=this.calculateBitsNeeded(l,u,p,m);if(!this.willFit(y,m,r))throw new dt("Data too big for requested version")}else m=this.recommendVersion(r,l,u,p);var b=new Kt;b.appendBitArray(u);var _=l===ht.BYTE?p.getSizeInBytes():e.length;this.appendLengthInfo(_,m,l,b),b.appendBitArray(p);var w=m.getECBlocksForLevel(r),S=m.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(S,b);var T=this.interleaveWithECBytes(b,m.getTotalCodewords(),S,w.getNumBlocks()),E=new jd;E.setECLevel(r),E.setMode(l),E.setVersion(m);var N=m.getDimensionForVersion(),D=new QS(N,N),I=this.chooseMaskPattern(T,r,m,D);return E.setMaskPattern(I),Mm.buildMatrix(T,r,m,I,D),E.setMatrix(D),E},t.recommendVersion=function(e,r,n,a){var o=this.calculateBitsNeeded(r,n,a,Ga.getVersionForNumber(1)),l=this.chooseVersion(o,e),u=this.calculateBitsNeeded(r,n,a,l);return this.chooseVersion(u,e)},t.calculateBitsNeeded=function(e,r,n,a){return r.getSize()+e.getCharacterCountBits(a)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Lt.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return ht.KANJI;for(var n=!1,a=!1,o=0,l=e.length;o<l;++o){var u=e.charAt(o);if(t.isDigit(u))n=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)a=!0;else return ht.BYTE}return a?ht.ALPHANUMERIC:n?ht.NUMERIC:ht.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=$r.encode(e,Lt.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var o=r[a]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,a){for(var o=Number.MAX_SAFE_INTEGER,l=-1,u=0;u<jd.NUM_MASK_PATTERNS;u++){Mm.buildMatrix(e,r,n,u,a);var d=this.calculateMaskPenalty(a);d<o&&(o=d,l=u)}return l},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var a=Ga.getVersionForNumber(n);if(t.willFit(e,a,r))return a}throw new dt("Data too big")},t.willFit=function(e,r,n){var a=r.getTotalCodewords(),o=r.getECBlocksForLevel(n),l=o.getTotalECCodewords(),u=a-l,d=(e+7)/8;return u>=d},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new dt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var o=r.getSize()&7;if(o>0)for(var a=o;a<8;a++)r.appendBit(!1);for(var l=e-r.getSizeInBytes(),a=0;a<l;++a)r.appendBits((a&1)===0?236:17,8);if(r.getSize()!==n)throw new dt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,a,o,l){if(a>=n)throw new dt("Block ID too large");var u=e%n,d=n-u,p=Math.floor(e/n),m=p+1,x=Math.floor(r/n),y=x+1,b=p-x,_=m-y;if(b!==_)throw new dt("EC bytes mismatch");if(n!==d+u)throw new dt("RS blocks mismatch");if(e!==(x+b)*d+(y+_)*u)throw new dt("Total bytes mismatch");a<d?(o[0]=x,l[0]=b):(o[0]=y,l[0]=_)},t.interleaveWithECBytes=function(e,r,n,a){var o,l,u,d;if(e.getSizeInBytes()!==n)throw new dt("Number of bits and data bytes does not match");for(var p=0,m=0,x=0,y=new Array,b=0;b<a;++b){var _=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,a,b,_,w);var S=_[0],T=new Uint8Array(S);e.toBytes(8*p,T,0,S);var E=t.generateECBytes(T,w[0]);y.push(new e6(T,E)),m=Math.max(m,S),x=Math.max(x,E.length),p+=_[0]}if(n!==p)throw new dt("Data bytes does not match offset");for(var N=new Kt,b=0;b<m;++b)try{for(var D=(o=void 0,Bm(y)),I=D.next();!I.done;I=D.next()){var U=I.value,T=U.getDataBytes();b<T.length&&N.appendBits(T[b],8)}}catch(se){o={error:se}}finally{try{I&&!I.done&&(l=D.return)&&l.call(D)}finally{if(o)throw o.error}}for(var b=0;b<x;++b)try{for(var Y=(u=void 0,Bm(y)),q=Y.next();!q.done;q=Y.next()){var U=q.value,E=U.getErrorCorrectionBytes();b<E.length&&N.appendBits(E[b],8)}}catch(se){u={error:se}}finally{try{q&&!q.done&&(d=Y.return)&&d.call(Y)}finally{if(u)throw u.error}}if(r!==N.getSizeInBytes())throw new dt("Interleaving error: "+r+" and "+N.getSizeInBytes()+" differ.");return N},t.generateECBytes=function(e,r){for(var n=e.length,a=new Int32Array(n+r),o=0;o<n;o++)a[o]=e[o]&255;new fg(wr.QR_CODE_FIELD_256).encode(a,r);for(var l=new Uint8Array(r),o=0;o<r;o++)l[o]=a[n+o];return l},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,a){var o=n.getCharacterCountBits(r);if(e>=1<<o)throw new dt(e+" is bigger than "+((1<<o)-1));a.appendBits(e,o)},t.appendBytes=function(e,r,n,a){switch(r){case ht.NUMERIC:t.appendNumericBytes(e,n);break;case ht.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case ht.BYTE:t.append8BitBytes(e,n,a);break;case ht.KANJI:t.appendKanjiBytes(e,n);break;default:throw new dt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var o=t.getDigit(e.charAt(a));if(a+2<n){var l=t.getDigit(e.charAt(a+1)),u=t.getDigit(e.charAt(a+2));r.appendBits(o*100+l*10+u,10),a+=3}else if(a+1<n){var l=t.getDigit(e.charAt(a+1));r.appendBits(o*10+l,7),a+=2}else r.appendBits(o,4),a++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var o=t.getAlphanumericCode(e.charCodeAt(a));if(o===-1)throw new dt;if(a+1<n){var l=t.getAlphanumericCode(e.charCodeAt(a+1));if(l===-1)throw new dt;r.appendBits(o*45+l,11),a+=2}else r.appendBits(o,6),a++}},t.append8BitBytes=function(e,r,n){var a;try{a=$r.encode(e,n)}catch(d){throw new dt(d)}for(var o=0,l=a.length;o!==l;o++){var u=a[o];r.appendBits(u,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=$r.encode(e,Lt.SJIS)}catch(x){throw new dt(x)}for(var a=n.length,o=0;o<a;o+=2){var l=n[o]&255,u=n[o+1]&255,d=l<<8&4294967295|u,p=-1;if(d>=33088&&d<=40956?p=d-33088:d>=57408&&d<=60351&&(p=d-49472),p===-1)throw new dt("Invalid byte sequence");var m=(p>>8)*192+(p&255);r.appendBits(m,13)}},t.appendECI=function(e,r){r.appendBits(ht.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Lt.UTF8.getName(),t})();var t6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){t6(e,t);function e(r,n,a,o,l,u,d,p){var m=t.call(this,u,d)||this;if(m.yuvData=r,m.dataWidth=n,m.dataHeight=a,m.left=o,m.top=l,o+u>n||l+d>a)throw new Oe("Crop rectangle does not fit within image data.");return p&&m.reverseHorizontal(u,d),m}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Oe("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var o=(r+this.top)*this.dataWidth+this.left;return ft.arraycopy(this.yuvData,o,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,o=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return ft.arraycopy(this.yuvData,l,o,0,a),o;for(var u=0;u<n;u++){var d=u*r;ft.arraycopy(this.yuvData,l,o,d,r),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,o,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),o=this.yuvData,l=this.top*this.dataWidth+this.left,u=0;u<n;u++){for(var d=u*r,p=0;p<r;p++){var m=o[l+p*e.THUMBNAIL_SCALE_FACTOR]&255;a[d+p]=4278190080|m*65793}l+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,o=0,l=this.top*this.dataWidth+this.left;o<n;o++,l+=this.dataWidth)for(var u=l+r/2,d=l,p=l+r-1;d<u;d++,p--){var m=a[d];a[d]=a[p],a[p]=m}},e.prototype.invert=function(){return new r0(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(bc);var r6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){r6(e,t);function e(r,n,a,o,l,u,d){var p=t.call(this,n,a)||this;if(p.dataWidth=o,p.dataHeight=l,p.left=u,p.top=d,r.BYTES_PER_ELEMENT===4){for(var m=n*a,x=new Uint8ClampedArray(m),y=0;y<m;y++){var b=r[y],_=b>>16&255,w=b>>7&510,S=b&255;x[y]=(_+w+S)/4&255}p.luminances=x}else p.luminances=r;if(o===void 0&&(p.dataWidth=n),l===void 0&&(p.dataHeight=a),u===void 0&&(p.left=0),d===void 0&&(p.top=0),p.left+n>p.dataWidth||p.top+a>p.dataHeight)throw new Oe("Crop rectangle does not fit within image data.");return p}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Oe("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var o=(r+this.top)*this.dataWidth+this.left;return ft.arraycopy(this.luminances,o,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,o=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return ft.arraycopy(this.luminances,l,o,0,a),o;for(var u=0;u<n;u++){var d=u*r;ft.arraycopy(this.luminances,l,o,d,r),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,o){return new e(this.luminances,a,o,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new r0(this)},e})(bc);var n6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),a6=function(t){n6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Lt),i6=function(){function t(){}return t.ISO_8859_1=Lt.ISO8859_1,t}(),Id,o6=301,s6=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=o6);return{LOG:t,ALOG:e}};Id=s6([],[]),Id.LOG;Id.ALOG;var Pm;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Pm||(Pm={}));var Lm=129,dg=230,l6=231,c6=235,u6=236,f6=237,d6=238,h6=239,p6=240,rd=254,v6=254,km="[)>05",Fm="[)>06",Um="",rt=0,tr=1,dr=2,Bt=3,qt=4,or=5,m6=function(){function t(){}return t.prototype.getEncodingMode=function(){return rt},t.prototype.encode=function(e){var r=sn.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=sn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case or:e.writeCodeword(l6),e.signalEncoderChange(or);return;case tr:e.writeCodeword(dg),e.signalEncoderChange(tr);return;case Bt:e.writeCodeword(d6),e.signalEncoderChange(Bt);break;case dr:e.writeCodeword(h6),e.signalEncoderChange(dr);break;case qt:e.writeCodeword(p6),e.signalEncoderChange(qt);break;default:throw new Error("Illegal mode: "+a)}else sn.isExtendedASCII(n)?(e.writeCodeword(c6),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(sn.isDigit(e)&&sn.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),x6=function(){function t(){}return t.prototype.getEncodingMode=function(){return or},t.prototype.encode=function(e){var r=new Le;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var a=sn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(rt);break}}var o=r.length()-1,l=1,u=e.getCodewordCount()+o+l;e.updateSymbolInfo(u);var d=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||d)if(o<=249)r.setCharAt(0,Ge.getCharAt(o));else if(o<=1555)r.setCharAt(0,Ge.getCharAt(Math.floor(o/250)+249)),r.insert(1,Ge.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var p=0,n=r.length();p<n;p++)e.writeCodeword(this.randomize255State(r.charAt(p).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,a=e+n;return a<=255?a:a-256},t}(),s0=function(){function t(){}return t.prototype.getEncodingMode=function(){return tr},t.prototype.encodeMaximal=function(e){for(var r=new Le,n=0,a=e.pos,o=0;e.hasMoreCharacters();){var l=e.getCurrentChar();e.pos++,n=this.encodeChar(l,r),r.length()%3===0&&(a=e.pos,o=r.length())}if(o!==r.length()){var u=Math.floor(r.length()/3*2),d=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(d);var p=e.getSymbolInfo().getDataCapacity()-d,m=Math.floor(r.length()%3);(m===2&&p!==2||m===1&&(n>3||p!==1))&&(e.pos=a)}r.length()>0&&e.writeCodeword(dg),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Le;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,r),o=Math.floor(r.length()/3)*2,l=e.getCodewordCount()+o;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l;if(!e.hasMoreCharacters()){var d=new Le;for(r.length()%3===2&&u!==2&&(a=this.backtrackOneCharacter(e,r,d,a));r.length()%3===1&&(a>3||u!==1);)a=this.backtrackOneCharacter(e,r,d,a);break}var p=r.length();if(p%3===0){var m=sn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(m!==this.getEncodingMode()){e.signalEncoderChange(rt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,a){var o=r.length(),l=r.toString().substring(0,o-a);r.setLengthToZero(),r.append(l),e.pos--;var u=e.getCurrentChar();return a=this.encodeChar(u,n),e.resetSymbolInfo(),a},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(rd)}else if(l===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(rd),e.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(l>0||e.hasMoreCharacters())&&e.writeCodeword(rd)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(rt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,a=r%256,o=new Le;return o.append(n),o.append(a),o.toString()},t}(),g6=function(){function t(){}return t.prototype.getEncodingMode=function(){return qt},t.prototype.encode=function(e){for(var r=new Le;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var a=r.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var o=r.toString().substring(4);r.setLengthToZero(),r.append(o);var l=sn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){e.signalEncoderChange(rt);break}}}r.append(Ge.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var l=n-1,u=this.encodeToCodewords(r.toString()),d=!e.hasMoreCharacters(),p=d&&l<=2;if(l<=2){e.updateSymbolInfo(e.getCodewordCount()+l);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(p=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}p?(e.resetSymbolInfo(),e.pos-=l):e.writeCodewords(u)}finally{e.signalEncoderChange(rt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Ge.getCharAt(e-64)):sn.illegalCharacter(Ge.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=r>=2?e.charAt(1).charCodeAt(0):0,o=r>=3?e.charAt(2).charCodeAt(0):0,l=r>=4?e.charAt(3).charCodeAt(0):0,u=(n<<18)+(a<<12)+(o<<6)+l,d=u>>16&255,p=u>>8&255,m=u&255,x=new Le;return x.append(d),r>=2&&x.append(p),r>=3&&x.append(m),x.toString()},t}(),y6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),b6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},We=function(){function t(e,r,n,a,o,l,u,d){u===void 0&&(u=0),d===void 0&&(d=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=o,this.dataRegions=l,this.rsBlockData=u,this.rsBlockError=d}return t.lookup=function(e,r,n,a,o){var l,u;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!0);try{for(var d=b6(w6),p=d.next();!p.done;p=d.next()){var m=p.value;if(!(r===1&&m.rectangular)&&!(r===2&&!m.rectangular)&&!(n!=null&&(m.getSymbolWidth()<n.getWidth()||m.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(m.getSymbolWidth()>a.getWidth()||m.getSymbolHeight()>a.getHeight()))&&e<=m.dataCapacity)return m}}catch(x){l={error:x}}finally{try{p&&!p.done&&(u=d.return)&&u.call(d)}finally{if(l)throw l.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),_6=function(t){y6(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(We),w6=[new We(!1,3,5,8,8,1),new We(!1,5,7,10,10,1),new We(!0,5,7,16,6,1),new We(!1,8,10,12,12,1),new We(!0,10,11,14,6,2),new We(!1,12,12,14,14,1),new We(!0,16,14,24,10,1),new We(!1,18,14,16,16,1),new We(!1,22,18,18,18,1),new We(!0,22,18,16,10,2),new We(!1,30,20,20,20,1),new We(!0,32,24,16,14,2),new We(!1,36,24,22,22,1),new We(!1,44,28,24,24,1),new We(!0,49,28,22,14,2),new We(!1,62,36,14,14,4),new We(!1,86,42,16,16,4),new We(!1,114,48,18,18,4),new We(!1,144,56,20,20,4),new We(!1,174,68,22,22,4),new We(!1,204,84,24,24,4,102,42),new We(!1,280,112,14,14,16,140,56),new We(!1,368,144,16,16,16,92,36),new We(!1,456,192,18,18,16,114,48),new We(!1,576,224,20,20,16,144,56),new We(!1,696,272,22,22,16,174,68),new We(!1,816,336,24,24,16,136,56),new We(!1,1050,408,18,18,36,175,68),new We(!1,1304,496,20,20,36,163,62),new _6],A6=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(u){return u.charCodeAt(0)}),n=new Le,a=0,o=r.length;a<o;a++){var l=String.fromCharCode(r[a]&255);if(l==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(l)}this.msg=n.toString(),this.shape=0,this.codewords=new Le,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=We.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),E6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S6=function(t){E6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Bt},e.prototype.encode=function(r){for(var n=new Le;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var o=n.length();if(o%3===0){this.writeNextTriplet(r,n);var l=sn.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){r.signalEncoderChange(rt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):sn.illegalCharacter(Ge.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),o=n.length();r.pos-=o,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(v6),r.getNewEncoding()<0&&r.signalEncoderChange(rt)},e}(s0),C6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N6=function(t){C6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return dr},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},e}(s0),sn=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=Lm+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,a,o){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!1);var l=new s0,u=[new m6,l,new N6,new S6,new g6,new x6],d=new A6(e);d.setSymbolShape(r),d.setSizeConstraints(n,a),e.startsWith(km)&&e.endsWith(Um)?(d.writeCodeword(u6),d.setSkipAtEnd(2),d.pos+=km.length):e.startsWith(Fm)&&e.endsWith(Um)&&(d.writeCodeword(f6),d.setSkipAtEnd(2),d.pos+=Fm.length);var p=rt;for(o&&(l.encodeMaximal(d),p=d.getNewEncoding(),d.resetEncoderSignal());d.hasMoreCharacters();)u[p].encode(d),d.getNewEncoding()>=0&&(p=d.getNewEncoding(),d.resetEncoderSignal());var m=d.getCodewordCount();d.updateSymbolInfo();var x=d.getSymbolInfo().getDataCapacity();m<x&&p!==rt&&p!==or&&p!==qt&&d.writeCodeword("þ");var y=d.getCodewords();for(y.length()<x&&y.append(Lm);y.length()<x;)y.append(this.randomize253State(y.length()+1));return d.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var a=this.lookAheadTestIntern(e,r,n);if(n===Bt&&a===Bt){for(var o=Math.min(r+3,e.length),l=r;l<o;l++)if(!this.isNativeX12(e.charCodeAt(l)))return rt}else if(n===qt&&a===qt){for(var o=Math.min(r+4,e.length),l=r;l<o;l++)if(!this.isNativeEDIFACT(e.charCodeAt(l)))return rt}return a},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var a;n===rt?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var o=0,l=new Uint8Array(6),u=[];;){if(r+o===e.length){kt.fill(l,0),kt.fill(u,0);var d=this.findMinimums(a,u,Fe.MAX_VALUE,l),p=this.getMinimumCount(l);if(u[rt]===d)return rt;if(p===1){if(l[or]>0)return or;if(l[qt]>0)return qt;if(l[dr]>0)return dr;if(l[Bt]>0)return Bt}return tr}var m=e.charCodeAt(r+o);if(o++,this.isDigit(m)?a[rt]+=.5:this.isExtendedASCII(m)?(a[rt]=Math.ceil(a[rt]),a[rt]+=2):(a[rt]=Math.ceil(a[rt]),a[rt]++),this.isNativeC40(m)?a[tr]+=2/3:this.isExtendedASCII(m)?a[tr]+=8/3:a[tr]+=4/3,this.isNativeText(m)?a[dr]+=2/3:this.isExtendedASCII(m)?a[dr]+=8/3:a[dr]+=4/3,this.isNativeX12(m)?a[Bt]+=2/3:this.isExtendedASCII(m)?a[Bt]+=13/3:a[Bt]+=10/3,this.isNativeEDIFACT(m)?a[qt]+=3/4:this.isExtendedASCII(m)?a[qt]+=17/4:a[qt]+=13/4,this.isSpecialB256(m)?a[or]+=4:a[or]++,o>=4){if(kt.fill(l,0),kt.fill(u,0),this.findMinimums(a,u,Fe.MAX_VALUE,l),u[rt]<this.min(u[or],u[tr],u[dr],u[Bt],u[qt]))return rt;if(u[or]<u[rt]||u[or]+1<this.min(u[tr],u[dr],u[Bt],u[qt]))return or;if(u[qt]+1<this.min(u[or],u[tr],u[dr],u[Bt],u[rt]))return qt;if(u[dr]+1<this.min(u[or],u[tr],u[qt],u[Bt],u[rt]))return dr;if(u[Bt]+1<this.min(u[or],u[tr],u[qt],u[dr],u[rt]))return Bt;if(u[tr]+1<this.min(u[rt],u[or],u[qt],u[dr])){if(u[tr]<u[Bt])return tr;if(u[tr]===u[Bt]){for(var x=r+o+1;x<e.length;){var y=e.charCodeAt(x);if(this.isX12TermSep(y))return Bt;if(!this.isNativeX12(y))break;x++}return tr}}}}},t.min=function(e,r,n,a,o){var l=Math.min(e,Math.min(r,Math.min(n,a)));return o===void 0?l:Math.min(l,o)},t.findMinimums=function(e,r,n,a){for(var o=0;o<6;o++){var l=r[o]=Math.ceil(e[o]);n>l&&(n=l,kt.fill(a,0)),n===l&&(a[o]=a[o]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,a=r;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-r},t.illegalCharacter=function(e){var r=Fe.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),nd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zm=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return $r.encode(e,this.charset)!=null}catch{return!1}},t}(),O6=function(){function t(e,r,n){var a,o,l,u,d,p;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(J){return new zm(a6.forName(J))}),this.encoders=[];var m=[];m.push(new zm(i6.ISO_8859_1));for(var x=r!=null&&r.name.startsWith("UTF"),y=0;y<e.length;y++){var b=!1;try{for(var _=(a=void 0,nd(m)),w=_.next();!w.done;w=_.next()){var S=w.value,T=e.charAt(y),E=T.charCodeAt(0);if(E===n||S.canEncode(T)){b=!0;break}}}catch(J){a={error:J}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}if(!b)try{for(var N=(l=void 0,nd(this.ENCODERS)),D=N.next();!D.done;D=N.next()){var S=D.value;if(S.canEncode(e.charAt(y))){m.push(S),b=!0;break}}}catch(J){l={error:J}}finally{try{D&&!D.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}b||(x=!0)}if(m.length===1&&!x)this.encoders=[m[0]];else{this.encoders=[];var I=0;try{for(var U=nd(m),Y=U.next();!Y.done;Y=U.next()){var S=Y.value;this.encoders[I++]=S}}catch(J){d={error:J}}finally{try{Y&&!Y.done&&(p=U.return)&&p.call(U)}finally{if(d)throw d.error}}}var q=-1;if(r!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&r.name===this.encoders[y].name){q=y;break}}this.priorityEncoderIndex=q}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return $r.encode(Ge.getCharAt(e),this.encoders[r].name)},t}(),T6=3,D6=function(){function t(e,r,n){this.fnc1=n;var a=new O6(e,r,n);if(a.length()===1)for(var o=0;o<this.bytes.length;o++){var l=e.charAt(o).charCodeAt(0);this.bytes[o]=l===n?1e3:l}else this.bytes=this.encodeMinimally(e,a,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Le,a=e;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,a,o,l){var u=e.charAt(a).charCodeAt(0),d=0,p=r.length();r.getPriorityEncoderIndex()>=0&&(u===l||r.canEncode(u,r.getPriorityEncoderIndex()))&&(d=r.getPriorityEncoderIndex(),p=d+1);for(var m=d;m<p;m++)(u===l||r.canEncode(u,m))&&this.addEdge(n,a+1,new Vm(u,r,m,o,l))},t.prototype.encodeMinimally=function(e,r,n){var a=e.length,o=new Vm[a+1][r.length()];this.addEdges(e,r,o,0,null,n);for(var l=1;l<=a;l++){for(var u=0;u<r.length();u++)o[l][u]!=null&&l<a&&this.addEdges(e,r,o,l,o[l][u],n);for(var u=0;u<r.length();u++)o[l-1][u]=null}for(var d=-1,p=Fe.MAX_VALUE,u=0;u<r.length();u++)if(o[a][u]!=null){var m=o[a][u];m.cachedTotalSize<p&&(p=m.cachedTotalSize,d=u)}if(d<0)throw new Error('Failed to encode "'+e+'"');for(var x=[],y=o[a][d];y!=null;){if(y.isFNC1())x.unshift(1e3);else for(var b=r.encode(y.c,y.encoderIndex),l=b.length-1;l>=0;l--)x.unshift(b[l]&255);var _=y.previous===null?0:y.previous.encoderIndex;_!==y.encoderIndex&&x.unshift(256+r.getECIValue(y.encoderIndex)),y=y.previous}for(var w=[],l=0;l<w.length;l++)w[l]=x[l];return w},t}(),Vm=function(){function t(e,r,n,a,o){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=o,this.c=e===o?1e3:e;var l=this.isFNC1()?1:r.encode(e,n).length,u=a===null?0:a.encoderIndex;u!==n&&(l+=T6),a!=null&&(l+=a.cachedTotalSize),this.cachedTotalSize=l}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),R6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Hm;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(Hm||(Hm={}));(function(t){R6(e,t);function e(r,n,a,o,l){var u=t.call(this,r,n,a)||this;return u.shape=o,u.macroId=l,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(D6);var j6=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),Gm=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),I6=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),M6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l0=function(t){M6(e,t);function e(r,n,a){var o=t.call(this,r)||this;return o.value=n,o.bitCount=a,o}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Fe.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(I6),B6=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),P6=function(t){B6(e,t);function e(r,n,a){var o=t.call(this,r,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=a,o}return e.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(l0);function L6(t,e,r){return new P6(t,e,r)}function rs(t,e,r){return new l0(t,e,r)}var k6=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ma=0,ic=1,Yr=2,hg=3,gn=4,F6=new l0(null,0,0),ad=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],U6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function z6(t){var e,r;try{for(var n=U6(t),a=n.next();!a.done;a=n.next()){var o=a.value;kt.fill(o,-1)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[ma][gn]=0,t[ic][gn]=0,t[ic][ma]=28,t[hg][gn]=0,t[Yr][gn]=0,t[Yr][ma]=15,t}var pg=z6(kt.createInt32Array(6,6)),V6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H6=function(){function t(e,r,n,a){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,a=this.token;if(e!==this.mode){var o=ad[this.mode][e];a=rs(a,o&65535,o>>16),n+=o>>16}var l=e===Yr?4:5;return a=rs(a,r,l),new t(a,e,0,n+l)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,a=this.mode===Yr?4:5;return n=rs(n,pg[this.mode][e],a),n=rs(n,r,5),new t(n,this.mode,0,this.bitCount+a+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===gn||this.mode===Yr){var o=ad[n][ma];r=rs(r,o&65535,o>>16),a+=o>>16,n=ma}var l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new t(r,n,this.binaryShiftByteCount+1,a+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=L6(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(ad[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,a=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())a.unshift(o);var l=new Kt;try{for(var u=V6(a),d=u.next();!d.done;d=u.next()){var p=d.value;p.appendTo(l,e)}}catch(m){r={error:m}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return l},t.prototype.toString=function(){return Ge.format("%s bits=%d bytes=%d",k6[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(F6,ma,0,0),t}();function G6(t){var e=Ge.getCharCode(" "),r=Ge.getCharCode("."),n=Ge.getCharCode(",");t[ma][e]=1;for(var a=Ge.getCharCode("Z"),o=Ge.getCharCode("A"),l=o;l<=a;l++)t[ma][l]=l-o+2;t[ic][e]=1;for(var u=Ge.getCharCode("z"),d=Ge.getCharCode("a"),l=d;l<=u;l++)t[ic][l]=l-d+2;t[Yr][e]=1;for(var p=Ge.getCharCode("9"),m=Ge.getCharCode("0"),l=m;l<=p;l++)t[Yr][l]=l-m+2;t[Yr][n]=12,t[Yr][r]=13;for(var x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<x.length;y++)t[hg][Ge.getCharCode(x[y])]=y;for(var b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<b.length;y++)Ge.getCharCode(b[y])>0&&(t[gn][Ge.getCharCode(b[y])]=y);return t}var id=G6(kt.createInt32Array(5,256)),Vl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z6=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Ge.getCharCode(" "),r=Ge.getCharCode(`
`),n=Gm.singletonList(H6.INITIAL_STATE),a=0;a<this.text.length;a++){var o=void 0,l=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case Ge.getCharCode("\r"):o=l===r?2:0;break;case Ge.getCharCode("."):o=l===e?3:0;break;case Ge.getCharCode(","):o=l===e?4:0;break;case Ge.getCharCode(":"):o=l===e?5:0;break;default:o=0}o>0?(n=t.updateStateListForPair(n,a,o),a++):n=this.updateStateListForChar(n,a)}var u=Gm.min(n,function(d,p){return d.getBitCount()-p.getBitCount()});return u.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,a,o=[];try{for(var l=Vl(e),u=l.next();!u.done;u=l.next()){var d=u.value;this.updateStateForChar(d,r,o)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,r,n){for(var a=this.text[r]&255,o=id[e.getMode()][a]>0,l=null,u=0;u<=gn;u++){var d=id[u][a];if(d>0){if(l==null&&(l=e.endBinaryShift(r)),!o||u===e.getMode()||u===Yr){var p=l.latchAndAppend(u,d);n.push(p)}if(!o&&pg[e.getMode()][u]>=0){var m=l.shiftAndAppend(u,d);n.push(m)}}}if(e.getBinaryShiftByteCount()>0||id[e.getMode()][a]===0){var x=e.addBinaryShiftChar(r);n.push(x)}},t.updateStateListForPair=function(e,r,n){var a,o,l=[];try{for(var u=Vl(e),d=u.next();!d.done;d=u.next()){var p=d.value;this.updateStateForPair(p,r,n,l)}}catch(m){a={error:m}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return this.simplifyStates(l)},t.updateStateForPair=function(e,r,n,a){var o=e.endBinaryShift(r);if(a.push(o.latchAndAppend(gn,n)),e.getMode()!==gn&&a.push(o.shiftAndAppend(gn,n)),n===3||n===4){var l=o.latchAndAppend(Yr,16-n).latchAndAppend(Yr,1);a.push(l)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(u)}},t.simplifyStates=function(e){var r,n,a,o,l=[];try{for(var u=Vl(e),d=u.next();!d.done;d=u.next()){var p=d.value,m=!0,x=function(S){if(S.isBetterThanOrEqualTo(p))return m=!1,"break";p.isBetterThanOrEqualTo(S)&&(l=l.filter(function(T){return T!==S}))};try{for(var y=(a=void 0,Vl(l)),b=y.next();!b.done;b=y.next()){var _=b.value,w=x(_);if(w==="break")break}}catch(S){a={error:S}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}m&&l.push(p)}}catch(S){r={error:S}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return l},t}(),X6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var a=new Z6(e).encode(),o=Fe.truncDivision(a.getSize()*r,100)+11,l=a.getSize()+o,u,d,p,m,x;if(n!==t.DEFAULT_AZTEC_LAYERS){if(u=n<0,d=Math.abs(n),d>(u?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Oe(Ge.format("Illegal value %s for layers",n));p=t.totalBitsInLayer(d,u),m=t.WORD_SIZE[d];var y=p-p%m;if(x=t.stuffBits(a,m),x.getSize()+o>y)throw new Oe("Data to large for user specified layer");if(u&&x.getSize()>m*64)throw new Oe("Data to large for user specified layer")}else{m=0,x=null;for(var b=0;;b++){if(b>t.MAX_NB_BITS)throw new Oe("Data too large for an Aztec code");if(u=b<=3,d=u?b+1:b,p=t.totalBitsInLayer(d,u),!(l>p)){(x==null||m!==t.WORD_SIZE[d])&&(m=t.WORD_SIZE[d],x=t.stuffBits(a,m));var y=p-p%m;if(!(u&&x.getSize()>m*64)&&x.getSize()+o<=y)break}}}var _=t.generateCheckWords(x,p,m),w=x.getSize()/m,S=t.generateModeMessage(u,d,w),T=(u?11:14)+d*4,E=new Int32Array(T),N;if(u){N=T;for(var b=0;b<E.length;b++)E[b]=b}else{N=T+1+2*Fe.truncDivision(Fe.truncDivision(T,2)-1,15);for(var D=Fe.truncDivision(T,2),I=Fe.truncDivision(N,2),b=0;b<D;b++){var U=b+Fe.truncDivision(b,15);E[D-b-1]=I-U-1,E[D+b]=I+U+1}}for(var Y=new yn(N),b=0,q=0;b<d;b++){for(var J=(d-b)*4+(u?9:12),se=0;se<J;se++)for(var xe=se*2,le=0;le<2;le++)_.get(q+xe+le)&&Y.set(E[b*2+le],E[b*2+se]),_.get(q+J*2+xe+le)&&Y.set(E[b*2+se],E[T-1-b*2-le]),_.get(q+J*4+xe+le)&&Y.set(E[T-1-b*2-le],E[T-1-b*2-se]),_.get(q+J*6+xe+le)&&Y.set(E[T-1-b*2-se],E[b*2+le]);q+=J*8}if(t.drawModeMessage(Y,u,N,S),u)t.drawBullsEye(Y,Fe.truncDivision(N,2),5);else{t.drawBullsEye(Y,Fe.truncDivision(N,2),7);for(var b=0,se=0;b<Fe.truncDivision(T,2)-1;b+=15,se+=16)for(var le=Fe.truncDivision(N,2)&1;le<N;le+=2)Y.set(Fe.truncDivision(N,2)-se,le),Y.set(Fe.truncDivision(N,2)+se,le),Y.set(le,Fe.truncDivision(N,2)-se),Y.set(le,Fe.truncDivision(N,2)+se)}var ve=new j6;return ve.setCompact(u),ve.setSize(N),ve.setLayers(d),ve.setCodeWords(w),ve.setMatrix(Y),ve},t.drawBullsEye=function(e,r,n){for(var a=0;a<n;a+=2)for(var o=r-a;o<=r+a;o++)e.set(o,r-a),e.set(o,r+a),e.set(r-a,o),e.set(r+a,o);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var a=new Kt;return e?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=t.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=t.generateCheckWords(a,40,4)),a},t.drawModeMessage=function(e,r,n,a){var o=Fe.truncDivision(n,2);if(r)for(var l=0;l<7;l++){var u=o-3+l;a.get(l)&&e.set(u,o-5),a.get(l+7)&&e.set(o+5,u),a.get(20-l)&&e.set(u,o+5),a.get(27-l)&&e.set(o-5,u)}else for(var l=0;l<10;l++){var u=o-5+l+Fe.truncDivision(l,5);a.get(l)&&e.set(u,o-7),a.get(l+10)&&e.set(o+7,u),a.get(29-l)&&e.set(u,o+7),a.get(39-l)&&e.set(o-7,u)}},t.generateCheckWords=function(e,r,n){var a,o,l=e.getSize()/n,u=new fg(t.getGF(n)),d=Fe.truncDivision(r,n),p=t.bitsToWords(e,n,d);u.encode(p,d-l);var m=r%n,x=new Kt;x.appendBits(0,m);try{for(var y=X6(Array.from(p)),b=y.next();!b.done;b=y.next()){var _=b.value;x.appendBits(_,n)}}catch(w){a={error:w}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}return x},t.bitsToWords=function(e,r,n){var a=new Int32Array(n),o,l;for(o=0,l=e.getSize()/r;o<l;o++){for(var u=0,d=0;d<r;d++)u|=e.get(o*r+d)?1<<r-d-1:0;a[o]=u}return a},t.getGF=function(e){switch(e){case 4:return wr.AZTEC_PARAM;case 6:return wr.AZTEC_DATA_6;case 8:return wr.AZTEC_DATA_8;case 10:return wr.AZTEC_DATA_10;case 12:return wr.AZTEC_DATA_12;default:throw new Oe("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Kt,a=e.getSize(),o=(1<<r)-2,l=0;l<a;l+=r){for(var u=0,d=0;d<r;d++)(l+d>=a||e.get(l+d))&&(u|=1<<r-1-d);(u&o)===o?(n.appendBits(u&o,r),l--):(u&o)===0?(n.appendBits(u|1,r),l--):n.appendBits(u,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const q6=({onResult:t,onClose:e,isOpen:r})=>{const[n,a]=W.useState(!1),[o,l]=W.useState(""),[u,d]=W.useState(null),p=W.useRef(null),m=W.useRef(null),x=W.useRef(null),y=W.useCallback(()=>{m.current&&m.current.reset(),x.current&&(x.current.getTracks().forEach(w=>w.stop()),x.current=null),a(!1),l("")},[]),b=W.useCallback(async()=>{if(p.current){a(!0),l("");try{m.current=new $a;const w=await m.current.listVideoInputDevices();if(w.length===0)throw new Error("No se encontraron cámaras disponibles");const S=w.find(E=>E.label.toLowerCase().includes("back")||E.label.toLowerCase().includes("rear"))?.deviceId||w[0].deviceId,T=await navigator.mediaDevices.getUserMedia({video:{deviceId:S,width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"environment"}}});x.current=T,p.current.srcObject=T,d(!0),m.current.decodeFromVideoDevice(S,p.current,(E,N)=>{if(E){const D=E.getText();_(D)?(t(D.toUpperCase()),y(),e()):(l("El código escaneado no es un VIN válido"),setTimeout(()=>l(""),3e3))}N&&!(N instanceof K)&&console.error("Error de escaneo:",N)}),a(!1)}catch(w){console.error("Error al iniciar el escáner:",w),a(!1);const S=w;S.name==="NotAllowedError"?(l("Permiso de cámara denegado. Por favor permite el acceso a la cámara."),d(!1)):S.name==="NotFoundError"?l("No se encontró una cámara disponible."):S.name==="NotReadableError"?l("La cámara está siendo usada por otra aplicación."):l(S.message||"Error al acceder a la cámara")}}},[t,e,y]),_=w=>/^[A-HJ-NPR-Z0-9]{17}$/i.test(w);return W.useEffect(()=>(r?b():y(),()=>{y()}),[r,b,y]),r?h.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex flex-col",children:[h.jsxs("div",{className:"bg-white p-4 shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Escanear Código VIN"}),h.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"✕"})]}),o&&h.jsx("div",{className:"mt-3 p-3 bg-red-100 border border-red-300 rounded-lg",children:h.jsx("p",{className:"text-red-700 text-sm",children:o})}),u===!1&&h.jsx("div",{className:"mt-3 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:h.jsx("p",{className:"text-yellow-700 text-sm",children:"Para usar el escáner, necesitas permitir el acceso a la cámara en tu navegador."})})]}),h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("video",{ref:p,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),n&&h.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:h.jsxs("div",{className:"bg-white p-4 rounded-lg flex items-center space-x-3",children:[h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),h.jsx("span",{className:"text-gray-700",children:"Iniciando cámara..."})]})}),h.jsx("div",{className:"absolute inset-0 pointer-events-none",children:h.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:h.jsxs("div",{className:"w-80 h-20 border-2 border-red-500 rounded-lg relative",children:[h.jsx("div",{className:"absolute -top-8 left-0 text-white text-sm bg-black bg-opacity-50 px-2 py-1 rounded",children:"Apunte la cámara al código de barras del VIN"}),h.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-red-500"}),h.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-red-500"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-red-500"}),h.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-red-500"})]})})})]}),h.jsxs("div",{className:"bg-white p-4",children:[h.jsx("div",{className:"flex justify-center space-x-4",children:h.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"})}),h.jsx("div",{className:"mt-3 text-center",children:h.jsx("p",{className:"text-sm text-gray-600",children:"Mantén el código de barras dentro del recuadro rojo para escanearlo"})})]})]}):null},Y6=Yt().regex(/^\+52[0-9]{10}$/,"Formato: +52 seguido de 10 dígitos"),$6=$i({nombre:Yt().min(1,"Nombre requerido"),telefono:Y6,rfc:Yt().optional()}),Md=({customer:t,onSuccess:e,onCancel:r})=>{const[n,a]=W.useState(!1),[o,l]=W.useState(null),u=!!t,{register:d,handleSubmit:p,watch:m,setValue:x,formState:{errors:y}}=kn({resolver:Yi($6),defaultValues:t?{nombre:t.nombre,telefono:t.telefono,rfc:t.rfc||""}:{telefono:"+52"}}),b=async _=>{a(!0),l(null);try{const w=Object.fromEntries(Object.entries(_).filter(([T,E])=>E!==""&&E!==void 0));let S;u?S=await pa.update(t.customer_id,w):S=await pa.create(w),e?.(S.customer)}catch(w){l(w.response?.data?.message||"Error al guardar el cliente")}finally{a(!1)}};return h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:u?"Editar Cliente":"Registrar Nuevo Cliente"}),r&&h.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),o&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-red-600 text-sm",children:o})}),h.jsxs("form",{onSubmit:p(b),className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),h.jsx("input",{...d("nombre"),type:"text",className:"input-field",placeholder:"Juan Pérez García"}),y.nombre&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.nombre.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono / WhatsApp *"}),h.jsx("input",{...d("telefono"),type:"tel",className:"input-field",placeholder:"+5215512345678"}),y.telefono&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.telefono.message}),h.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formato: +52 seguido de 10 dígitos"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RFC (Opcional)"}),h.jsx("input",{...d("rfc"),type:"text",className:"input-field uppercase",placeholder:"PEGJ801215ABC (opcional)",maxLength:13}),h.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Solo para facturación empresarial"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r&&h.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:n,className:"btn-primary disabled:opacity-50",children:n?u?"Actualizando...":"Registrando...":u?"Actualizar Cliente":"Registrar Cliente"})]})]})]})},K6=$i({vin:Yt().transform(t=>t===""?void 0:t).optional(),marca:Yt().min(1,"Marca requerida"),modelo:Yt().min(1,"Modelo requerido"),año:Hi().int().min(1900).max(new Date().getFullYear()+1,"Año inválido"),placa_actual:Yt().min(1,"Placa requerida"),customer_id:Hi().optional(),kilometraje_actual:Hi().min(0,"Kilometraje no puede ser negativo"),color:Yt().optional(),numero_motor:Yt().optional(),tipo_combustible:Gi(["gasolina","diesel","hibrido","electrico"]),transmision:Gi(["manual","automatica"]),notas:Yt().optional()}),W6=["Nissan","Volkswagen","Chevrolet","Ford","Honda","Toyota","Hyundai","Kia","Mazda","Mitsubishi","Suzuki","Jeep"],Zm=({vehicle:t,onSuccess:e,onCancel:r})=>{const[n,a]=W.useState(!1),[o,l]=W.useState(null),[u,d]=W.useState([]),[p,m]=W.useState(""),[x,y]=W.useState(!1),[b,_]=W.useState(!1),w=!!t,{register:S,handleSubmit:T,setValue:E,watch:N,formState:{errors:D}}=kn({resolver:Yi(K6),defaultValues:t?{vin:t.vin,marca:t.marca,modelo:t.modelo,año:t.año,placa_actual:t.placa_actual||"",customer_id:t.customer_id||void 0,kilometraje_actual:t.kilometraje_actual,color:t.color||"",numero_motor:t.numero_motor||"",tipo_combustible:t.tipo_combustible,transmision:t.transmision,notas:t.notas||""}:{kilometraje_actual:0,tipo_combustible:"gasolina",transmision:"manual"}}),I=N("customer_id");W.useEffect(()=>{const se=setTimeout(async()=>{if(p.length>=2)try{const xe=await pa.searchByName(p);d(xe.customers||[])}catch(xe){console.error("Error buscando clientes:",xe)}else d([])},300);return()=>clearTimeout(se)},[p]);const U=async J=>{a(!0),l(null);try{const se=Object.fromEntries(Object.entries(J).filter(([le,ve])=>ve!==""&&ve!==void 0));let xe;w?xe=await Mr.update(t.vin,se):xe=await Mr.create(se),e?.(xe.vehicle)}catch(se){l(se.response?.data?.message||"Error al guardar el vehículo")}finally{a(!1)}},Y=J=>{E("vin",J),y(!1)},q=J=>{E("customer_id",J.customer_id),m(J.nombre),_(!1),d([])};return h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w?"Editar Vehículo":"Registrar Nuevo Vehículo"}),r&&h.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),o&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-red-600 text-sm",children:o})}),h.jsxs("form",{onSubmit:T(U),className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VIN"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{...S("vin"),type:"text",className:"input-field uppercase flex-1",placeholder:"Número de identificación del vehículo (opcional)",disabled:w}),!w&&h.jsxs("button",{type:"button",onClick:()=>y(!0),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-1 whitespace-nowrap",title:"Escanear código de barras VIN",children:[h.jsx("span",{children:"📷"}),h.jsx("span",{className:"hidden sm:inline",children:"Escanear VIN"})]})]}),D.vin&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.vin.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placas *"}),h.jsx("input",{...S("placa_actual"),type:"text",className:"input-field uppercase",placeholder:"Placas del vehículo"}),D.placa_actual&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.placa_actual.message})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),h.jsxs("select",{...S("marca"),className:"input-field",children:[h.jsx("option",{value:"",children:"Seleccionar marca"}),W6.map(J=>h.jsx("option",{value:J,children:J},J)),h.jsx("option",{value:"Otra",children:"Otra"})]}),D.marca&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.marca.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),h.jsx("input",{...S("modelo"),type:"text",className:"input-field",placeholder:"Tsuru, Jetta, Aveo..."}),D.modelo&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.modelo.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Año *"}),h.jsx("input",{...S("año",{valueAsNumber:!0}),type:"number",className:"input-field",min:"1900",max:new Date().getFullYear()+1}),D.año&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.año.message})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilometraje actual"}),h.jsx("input",{...S("kilometraje_actual",{valueAsNumber:!0}),type:"number",className:"input-field",min:"0",placeholder:"150000"}),D.kilometraje_actual&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.kilometraje_actual.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de combustible"}),h.jsxs("select",{...S("tipo_combustible"),className:"input-field",children:[h.jsx("option",{value:"gasolina",children:"Gasolina"}),h.jsx("option",{value:"diesel",children:"Diesel"}),h.jsx("option",{value:"hibrido",children:"Híbrido"}),h.jsx("option",{value:"electrico",children:"Eléctrico"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transmisión"}),h.jsxs("select",{...S("transmision"),className:"input-field",children:[h.jsx("option",{value:"manual",children:"Manual"}),h.jsx("option",{value:"automatica",children:"Automática"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),h.jsx("input",{...S("color"),type:"text",className:"input-field",placeholder:"Blanco, Azul, Rojo..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número de motor"}),h.jsx("input",{...S("numero_motor"),type:"text",className:"input-field",placeholder:"A15123456"})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Propietario"}),h.jsx("button",{type:"button",onClick:()=>_(!0),className:"text-sm bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 transition-colors",children:"+ Nuevo Cliente"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("input",{type:"text",value:p,onChange:J=>m(J.target.value),className:"input-field",placeholder:"Buscar cliente por nombre..."}),u.length>0&&h.jsx("div",{className:"border border-gray-300 rounded-lg max-h-48 overflow-y-auto",children:u.map(J=>h.jsxs("button",{type:"button",onClick:()=>{E("customer_id",J.customer_id),m(J.nombre),d([])},className:`w-full text-left p-3 hover:bg-gray-50 border-b border-gray-200 last:border-b-0 ${I===J.customer_id?"bg-blue-50":""}`,children:[h.jsx("div",{className:"font-medium",children:J.nombre}),h.jsx("div",{className:"text-sm text-gray-600",children:J.telefono})]},J.customer_id))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),h.jsx("textarea",{...S("notas"),rows:3,className:"input-field",placeholder:"Información adicional sobre el vehículo..."})]}),h.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r&&h.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:n,className:"btn-primary disabled:opacity-50",children:n?w?"Actualizando...":"Registrando...":w?"Actualizar Vehículo":"Registrar Vehículo"})]})]}),h.jsx(q6,{isOpen:x,onResult:Y,onClose:()=>y(!1)}),b&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:h.jsx(Md,{onSuccess:q,onCancel:()=>_(!1)})})})]})},Q6=$i({vin:Yt().min(1,"Seleccione un vehículo"),customer_id:Hi().positive("Seleccione un cliente"),tipo_oportunidad:Yt().min(1,"Tipo de oportunidad requerido"),descripcion:Yt().min(1,"Nota requerida"),precio_estimado:Hi().positive("Precio debe ser positivo").optional(),fecha_sugerida:Yt().optional(),prioridad:Gi(["alta","media","baja"]),kilometraje_referencia:Hi().min(0,"Kilometraje no puede ser negativo").optional()}),J6=["afinacion_mayor","cambio_aceite","servicio_frenos","suspension","direccion","alineacion"],Bd=({opportunity:t,preselectedVin:e,onSuccess:r,onCancel:n})=>{const{user:a}=bn(),[o,l]=W.useState(!1),[u,d]=W.useState(null),[p,m]=W.useState(null),[x,y]=W.useState(""),[b,_]=W.useState([]),[w,S]=W.useState([]),[T,E]=W.useState([]),[N,D]=W.useState(!1),I=!!t,{register:U,handleSubmit:Y,setValue:q,watch:J,formState:{errors:se}}=kn({resolver:Yi(Q6),defaultValues:t?{vin:t.vin,customer_id:t.customer_id,tipo_oportunidad:t.tipo_oportunidad,descripcion:t.descripcion,precio_estimado:t.precio_estimado||void 0,fecha_sugerida:t.fecha_sugerida?t.fecha_sugerida.split("T")[0]:"",prioridad:t.prioridad,kilometraje_referencia:t.kilometraje_referencia||void 0}:{vin:e||"",prioridad:"media"}}),xe=J("vin");W.useEffect(()=>{(async()=>{if(e)try{const de=await Mr.getByVin(e);m(de.vehicle),de.vehicle.customer_id&&q("customer_id",de.vehicle.customer_id)}catch(de){console.error("Error cargando vehículo preseleccionado:",de)}})()},[e,q]),W.useEffect(()=>{const de=setTimeout(async()=>{if(x.length>=2&&!N)try{console.log("Buscando vehículos con:",x);const P=await Mr.search({placa:x,customer_name:x});console.log("Resultado de búsqueda:",P),_(P.vehicles||[])}catch(P){console.error("Error buscando vehículos:",P),_([])}else _([])},300);return()=>clearTimeout(de)},[x,N]),W.useEffect(()=>{xe!==e&&(async()=>{if(xe&&xe.length===17)try{const de=await Mr.getByVin(xe);m(de.vehicle),de.vehicle.customer_id&&(q("customer_id",de.vehicle.customer_id),q("kilometraje_referencia",de.vehicle.kilometraje_actual))}catch(de){console.error("Error cargando información del vehículo:",de)}})()},[xe,q,e]),W.useEffect(()=>{(async()=>{try{const de=await pa.search({limit:100});S(de.customers||[])}catch(de){console.error("Error cargando clientes:",de)}})()},[]),W.useEffect(()=>{(async()=>{try{a&&E([a])}catch(de){console.error("Error cargando usuarios:",de)}})()},[a]);const le=async ue=>{l(!0),d(null);try{const de=Object.fromEntries(Object.entries(ue).filter(([oe,F])=>F!==""&&F!==void 0&&F!==null));let P;I?P=await Br.update(t.opportunity_id,de):P=await Br.create(de),r?.(P.opportunity)}catch(de){d(de.response?.data?.message||"Error al guardar la oportunidad")}finally{l(!1)}},ve=ue=>`https://wa.me/52${ue.replace(/^\+52/,"")}`;return h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:I?"Editar Oportunidad":"Crear Nueva Oportunidad"}),n&&h.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),u&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-red-600 text-sm",children:u})}),h.jsxs("form",{onSubmit:Y(le),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vehículo"}),!e&&h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buscar vehículo (placas o cliente)"}),h.jsx("input",{type:"text",value:x,onChange:ue=>{y(ue.target.value),N&&D(!1)},className:"input-field",placeholder:"ABC-123-A o Juan Pérez"}),x.length>=2&&!N&&h.jsx("div",{className:"border border-gray-300 rounded-lg max-h-48 overflow-y-auto",children:b.length>0?b.map(ue=>h.jsxs("button",{type:"button",onClick:()=>{console.log("Seleccionando vehículo:",ue),q("vin",ue.vin),y(`${ue.marca} ${ue.modelo} - ${ue.placa_actual}`),_([]),D(!0)},className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-200 last:border-b-0",children:[h.jsxs("div",{className:"font-medium",children:[ue.marca," ",ue.modelo," ",ue.año]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[ue.placa_actual," • VIN: ",ue.vin," • ",ue.customer?.nombre]})]},ue.vin)):h.jsxs("div",{className:"p-3 text-center text-gray-500 text-sm",children:['No se encontraron vehículos con "',x,'"']})})]}),p&&h.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[h.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:[p.marca," ",p.modelo," ",p.año]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[h.jsxs("div",{children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Placas:"})," ",p.placa_actual||"No asignadas"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"VIN:"})," ",p.vin]})]}),h.jsxs("div",{children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",p.kilometraje_actual?.toLocaleString()," km"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Propietario:"})," ",p.customer?.nombre||"No asignado"]})]})]}),p.customer?.whatsapp&&h.jsx("div",{className:"mt-2",children:h.jsx("a",{href:ve(p.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium text-sm",children:"💬 Contactar por WhatsApp"})})]}),h.jsx("input",{type:"hidden",...U("vin")}),se.vin&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.vin.message})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información de la Oportunidad"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de oportunidad *"}),h.jsxs("select",{...U("tipo_oportunidad"),className:"input-field",children:[h.jsx("option",{value:"",children:"Seleccionar tipo"}),J6.map(ue=>h.jsx("option",{value:ue,children:ue.replace(/_/g," ").replace(/\b\w/g,de=>de.toUpperCase())},ue))]}),se.tipo_oportunidad&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.tipo_oportunidad.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),h.jsxs("select",{...U("prioridad"),className:"input-field",children:[h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"})]})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nota *"}),h.jsx("textarea",{...U("descripcion"),rows:3,className:"input-field",placeholder:"Descripción detallada del servicio necesario..."}),se.descripcion&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.descripcion.message})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalles del Servicio"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio estimado (MXN)"}),h.jsx("input",{...U("precio_estimado",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"450.00",step:"0.01",min:"0"}),se.precio_estimado&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.precio_estimado.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha sugerida para el servicio"}),h.jsx("input",{...U("fecha_sugerida"),type:"date",className:"input-field",min:new Date().toISOString().split("T")[0]})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilometraje sugerido"}),h.jsx("input",{...U("kilometraje_referencia",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:p?.kilometraje_actual?.toString()||"0",min:"0"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cliente"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),h.jsxs("select",{...U("customer_id",{valueAsNumber:!0}),className:"input-field",children:[h.jsx("option",{value:"",children:"Seleccionar cliente"}),w.map(ue=>h.jsxs("option",{value:ue.customer_id,children:[ue.nombre," - ",ue.telefono]},ue.customer_id))]}),se.customer_id&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.customer_id.message})]})]}),h.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[n&&h.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:o,className:"btn-primary disabled:opacity-50",children:o?I?"Actualizando...":"Creando...":I?"Actualizar Oportunidad":"Crear Oportunidad"})]})]})]})},eC=({initialMode:t="search",onModeUsed:e})=>{console.log("🚗 VEHICLES COMPONENT LOADED with initialMode:",t);const[r,n]=W.useState(t),[a,o]=W.useState(null);W.useEffect(()=>{t==="create"&&e&&(console.log("🧹 Cleaning up initialMode in parent"),e())},[t,e]);const l=!0,u=w=>{o(w),n("detail")},d=()=>{console.log("🚗 handleCreateNew called"),console.log("Current viewMode:",r),o(null),n("create"),console.log("ViewMode set to: create")},p=()=>{a&&n("edit")},m=w=>{o(w),n("detail")},x=()=>{n("detail")},y=()=>{n("search"),o(null)},b=w=>`https://wa.me/52${w.replace(/^\+52/,"")}`,_=()=>{switch(console.log("📱 Rendering Vehicles with viewMode:",r),r){case"create":return h.jsx(Zm,{onSuccess:m,onCancel:y});case"edit":return h.jsx(Zm,{vehicle:a,onSuccess:m,onCancel:y});case"create-opportunity":return h.jsxs("div",{className:"space-y-4",children:[h.jsx("button",{onClick:()=>n("detail"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar al vehículo"}),h.jsx(Bd,{preselectedVin:a?.vin,onSuccess:x,onCancel:()=>n("detail")})]});case"detail":return h.jsxs("div",{className:"space-y-6",children:[h.jsx("button",{onClick:()=>n("search"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a búsqueda"}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-6",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[a?.marca," ",a?.modelo," ",a?.año]}),h.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[h.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:a?.placa_actual||"Sin placas"}),h.jsxs("span",{className:"text-gray-600 text-sm",children:["VIN: ",a?.vin]})]})]}),h.jsx("button",{onClick:p,className:"btn-secondary",children:"Editar Vehículo"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información Básica"}),h.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Marca:"})," ",a?.marca]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Modelo:"})," ",a?.modelo]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Año:"})," ",a?.año]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Color:"})," ",a?.color||"No especificado"]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información Técnica"}),h.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",a?.kilometraje_actual?.toLocaleString()," km"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Combustible:"})," ",a?.tipo_combustible]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Transmisión:"})," ",a?.transmision]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Motor:"})," ",a?.numero_motor||"No especificado"]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Propietario"}),a?.customer?h.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[h.jsx("p",{className:"font-medium text-gray-900",children:a.customer.nombre}),h.jsxs("p",{children:["📞 ",a.customer.telefono]}),a.customer.whatsapp&&h.jsx("a",{href:b(a.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",children:"💬 Enviar WhatsApp"}),a.customer.email&&h.jsxs("p",{children:["✉️ ",a.customer.email]})]}):h.jsx("p",{className:"text-sm text-gray-500",children:"No asignado"})]})]}),a?.notas&&h.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Notas"}),h.jsx("p",{className:"text-sm text-gray-600",children:a.notas})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("button",{onClick:()=>{o(a),n("create-opportunity")},className:"card p-4 text-center hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"text-2xl mb-2",children:"🔧"}),h.jsx("div",{className:"font-medium",children:"Crear Oportunidad"}),h.jsx("div",{className:"text-sm text-gray-600",children:"Programar servicio"})]}),h.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"text-2xl mb-2",children:"📋"}),h.jsx("div",{className:"font-medium",children:"Ver Historial"}),h.jsx("div",{className:"text-sm text-gray-600",children:"Servicios realizados"})]}),a?.customer?.whatsapp&&h.jsxs("a",{href:b(a.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"card p-4 text-center hover:shadow-md transition-shadow block",children:[h.jsx("div",{className:"text-2xl mb-2",children:"💬"}),h.jsx("div",{className:"font-medium",children:"Contactar Cliente"}),h.jsx("div",{className:"text-sm text-gray-600",children:"WhatsApp directo"})]})]})]});default:return console.log("🔍 Rendering VehicleSearch with canModifyVehicles:",l),console.log("🔍 handleCreateNew function:",d),h.jsx(lE,{onVehicleSelect:u,onCreateNew:d})}};return h.jsx("div",{className:"bg-gray-50",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:_()})})},tC=$i({searchType:Gi(["nombre","telefono","email"]),searchValue:Yt().min(1,"Valor de búsqueda requerido")}),rC=({onCustomerSelect:t,onCreateNew:e})=>{const[r,n]=W.useState([]),[a,o]=W.useState(!1),[l,u]=W.useState(null),{register:d,handleSubmit:p,watch:m,formState:{errors:x}}=kn({resolver:Yi(tC),defaultValues:{searchType:"nombre"}}),y=m("searchType"),b=()=>{switch(y){case"nombre":return"Juan Pérez";case"telefono":return"+5215512345678";case"email":return"juan@email.com";default:return""}},_=async E=>{o(!0),u(null),n([]);try{let N;switch(E.searchType){case"nombre":N=await pa.searchByName(E.searchValue);break;case"telefono":N=await pa.searchByPhone(E.searchValue);break;case"email":N=await pa.search({email:E.searchValue});break;default:throw new Error("Tipo de búsqueda no válido")}n(N.customers||[]),N.customers?.length===0&&u("No se encontraron clientes que coincidan con la búsqueda")}catch(N){u(N.response?.data?.message||"Error al buscar clientes")}finally{o(!1)}},w=async()=>{o(!0),u(null),n([]);try{const E=await pa.getAll(100);n(E.customers||[]),E.customers?.length===0&&u("No hay clientes registrados en el sistema")}catch(E){u(E.response?.data?.message||"Error al cargar clientes")}finally{o(!1)}},S=E=>`https://wa.me/52${E.replace(/^\+52/,"")}`,T=E=>E.length===13&&E.startsWith("+52")?`+52 ${E.slice(3,5)} ${E.slice(5,9)} ${E.slice(9)}`:E;return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Búsqueda de Clientes"}),h.jsx("form",{onSubmit:p(_),className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de búsqueda"}),h.jsxs("select",{...d("searchType"),className:"input-field",children:[h.jsx("option",{value:"nombre",children:"Por Nombre"}),h.jsx("option",{value:"telefono",children:"Por Teléfono"}),h.jsx("option",{value:"email",children:"Por Email"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor a buscar"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{...d("searchValue"),type:"text",className:"input-field flex-1",placeholder:b()}),h.jsx("button",{type:"submit",disabled:a,className:"btn-primary px-6 disabled:opacity-50",children:a?"Buscando...":"Buscar"}),h.jsx("button",{type:"button",onClick:w,disabled:a,className:"btn-secondary px-6 disabled:opacity-50",children:"Ver Todos"})]}),x.searchValue&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.searchValue.message})]})]})}),e&&h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:h.jsx("button",{onClick:e,className:"btn-secondary",children:"+ Registrar Nuevo Cliente"})})]}),l&&h.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:h.jsx("p",{className:"text-red-600 text-sm",children:l})}),r.length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Resultados (",r.length,")"]}),r.map(E=>h.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t?.(E),children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:E.nombre}),E.rfc&&h.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["RFC: ",E.rfc]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"📞"}),h.jsx("span",{children:T(E.telefono)})]}),E.whatsapp&&E.whatsapp!==E.telefono&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"💬"}),h.jsx("span",{children:T(E.whatsapp)})]}),E.email&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"✉️"}),h.jsx("span",{children:E.email})]})]}),h.jsxs("div",{className:"space-y-1",children:[E.direccion&&h.jsxs("div",{className:"flex items-start space-x-2",children:[h.jsx("span",{children:"📍"}),h.jsx("span",{className:"line-clamp-2",children:E.direccion})]}),E.codigo_postal&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"📮"}),h.jsxs("span",{children:["CP: ",E.codigo_postal]})]})]})]}),h.jsxs("div",{className:"mt-3 flex items-center space-x-4",children:[E.whatsapp&&h.jsx("a",{href:S(E.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium text-sm",onClick:N=>N.stopPropagation(),children:"💬 WhatsApp"}),h.jsx("a",{href:`tel:${E.telefono}`,className:"text-blue-600 hover:text-blue-700 font-medium text-sm",onClick:N=>N.stopPropagation(),children:"📞 Llamar"}),E.email&&h.jsx("a",{href:`mailto:${E.email}`,className:"text-purple-600 hover:text-purple-700 font-medium text-sm",onClick:N=>N.stopPropagation(),children:"✉️ Email"})]}),E.notas&&h.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:h.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',E.notas,'"']})})]}),h.jsx("div",{className:"text-right",children:h.jsxs("span",{className:"text-xs text-gray-500",children:["Registrado: ",new Date(E.fecha_registro).toLocaleDateString("es-MX")]})})]})},E.customer_id))]})]})},nC=()=>{const{user:t}=bn(),[e,r]=W.useState("search"),[n,a]=W.useState(null),[o,l]=W.useState([]),[u,d]=W.useState(!1),p=t?.rol==="administrador"||t?.rol==="mecanico",m=async E=>{a(E),r("detail"),d(!0);try{const N=await Mr.search({customer_name:E.nombre});l(N.vehicles||[])}catch(N){console.error("Error cargando vehículos:",N),l([])}finally{d(!1)}},x=()=>{a(null),r("create")},y=()=>{n&&r("edit")},b=E=>{a(E),r("detail")},_=()=>{r("search"),a(null),l([])},w=E=>`https://wa.me/52${E.replace(/^\+52/,"")}`,S=E=>E.length===13&&E.startsWith("+52")?`+52 ${E.slice(3,5)} ${E.slice(5,9)} ${E.slice(9)}`:E,T=()=>{switch(e){case"create":return h.jsx(Md,{onSuccess:b,onCancel:_});case"edit":return h.jsx(Md,{customer:n,onSuccess:b,onCancel:_});case"detail":return h.jsxs("div",{className:"space-y-6",children:[h.jsx("button",{onClick:()=>r("search"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a búsqueda"}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?.nombre}),h.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[n?.rfc&&h.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["RFC: ",n.rfc]}),h.jsxs("span",{className:"text-gray-600 text-sm",children:["Cliente desde: ",new Date(n?.fecha_registro||"").toLocaleDateString("es-MX")]})]})]}),p&&h.jsx("button",{onClick:y,className:"btn-secondary",children:"Editar Cliente"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información de Contacto"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"📞"}),h.jsx("span",{children:S(n?.telefono||"")}),h.jsx("a",{href:`tel:${n?.telefono}`,className:"text-blue-600 hover:text-blue-700 ml-2",children:"Llamar"})]}),n?.whatsapp&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"💬"}),h.jsx("span",{children:S(n.whatsapp)}),h.jsx("a",{href:w(n.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 ml-2",children:"WhatsApp"})]}),n?.email&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"✉️"}),h.jsx("span",{children:n.email}),h.jsx("a",{href:`mailto:${n.email}`,className:"text-purple-600 hover:text-purple-700 ml-2",children:"Email"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Ubicación"}),h.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n?.direccion?h.jsxs("div",{className:"flex items-start space-x-2",children:[h.jsx("span",{children:"📍"}),h.jsx("span",{children:n.direccion})]}):h.jsx("p",{className:"text-gray-500",children:"No especificada"}),n?.codigo_postal&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"📮"}),h.jsxs("span",{children:["CP: ",n.codigo_postal]})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Estadísticas"}),h.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Vehículos:"})," ",o.length]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Último contacto:"})," Hace 2 días"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Servicios totales:"})," --"]})]})]})]}),n?.notas&&h.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Notas"}),h.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:n.notas})]})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Vehículos del Cliente (",o.length,")"]}),h.jsx("button",{className:"btn-secondary text-sm",children:"+ Registrar Vehículo para este Cliente"})]}),u?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando vehículos..."})]}):o.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(E=>h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("h4",{className:"font-medium text-gray-900",children:[E.marca," ",E.modelo," ",E.año]}),h.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium",children:E.placa_actual||"Sin placas"})]}),h.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"VIN:"})," ",E.vin]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",E.kilometraje_actual?.toLocaleString()," km"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Último servicio:"})," --"]})]}),h.jsxs("div",{className:"mt-3 flex space-x-2",children:[h.jsx("button",{className:"text-xs bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded",children:"Ver Historial"}),h.jsx("button",{className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded",children:"Crear Oportunidad"})]})]},E.vin))}):h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx("p",{children:"Este cliente no tiene vehículos registrados"}),h.jsx("button",{className:"mt-2 btn-secondary text-sm",children:"Registrar Primer Vehículo"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"text-2xl mb-2",children:"💬"}),h.jsx("div",{className:"font-medium",children:"Enviar WhatsApp"}),h.jsx("div",{className:"text-sm text-gray-600",children:"Contacto directo"})]}),h.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"text-2xl mb-2",children:"🔧"}),h.jsx("div",{className:"font-medium",children:"Crear Oportunidad"}),h.jsx("div",{className:"text-sm text-gray-600",children:"Nuevo servicio"})]}),h.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"text-2xl mb-2",children:"📋"}),h.jsx("div",{className:"font-medium",children:"Ver Historial"}),h.jsx("div",{className:"text-sm text-gray-600",children:"Todos los servicios"})]})]})]});default:return h.jsx(rC,{onCustomerSelect:m,onCreateNew:p?x:void 0})}};return h.jsx("div",{className:"bg-gray-50",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:T()})})},aC={pendiente:"bg-yellow-100 text-yellow-800",contactado:"bg-blue-100 text-blue-800",agendado:"bg-purple-100 text-purple-800",en_proceso:"bg-orange-100 text-orange-800",completado:"bg-green-100 text-green-800",perdido:"bg-red-100 text-red-800"},iC={alta:"bg-red-100 text-red-800",media:"bg-yellow-100 text-yellow-800",baja:"bg-green-100 text-green-800"},oC={pendiente:"Pendiente",contactado:"Contactado",agendado:"Agendado",en_proceso:"En Proceso",completado:"Completado",perdido:"Perdido"},sC={alta:"Alta",media:"Media",baja:"Baja"},vg=({opportunity:t,onSelect:e,onStatusChange:r,showVehicleInfo:n=!0})=>{const a=m=>m?new Date(m).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"}):"",o=m=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0}).format(m),l=m=>`https://wa.me/52${m.replace(/^\+52/,"")}`,d=(()=>{if(!t.fecha_sugerida)return null;const m=new Date,y=new Date(t.fecha_sugerida).getTime()-m.getTime();return Math.ceil(y/(1e3*60*60*24))})(),p=()=>d?d<0?"border-l-4 border-red-500":d<=3?"border-l-4 border-orange-500":d<=7?"border-l-4 border-yellow-500":"border-l-4 border-green-500":"";return h.jsxs("div",{className:`card p-6 hover:shadow-md transition-shadow cursor-pointer ${p()}`,onClick:()=>e?.(t),children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.titulo}),h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${aC[t.estado]}`,children:oC[t.estado]}),h.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${iC[t.prioridad]}`,children:["Prioridad ",sC[t.prioridad]]}),t.precio_estimado&&h.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium",children:o(t.precio_estimado)})]})]}),r&&h.jsx("div",{className:"ml-4",children:h.jsxs("select",{value:t.estado,onChange:m=>{m.stopPropagation(),r(t.opportunity_id,m.target.value)},className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"pendiente",children:"Pendiente"}),h.jsx("option",{value:"contactado",children:"Contactado"}),h.jsx("option",{value:"agendado",children:"Agendado"}),h.jsx("option",{value:"en_proceso",children:"En Proceso"}),h.jsx("option",{value:"completado",children:"Completado"}),h.jsx("option",{value:"perdido",children:"Perdido"})]})})]}),n&&(t.vehicle_marca||t.vin)||t.customer_nombre?h.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-6",children:[n&&(t.vehicle_marca||t.vin)&&h.jsxs("div",{className:"flex-1 mb-3 lg:mb-0",children:[h.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["🚗 ",t.vehicle_marca," ",t.vehicle_modelo," ",t.vehicle_año]}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Placas: ",t.vehicle_placa||"No asignadas"," • VIN: ",t.vin]})]}),t.customer_nombre&&h.jsxs("div",{className:"flex-1",children:[h.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["👤 Cliente: ",t.customer_nombre]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[h.jsxs("span",{children:["📞 ",t.customer_telefono]}),t.customer_whatsapp&&h.jsx("a",{href:l(t.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",onClick:m=>m.stopPropagation(),children:"💬 WhatsApp"})]})]})]})}):null,h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-gray-700 text-sm line-clamp-2",children:t.descripcion}),t.servicio_sugerido&&h.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[h.jsx("span",{className:"font-medium",children:"Servicio:"})," ",t.servicio_sugerido]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[h.jsxs("div",{children:[t.fecha_sugerida&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Fecha sugerida:"})," ",a(t.fecha_sugerida),d!==null&&h.jsx("span",{className:`ml-2 ${d<0?"text-red-600 font-medium":d<=3?"text-orange-600 font-medium":d<=7?"text-yellow-600 font-medium":"text-green-600"}`,children:d<0?`(${Math.abs(d)} días vencido)`:d===0?"(Hoy)":d===1?"(Mañana)":`(en ${d} días)`})]}),t.fecha_contacto_sugerida&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Contactar:"})," ",a(t.fecha_contacto_sugerida)]})]}),h.jsxs("div",{children:[t.usuario_asignado_nombre&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Asignado a:"})," ",t.usuario_asignado_nombre]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Creado:"})," ",a(t.fecha_creacion)]})]})]}),h.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200 flex justify-between items-center",children:[h.jsxs("div",{className:"text-xs text-gray-500",children:["Tipo: ",t.tipo_oportunidad.replace(/_/g," "),t.kilometraje_referencia&&h.jsxs("span",{className:"ml-2",children:["• ",t.kilometraje_referencia.toLocaleString()," km"]})]}),h.jsxs("div",{className:"flex space-x-2",children:[t.customer_whatsapp&&h.jsx("a",{href:l(t.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded",onClick:m=>m.stopPropagation(),children:"WhatsApp"}),h.jsx("button",{onClick:m=>{m.stopPropagation(),e?.(t)},className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 px-2 py-1 rounded",children:"Ver Detalles"})]})]})]})},lC=()=>{const{user:t}=bn(),[e,r]=W.useState("search"),[n,a]=W.useState(null),[o,l]=W.useState([]),[u,d]=W.useState([]),[p,m]=W.useState(!1),[x,y]=W.useState(null),[b,_]=W.useState(!1),w=t?.rol==="administrador"||t?.rol==="mecanico",S=t?.rol==="administrador"||t?.rol==="seguimiento",{register:T,watch:E,reset:N}=kn(),D=E();W.useEffect(()=>{I(),U()},[]),W.useEffect(()=>{Object.values(D).some(P=>P)&&I()},[D]);const I=async()=>{m(!0),y(null);try{const P=Object.fromEntries(Object.entries(D).filter(([F,ye])=>ye&&ye!=="")),oe=await Br.search(P);l(oe.opportunities||[])}catch(P){y(P.response?.data?.message||"Error al cargar oportunidades")}finally{m(!1)}},U=async()=>{try{const P=await Br.getRemindersToday();d(P.reminders||[])}catch(P){console.error("Error cargando recordatorios:",P)}},Y=P=>{a(P),r("detail")},q=()=>{a(null),r("create")},J=()=>{n&&r("edit")},se=P=>{a(P),r("detail"),I(),U()},xe=()=>{r("search"),a(null)},le=async(P,oe)=>{try{await Br.changeStatus(P,oe),I(),U()}catch(F){y(F.response?.data?.message||"Error al cambiar estado")}},ve=()=>{N(),I()},ue=P=>`https://wa.me/52${P.replace(/^\+52/,"")}`,de=()=>{switch(e){case"create":return h.jsx(Bd,{onSuccess:se,onCancel:xe});case"edit":return h.jsx(Bd,{opportunity:n,onSuccess:se,onCancel:xe});case"detail":return h.jsxs("div",{className:"space-y-6",children:[h.jsx("button",{onClick:()=>r("search"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a oportunidades"}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?.titulo}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n?.estado==="pendiente"?"bg-yellow-100 text-yellow-800":n?.estado==="contactado"?"bg-blue-100 text-blue-800":n?.estado==="agendado"?"bg-purple-100 text-purple-800":n?.estado==="completado"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:n?.estado?n.estado.charAt(0).toUpperCase()+n.estado.slice(1):""}),h.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n?.prioridad==="alta"?"bg-red-100 text-red-800":n?.prioridad==="media"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:["Prioridad ",n?.prioridad]})]})]}),S&&h.jsx("button",{onClick:J,className:"btn-secondary",children:"Editar Oportunidad"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Información del Servicio"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Descripción:"})," ",n?.descripcion]}),n?.servicio_sugerido&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Servicio:"})," ",n.servicio_sugerido]}),n?.precio_estimado&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Precio estimado:"})," $",n.precio_estimado.toLocaleString()]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Tipo:"})," ",n?.tipo_oportunidad.replace(/_/g," ")]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Fechas y Seguimiento"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[n?.fecha_sugerida&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Fecha sugerida:"})," ",new Date(n.fecha_sugerida).toLocaleDateString("es-MX")]}),n?.fecha_contacto_sugerida&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Contactar antes del:"})," ",new Date(n.fecha_contacto_sugerida).toLocaleDateString("es-MX")]}),n?.usuario_asignado_nombre&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Asignado a:"})," ",n.usuario_asignado_nombre]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Creado:"})," ",new Date(n?.fecha_creacion||"").toLocaleDateString("es-MX")]})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"text-2xl mb-2",children:"💬"}),h.jsx("div",{className:"font-medium",children:"Contactar Cliente"}),h.jsx("div",{className:"text-sm text-gray-600",children:"WhatsApp o llamada"})]}),h.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"text-2xl mb-2",children:"📅"}),h.jsx("div",{className:"font-medium",children:"Programar Cita"}),h.jsx("div",{className:"text-sm text-gray-600",children:"Agendar servicio"})]}),h.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"text-2xl mb-2",children:"📝"}),h.jsx("div",{className:"font-medium",children:"Agregar Nota"}),h.jsx("div",{className:"text-sm text-gray-600",children:"Seguimiento"})]})]})]});default:return h.jsxs("div",{className:"space-y-6",children:[u.length>0&&h.jsxs("div",{className:"card p-6 border-l-4 border-orange-500",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:["⏰ Recordatorios de Hoy (",u.length,")"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.slice(0,6).map(P=>h.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:P.titulo}),h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:P.customer_nombre}),h.jsxs("p",{className:"text-sm text-gray-600",children:[P.vehicle_marca," ",P.vehicle_modelo]}),h.jsxs("div",{className:"mt-2 flex space-x-2",children:[P.customer_whatsapp&&h.jsx("a",{href:ue(P.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded",children:"WhatsApp"}),h.jsx("button",{onClick:()=>Y(P),className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 px-2 py-1 rounded",children:"Ver"})]})]},P.opportunity_id))}),u.length>6&&h.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["Y ",u.length-6," recordatorios más..."]})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Oportunidades de Venta"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>_(!b),className:"btn-secondary text-sm",children:b?"Ocultar Filtros":"Mostrar Filtros"}),w&&h.jsx("button",{onClick:q,className:"btn-primary text-sm",children:"+ Nueva Oportunidad"})]})]}),b&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg mb-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),h.jsxs("select",{...T("estado"),className:"input-field text-sm",children:[h.jsx("option",{value:"",children:"Todos"}),h.jsx("option",{value:"pendiente",children:"Pendiente"}),h.jsx("option",{value:"contactado",children:"Contactado"}),h.jsx("option",{value:"agendado",children:"Agendado"}),h.jsx("option",{value:"en_proceso",children:"En Proceso"}),h.jsx("option",{value:"completado",children:"Completado"}),h.jsx("option",{value:"perdido",children:"Perdido"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),h.jsxs("select",{...T("prioridad"),className:"input-field text-sm",children:[h.jsx("option",{value:"",children:"Todas"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"baja",children:"Baja"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),h.jsx("input",{...T("fecha_desde"),type:"date",className:"input-field text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),h.jsx("input",{...T("fecha_hasta"),type:"date",className:"input-field text-sm"})]}),h.jsx("div",{className:"md:col-span-2 lg:col-span-4",children:h.jsx("button",{onClick:ve,className:"btn-secondary text-sm",children:"Limpiar Filtros"})})]})]}),x&&h.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:h.jsx("p",{className:"text-red-600 text-sm",children:x})}),p?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando oportunidades..."})]}):o.length>0?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[o.length," oportunidades encontradas"]}),o.map(P=>h.jsx(vg,{opportunity:P,onSelect:Y,onStatusChange:S?le:void 0},P.opportunity_id))]}):h.jsx("div",{className:"card p-8 text-center",children:h.jsx("p",{className:"text-gray-600",children:"No hay oportunidades que coincidan con los filtros"})})]})}};return h.jsx("div",{className:"bg-gray-50",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:de()})})},cC=()=>{const{user:t}=bn(),[e,r]=W.useState("list"),[n,a]=W.useState(null),[o,l]=W.useState([]),[u,d]=W.useState(!1),[p,m]=W.useState(null),[x,y]=W.useState(!1),[b,_]=W.useState({page:1,limit:20,total:0,totalPages:0}),w=t?.rol==="administrador"||t?.rol==="mecanico",{register:S,watch:T,reset:E}=kn(),N=T(),{register:D,handleSubmit:I,reset:U,formState:{isSubmitting:Y}}=kn();W.useEffect(()=>{q()},[]),W.useEffect(()=>{Object.values(N).some(F=>F)&&(_(F=>({...F,page:1})),q())},[N]);const q=async(F=1)=>{d(!0),m(null);try{const ye=Object.fromEntries(Object.entries(N).filter(([ie,me])=>me&&me!=="")),j=await ql.getServices(ye,F,b.limit);l(j.services||[]),_({page:j.pagination?.page||1,limit:j.pagination?.limit||20,total:j.pagination?.total||0,totalPages:j.pagination?.totalPages||0})}catch(ye){console.error("Error cargando servicios:",ye),m(ye.response?.data?.message||"Error al cargar servicios")}finally{d(!1)}},J=F=>{a(F),r("detail")},se=()=>{n&&(U(n),r("edit"))},xe=async(F,ye)=>{try{await ql.updateServiceStatus(F,ye),q(b.page),n&&n.service_id===F&&a({...n,estado:ye})}catch(j){console.error("Error cambiando estado:",j),m(j.response?.data?.message||"Error al cambiar estado")}},le=async F=>{if(n)try{m(null);const ye=await ql.updateService(n.service_id,{tipo_servicio:F.tipo_servicio,descripcion:F.descripcion,precio:F.precio?Number(F.precio):void 0,estado:F.estado,notas:F.notas,kilometraje_servicio:F.kilometraje_servicio?Number(F.kilometraje_servicio):void 0,refacciones_usadas:F.refacciones_usadas,proximo_servicio_km:F.proximo_servicio_km?Number(F.proximo_servicio_km):void 0,proximo_servicio_fecha:F.proximo_servicio_fecha,garantia_meses:F.garantia_meses?Number(F.garantia_meses):void 0});a(ye.service),r("detail"),q(b.page)}catch(ye){console.error("Error actualizando servicio:",ye),m(ye.response?.data?.message||"Error al actualizar servicio")}},ve=()=>{E(),_(F=>({...F,page:1})),q()},ue=F=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(F),de=F=>{switch(F){case"cotizado":return"bg-yellow-100 text-yellow-800";case"autorizado":return"bg-blue-100 text-blue-800";case"en_proceso":return"bg-purple-100 text-purple-800";case"completado":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=F=>{switch(F){case"cotizado":return"Cotizado";case"autorizado":return"Autorizado";case"en_proceso":return"En Proceso";case"completado":return"Completado";case"cancelado":return"Cancelado";default:return F}},oe=()=>{switch(e){case"edit":return h.jsxs("div",{className:"space-y-6",children:[h.jsx("button",{onClick:()=>r("detail"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a detalle"}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Editar Servicio #",n?.service_id]}),h.jsxs("form",{onSubmit:I(le),className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"font-medium text-gray-900",children:"Información del Servicio"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Servicio *"}),h.jsx("input",{...D("tipo_servicio"),type:"text",className:"input-field",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción *"}),h.jsx("textarea",{...D("descripcion"),className:"input-field",rows:3,required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio ($)"}),h.jsx("input",{...D("precio"),type:"number",step:"0.01",min:"0",className:"input-field"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),h.jsxs("select",{...D("estado"),className:"input-field",children:[h.jsx("option",{value:"cotizado",children:"Cotizado"}),h.jsx("option",{value:"autorizado",children:"Autorizado"}),h.jsx("option",{value:"en_proceso",children:"En Proceso"}),h.jsx("option",{value:"completado",children:"Completado"}),h.jsx("option",{value:"cancelado",children:"Cancelado"})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"font-medium text-gray-900",children:"Detalles Adicionales"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilometraje del Servicio"}),h.jsx("input",{...D("kilometraje_servicio"),type:"number",min:"0",className:"input-field"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refacciones Usadas"}),h.jsx("textarea",{...D("refacciones_usadas"),className:"input-field",rows:2,placeholder:"Lista de refacciones utilizadas..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Próximo Servicio (KM)"}),h.jsx("input",{...D("proximo_servicio_km"),type:"number",min:"0",className:"input-field"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Próximo Servicio (Fecha)"}),h.jsx("input",{...D("proximo_servicio_fecha"),type:"date",className:"input-field"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Garantía (meses)"}),h.jsx("input",{...D("garantia_meses"),type:"number",min:"0",max:"60",className:"input-field"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),h.jsx("textarea",{...D("notas"),className:"input-field",rows:3,placeholder:"Notas adicionales sobre el servicio..."})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>r("detail"),className:"btn-secondary",disabled:Y,children:"Cancelar"}),h.jsx("button",{type:"submit",className:"btn-primary",disabled:Y,children:Y?"Guardando...":"Guardar Cambios"})]})]})]})]});case"detail":return h.jsxs("div",{className:"space-y-6",children:[h.jsx("button",{onClick:()=>r("list"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a servicios"}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-6",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Servicio #",n?.service_id]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${de(n?.estado||"")}`,children:P(n?.estado||"")}),h.jsx("span",{className:"text-lg font-semibold text-green-600",children:n?.precio?ue(n.precio):""})]})]}),w&&h.jsx("button",{onClick:se,className:"btn-secondary",children:"✏️ Editar Servicio"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Información del Servicio"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Tipo:"})," ",n?.tipo_servicio]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Descripción:"})," ",n?.descripcion]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Fecha:"})," ",n?.fecha_servicio?new Date(n.fecha_servicio).toLocaleDateString("es-MX"):""]}),n?.kilometraje_servicio&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",n.kilometraje_servicio.toLocaleString()," km"]}),n?.refacciones_usadas&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Refacciones:"})," ",n.refacciones_usadas]}),n?.notas&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Notas:"})," ",n.notas]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Cliente y Vehículo"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Cliente:"})," ",n?.cliente_nombre||"N/A"]}),n?.cliente_telefono&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",n.cliente_telefono]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Vehículo:"})," ",n?.vehiculo_marca," ",n?.vehiculo_modelo," ",n?.vehiculo_año]}),n?.placa_actual&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Placas:"})," ",n.placa_actual]}),n?.mecanico_nombre&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Mecánico:"})," ",n.mecanico_nombre]}),n?.sucursal_nombre&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Sucursal:"})," ",n.sucursal_nombre]})]})]})]}),(n?.proximo_servicio_km||n?.proximo_servicio_fecha)&&h.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Próximo Servicio"}),h.jsxs("div",{className:"text-sm space-y-1",children:[n?.proximo_servicio_km&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",n.proximo_servicio_km.toLocaleString()," km"]}),n?.proximo_servicio_fecha&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Fecha sugerida:"})," ",new Date(n.proximo_servicio_fecha).toLocaleDateString("es-MX")]})]})]}),w&&h.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Cambiar Estado Manualmente"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Puedes cambiar el estado a cualquier valor, incluso revertir cambios accidentales."}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[n?.estado!=="cotizado"&&h.jsx("button",{onClick:()=>xe(n.service_id,"cotizado"),className:"px-3 py-2 text-sm bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-lg transition-colors",children:"→ Cotizado"}),n?.estado!=="autorizado"&&h.jsx("button",{onClick:()=>xe(n.service_id,"autorizado"),className:"px-3 py-2 text-sm bg-blue-100 hover:bg-blue-200 text-blue-800 rounded-lg transition-colors",children:"→ Autorizado"}),n?.estado!=="en_proceso"&&h.jsx("button",{onClick:()=>xe(n.service_id,"en_proceso"),className:"px-3 py-2 text-sm bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-lg transition-colors",children:"→ En Proceso"}),n?.estado!=="completado"&&h.jsx("button",{onClick:()=>xe(n.service_id,"completado"),className:"px-3 py-2 text-sm bg-green-100 hover:bg-green-200 text-green-800 rounded-lg transition-colors",children:"→ Completado"}),n?.estado!=="cancelado"&&h.jsx("button",{onClick:()=>xe(n.service_id,"cancelado"),className:"px-3 py-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 rounded-lg transition-colors",children:"→ Cancelado"})]}),h.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Estado actual: ",h.jsx("strong",{children:P(n?.estado||"")})]})]})]})]});default:return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Servicios"}),h.jsx("button",{onClick:()=>y(!x),className:"btn-secondary text-sm",children:x?"Ocultar Filtros":"Mostrar Filtros"})]}),x&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg mb-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),h.jsxs("select",{...S("estado"),className:"input-field text-sm",children:[h.jsx("option",{value:"",children:"Todos"}),h.jsx("option",{value:"cotizado",children:"Cotizado"}),h.jsx("option",{value:"autorizado",children:"Autorizado"}),h.jsx("option",{value:"en_proceso",children:"En Proceso"}),h.jsx("option",{value:"completado",children:"Completado"}),h.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),h.jsx("input",{...S("cliente"),type:"text",placeholder:"Buscar por nombre...",className:"input-field text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),h.jsx("input",{...S("fecha_desde"),type:"date",className:"input-field text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),h.jsx("input",{...S("fecha_hasta"),type:"date",className:"input-field text-sm"})]}),h.jsx("div",{className:"md:col-span-2 lg:col-span-4",children:h.jsx("button",{onClick:ve,className:"btn-secondary text-sm",children:"Limpiar Filtros"})})]})]}),p&&h.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:h.jsx("p",{className:"text-red-600 text-sm",children:p})}),u?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando servicios..."})]}):o.length>0?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[b.total," servicios encontrados (página ",b.page," de ",b.totalPages,")"]}),h.jsx("div",{className:"space-y-4",children:o.map(F=>h.jsxs("div",{className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>J(F),children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Servicio #",F.service_id," - ",F.tipo_servicio]}),h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:F.descripcion}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[h.jsxs("span",{children:["📅 ",new Date(F.fecha_servicio).toLocaleDateString("es-MX")]}),h.jsxs("span",{children:["👤 ",F.cliente_nombre||"Cliente no disponible"]}),h.jsxs("span",{children:["🚗 ",F.vehiculo_marca," ",F.vehiculo_modelo]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium mb-2 ${de(F.estado)}`,children:P(F.estado)}),h.jsx("p",{className:"text-lg font-semibold text-green-600",children:ue(F.precio)})]})]}),F.notas&&h.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-sm",children:[h.jsx("span",{className:"font-medium",children:"Notas:"})," ",F.notas]})]},F.service_id))}),b.totalPages>1&&h.jsxs("div",{className:"flex justify-center space-x-2 mt-6",children:[h.jsx("button",{onClick:()=>q(b.page-1),disabled:b.page===1,className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"← Anterior"}),h.jsxs("span",{className:"px-4 py-2 text-sm text-gray-700",children:["Página ",b.page," de ",b.totalPages]}),h.jsx("button",{onClick:()=>q(b.page+1),disabled:b.page===b.totalPages,className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente →"})]})]}):h.jsxs("div",{className:"card p-8 text-center",children:[h.jsx("p",{className:"text-gray-600",children:"No hay servicios que coincidan con los filtros"}),Object.values(N).some(F=>F)&&h.jsx("button",{onClick:ve,className:"mt-4 btn-secondary text-sm",children:"Limpiar filtros"})]})]})}};return h.jsx("div",{className:"bg-gray-50",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:oe()})})},uC=()=>{const{user:t}=bn(),[e,r]=W.useState([]),[n,a]=W.useState(!0),[o,l]=W.useState(null),[u,d]=W.useState("today"),p=t?.rol==="administrador"||t?.rol==="seguimiento";W.useEffect(()=>{m()},[u]);const m=async()=>{a(!0),l(null);try{let w;switch(u){case"today":w=await Br.getRemindersToday(),r(w.reminders||[]);break;case"upcoming":const S=new Date;S.setDate(S.getDate()+7),w=await Br.search({estado:"pendiente",fecha_hasta:S.toISOString().split("T")[0]}),r(w.opportunities||[]);break;case"overdue":const T=new Date;T.setDate(T.getDate()-1),w=await Br.search({estado:"pendiente",fecha_hasta:T.toISOString().split("T")[0]}),r(w.opportunities||[]);break}}catch(w){l(w.response?.data?.message||"Error al cargar recordatorios")}finally{a(!1)}},x=async(w,S)=>{try{await Br.changeStatus(w,S),m()}catch(T){l(T.response?.data?.message||"Error al cambiar estado")}},y=w=>`https://wa.me/52${w.replace(/^\+52/,"")}`,_=(()=>{if(u!=="today")return null;const w=e.reduce((S,T)=>(S[T.prioridad]=(S[T.prioridad]||0)+1,S),{});return{total:e.length,alta:w.alta||0,media:w.media||0,baja:w.baja||0}})();return h.jsx("div",{className:"bg-gray-50",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recordatorios y Seguimiento"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona los recordatorios de contacto con clientes"})]}),_&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsx("div",{className:"card p-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Hoy"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.total})]}),h.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:h.jsx("span",{className:"text-blue-600 text-xl",children:"📅"})})]})}),h.jsx("div",{className:"card p-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prioridad Alta"}),h.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.alta})]}),h.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:h.jsx("span",{className:"text-red-600 text-xl",children:"🔥"})})]})}),h.jsx("div",{className:"card p-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prioridad Media"}),h.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_.media})]}),h.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:h.jsx("span",{className:"text-yellow-600 text-xl",children:"⚡"})})]})}),h.jsx("div",{className:"card p-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prioridad Baja"}),h.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.baja})]}),h.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:h.jsx("span",{className:"text-green-600 text-xl",children:"📝"})})]})})]}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[h.jsxs("button",{onClick:()=>d("today"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="today"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Hoy",u==="today"&&h.jsx("span",{className:"bg-blue-100 text-blue-600 ml-2 py-0.5 px-2 rounded-full text-xs",children:e.length})]}),h.jsxs("button",{onClick:()=>d("upcoming"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="upcoming"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Próximos 7 días",u==="upcoming"&&h.jsx("span",{className:"bg-blue-100 text-blue-600 ml-2 py-0.5 px-2 rounded-full text-xs",children:e.length})]}),h.jsxs("button",{onClick:()=>d("overdue"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="overdue"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Vencidos",u==="overdue"&&h.jsx("span",{className:"bg-red-100 text-red-600 ml-2 py-0.5 px-2 rounded-full text-xs",children:e.length})]})]})}),h.jsxs("div",{className:"p-6",children:[o&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-red-600 text-sm",children:o})}),n?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando recordatorios..."})]}):e.length>0?h.jsxs("div",{className:"space-y-4",children:[u==="today"&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📞 Clientes para contactar hoy"}),h.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[h.jsx("p",{className:"text-blue-800 text-sm mb-3",children:h.jsx("strong",{children:"Sugerencia de flujo de trabajo:"})}),h.jsxs("ol",{className:"text-blue-700 text-sm space-y-1 list-decimal list-inside",children:[h.jsx("li",{children:"Contactar primero las prioridades altas 🔥"}),h.jsx("li",{children:"Enviar mensaje de WhatsApp con el template sugerido"}),h.jsx("li",{children:'Marcar como "Contactado" después de enviar mensaje'}),h.jsx("li",{children:"Programar seguimiento si es necesario"})]})]})]}),e.map(w=>h.jsxs("div",{className:"relative",children:[h.jsx(vg,{opportunity:w,onStatusChange:p?x:void 0,showVehicleInfo:!0}),w.customer_whatsapp&&h.jsx("div",{className:"absolute top-4 right-4",children:h.jsxs("a",{href:y(w.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm font-medium flex items-center space-x-2 shadow-lg",children:[h.jsx("span",{children:"💬"}),h.jsx("span",{children:"WhatsApp"})]})})]},w.opportunity_id))]}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-6xl mb-4",children:u==="today"?"🎉":u==="upcoming"?"📅":"✅"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u==="today"?"¡Excelente! No hay recordatorios para hoy":u==="upcoming"?"No hay recordatorios próximos":"¡Perfecto! No hay recordatorios vencidos"}),h.jsx("p",{className:"text-gray-600",children:u==="today"?"Puedes revisar los recordatorios próximos o crear nuevas oportunidades.":u==="upcoming"?"Los próximos recordatorios aparecerán aquí cuando se acerquen las fechas.":"Mantén este estado al día contactando a los clientes oportunamente."})]})]})]}),u==="today"&&e.length>0&&h.jsxs("div",{className:"card p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"💬 Templates de WhatsApp Sugeridos"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Recordatorio General"}),h.jsx("p",{className:"text-sm text-gray-700 italic",children:'"Hola [Cliente], espero que esté bien. Su [Marca Modelo Placas] necesita [Servicio]. ¿Cuándo le conviene traerlo al taller? Saludos - Henry Diagnostics"'})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Seguimiento de Cotización"}),h.jsx("p",{className:"text-sm text-gray-700 italic",children:'"Buenos días [Cliente], recordamos que tiene una cotización pendiente para su [Vehículo Placas]. ¿Podemos agendarlo? - Henry Diagnostics"'})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mantenimiento Programado"}),h.jsx("p",{className:"text-sm text-gray-700 italic",children:'"Su [Marca Modelo Placas] ha recorrido [Kilometraje] desde el último servicio. Es momento de [Servicio]. ¿Le conviene esta semana? - Henry Diagnostics"'})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Prioridad Alta"}),h.jsx("p",{className:"text-sm text-gray-700 italic",children:'"⚠️ [Cliente], es importante revisar su [Vehículo] para [Motivo]. ¿Puede traerlo hoy o mañana? - Henry Diagnostics"'})]})]})]})]})})})},fC=async()=>{try{return(await Se.get("/users/stats")).data}catch(t){throw console.error("Error al obtener estadísticas de usuarios:",t),t}},dC=async t=>{try{const e=new URLSearchParams;return t?.search&&e.append("search",t.search),t?.rol&&e.append("rol",t.rol),t?.activo!==void 0&&e.append("activo",t.activo.toString()),t?.page&&e.append("page",t.page.toString()),t?.limit&&e.append("limit",t.limit.toString()),(await Se.get(`/users?${e.toString()}`)).data}catch(e){throw console.error("Error al obtener usuarios:",e),e}},hC=async t=>{try{return(await Se.post("/users",t)).data}catch(e){throw console.error("Error al crear usuario:",e),e}},pC=async(t,e)=>{try{return(await Se.put(`/users/${t}`,e)).data}catch(r){throw console.error("Error al actualizar usuario:",r),r}},vC=async t=>{try{return(await Se.post(`/users/${t}/reset-password`)).data}catch(e){throw console.error("Error al restablecer contraseña:",e),e}},mC=async(t,e=1,r=20)=>{try{return(await Se.get(`/users/${t}/activity?page=${e}&limit=${r}`)).data}catch(n){throw console.error("Error al obtener actividades del usuario:",n),n}},xC=({user:t,isOpen:e,onClose:r,onSubmit:n,loading:a=!1})=>{const[o,l]=W.useState({email:"",nombre:"",rol:"mecanico",telefono:"",activo:!0}),[u,d]=W.useState({});W.useEffect(()=>{l(t?{email:t.email,nombre:t.nombre,rol:t.rol,telefono:t.telefono||"",activo:t.activo}:{email:"",nombre:"",rol:"mecanico",telefono:"",activo:!0}),d({})},[t,e]);const p=()=>{const y={};return o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(y.email="El email no es válido"):y.email="El email es requerido",o.nombre.trim()?o.nombre.trim().length<2&&(y.nombre="El nombre debe tener al menos 2 caracteres"):y.nombre="El nombre es requerido",o.rol||(y.rol="El rol es requerido"),d(y),Object.keys(y).length===0},m=y=>{if(y.preventDefault(),!p())return;const b={email:o.email.trim(),nombre:o.nombre.trim(),rol:o.rol,telefono:o.telefono.trim()||void 0,...t&&{activo:o.activo}};n(b)},x=(y,b)=>{l(_=>({..._,[y]:b})),u[y]&&d(_=>({..._,[y]:""}))};return e?h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:h.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white",children:h.jsxs("div",{className:"mt-3",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t?"Editar Usuario":"Crear Nuevo Usuario"}),h.jsxs("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:[h.jsx("span",{className:"sr-only",children:"Cerrar"}),h.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),h.jsxs("form",{onSubmit:m,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),h.jsx("input",{type:"email",id:"email",value:o.email,onChange:y=>x("email",y.target.value),className:`input ${u.email?"border-red-500":""}`,placeholder:"usuario@ejemplo.com",disabled:a}),u.email&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo *"}),h.jsx("input",{type:"text",id:"nombre",value:o.nombre,onChange:y=>x("nombre",y.target.value),className:`input ${u.nombre?"border-red-500":""}`,placeholder:"Juan Pérez",disabled:a}),u.nombre&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.nombre})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"rol",className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol *"}),h.jsxs("select",{id:"rol",value:o.rol,onChange:y=>x("rol",y.target.value),className:`input ${u.rol?"border-red-500":""}`,disabled:a,children:[h.jsx("option",{value:"mecanico",children:"Técnico/Mecánico"}),h.jsx("option",{value:"seguimiento",children:"Personal de Seguimiento"}),h.jsx("option",{value:"administrador",children:"Administrador"})]}),u.rol&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.rol}),h.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[o.rol==="administrador"&&"Acceso completo al sistema",o.rol==="mecanico"&&"Gestión de vehículos y servicios",o.rol==="seguimiento"&&"Seguimiento de oportunidades y clientes"]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),h.jsx("input",{type:"tel",id:"telefono",value:o.telefono,onChange:y=>x("telefono",y.target.value),className:"input",placeholder:"+1 234 567 8900",disabled:a})]}),t&&h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:o.activo,onChange:y=>x("activo",y.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:a}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Usuario activo"})]}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Los usuarios inactivos no pueden iniciar sesión en el sistema"})]}),!t&&h.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:h.jsxs("div",{className:"flex",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),h.jsxs("div",{className:"ml-3",children:[h.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Contraseña temporal"}),h.jsx("div",{className:"mt-2 text-sm text-blue-700",children:h.jsx("p",{children:"Se generará automáticamente una contraseña temporal que deberás proporcionar al usuario."})})]})]})}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[h.jsx("button",{type:"button",onClick:r,className:"btn-secondary",disabled:a,children:"Cancelar"}),h.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?"Actualizando...":"Creando..."]}):t?"Actualizar Usuario":"Crear Usuario"})]})]})]})})}):null},gC=({user:t,activities:e,isOpen:r,onClose:n})=>{if(!r||!t)return null;const a=p=>new Date(p).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=p=>{switch(p){case"user_created":return"Usuario creado";case"user_updated":return"Usuario actualizado";case"password_reset":return"Contraseña restablecida";case"login":return"Inicio de sesión";case"logout":return"Cierre de sesión";case"password_changed":return"Contraseña cambiada";default:return p}},l=p=>{switch(p){case"user_created":return"➕";case"user_updated":return"✏️";case"password_reset":return"🔑";case"login":return"🔓";case"logout":return"🔒";case"password_changed":return"🔐";default:return"📝"}},u=p=>{switch(p){case"user_created":return"text-green-600 bg-green-50";case"user_updated":return"text-blue-600 bg-blue-50";case"password_reset":return"text-yellow-600 bg-yellow-50";case"login":return"text-green-600 bg-green-50";case"logout":return"text-gray-600 bg-gray-50";case"password_changed":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},d=p=>{if(!p.detalles)return null;try{const m=typeof p.detalles=="string"?JSON.parse(p.detalles):p.detalles;return h.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[p.accion==="user_updated"&&m.changes&&h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Cambios realizados:"}),h.jsx("ul",{className:"list-disc list-inside ml-2 mt-1",children:Object.entries(m.changes).map(([x,y])=>h.jsxs("li",{children:[h.jsxs("span",{className:"capitalize",children:[x,":"]})," ",String(y)]},x))})]}),p.accion==="user_created"&&m.created_user&&h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Usuario creado:"}),h.jsxs("div",{className:"ml-2 mt-1",children:["Email: ",m.created_user.email,h.jsx("br",{}),"Rol: ",m.created_user.rol]})]}),p.accion==="password_reset"&&m.reset_by&&h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Restablecido por:"})," ",m.reset_by]})]})}catch{return h.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Detalles: ",String(p.detalles)]})}};return h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:h.jsxs("div",{className:"relative top-10 mx-auto p-0 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[h.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-md",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Actividad de Usuario"}),h.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.nombre," (",t.email,")"]})]}),h.jsxs("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:[h.jsx("span",{className:"sr-only",children:"Cerrar"}),h.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),h.jsx("div",{className:"px-6 py-4 max-h-96 overflow-y-auto",children:e.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"📋"}),h.jsx("p",{className:"text-gray-500",children:"No hay actividades registradas para este usuario"})]}):h.jsx("div",{className:"space-y-4",children:e.map(p=>h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${u(p.accion)}`,children:h.jsx("span",{className:"text-sm",children:l(p.accion)})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:o(p.accion)}),h.jsx("p",{className:"text-sm text-gray-500",children:a(p.fecha)}),p.performed_by_name&&h.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Realizado por: ",p.performed_by_name]}),d(p)]})]})}),(p.ip_address||p.user_agent)&&h.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:h.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[p.ip_address&&h.jsxs("div",{children:["IP: ",p.ip_address]}),p.user_agent&&h.jsxs("div",{className:"truncate",children:["Navegador: ",p.user_agent]})]})})]},p.log_id))})}),h.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-3 rounded-b-md",children:h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:n,className:"btn-secondary",children:"Cerrar"})})})]})})},yC=()=>{const[t,e]=W.useState([]),[r,n]=W.useState(null),[a,o]=W.useState(!0),[l,u]=W.useState(""),[d,p]=W.useState(null),[m,x]=W.useState(!1),[y,b]=W.useState(!1),[_,w]=W.useState(!1),[S,T]=W.useState([]),[E,N]=W.useState(""),[D,I]=W.useState(!1),[U,Y]=W.useState({page:1,limit:10}),[q,J]=W.useState({page:1,limit:10,total:0,totalPages:0,hasNext:!1,hasPrev:!1});W.useEffect(()=>{se()},[U]);const se=async()=>{try{o(!0);const[F,ye]=await Promise.all([dC(U),fC()]);e(F.users),J(F.pagination),n(ye)}catch(F){u("Error al cargar datos de usuarios"),console.error(F)}finally{o(!1)}},xe=async F=>{try{const ye=await hC(F);N(ye.temporary_password),I(!0),x(!1),se()}catch(ye){u("Error al crear usuario"),console.error(ye)}},le=async F=>{if(d)try{await pC(d.user_id,F),b(!1),p(null),se()}catch(ye){u("Error al actualizar usuario"),console.error(ye)}},ve=async F=>{try{const ye=await vC(F);N(ye.temporary_password),I(!0)}catch(ye){u("Error al restablecer contraseña"),console.error(ye)}},ue=async F=>{try{p(F);const ye=await mC(F.user_id);T(ye.activities),w(!0)}catch(ye){u("Error al cargar actividades del usuario"),console.error(ye)}},de=F=>{switch(F){case"administrador":return"Administrador";case"mecanico":return"Técnico/Mecánico";case"seguimiento":return"Personal de Seguimiento";default:return F}},P=F=>{switch(F){case"administrador":return"bg-red-100 text-red-800";case"mecanico":return"bg-blue-100 text-blue-800";case"seguimiento":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},oe=F=>new Date(F).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Usuarios"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Administra usuarios del sistema"})]}),l&&h.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),r&&h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.total_usuarios}),h.jsx("div",{className:"text-sm text-gray-600",children:"Total Usuarios"})]}),h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.usuarios_activos}),h.jsx("div",{className:"text-sm text-gray-600",children:"Activos"})]}),h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.passwords_temporales}),h.jsx("div",{className:"text-sm text-gray-600",children:"Contraseñas Temp."})]}),h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.activos_mes}),h.jsx("div",{className:"text-sm text-gray-600",children:"Activos Este Mes"})]})]}),h.jsx("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",className:"input",value:U.search||"",onChange:F=>Y({...U,search:F.target.value,page:1})}),h.jsxs("select",{className:"input",value:U.rol||"",onChange:F=>Y({...U,rol:F.target.value||void 0,page:1}),children:[h.jsx("option",{value:"",children:"Todos los roles"}),h.jsx("option",{value:"administrador",children:"Administrador"}),h.jsx("option",{value:"mecanico",children:"Técnico/Mecánico"}),h.jsx("option",{value:"seguimiento",children:"Personal de Seguimiento"})]}),h.jsxs("select",{className:"input",value:U.activo?.toString()||"",onChange:F=>Y({...U,activo:F.target.value?F.target.value==="true":void 0,page:1}),children:[h.jsx("option",{value:"",children:"Todos los estados"}),h.jsx("option",{value:"true",children:"Activos"}),h.jsx("option",{value:"false",children:"Inactivos"})]})]}),h.jsx("button",{onClick:()=>x(!0),className:"btn-primary whitespace-nowrap",children:"+ Nuevo Usuario"})]})}),h.jsxs("div",{className:"bg-white shadow border rounded-lg overflow-hidden",children:[h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Último Acceso"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(F=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.nombre}),h.jsx("div",{className:"text-sm text-gray-500",children:F.email}),F.password_temp&&h.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Contraseña temporal"})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P(F.rol)}`,children:de(F.rol)})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F.activo?"Activo":"Inactivo"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.ultimo_login?oe(F.ultimo_login):"Nunca"}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[h.jsx("button",{onClick:()=>{p(F),b(!0)},className:"text-blue-600 hover:text-blue-900",children:"Editar"}),h.jsx("button",{onClick:()=>ve(F.user_id),className:"text-yellow-600 hover:text-yellow-900",children:"Reset Password"}),h.jsx("button",{onClick:()=>ue(F),className:"text-green-600 hover:text-green-900",children:"Actividad"})]})]},F.user_id))})]})}),q.totalPages>1&&h.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[h.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",(q.page-1)*q.limit+1," a ",Math.min(q.page*q.limit,q.total)," de ",q.total," usuarios"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>Y({...U,page:q.page-1}),disabled:!q.hasPrev,className:"btn-secondary disabled:opacity-50",children:"Anterior"}),h.jsx("button",{onClick:()=>Y({...U,page:q.page+1}),disabled:!q.hasNext,className:"btn-secondary disabled:opacity-50",children:"Siguiente"})]})]})]}),D&&h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:h.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:h.jsxs("div",{className:"mt-3",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contraseña Temporal Generada"}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded border",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Contraseña temporal:"}),h.jsx("p",{className:"text-lg font-mono font-bold text-blue-600 bg-white p-2 rounded border",children:E})]}),h.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"⚠️ Guarda esta contraseña temporal. El usuario deberá cambiarla en su primer inicio de sesión."}),h.jsx("div",{className:"flex justify-end mt-6",children:h.jsx("button",{onClick:()=>{I(!1),N("")},className:"btn-primary",children:"Entendido"})})]})})}),h.jsx(xC,{user:y?d:void 0,isOpen:m||y,onClose:()=>{x(!1),b(!1),p(null)},onSubmit:y?le:xe,loading:a}),h.jsx(gC,{user:d,activities:S,isOpen:_,onClose:()=>{w(!1),p(null),T([])}})]})};class bC{async getCitasDelDia(e){const r=e?`?fecha=${e}`:"";return(await Se.get(`/reception/citas${r}`)).data}async processWalkInClient(e){return(await Se.post("/reception/walk-in",e)).data}async convertOpportunityToCita(e){return(await Se.post("/reception/convert-opportunity",e)).data}async receptionarCita(e,r){return(await Se.post(`/reception/recepcionar/${e}`,r)).data}async buscarCliente(e){return(await Se.get(`/customers/search?nombre=${encodeURIComponent(e)}`)).data}async getVehiculosCliente(e){return(await Se.get(`/customers/${e}/vehicles`)).data}async buscarVehiculo(e){return(await Se.get(`/vehicles/search?placa=${encodeURIComponent(e)}`)).data}}const ns=new bC,_C=()=>{const[t,e]=W.useState([]),[r,n]=W.useState(!0),[a,o]=W.useState(new Date().toISOString().split("T")[0]),[l,u]=W.useState(!1),[d,p]=W.useState(!1),[m,x]=W.useState(null),[y,b]=W.useState(""),[_,w]=W.useState([]),[S,T]=W.useState(null),[E,N]=W.useState([]),[D,I]=W.useState(!0),[U,Y]=W.useState("nuevo"),[q,J]=W.useState({accion:"servicio_inmediato",cliente_nuevo:{nombre:"",telefono:"",whatsapp:"",email:"",direccion:""},vehiculo_nuevo:{marca:"",modelo:"",año:new Date().getFullYear(),placa_actual:"",color:"",kilometraje_actual:0},servicio_inmediato:{tipo_servicio:"",descripcion:"",precio_estimado:0}}),[se,xe]=W.useState({tipo_servicio:"",descripcion:"",precio_estimado:0,usuario_mecanico:null}),le=async()=>{try{n(!0);const H=await ns.getCitasDelDia(a);e(H.citas)}catch(H){console.error("Error cargando citas:",H),alert("Error cargando citas del día")}finally{n(!1)}},ve=async()=>{if(y.trim().length<2){w([]);return}try{console.log("🔍 Buscando clientes con query:",y);const H=await ns.buscarCliente(y.trim());console.log("📋 Respuesta de búsqueda:",H);const re=H.customers||[];w(re),console.log("✅ Clientes encontrados:",re.length)}catch(H){console.error("❌ Error buscando clientes:",H),w([])}},ue=async H=>{T(H),b(H.nombre),w([]);try{console.log("🚗 Cargando vehículos para cliente:",H.customer_id,H.nombre);const re=await ns.getVehiculosCliente(H.customer_id);console.log("📋 Respuesta de vehículos:",re);const be=re.vehicles||[];N(be),I(!0),console.log("✅ Vehículos encontrados:",be.length),be.length>0&&console.log("🚙 Lista de vehículos:",be)}catch(re){console.error("❌ Error cargando vehículos:",re),N([]),I(!1)}},de=H=>{console.log("🚗 Vehículo seleccionado:",H),J(re=>({...re,cliente_existente_id:S.customer_id,vehiculo_existente_id:H.vehicle_id,cliente_nuevo:void 0,vehiculo_nuevo:void 0})),I(!1),setTimeout(()=>{const re=document.querySelector("h4");re&&re.textContent?.includes("Servicio")&&re.scrollIntoView({behavior:"smooth",block:"center"})},100)},P=W.useCallback(oe(()=>{ve()},500),[y]);W.useEffect(()=>{le()},[a]),W.useEffect(()=>(y.trim().length>=2?P():w([]),()=>{P.cancel&&P.cancel()}),[y,P]);function oe(H,re){let be;const bt=(...Ye)=>{clearTimeout(be),be=setTimeout(()=>H.apply(null,Ye),re)};return bt.cancel=()=>clearTimeout(be),bt}const F=async H=>{H.preventDefault();try{await ns.processWalkInClient(q),alert("Cliente walk-in procesado exitosamente"),u(!1),j(),le()}catch(re){console.error("Error procesando walk-in:",re),alert(re.response?.data?.details||"Error procesando cliente")}},ye=async H=>{if(H.preventDefault(),!!m)try{await ns.receptionarCita(m.opportunity_id,se),alert("Cita recepcionada exitosamente"),p(!1),x(null),ie(),le()}catch(re){console.error("Error recepcionando cita:",re),alert(re.response?.data?.details||"Error recepcionando cita")}},j=()=>{J({accion:"servicio_inmediato",cliente_nuevo:{nombre:"",telefono:"",whatsapp:"",email:"",direccion:""},vehiculo_nuevo:{marca:"",modelo:"",año:new Date().getFullYear(),placa_actual:"",color:"",kilometraje_actual:0},servicio_inmediato:{tipo_servicio:"",descripcion:"",precio_estimado:0}}),b(""),w([]),T(null),N([]),I(!0),Y("nuevo")},ie=()=>{xe({tipo_servicio:"",descripcion:"",precio_estimado:0,usuario_mecanico:null})},me=H=>{const re={opportunity:"bg-blue-100 text-blue-800",llamada_cliente:"bg-green-100 text-green-800",walk_in:"bg-purple-100 text-purple-800",seguimiento:"bg-orange-100 text-orange-800",manual:"bg-gray-100 text-gray-800"},be={opportunity:"Seguimiento",llamada_cliente:"Llamada",walk_in:"Walk-in",seguimiento:"Seguimiento",manual:"Manual"},bt=re[H]||"bg-gray-100 text-gray-800",Ye=be[H]||H;return h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${bt}`,children:Ye})},pe=H=>H==="cita_rapida"?h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Datos Incompletos"}):h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Datos Completos"});return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recepción"}),h.jsx("p",{className:"text-gray-600",children:"Gestión de llegada de clientes y citas"})]}),h.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[h.jsx("span",{className:"mr-2",children:"👤"}),"Cliente Walk-In"]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Fecha"}),h.jsx("input",{id:"date",type:"date",value:a,onChange:H=>o(H.target.value),className:"mt-1 block w-48 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsx("div",{className:"bg-white shadow rounded-lg",children:h.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[h.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["📅 Citas del Día - ",new Date(a).toLocaleDateString("es-MX")]}),r?h.jsx("p",{children:"Cargando citas..."}):t.length===0?h.jsx("p",{className:"text-gray-500",children:"No hay citas programadas para este día"}):h.jsx("div",{className:"space-y-4",children:t.map(H=>h.jsx("div",{className:"border border-gray-200 rounded-lg p-4 border-l-4 border-l-blue-500",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{children:"⏰"}),h.jsx("span",{className:"font-semibold",children:H.cita_hora})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{children:"👤"}),h.jsx("span",{children:H.cita_nombre_contacto})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{children:"📞"}),h.jsx("span",{children:H.cita_telefono_contacto})]})]}),h.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[h.jsx("span",{children:"🚗"}),h.jsx("span",{children:H.cita_descripcion_breve})]}),H.placa_actual&&h.jsxs("div",{className:"text-sm text-gray-600",children:[H.marca," ",H.modelo," - ",H.placa_actual]}),h.jsxs("div",{className:"flex gap-2",children:[me(H.origen_cita),pe(H.tipo_cita)]})]}),h.jsx("div",{className:"flex gap-2",children:H.tipo_cita==="cita_completa"?h.jsxs("button",{onClick:()=>{x(H),p(!0)},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[h.jsx("span",{className:"mr-1",children:"✅"}),"Recepcionar"]}):h.jsx("button",{disabled:!0,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-400 bg-gray-100 cursor-not-allowed",children:"Completar Datos Primero"})})]})},H.opportunity_id))})]})}),l&&h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:h.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:h.jsxs("div",{className:"mt-3",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cliente Walk-In"}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Procesar cliente que llegó sin cita previa"}),h.jsxs("form",{onSubmit:F,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Cliente"}),h.jsxs("div",{className:"flex space-x-4 mb-4",children:[h.jsxs("label",{className:"inline-flex items-center",children:[h.jsx("input",{type:"radio",value:"nuevo",checked:U==="nuevo",onChange:H=>{const re=H.target.value;Y(re),b(""),w([]),T(null),N([]),J(be=>({...be,cliente_existente_id:void 0,vehiculo_existente_id:void 0,cliente_nuevo:re==="nuevo"?be.cliente_nuevo:void 0,vehiculo_nuevo:be.vehiculo_nuevo}))},className:"form-radio h-4 w-4 text-blue-600"}),h.jsx("span",{className:"ml-2 text-sm",children:"Cliente Nuevo"})]}),h.jsxs("label",{className:"inline-flex items-center",children:[h.jsx("input",{type:"radio",value:"existente",checked:U==="existente",onChange:H=>{const re=H.target.value;Y(re),b(""),w([]),T(null),N([]),J(be=>({...be,cliente_existente_id:void 0,vehiculo_existente_id:void 0,cliente_nuevo:re==="nuevo"?be.cliente_nuevo:void 0,vehiculo_nuevo:be.vehiculo_nuevo}))},className:"form-radio h-4 w-4 text-blue-600"}),h.jsx("span",{className:"ml-2 text-sm",children:"Cliente Existente"})]})]}),U==="existente"?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buscar Cliente"}),h.jsx("input",{type:"text",value:y,onChange:H=>b(H.target.value),placeholder:"Buscar por nombre o teléfono... (mín. 2 caracteres)",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),_.length>0&&h.jsx("div",{className:"mt-2 border border-gray-300 rounded-md shadow-sm max-h-40 overflow-y-auto",children:_.map(H=>h.jsxs("div",{onClick:()=>ue(H),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",children:[h.jsx("div",{className:"font-medium text-sm",children:H.nombre}),h.jsx("div",{className:"text-xs text-gray-600",children:H.telefono})]},H.customer_id))})]}),S&&h.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[h.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Cliente Seleccionado:"}),h.jsx("div",{className:"text-sm text-blue-800",children:S.nombre}),h.jsx("div",{className:"text-xs text-blue-700",children:S.telefono})]})]}):h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre *"}),h.jsx("input",{type:"text",required:!0,value:q.cliente_nuevo?.nombre||"",onChange:H=>J(re=>({...re,cliente_nuevo:{...re.cliente_nuevo,nombre:H.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teléfono *"}),h.jsx("input",{type:"tel",required:!0,value:q.cliente_nuevo?.telefono||"",onChange:H=>J(re=>({...re,cliente_nuevo:{...re.cliente_nuevo,telefono:H.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Vehículo"}),U==="existente"&&S?h.jsxs("div",{className:"space-y-4",children:[E.length>0?h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccionar Vehículo del Cliente"}),h.jsx("button",{type:"button",onClick:()=>I(!D),className:"text-xs text-blue-600 hover:text-blue-800",children:D?"▼ Ocultar":"▶ Mostrar"})]}),D&&h.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:E.map(H=>h.jsxs("div",{onClick:()=>de(H),className:`p-3 border rounded-md cursor-pointer hover:bg-gray-50 ${q.vehiculo_existente_id===H.vehicle_id?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[h.jsxs("div",{className:"font-medium text-sm",children:[H.marca," ",H.modelo," ",H.año]}),h.jsxs("div",{className:"text-xs text-gray-600",children:["Placas: ",H.placa_actual," • KM: ",H.kilometraje_actual]})]},H.vehicle_id))}),h.jsx("div",{className:"mt-3 pt-3 border-t",children:h.jsxs("label",{className:"inline-flex items-center",children:[h.jsx("input",{type:"checkbox",checked:!q.vehiculo_existente_id,onChange:H=>{H.target.checked&&J(re=>({...re,vehiculo_existente_id:void 0,vehiculo_nuevo:{marca:"",modelo:"",año:new Date().getFullYear(),placa_actual:"",color:"",kilometraje_actual:0}}))},className:"form-checkbox h-4 w-4 text-blue-600"}),h.jsx("span",{className:"ml-2 text-sm",children:"Es un vehículo nuevo del cliente"})]})})]}):h.jsx("div",{className:"bg-yellow-50 p-3 rounded-md",children:h.jsx("div",{className:"text-sm text-yellow-800",children:"Este cliente no tiene vehículos registrados. Se registrará un nuevo vehículo."})}),q.vehiculo_existente_id&&h.jsx("div",{className:"bg-green-50 p-4 rounded-md border border-green-200",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),h.jsxs("div",{className:"ml-3",children:[h.jsx("div",{className:"text-sm font-medium text-green-800",children:"Vehículo Seleccionado:"}),(()=>{const H=E.find(re=>re.vehicle_id===q.vehiculo_existente_id);return H?h.jsxs("div",{className:"text-sm text-green-700",children:[H.marca," ",H.modelo," ",H.año," - Placas: ",H.placa_actual]}):null})()]})]})}),(E.length===0||!q.vehiculo_existente_id)&&h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marca *"}),h.jsx("input",{type:"text",required:!0,value:q.vehiculo_nuevo?.marca||"",onChange:H=>J(re=>({...re,vehiculo_nuevo:{...re.vehiculo_nuevo,marca:H.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modelo *"}),h.jsx("input",{type:"text",required:!0,value:q.vehiculo_nuevo?.modelo||"",onChange:H=>J(re=>({...re,vehiculo_nuevo:{...re.vehiculo_nuevo,modelo:H.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Año *"}),h.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:q.vehiculo_nuevo?.año||new Date().getFullYear(),onChange:H=>J(re=>({...re,vehiculo_nuevo:{...re.vehiculo_nuevo,año:parseInt(H.target.value)}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Placas *"}),h.jsx("input",{type:"text",required:!0,value:q.vehiculo_nuevo?.placa_actual||"",onChange:H=>J(re=>({...re,vehiculo_nuevo:{...re.vehiculo_nuevo,placa_actual:H.target.value.toUpperCase()}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}):h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marca *"}),h.jsx("input",{type:"text",required:!0,value:q.vehiculo_nuevo?.marca||"",onChange:H=>J(re=>({...re,vehiculo_nuevo:{...re.vehiculo_nuevo,marca:H.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modelo *"}),h.jsx("input",{type:"text",required:!0,value:q.vehiculo_nuevo?.modelo||"",onChange:H=>J(re=>({...re,vehiculo_nuevo:{...re.vehiculo_nuevo,modelo:H.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Año *"}),h.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:q.vehiculo_nuevo?.año||new Date().getFullYear(),onChange:H=>J(re=>({...re,vehiculo_nuevo:{...re.vehiculo_nuevo,año:parseInt(H.target.value)}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Placas *"}),h.jsx("input",{type:"text",required:!0,value:q.vehiculo_nuevo?.placa_actual||"",onChange:H=>J(re=>({...re,vehiculo_nuevo:{...re.vehiculo_nuevo,placa_actual:H.target.value.toUpperCase()}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Servicio"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"¿Qué quiere hacer el cliente?"}),h.jsxs("select",{value:q.accion,onChange:H=>J(re=>({...re,accion:H.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[h.jsx("option",{value:"servicio_inmediato",children:"Servicio inmediato"}),h.jsx("option",{value:"agendar_cita",children:"Agendar cita para después"})]})]}),q.accion==="servicio_inmediato"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de servicio *"}),h.jsx("input",{type:"text",required:!0,value:q.servicio_inmediato?.tipo_servicio||"",onChange:H=>J(re=>({...re,servicio_inmediato:{...re.servicio_inmediato,tipo_servicio:H.target.value}})),placeholder:"Ej: Cambio de aceite, Reparación de frenos...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción"}),h.jsx("textarea",{value:q.servicio_inmediato?.descripcion||"",onChange:H=>J(re=>({...re,servicio_inmediato:{...re.servicio_inmediato,descripcion:H.target.value}})),placeholder:"Detalles del servicio requerido...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3})]})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),h.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:q.accion==="servicio_inmediato"?"Crear Servicio":"Agendar Cita"})]})]})]})})}),d&&m&&h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:h.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/3 shadow-lg rounded-md bg-white",children:h.jsxs("div",{className:"mt-3",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recepcionar Cita"}),h.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Cliente: ",m.cita_nombre_contacto," - ",m.cita_descripcion_breve]}),h.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de servicio"}),h.jsx("input",{type:"text",value:se.tipo_servicio,onChange:H=>xe(re=>({...re,tipo_servicio:H.target.value})),placeholder:m.cita_descripcion_breve,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción detallada"}),h.jsx("textarea",{value:se.descripcion,onChange:H=>xe(re=>({...re,descripcion:H.target.value})),placeholder:"Detalles del diagnóstico y trabajo a realizar...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Precio estimado"}),h.jsx("input",{type:"number",min:"0",step:"0.01",value:se.precio_estimado,onChange:H=>xe(re=>({...re,precio_estimado:parseFloat(H.target.value)||0})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),h.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Crear Servicio"})]})]})]})})})]})},wC=()=>{const[t,e]=W.useState("dashboard");W.useEffect(()=>{const l=u=>{e(u.detail)};return window.addEventListener("navigate",l),()=>window.removeEventListener("navigate",l)},[]);const[r,n]=W.useState(!1),a=()=>{console.log("🎯 MainApp: Navigating to vehicle creation form"),n(!0),e("vehicles")},o=()=>{switch(t){case"appointments":return h.jsx(oE,{});case"vehicles":return h.jsx(eC,{initialMode:r?"create":"search",onModeUsed:()=>n(!1)});case"customers":return h.jsx(nC,{});case"opportunities":return h.jsx(lC,{});case"services":return h.jsx(cC,{});case"reminders":return h.jsx(uC,{});case"reception":return h.jsx(_C,{});case"users":return h.jsx(yC,{});default:return h.jsx(iE,{onNavigate:e,onNavigateToVehicleForm:a})}};return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(nE,{currentPage:t,onPageChange:e}),o()]})},AC=new sb({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function EC(){const{user:t,isLoading:e}=bn();return e?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):t?h.jsx(wC,{}):h.jsx(rE,{})}function SC(){return h.jsx(cb,{client:AC,children:h.jsx(z_,{children:h.jsx(EC,{})})})}k2.createRoot(document.getElementById("root")).render(h.jsx(W.StrictMode,{children:h.jsx(SC,{})}));
