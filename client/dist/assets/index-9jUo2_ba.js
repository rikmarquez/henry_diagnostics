(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function D2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kf={exports:{}},Ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function R2(){if(ep)return Ws;ep=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Ws.Fragment=e,Ws.jsx=r,Ws.jsxs=r,Ws}var tp;function I2(){return tp||(tp=1,kf.exports=R2()),kf.exports}var f=I2(),Ff={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function M2(){if(rp)return Le;rp=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function N(I,X,de){this.props=I,this.context=X,this.refs=_,this.updater=de||b}N.prototype.isReactComponent={},N.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function C(){}C.prototype=N.prototype;function E(I,X,de){this.props=I,this.context=X,this.refs=_,this.updater=de||b}var O=E.prototype=new C;O.constructor=E,w(O,N.prototype),O.isPureReactComponent=!0;var j=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function K(I,X,de,pe,U,L){return de=L.ref,{$$typeof:t,type:I,key:X,ref:de!==void 0?de:null,props:L}}function W(I,X){return K(I.type,X,void 0,void 0,void 0,I.props)}function J(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function Z(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(de){return X[de]})}var ve=/\/+/g;function se(I,X){return typeof I=="object"&&I!==null&&I.key!=null?Z(""+I.key):X.toString(36)}function he(){}function ce(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(he,he):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function xe(I,X,de,pe,U){var L=typeof I;(L==="undefined"||L==="boolean")&&(I=null);var fe=!1;if(I===null)fe=!0;else switch(L){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(I.$$typeof){case t:case e:fe=!0;break;case x:return fe=I._init,xe(fe(I._payload),X,de,pe,U)}}if(fe)return U=U(I),fe=pe===""?"."+se(I,0):pe,j(U)?(de="",fe!=null&&(de=fe.replace(ve,"$&/")+"/"),xe(U,X,de,"",function(Gt){return Gt})):U!=null&&(J(U)&&(U=W(U,de+(U.key==null||I&&I.key===U.key?"":(""+U.key).replace(ve,"$&/")+"/")+fe)),X.push(U)),1;fe=0;var Ze=pe===""?".":pe+":";if(j(I))for(var Xe=0;Xe<I.length;Xe++)pe=I[Xe],L=Ze+se(pe,Xe),fe+=xe(pe,X,de,L,U);else if(Xe=y(I),typeof Xe=="function")for(I=Xe.call(I),Xe=0;!(pe=I.next()).done;)pe=pe.value,L=Ze+se(pe,Xe++),fe+=xe(pe,X,de,L,U);else if(L==="object"){if(typeof I.then=="function")return xe(ce(I),X,de,pe,U);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return fe}function P(I,X,de){if(I==null)return I;var pe=[],U=0;return xe(I,pe,"","",function(L){return X.call(de,L,U++)}),pe}function ue(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(de){(I._status===0||I._status===-1)&&(I._status=1,I._result=de)},function(de){(I._status===0||I._status===-1)&&(I._status=2,I._result=de)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var ae=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function we(){}return Le.Children={map:P,forEach:function(I,X,de){P(I,function(){X.apply(this,arguments)},de)},count:function(I){var X=0;return P(I,function(){X++}),X},toArray:function(I){return P(I,function(X){return X})||[]},only:function(I){if(!J(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Le.Component=N,Le.Fragment=r,Le.Profiler=a,Le.PureComponent=E,Le.StrictMode=n,Le.Suspense=h,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Le.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},Le.cache=function(I){return function(){return I.apply(null,arguments)}},Le.cloneElement=function(I,X,de){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var pe=w({},I.props),U=I.key,L=void 0;if(X!=null)for(fe in X.ref!==void 0&&(L=void 0),X.key!==void 0&&(U=""+X.key),X)!k.call(X,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&X.ref===void 0||(pe[fe]=X[fe]);var fe=arguments.length-2;if(fe===1)pe.children=de;else if(1<fe){for(var Ze=Array(fe),Xe=0;Xe<fe;Xe++)Ze[Xe]=arguments[Xe+2];pe.children=Ze}return K(I.type,U,void 0,void 0,L,pe)},Le.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},Le.createElement=function(I,X,de){var pe,U={},L=null;if(X!=null)for(pe in X.key!==void 0&&(L=""+X.key),X)k.call(X,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(U[pe]=X[pe]);var fe=arguments.length-2;if(fe===1)U.children=de;else if(1<fe){for(var Ze=Array(fe),Xe=0;Xe<fe;Xe++)Ze[Xe]=arguments[Xe+2];U.children=Ze}if(I&&I.defaultProps)for(pe in fe=I.defaultProps,fe)U[pe]===void 0&&(U[pe]=fe[pe]);return K(I,L,void 0,void 0,null,U)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(I){return{$$typeof:u,render:I}},Le.isValidElement=J,Le.lazy=function(I){return{$$typeof:x,_payload:{_status:-1,_result:I},_init:ue}},Le.memo=function(I,X){return{$$typeof:m,type:I,compare:X===void 0?null:X}},Le.startTransition=function(I){var X=R.T,de={};R.T=de;try{var pe=I(),U=R.S;U!==null&&U(de,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(we,ae)}catch(L){ae(L)}finally{R.T=X}},Le.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Le.use=function(I){return R.H.use(I)},Le.useActionState=function(I,X,de){return R.H.useActionState(I,X,de)},Le.useCallback=function(I,X){return R.H.useCallback(I,X)},Le.useContext=function(I){return R.H.useContext(I)},Le.useDebugValue=function(){},Le.useDeferredValue=function(I,X){return R.H.useDeferredValue(I,X)},Le.useEffect=function(I,X,de){var pe=R.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(I,X)},Le.useId=function(){return R.H.useId()},Le.useImperativeHandle=function(I,X,de){return R.H.useImperativeHandle(I,X,de)},Le.useInsertionEffect=function(I,X){return R.H.useInsertionEffect(I,X)},Le.useLayoutEffect=function(I,X){return R.H.useLayoutEffect(I,X)},Le.useMemo=function(I,X){return R.H.useMemo(I,X)},Le.useOptimistic=function(I,X){return R.H.useOptimistic(I,X)},Le.useReducer=function(I,X,de){return R.H.useReducer(I,X,de)},Le.useRef=function(I){return R.H.useRef(I)},Le.useState=function(I){return R.H.useState(I)},Le.useSyncExternalStore=function(I,X,de){return R.H.useSyncExternalStore(I,X,de)},Le.useTransition=function(){return R.H.useTransition()},Le.version="19.1.0",Le}var np;function Ld(){return np||(np=1,Ff.exports=M2()),Ff.exports}var z=Ld();const ln=D2(z);var Uf={exports:{}},Qs={},zf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function B2(){return ap||(ap=1,function(t){function e(P,ue){var ae=P.length;P.push(ue);e:for(;0<ae;){var we=ae-1>>>1,I=P[we];if(0<a(I,ue))P[we]=ue,P[ae]=I,ae=we;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var ue=P[0],ae=P.pop();if(ae!==ue){P[0]=ae;e:for(var we=0,I=P.length,X=I>>>1;we<X;){var de=2*(we+1)-1,pe=P[de],U=de+1,L=P[U];if(0>a(pe,ae))U<I&&0>a(L,pe)?(P[we]=L,P[U]=ae,we=U):(P[we]=pe,P[de]=ae,we=de);else if(U<I&&0>a(L,ae))P[we]=L,P[U]=ae,we=U;else break e}}return ue}function a(P,ue){var ae=P.sortIndex-ue.sortIndex;return ae!==0?ae:P.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],x=1,v=null,y=3,b=!1,w=!1,_=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function j(P){for(var ue=r(m);ue!==null;){if(ue.callback===null)n(m);else if(ue.startTime<=P)n(m),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=r(m)}}function R(P){if(_=!1,j(P),!w)if(r(h)!==null)w=!0,k||(k=!0,se());else{var ue=r(m);ue!==null&&xe(R,ue.startTime-P)}}var k=!1,K=-1,W=5,J=-1;function Z(){return N?!0:!(t.unstable_now()-J<W)}function ve(){if(N=!1,k){var P=t.unstable_now();J=P;var ue=!0;try{e:{w=!1,_&&(_=!1,E(K),K=-1),b=!0;var ae=y;try{t:{for(j(P),v=r(h);v!==null&&!(v.expirationTime>P&&Z());){var we=v.callback;if(typeof we=="function"){v.callback=null,y=v.priorityLevel;var I=we(v.expirationTime<=P);if(P=t.unstable_now(),typeof I=="function"){v.callback=I,j(P),ue=!0;break t}v===r(h)&&n(h),j(P)}else n(h);v=r(h)}if(v!==null)ue=!0;else{var X=r(m);X!==null&&xe(R,X.startTime-P),ue=!1}}break e}finally{v=null,y=ae,b=!1}ue=void 0}}finally{ue?se():k=!1}}}var se;if(typeof O=="function")se=function(){O(ve)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ce=he.port2;he.port1.onmessage=ve,se=function(){ce.postMessage(null)}}else se=function(){C(ve,0)};function xe(P,ue){K=C(function(){P(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(P){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var ae=y;y=ue;try{return P()}finally{y=ae}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(P,ue){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ae=y;y=P;try{return ue()}finally{y=ae}},t.unstable_scheduleCallback=function(P,ue,ae){var we=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?we+ae:we):ae=we,P){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ae+I,P={id:x++,callback:ue,priorityLevel:P,startTime:ae,expirationTime:I,sortIndex:-1},ae>we?(P.sortIndex=ae,e(m,P),r(h)===null&&P===r(m)&&(_?(E(K),K=-1):_=!0,xe(R,ae-we))):(P.sortIndex=I,e(h,P),w||b||(w=!0,k||(k=!0,se()))),P},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(P){var ue=y;return function(){var ae=y;y=ue;try{return P.apply(this,arguments)}finally{y=ae}}}}(Vf)),Vf}var ip;function P2(){return ip||(ip=1,zf.exports=B2()),zf.exports}var Hf={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function L2(){if(sp)return cr;sp=1;var t=Ld();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:m,implementation:x}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,cr.createPortal=function(h,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(h,m,null,x)},cr.flushSync=function(h){var m=l.T,x=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=m,n.p=x,n.d.f()}},cr.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},cr.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},cr.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var x=m.as,v=u(x,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:b}):x==="script"&&n.d.X(h,{crossOrigin:v,integrity:y,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},cr.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=u(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},cr.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=u(x,m.crossOrigin);n.d.L(h,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},cr.preloadModule=function(h,m){if(typeof h=="string")if(m){var x=u(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},cr.requestFormReset=function(h){n.d.r(h)},cr.unstable_batchedUpdates=function(h,m){return h(m)},cr.useFormState=function(h,m,x){return l.H.useFormState(h,m,x)},cr.useFormStatus=function(){return l.H.useHostTransitionStatus()},cr.version="19.1.0",cr}var op;function k2(){if(op)return Hf.exports;op=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hf.exports=L2(),Hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function F2(){if(lp)return Qs;lp=1;var t=P2(),e=Ld(),r=k2();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,d=o;;){var p=c.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===c)return u(p),i;if(g===d)return u(p),o;g=g.sibling}throw Error(n(188))}if(c.return!==d.return)c=p,d=g;else{for(var A=!1,S=p.child;S;){if(S===c){A=!0,c=p,d=g;break}if(S===d){A=!0,d=p,c=g;break}S=S.sibling}if(!A){for(S=g.child;S;){if(S===c){A=!0,c=g,d=p;break}if(S===d){A=!0,d=g,c=p;break}S=S.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==d)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function se(i){return i===null||typeof i!="object"?null:(i=ve&&i[ve]||i["@@iterator"],typeof i=="function"?i:null)}var he=Symbol.for("react.client.reference");function ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===he?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case k:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case O:return(i.displayName||"Context")+".Provider";case E:return(i._context.displayName||"Context")+".Consumer";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return o=i.displayName||null,o!==null?o:ce(i.type)||"Memo";case W:o=i._payload,i=i._init;try{return ce(i(o))}catch{}}return null}var xe=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},we=[],I=-1;function X(i){return{current:i}}function de(i){0>I||(i.current=we[I],we[I]=null,I--)}function pe(i,o){I++,we[I]=i.current,i.current=o}var U=X(null),L=X(null),fe=X(null),Ze=X(null);function Xe(i,o){switch(pe(fe,o),pe(L,i),pe(U,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Om(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Om(o),i=Tm(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}de(U),pe(U,i)}function Gt(){de(U),de(L),de(fe)}function tn(i){i.memoizedState!==null&&pe(Ze,i);var o=U.current,c=Tm(o,i.type);o!==c&&(pe(L,i),pe(U,c))}function qn(i){L.current===i&&(de(U),de(L)),Ze.current===i&&(de(Ze),Xs._currentValue=ae)}var le=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Ke=t.unstable_cancelCallback,rn=t.unstable_shouldYield,Na=t.unstable_requestPaint,hr=t.unstable_now,u0=t.unstable_getCurrentPriorityLevel,ts=t.unstable_ImmediatePriority,M=t.unstable_UserBlockingPriority,q=t.unstable_NormalPriority,re=t.unstable_LowPriority,be=t.unstable_IdlePriority,ye=t.log,me=t.unstable_setDisableYieldValue,Se=null,Me=null;function Ge(i){if(typeof ye=="function"&&me(i),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Se,i)}catch{}}var ht=Math.clz32?Math.clz32:Nc,ai=Math.log,vn=Math.LN2;function Nc(i){return i>>>=0,i===0?32:31-(ai(i)/vn|0)|0}var $n=256,Yn=4194304;function On(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Sa(i,o,c){var d=i.pendingLanes;if(d===0)return 0;var p=0,g=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var S=d&134217727;return S!==0?(d=S&~g,d!==0?p=On(d):(A&=S,A!==0?p=On(A):c||(c=S&~i,c!==0&&(p=On(c))))):(S=d&~g,S!==0?p=On(S):A!==0?p=On(A):c||(c=d&~i,c!==0&&(p=On(c)))),p===0?0:o!==0&&o!==p&&(o&g)===0&&(g=p&-p,c=o&-o,g>=c||g===32&&(c&4194048)!==0)?o:p}function Ca(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function No(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f0(){var i=$n;return $n<<=1,($n&4194048)===0&&($n=256),i}function d0(){var i=Yn;return Yn<<=1,(Yn&62914560)===0&&(Yn=4194304),i}function Sc(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function rs(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function yg(i,o,c,d,p,g){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var S=i.entanglements,D=i.expirationTimes,H=i.hiddenUpdates;for(c=A&~c;0<c;){var te=31-ht(c),ie=1<<te;S[te]=0,D[te]=-1;var $=H[te];if($!==null)for(H[te]=null,te=0;te<$.length;te++){var Y=$[te];Y!==null&&(Y.lane&=-536870913)}c&=~ie}d!==0&&h0(i,d,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(A&~o))}function h0(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var d=31-ht(o);i.entangledLanes|=o,i.entanglements[d]=i.entanglements[d]|1073741824|c&4194090}function m0(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var d=31-ht(c),p=1<<d;p&o|i[d]&o&&(i[d]|=o),c&=~p}}function Cc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function p0(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:$m(i.type))}function bg(i,o){var c=ue.p;try{return ue.p=i,o()}finally{ue.p=c}}var Kn=Math.random().toString(36).slice(2),or="__reactFiber$"+Kn,_r="__reactProps$"+Kn,ii="__reactContainer$"+Kn,Tc="__reactEvents$"+Kn,_g="__reactListeners$"+Kn,wg="__reactHandles$"+Kn,x0="__reactResources$"+Kn,ns="__reactMarker$"+Kn;function jc(i){delete i[or],delete i[_r],delete i[Tc],delete i[_g],delete i[wg]}function si(i){var o=i[or];if(o)return o;for(var c=i.parentNode;c;){if(o=c[ii]||c[or]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Im(i);i!==null;){if(c=i[or])return c;i=Im(i)}return o}i=c,c=i.parentNode}return null}function oi(i){if(i=i[or]||i[ii]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function as(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function li(i){var o=i[x0];return o||(o=i[x0]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Zt(i){i[ns]=!0}var v0=new Set,g0={};function Oa(i,o){ci(i,o),ci(i+"Capture",o)}function ci(i,o){for(g0[i]=o,i=0;i<o.length;i++)v0.add(o[i])}var Ag=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),y0={},b0={};function Eg(i){return le.call(b0,i)?!0:le.call(y0,i)?!1:Ag.test(i)?b0[i]=!0:(y0[i]=!0,!1)}function So(i,o,c){if(Eg(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Co(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function Tn(i,o,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+d)}}var Dc,_0;function ui(i){if(Dc===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Dc=o&&o[1]||"",_0=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dc+i+_0}var Rc=!1;function Ic(i,o){if(!i||Rc)return"";Rc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Y){var $=Y}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Y){$=Y}i.call(ie.prototype)}}else{try{throw Error()}catch(Y){$=Y}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=d.DetermineComponentFrameRoot(),A=g[0],S=g[1];if(A&&S){var D=A.split(`
`),H=S.split(`
`);for(p=d=0;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;for(;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;if(d===D.length||p===H.length)for(d=D.length-1,p=H.length-1;1<=d&&0<=p&&D[d]!==H[p];)p--;for(;1<=d&&0<=p;d--,p--)if(D[d]!==H[p]){if(d!==1||p!==1)do if(d--,p--,0>p||D[d]!==H[p]){var te=`
`+D[d].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=d&&0<=p);break}}}finally{Rc=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ui(c):""}function Ng(i){switch(i.tag){case 26:case 27:case 5:return ui(i.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Ic(i.type,!1);case 11:return Ic(i.type.render,!1);case 1:return Ic(i.type,!0);case 31:return ui("Activity");default:return""}}function w0(i){try{var o="";do o+=Ng(i),i=i.return;while(i);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Vr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function A0(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Sg(i){var o=A0(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(A){d=""+A,g.call(this,A)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Oo(i){i._valueTracker||(i._valueTracker=Sg(i))}function E0(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return i&&(d=A0(i)?i.checked?"true":"false":i.value),i=d,i!==c?(o.setValue(i),!0):!1}function To(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Cg=/[\n"\\]/g;function Hr(i){return i.replace(Cg,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mc(i,o,c,d,p,g,A,S){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Vr(o)):i.value!==""+Vr(o)&&(i.value=""+Vr(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?Bc(i,A,Vr(o)):c!=null?Bc(i,A,Vr(c)):d!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Vr(S):i.removeAttribute("name")}function N0(i,o,c,d,p,g,A,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),o!=null||c!=null){if(!(g!=="submit"&&g!=="reset"||o!=null))return;c=c!=null?""+Vr(c):"",o=o!=null?""+Vr(o):c,S||o===i.value||(i.value=o),i.defaultValue=o}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=S?i.checked:!!d,i.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function Bc(i,o,c){o==="number"&&To(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function fi(i,o,c,d){if(i=i.options,o){o={};for(var p=0;p<c.length;p++)o["$"+c[p]]=!0;for(c=0;c<i.length;c++)p=o.hasOwnProperty("$"+i[c].value),i[c].selected!==p&&(i[c].selected=p),p&&d&&(i[c].defaultSelected=!0)}else{for(c=""+Vr(c),o=null,p=0;p<i.length;p++){if(i[p].value===c){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function S0(i,o,c){if(o!=null&&(o=""+Vr(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+Vr(c):""}function C0(i,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(n(92));if(xe(d)){if(1<d.length)throw Error(n(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Vr(o),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d)}function di(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Og=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function O0(i,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":d?i.setProperty(o,c):typeof c!="number"||c===0||Og.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function T0(i,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in o)d=o[p],o.hasOwnProperty(p)&&c[p]!==d&&O0(i,p,d)}else for(var g in o)o.hasOwnProperty(g)&&O0(i,g,o[g])}function Pc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(i){return jg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Lc=null;function kc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hi=null,mi=null;function j0(i){var o=oi(i);if(o&&(i=o.stateNode)){var c=i[_r]||null;e:switch(i=o.stateNode,o.type){case"input":if(Mc(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Hr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==i&&d.form===i.form){var p=d[_r]||null;if(!p)throw Error(n(90));Mc(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===i.form&&E0(d)}break e;case"textarea":S0(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&fi(i,!!c.multiple,o,!1)}}}var Fc=!1;function D0(i,o,c){if(Fc)return i(o,c);Fc=!0;try{var d=i(o);return d}finally{if(Fc=!1,(hi!==null||mi!==null)&&(pl(),hi&&(o=hi,i=mi,mi=hi=null,j0(o),i)))for(o=0;o<i.length;o++)j0(i[o])}}function is(i,o){var c=i.stateNode;if(c===null)return null;var d=c[_r]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uc=!1;if(jn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Uc=!1}var Wn=null,zc=null,Do=null;function R0(){if(Do)return Do;var i,o=zc,c=o.length,d,p="value"in Wn?Wn.value:Wn.textContent,g=p.length;for(i=0;i<c&&o[i]===p[i];i++);var A=c-i;for(d=1;d<=A&&o[c-d]===p[g-d];d++);return Do=p.slice(i,1<d?1-d:void 0)}function Ro(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Io(){return!0}function I0(){return!1}function wr(i){function o(c,d,p,g,A){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(c=i[S],this[S]=c?c(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Io:I0,this.isPropagationStopped=I0,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),o}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=wr(Ta),os=x({},Ta,{view:0,detail:0}),Dg=wr(os),Vc,Hc,ls,Bo=x({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ls&&(ls&&i.type==="mousemove"?(Vc=i.screenX-ls.screenX,Hc=i.screenY-ls.screenY):Hc=Vc=0,ls=i),Vc)},movementY:function(i){return"movementY"in i?i.movementY:Hc}}),M0=wr(Bo),Rg=x({},Bo,{dataTransfer:0}),Ig=wr(Rg),Mg=x({},os,{relatedTarget:0}),Gc=wr(Mg),Bg=x({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),Pg=wr(Bg),Lg=x({},Ta,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kg=wr(Lg),Fg=x({},Ta,{data:0}),B0=wr(Fg),Ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hg(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Vg[i])?!!o[i]:!1}function Zc(){return Hg}var Gg=x({},os,{key:function(i){if(i.key){var o=Ug[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zg[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zc,charCode:function(i){return i.type==="keypress"?Ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zg=wr(Gg),Xg=x({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P0=wr(Xg),qg=x({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zc}),$g=wr(qg),Yg=x({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kg=wr(Yg),Wg=x({},Bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qg=wr(Wg),Jg=x({},Ta,{newState:0,oldState:0}),ey=wr(Jg),ty=[9,13,27,32],Xc=jn&&"CompositionEvent"in window,cs=null;jn&&"documentMode"in document&&(cs=document.documentMode);var ry=jn&&"TextEvent"in window&&!cs,L0=jn&&(!Xc||cs&&8<cs&&11>=cs),k0=" ",F0=!1;function U0(i,o){switch(i){case"keyup":return ty.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pi=!1;function ny(i,o){switch(i){case"compositionend":return z0(o);case"keypress":return o.which!==32?null:(F0=!0,k0);case"textInput":return i=o.data,i===k0&&F0?null:i;default:return null}}function ay(i,o){if(pi)return i==="compositionend"||!Xc&&U0(i,o)?(i=R0(),Do=zc=Wn=null,pi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return L0&&o.locale!=="ko"?null:o.data;default:return null}}var iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!iy[i.type]:o==="textarea"}function H0(i,o,c,d){hi?mi?mi.push(d):mi=[d]:hi=d,o=_l(o,"onChange"),0<o.length&&(c=new Mo("onChange","change",null,c,d),i.push({event:c,listeners:o}))}var us=null,fs=null;function sy(i){Am(i,0)}function Po(i){var o=as(i);if(E0(o))return i}function G0(i,o){if(i==="change")return o}var Z0=!1;if(jn){var qc;if(jn){var $c="oninput"in document;if(!$c){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),$c=typeof X0.oninput=="function"}qc=$c}else qc=!1;Z0=qc&&(!document.documentMode||9<document.documentMode)}function q0(){us&&(us.detachEvent("onpropertychange",$0),fs=us=null)}function $0(i){if(i.propertyName==="value"&&Po(fs)){var o=[];H0(o,fs,i,kc(i)),D0(sy,o)}}function oy(i,o,c){i==="focusin"?(q0(),us=o,fs=c,us.attachEvent("onpropertychange",$0)):i==="focusout"&&q0()}function ly(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Po(fs)}function cy(i,o){if(i==="click")return Po(o)}function uy(i,o){if(i==="input"||i==="change")return Po(o)}function fy(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Mr=typeof Object.is=="function"?Object.is:fy;function ds(i,o){if(Mr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!le.call(o,p)||!Mr(i[p],o[p]))return!1}return!0}function Y0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function K0(i,o){var c=Y0(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=o&&d>=o)return{node:c,offset:o-i};i=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Y0(c)}}function W0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?W0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Q0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=To(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=To(i.document)}return o}function Yc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var dy=jn&&"documentMode"in document&&11>=document.documentMode,xi=null,Kc=null,hs=null,Wc=!1;function J0(i,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Wc||xi==null||xi!==To(d)||(d=xi,"selectionStart"in d&&Yc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),hs&&ds(hs,d)||(hs=d,d=_l(Kc,"onSelect"),0<d.length&&(o=new Mo("onSelect","select",null,o,c),i.push({event:o,listeners:d}),o.target=xi)))}function ja(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var vi={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Qc={},eh={};jn&&(eh=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function Da(i){if(Qc[i])return Qc[i];if(!vi[i])return i;var o=vi[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in eh)return Qc[i]=o[c];return i}var th=Da("animationend"),rh=Da("animationiteration"),nh=Da("animationstart"),hy=Da("transitionrun"),my=Da("transitionstart"),py=Da("transitioncancel"),ah=Da("transitionend"),ih=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function nn(i,o){ih.set(i,o),Oa(o,[i])}var sh=new WeakMap;function Gr(i,o){if(typeof i=="object"&&i!==null){var c=sh.get(i);return c!==void 0?c:(o={value:i,source:o,stack:w0(o)},sh.set(i,o),o)}return{value:i,source:o,stack:w0(o)}}var Zr=[],gi=0,eu=0;function Lo(){for(var i=gi,o=eu=gi=0;o<i;){var c=Zr[o];Zr[o++]=null;var d=Zr[o];Zr[o++]=null;var p=Zr[o];Zr[o++]=null;var g=Zr[o];if(Zr[o++]=null,d!==null&&p!==null){var A=d.pending;A===null?p.next=p:(p.next=A.next,A.next=p),d.pending=p}g!==0&&oh(c,p,g)}}function ko(i,o,c,d){Zr[gi++]=i,Zr[gi++]=o,Zr[gi++]=c,Zr[gi++]=d,eu|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function tu(i,o,c,d){return ko(i,o,c,d),Fo(i)}function yi(i,o){return ko(i,null,null,o),Fo(i)}function oh(i,o,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var p=!1,g=i.return;g!==null;)g.childLanes|=c,d=g.alternate,d!==null&&(d.childLanes|=c),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&o!==null&&(p=31-ht(c),i=g.hiddenUpdates,d=i[p],d===null?i[p]=[o]:d.push(o),o.lane=c|536870912),g):null}function Fo(i){if(50<ks)throw ks=0,lf=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var bi={};function xy(i,o,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(i,o,c,d){return new xy(i,o,c,d)}function ru(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Dn(i,o){var c=i.alternate;return c===null?(c=Br(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function lh(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Uo(i,o,c,d,p,g){var A=0;if(d=i,typeof i=="function")ru(i)&&(A=1);else if(typeof i=="string")A=g2(i,c,U.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=Br(31,c,o,p),i.elementType=J,i.lanes=g,i;case w:return Ra(c.children,p,g,o);case _:A=8,p|=24;break;case N:return i=Br(12,c,o,p|2),i.elementType=N,i.lanes=g,i;case R:return i=Br(13,c,o,p),i.elementType=R,i.lanes=g,i;case k:return i=Br(19,c,o,p),i.elementType=k,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case O:A=10;break e;case E:A=9;break e;case j:A=11;break e;case K:A=14;break e;case W:A=16,d=null;break e}A=29,c=Error(n(130,i===null?"null":typeof i,"")),d=null}return o=Br(A,c,o,p),o.elementType=i,o.type=d,o.lanes=g,o}function Ra(i,o,c,d){return i=Br(7,i,d,o),i.lanes=c,i}function nu(i,o,c){return i=Br(6,i,null,o),i.lanes=c,i}function au(i,o,c){return o=Br(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var _i=[],wi=0,zo=null,Vo=0,Xr=[],qr=0,Ia=null,Rn=1,In="";function Ma(i,o){_i[wi++]=Vo,_i[wi++]=zo,zo=i,Vo=o}function ch(i,o,c){Xr[qr++]=Rn,Xr[qr++]=In,Xr[qr++]=Ia,Ia=i;var d=Rn;i=In;var p=32-ht(d)-1;d&=~(1<<p),c+=1;var g=32-ht(o)+p;if(30<g){var A=p-p%5;g=(d&(1<<A)-1).toString(32),d>>=A,p-=A,Rn=1<<32-ht(o)+p|c<<p|d,In=g+i}else Rn=1<<g|c<<p|d,In=i}function iu(i){i.return!==null&&(Ma(i,1),ch(i,1,0))}function su(i){for(;i===zo;)zo=_i[--wi],_i[wi]=null,Vo=_i[--wi],_i[wi]=null;for(;i===Ia;)Ia=Xr[--qr],Xr[qr]=null,In=Xr[--qr],Xr[qr]=null,Rn=Xr[--qr],Xr[qr]=null}var mr=null,Et=null,Je=!1,Ba=null,gn=!1,ou=Error(n(519));function Pa(i){var o=Error(n(418,""));throw xs(Gr(o,i)),ou}function uh(i){var o=i.stateNode,c=i.type,d=i.memoizedProps;switch(o[or]=i,o[_r]=d,c){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(c=0;c<Us.length;c++)He(Us[c],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),N0(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Oo(o);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),C0(o,d.value,d.defaultValue,d.children),Oo(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||Cm(o.textContent,c)?(d.popover!=null&&(He("beforetoggle",o),He("toggle",o)),d.onScroll!=null&&He("scroll",o),d.onScrollEnd!=null&&He("scrollend",o),d.onClick!=null&&(o.onclick=wl),o=!0):o=!1,o||Pa(i)}function fh(i){for(mr=i.return;mr;)switch(mr.tag){case 5:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:mr=mr.return}}function ms(i){if(i!==mr)return!1;if(!Je)return fh(i),Je=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Ef(i.type,i.memoizedProps)),c=!c),c&&Et&&Pa(i),fh(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(o===0){Et=sn(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;i=i.nextSibling}Et=null}}else o===27?(o=Et,ha(i.type)?(i=Of,Of=null,Et=i):Et=o):Et=mr?sn(i.stateNode.nextSibling):null;return!0}function ps(){Et=mr=null,Je=!1}function dh(){var i=Ba;return i!==null&&(Nr===null?Nr=i:Nr.push.apply(Nr,i),Ba=null),i}function xs(i){Ba===null?Ba=[i]:Ba.push(i)}var lu=X(null),La=null,Mn=null;function Qn(i,o,c){pe(lu,o._currentValue),o._currentValue=c}function Bn(i){i._currentValue=lu.current,de(lu)}function cu(i,o,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===c)break;i=i.return}}function uu(i,o,c,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var A=p.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=p;for(var D=0;D<o.length;D++)if(S.context===o[D]){g.lanes|=c,S=g.alternate,S!==null&&(S.lanes|=c),cu(g.return,c,i),d||(A=null);break e}g=S.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(n(341));A.lanes|=c,g=A.alternate,g!==null&&(g.lanes|=c),cu(A,c,i),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===i){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function vs(i,o,c,d){i=null;for(var p=o,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var S=p.type;Mr(p.pendingProps.value,A.value)||(i!==null?i.push(S):i=[S])}}else if(p===Ze.current){if(A=p.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Xs):i=[Xs])}p=p.return}i!==null&&uu(o,i,c,d),o.flags|=262144}function Ho(i){for(i=i.firstContext;i!==null;){if(!Mr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ka(i){La=i,Mn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function lr(i){return hh(La,i)}function Go(i,o){return La===null&&ka(i),hh(i,o)}function hh(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Mn===null){if(i===null)throw Error(n(308));Mn=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Mn=Mn.next=o;return c}var vy=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},gy=t.unstable_scheduleCallback,yy=t.unstable_NormalPriority,Bt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fu(){return{controller:new vy,data:new Map,refCount:0}}function gs(i){i.refCount--,i.refCount===0&&gy(yy,function(){i.controller.abort()})}var ys=null,du=0,Ai=0,Ei=null;function by(i,o){if(ys===null){var c=ys=[];du=0,Ai=pf(),Ei={status:"pending",value:void 0,then:function(d){c.push(d)}}}return du++,o.then(mh,mh),o}function mh(){if(--du===0&&ys!==null){Ei!==null&&(Ei.status="fulfilled");var i=ys;ys=null,Ai=0,Ei=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function _y(i,o){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return i.then(function(){d.status="fulfilled",d.value=o;for(var p=0;p<c.length;p++)(0,c[p])(o)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var ph=P.S;P.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&by(i,o),ph!==null&&ph(i,o)};var Fa=X(null);function hu(){var i=Fa.current;return i!==null?i:mt.pooledCache}function Zo(i,o){o===null?pe(Fa,Fa.current):pe(Fa,o.pool)}function xh(){var i=hu();return i===null?null:{parent:Bt._currentValue,pool:i}}var bs=Error(n(460)),vh=Error(n(474)),Xo=Error(n(542)),mu={then:function(){}};function gh(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qo(){}function yh(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(qo,qo),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,_h(i),i;default:if(typeof o.status=="string")o.then(qo,qo);else{if(i=mt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(d){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=d}},function(d){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,_h(i),i}throw _s=o,bs}}var _s=null;function bh(){if(_s===null)throw Error(n(459));var i=_s;return _s=null,i}function _h(i){if(i===bs||i===Xo)throw Error(n(483))}var Jn=!1;function pu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xu(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ea(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ta(i,o,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(nt&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,o=Fo(i),oh(i,null,c),o}return ko(i,d,o,c),Fo(i)}function ws(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=i.pendingLanes,c|=d,o.lanes=c,m0(i,c)}}function vu(i,o){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,g=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};g===null?p=g=A:g=g.next=A,c=c.next}while(c!==null);g===null?p=g=o:g=g.next=o}else p=g=o;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var gu=!1;function As(){if(gu){var i=Ei;if(i!==null)throw i}}function Es(i,o,c,d){gu=!1;var p=i.updateQueue;Jn=!1;var g=p.firstBaseUpdate,A=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var D=S,H=D.next;D.next=null,A===null?g=H:A.next=H,A=D;var te=i.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==A&&(S===null?te.firstBaseUpdate=H:S.next=H,te.lastBaseUpdate=D))}if(g!==null){var ie=p.baseState;A=0,te=H=D=null,S=g;do{var $=S.lane&-536870913,Y=$!==S.lane;if(Y?(qe&$)===$:(d&$)===$){$!==0&&$===Ai&&(gu=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ie=i,De=S;$=o;var ct=c;switch(De.tag){case 1:if(Ie=De.payload,typeof Ie=="function"){ie=Ie.call(ct,ie,$);break e}ie=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=De.payload,$=typeof Ie=="function"?Ie.call(ct,ie,$):Ie,$==null)break e;ie=x({},ie,$);break e;case 2:Jn=!0}}$=S.callback,$!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=p.callbacks,Y===null?p.callbacks=[$]:Y.push($))}else Y={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(H=te=Y,D=ie):te=te.next=Y,A|=$;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);te===null&&(D=ie),p.baseState=D,p.firstBaseUpdate=H,p.lastBaseUpdate=te,g===null&&(p.shared.lanes=0),ca|=A,i.lanes=A,i.memoizedState=ie}}function wh(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function Ah(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)wh(c[i],o)}var Ni=X(null),$o=X(0);function Eh(i,o){i=Vn,pe($o,i),pe(Ni,o),Vn=i|o.baseLanes}function yu(){pe($o,Vn),pe(Ni,Ni.current)}function bu(){Vn=$o.current,de(Ni),de($o)}var ra=0,ke=null,ot=null,Dt=null,Yo=!1,Si=!1,Ua=!1,Ko=0,Ns=0,Ci=null,wy=0;function St(){throw Error(n(321))}function _u(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Mr(i[c],o[c]))return!1;return!0}function wu(i,o,c,d,p,g){return ra=g,ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,P.H=i===null||i.memoizedState===null?o1:l1,Ua=!1,g=c(d,p),Ua=!1,Si&&(g=Sh(o,c,d,p)),Nh(i),g}function Nh(i){P.H=rl;var o=ot!==null&&ot.next!==null;if(ra=0,Dt=ot=ke=null,Yo=!1,Ns=0,Ci=null,o)throw Error(n(300));i===null||Xt||(i=i.dependencies,i!==null&&Ho(i)&&(Xt=!0))}function Sh(i,o,c,d){ke=i;var p=0;do{if(Si&&(Ci=null),Ns=0,Si=!1,25<=p)throw Error(n(301));if(p+=1,Dt=ot=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=Ty,g=o(c,d)}while(Si);return g}function Ay(){var i=P.H,o=i.useState()[0];return o=typeof o.then=="function"?Ss(o):o,i=i.useState()[0],(ot!==null?ot.memoizedState:null)!==i&&(ke.flags|=1024),o}function Au(){var i=Ko!==0;return Ko=0,i}function Eu(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function Nu(i){if(Yo){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Yo=!1}ra=0,Dt=ot=ke=null,Si=!1,Ns=Ko=0,Ci=null}function Ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ke.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Rt(){if(ot===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var o=Dt===null?ke.memoizedState:Dt.next;if(o!==null)Dt=o,ot=i;else{if(i===null)throw ke.alternate===null?Error(n(467)):Error(n(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Dt===null?ke.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ss(i){var o=Ns;return Ns+=1,Ci===null&&(Ci=[]),i=yh(Ci,i,o),o=ke,(Dt===null?o.memoizedState:Dt.next)===null&&(o=o.alternate,P.H=o===null||o.memoizedState===null?o1:l1),i}function Wo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ss(i);if(i.$$typeof===O)return lr(i)}throw Error(n(438,String(i)))}function Cu(i){var o=null,c=ke.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=ke.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Su(),ke.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),d=0;d<i;d++)c[d]=Z;return o.index++,c}function Pn(i,o){return typeof o=="function"?o(i):o}function Qo(i){var o=Rt();return Ou(o,ot,i)}function Ou(i,o,c){var d=i.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=c;var p=i.baseQueue,g=d.pending;if(g!==null){if(p!==null){var A=p.next;p.next=g.next,g.next=A}o.baseQueue=p=g,d.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{o=p.next;var S=A=null,D=null,H=o,te=!1;do{var ie=H.lane&-536870913;if(ie!==H.lane?(qe&ie)===ie:(ra&ie)===ie){var $=H.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ie===Ai&&(te=!0);else if((ra&$)===$){H=H.next,$===Ai&&(te=!0);continue}else ie={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(S=D=ie,A=g):D=D.next=ie,ke.lanes|=$,ca|=$;ie=H.action,Ua&&c(g,ie),g=H.hasEagerState?H.eagerState:c(g,ie)}else $={lane:ie,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(S=D=$,A=g):D=D.next=$,ke.lanes|=ie,ca|=ie;H=H.next}while(H!==null&&H!==o);if(D===null?A=g:D.next=S,!Mr(g,i.memoizedState)&&(Xt=!0,te&&(c=Ei,c!==null)))throw c;i.memoizedState=g,i.baseState=A,i.baseQueue=D,d.lastRenderedState=g}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Tu(i){var o=Rt(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var d=c.dispatch,p=c.pending,g=o.memoizedState;if(p!==null){c.pending=null;var A=p=p.next;do g=i(g,A.action),A=A.next;while(A!==p);Mr(g,o.memoizedState)||(Xt=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),c.lastRenderedState=g}return[g,d]}function Ch(i,o,c){var d=ke,p=Rt(),g=Je;if(g){if(c===void 0)throw Error(n(407));c=c()}else c=o();var A=!Mr((ot||p).memoizedState,c);A&&(p.memoizedState=c,Xt=!0),p=p.queue;var S=jh.bind(null,d,p,i);if(Cs(2048,8,S,[i]),p.getSnapshot!==o||A||Dt!==null&&Dt.memoizedState.tag&1){if(d.flags|=2048,Oi(9,Jo(),Th.bind(null,d,p,c,o),null),mt===null)throw Error(n(349));g||(ra&124)!==0||Oh(d,o,c)}return c}function Oh(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=ke.updateQueue,o===null?(o=Su(),ke.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Th(i,o,c,d){o.value=c,o.getSnapshot=d,Dh(o)&&Rh(i)}function jh(i,o,c){return c(function(){Dh(o)&&Rh(i)})}function Dh(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Mr(i,c)}catch{return!0}}function Rh(i){var o=yi(i,2);o!==null&&Ur(o,i,2)}function ju(i){var o=Ar();if(typeof i=="function"){var c=i;if(i=c(),Ua){Ge(!0);try{c()}finally{Ge(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:i},o}function Ih(i,o,c,d){return i.baseState=c,Ou(i,ot,typeof d=="function"?d:Pn)}function Ey(i,o,c,d,p){if(tl(i))throw Error(n(485));if(i=o.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};P.T!==null?c(!0):g.isTransition=!1,d(g),c=o.pending,c===null?(g.next=o.pending=g,Mh(o,g)):(g.next=c.next,o.pending=c.next=g)}}function Mh(i,o){var c=o.action,d=o.payload,p=i.state;if(o.isTransition){var g=P.T,A={};P.T=A;try{var S=c(p,d),D=P.S;D!==null&&D(A,S),Bh(i,o,S)}catch(H){Du(i,o,H)}finally{P.T=g}}else try{g=c(p,d),Bh(i,o,g)}catch(H){Du(i,o,H)}}function Bh(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Ph(i,o,d)},function(d){return Du(i,o,d)}):Ph(i,o,c)}function Ph(i,o,c){o.status="fulfilled",o.value=c,Lh(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,Mh(i,c)))}function Du(i,o,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,Lh(o),o=o.next;while(o!==d)}i.action=null}function Lh(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function kh(i,o){return o}function Fh(i,o){if(Je){var c=mt.formState;if(c!==null){e:{var d=ke;if(Je){if(Et){t:{for(var p=Et,g=gn;p.nodeType!==8;){if(!g){p=null;break t}if(p=sn(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Et=sn(p.nextSibling),d=p.data==="F!";break e}}Pa(d)}d=!1}d&&(o=c[0])}}return c=Ar(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:o},c.queue=d,c=a1.bind(null,ke,d),d.dispatch=c,d=ju(!1),g=Pu.bind(null,ke,!1,d.queue),d=Ar(),p={state:o,dispatch:null,action:i,pending:null},d.queue=p,c=Ey.bind(null,ke,p,g,c),p.dispatch=c,d.memoizedState=i,[o,c,!1]}function Uh(i){var o=Rt();return zh(o,ot,i)}function zh(i,o,c){if(o=Ou(i,o,kh)[0],i=Qo(Pn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Ss(o)}catch(A){throw A===bs?Xo:A}else d=o;o=Rt();var p=o.queue,g=p.dispatch;return c!==o.memoizedState&&(ke.flags|=2048,Oi(9,Jo(),Ny.bind(null,p,c),null)),[d,g,i]}function Ny(i,o){i.action=o}function Vh(i){var o=Rt(),c=ot;if(c!==null)return zh(o,c,i);Rt(),o=o.memoizedState,c=Rt();var d=c.queue.dispatch;return c.memoizedState=i,[o,d,!1]}function Oi(i,o,c,d){return i={tag:i,create:c,deps:d,inst:o,next:null},o=ke.updateQueue,o===null&&(o=Su(),ke.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,o.lastEffect=i),i}function Jo(){return{destroy:void 0,resource:void 0}}function Hh(){return Rt().memoizedState}function el(i,o,c,d){var p=Ar();d=d===void 0?null:d,ke.flags|=i,p.memoizedState=Oi(1|o,Jo(),c,d)}function Cs(i,o,c,d){var p=Rt();d=d===void 0?null:d;var g=p.memoizedState.inst;ot!==null&&d!==null&&_u(d,ot.memoizedState.deps)?p.memoizedState=Oi(o,g,c,d):(ke.flags|=i,p.memoizedState=Oi(1|o,g,c,d))}function Gh(i,o){el(8390656,8,i,o)}function Zh(i,o){Cs(2048,8,i,o)}function Xh(i,o){return Cs(4,2,i,o)}function qh(i,o){return Cs(4,4,i,o)}function $h(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Yh(i,o,c){c=c!=null?c.concat([i]):null,Cs(4,4,$h.bind(null,o,i),c)}function Ru(){}function Kh(i,o){var c=Rt();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&_u(o,d[1])?d[0]:(c.memoizedState=[i,o],i)}function Wh(i,o){var c=Rt();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&_u(o,d[1]))return d[0];if(d=i(),Ua){Ge(!0);try{i()}finally{Ge(!1)}}return c.memoizedState=[d,o],d}function Iu(i,o,c){return c===void 0||(ra&1073741824)!==0?i.memoizedState=o:(i.memoizedState=c,i=em(),ke.lanes|=i,ca|=i,c)}function Qh(i,o,c,d){return Mr(c,o)?c:Ni.current!==null?(i=Iu(i,c,d),Mr(i,o)||(Xt=!0),i):(ra&42)===0?(Xt=!0,i.memoizedState=c):(i=em(),ke.lanes|=i,ca|=i,o)}function Jh(i,o,c,d,p){var g=ue.p;ue.p=g!==0&&8>g?g:8;var A=P.T,S={};P.T=S,Pu(i,!1,o,c);try{var D=p(),H=P.S;if(H!==null&&H(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var te=_y(D,d);Os(i,o,te,Fr(i))}else Os(i,o,d,Fr(i))}catch(ie){Os(i,o,{then:function(){},status:"rejected",reason:ie},Fr())}finally{ue.p=g,P.T=A}}function Sy(){}function Mu(i,o,c,d){if(i.tag!==5)throw Error(n(476));var p=e1(i).queue;Jh(i,p,o,ae,c===null?Sy:function(){return t1(i),c(d)})}function e1(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:ae},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function t1(i){var o=e1(i).next.queue;Os(i,o,{},Fr())}function Bu(){return lr(Xs)}function r1(){return Rt().memoizedState}function n1(){return Rt().memoizedState}function Cy(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=Fr();i=ea(c);var d=ta(o,i,c);d!==null&&(Ur(d,o,c),ws(d,o,c)),o={cache:fu()},i.payload=o;return}o=o.return}}function Oy(i,o,c){var d=Fr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},tl(i)?i1(o,c):(c=tu(i,o,c,d),c!==null&&(Ur(c,i,d),s1(c,o,d)))}function a1(i,o,c){var d=Fr();Os(i,o,c,d)}function Os(i,o,c,d){var p={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(tl(i))i1(o,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var A=o.lastRenderedState,S=g(A,c);if(p.hasEagerState=!0,p.eagerState=S,Mr(S,A))return ko(i,o,p,0),mt===null&&Lo(),!1}catch{}finally{}if(c=tu(i,o,p,d),c!==null)return Ur(c,i,d),s1(c,o,d),!0}return!1}function Pu(i,o,c,d){if(d={lane:2,revertLane:pf(),action:d,hasEagerState:!1,eagerState:null,next:null},tl(i)){if(o)throw Error(n(479))}else o=tu(i,c,d,2),o!==null&&Ur(o,i,2)}function tl(i){var o=i.alternate;return i===ke||o!==null&&o===ke}function i1(i,o){Si=Yo=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function s1(i,o,c){if((c&4194048)!==0){var d=o.lanes;d&=i.pendingLanes,c|=d,o.lanes=c,m0(i,c)}}var rl={readContext:lr,use:Wo,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},o1={readContext:lr,use:Wo,useCallback:function(i,o){return Ar().memoizedState=[i,o===void 0?null:o],i},useContext:lr,useEffect:Gh,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,el(4194308,4,$h.bind(null,o,i),c)},useLayoutEffect:function(i,o){return el(4194308,4,i,o)},useInsertionEffect:function(i,o){el(4,2,i,o)},useMemo:function(i,o){var c=Ar();o=o===void 0?null:o;var d=i();if(Ua){Ge(!0);try{i()}finally{Ge(!1)}}return c.memoizedState=[d,o],d},useReducer:function(i,o,c){var d=Ar();if(c!==void 0){var p=c(o);if(Ua){Ge(!0);try{c(o)}finally{Ge(!1)}}}else p=o;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=Oy.bind(null,ke,i),[d.memoizedState,i]},useRef:function(i){var o=Ar();return i={current:i},o.memoizedState=i},useState:function(i){i=ju(i);var o=i.queue,c=a1.bind(null,ke,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:Ru,useDeferredValue:function(i,o){var c=Ar();return Iu(c,i,o)},useTransition:function(){var i=ju(!1);return i=Jh.bind(null,ke,i.queue,!0,!1),Ar().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var d=ke,p=Ar();if(Je){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),mt===null)throw Error(n(349));(qe&124)!==0||Oh(d,o,c)}p.memoizedState=c;var g={value:c,getSnapshot:o};return p.queue=g,Gh(jh.bind(null,d,g,i),[i]),d.flags|=2048,Oi(9,Jo(),Th.bind(null,d,g,c,o),null),c},useId:function(){var i=Ar(),o=mt.identifierPrefix;if(Je){var c=In,d=Rn;c=(d&~(1<<32-ht(d)-1)).toString(32)+c,o="«"+o+"R"+c,c=Ko++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=wy++,o="«"+o+"r"+c.toString(32)+"»";return i.memoizedState=o},useHostTransitionStatus:Bu,useFormState:Fh,useActionState:Fh,useOptimistic:function(i){var o=Ar();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Pu.bind(null,ke,!0,c),c.dispatch=o,[i,o]},useMemoCache:Cu,useCacheRefresh:function(){return Ar().memoizedState=Cy.bind(null,ke)}},l1={readContext:lr,use:Wo,useCallback:Kh,useContext:lr,useEffect:Zh,useImperativeHandle:Yh,useInsertionEffect:Xh,useLayoutEffect:qh,useMemo:Wh,useReducer:Qo,useRef:Hh,useState:function(){return Qo(Pn)},useDebugValue:Ru,useDeferredValue:function(i,o){var c=Rt();return Qh(c,ot.memoizedState,i,o)},useTransition:function(){var i=Qo(Pn)[0],o=Rt().memoizedState;return[typeof i=="boolean"?i:Ss(i),o]},useSyncExternalStore:Ch,useId:r1,useHostTransitionStatus:Bu,useFormState:Uh,useActionState:Uh,useOptimistic:function(i,o){var c=Rt();return Ih(c,ot,i,o)},useMemoCache:Cu,useCacheRefresh:n1},Ty={readContext:lr,use:Wo,useCallback:Kh,useContext:lr,useEffect:Zh,useImperativeHandle:Yh,useInsertionEffect:Xh,useLayoutEffect:qh,useMemo:Wh,useReducer:Tu,useRef:Hh,useState:function(){return Tu(Pn)},useDebugValue:Ru,useDeferredValue:function(i,o){var c=Rt();return ot===null?Iu(c,i,o):Qh(c,ot.memoizedState,i,o)},useTransition:function(){var i=Tu(Pn)[0],o=Rt().memoizedState;return[typeof i=="boolean"?i:Ss(i),o]},useSyncExternalStore:Ch,useId:r1,useHostTransitionStatus:Bu,useFormState:Vh,useActionState:Vh,useOptimistic:function(i,o){var c=Rt();return ot!==null?Ih(c,ot,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:n1},Ti=null,Ts=0;function nl(i){var o=Ts;return Ts+=1,Ti===null&&(Ti=[]),yh(Ti,i,o)}function js(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function al(i,o){throw o.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function c1(i){var o=i._init;return o(i._payload)}function u1(i){function o(F,B){if(i){var V=F.deletions;V===null?(F.deletions=[B],F.flags|=16):V.push(B)}}function c(F,B){if(!i)return null;for(;B!==null;)o(F,B),B=B.sibling;return null}function d(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function p(F,B){return F=Dn(F,B),F.index=0,F.sibling=null,F}function g(F,B,V){return F.index=V,i?(V=F.alternate,V!==null?(V=V.index,V<B?(F.flags|=67108866,B):V):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function A(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function S(F,B,V,ne){return B===null||B.tag!==6?(B=nu(V,F.mode,ne),B.return=F,B):(B=p(B,V),B.return=F,B)}function D(F,B,V,ne){var Ae=V.type;return Ae===w?te(F,B,V.props.children,ne,V.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===W&&c1(Ae)===B.type)?(B=p(B,V.props),js(B,V),B.return=F,B):(B=Uo(V.type,V.key,V.props,null,F.mode,ne),js(B,V),B.return=F,B)}function H(F,B,V,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=au(V,F.mode,ne),B.return=F,B):(B=p(B,V.children||[]),B.return=F,B)}function te(F,B,V,ne,Ae){return B===null||B.tag!==7?(B=Ra(V,F.mode,ne,Ae),B.return=F,B):(B=p(B,V),B.return=F,B)}function ie(F,B,V){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=nu(""+B,F.mode,V),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return V=Uo(B.type,B.key,B.props,null,F.mode,V),js(V,B),V.return=F,V;case b:return B=au(B,F.mode,V),B.return=F,B;case W:var ne=B._init;return B=ne(B._payload),ie(F,B,V)}if(xe(B)||se(B))return B=Ra(B,F.mode,V,null),B.return=F,B;if(typeof B.then=="function")return ie(F,nl(B),V);if(B.$$typeof===O)return ie(F,Go(F,B),V);al(F,B)}return null}function $(F,B,V,ne){var Ae=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Ae!==null?null:S(F,B,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return V.key===Ae?D(F,B,V,ne):null;case b:return V.key===Ae?H(F,B,V,ne):null;case W:return Ae=V._init,V=Ae(V._payload),$(F,B,V,ne)}if(xe(V)||se(V))return Ae!==null?null:te(F,B,V,ne,null);if(typeof V.then=="function")return $(F,B,nl(V),ne);if(V.$$typeof===O)return $(F,B,Go(F,V),ne);al(F,V)}return null}function Y(F,B,V,ne,Ae){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get(V)||null,S(B,F,""+ne,Ae);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return F=F.get(ne.key===null?V:ne.key)||null,D(B,F,ne,Ae);case b:return F=F.get(ne.key===null?V:ne.key)||null,H(B,F,ne,Ae);case W:var Ue=ne._init;return ne=Ue(ne._payload),Y(F,B,V,ne,Ae)}if(xe(ne)||se(ne))return F=F.get(V)||null,te(B,F,ne,Ae,null);if(typeof ne.then=="function")return Y(F,B,V,nl(ne),Ae);if(ne.$$typeof===O)return Y(F,B,V,Go(B,ne),Ae);al(B,ne)}return null}function Ie(F,B,V,ne){for(var Ae=null,Ue=null,Ce=B,Re=B=0,$t=null;Ce!==null&&Re<V.length;Re++){Ce.index>Re?($t=Ce,Ce=null):$t=Ce.sibling;var We=$(F,Ce,V[Re],ne);if(We===null){Ce===null&&(Ce=$t);break}i&&Ce&&We.alternate===null&&o(F,Ce),B=g(We,B,Re),Ue===null?Ae=We:Ue.sibling=We,Ue=We,Ce=$t}if(Re===V.length)return c(F,Ce),Je&&Ma(F,Re),Ae;if(Ce===null){for(;Re<V.length;Re++)Ce=ie(F,V[Re],ne),Ce!==null&&(B=g(Ce,B,Re),Ue===null?Ae=Ce:Ue.sibling=Ce,Ue=Ce);return Je&&Ma(F,Re),Ae}for(Ce=d(Ce);Re<V.length;Re++)$t=Y(Ce,F,Re,V[Re],ne),$t!==null&&(i&&$t.alternate!==null&&Ce.delete($t.key===null?Re:$t.key),B=g($t,B,Re),Ue===null?Ae=$t:Ue.sibling=$t,Ue=$t);return i&&Ce.forEach(function(ga){return o(F,ga)}),Je&&Ma(F,Re),Ae}function De(F,B,V,ne){if(V==null)throw Error(n(151));for(var Ae=null,Ue=null,Ce=B,Re=B=0,$t=null,We=V.next();Ce!==null&&!We.done;Re++,We=V.next()){Ce.index>Re?($t=Ce,Ce=null):$t=Ce.sibling;var ga=$(F,Ce,We.value,ne);if(ga===null){Ce===null&&(Ce=$t);break}i&&Ce&&ga.alternate===null&&o(F,Ce),B=g(ga,B,Re),Ue===null?Ae=ga:Ue.sibling=ga,Ue=ga,Ce=$t}if(We.done)return c(F,Ce),Je&&Ma(F,Re),Ae;if(Ce===null){for(;!We.done;Re++,We=V.next())We=ie(F,We.value,ne),We!==null&&(B=g(We,B,Re),Ue===null?Ae=We:Ue.sibling=We,Ue=We);return Je&&Ma(F,Re),Ae}for(Ce=d(Ce);!We.done;Re++,We=V.next())We=Y(Ce,F,Re,We.value,ne),We!==null&&(i&&We.alternate!==null&&Ce.delete(We.key===null?Re:We.key),B=g(We,B,Re),Ue===null?Ae=We:Ue.sibling=We,Ue=We);return i&&Ce.forEach(function(j2){return o(F,j2)}),Je&&Ma(F,Re),Ae}function ct(F,B,V,ne){if(typeof V=="object"&&V!==null&&V.type===w&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case y:e:{for(var Ae=V.key;B!==null;){if(B.key===Ae){if(Ae=V.type,Ae===w){if(B.tag===7){c(F,B.sibling),ne=p(B,V.props.children),ne.return=F,F=ne;break e}}else if(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===W&&c1(Ae)===B.type){c(F,B.sibling),ne=p(B,V.props),js(ne,V),ne.return=F,F=ne;break e}c(F,B);break}else o(F,B);B=B.sibling}V.type===w?(ne=Ra(V.props.children,F.mode,ne,V.key),ne.return=F,F=ne):(ne=Uo(V.type,V.key,V.props,null,F.mode,ne),js(ne,V),ne.return=F,F=ne)}return A(F);case b:e:{for(Ae=V.key;B!==null;){if(B.key===Ae)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){c(F,B.sibling),ne=p(B,V.children||[]),ne.return=F,F=ne;break e}else{c(F,B);break}else o(F,B);B=B.sibling}ne=au(V,F.mode,ne),ne.return=F,F=ne}return A(F);case W:return Ae=V._init,V=Ae(V._payload),ct(F,B,V,ne)}if(xe(V))return Ie(F,B,V,ne);if(se(V)){if(Ae=se(V),typeof Ae!="function")throw Error(n(150));return V=Ae.call(V),De(F,B,V,ne)}if(typeof V.then=="function")return ct(F,B,nl(V),ne);if(V.$$typeof===O)return ct(F,B,Go(F,V),ne);al(F,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,B!==null&&B.tag===6?(c(F,B.sibling),ne=p(B,V),ne.return=F,F=ne):(c(F,B),ne=nu(V,F.mode,ne),ne.return=F,F=ne),A(F)):c(F,B)}return function(F,B,V,ne){try{Ts=0;var Ae=ct(F,B,V,ne);return Ti=null,Ae}catch(Ce){if(Ce===bs||Ce===Xo)throw Ce;var Ue=Br(29,Ce,null,F.mode);return Ue.lanes=ne,Ue.return=F,Ue}finally{}}}var ji=u1(!0),f1=u1(!1),$r=X(null),yn=null;function na(i){var o=i.alternate;pe(Pt,Pt.current&1),pe($r,i),yn===null&&(o===null||Ni.current!==null||o.memoizedState!==null)&&(yn=i)}function d1(i){if(i.tag===22){if(pe(Pt,Pt.current),pe($r,i),yn===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(yn=i)}}else aa()}function aa(){pe(Pt,Pt.current),pe($r,$r.current)}function Ln(i){de($r),yn===i&&(yn=null),de(Pt)}var Pt=X(0);function il(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Cf(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Lu(i,o,c,d){o=i.memoizedState,c=c(d,o),c=c==null?o:x({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var ku={enqueueSetState:function(i,o,c){i=i._reactInternals;var d=Fr(),p=ea(d);p.payload=o,c!=null&&(p.callback=c),o=ta(i,p,d),o!==null&&(Ur(o,i,d),ws(o,i,d))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var d=Fr(),p=ea(d);p.tag=1,p.payload=o,c!=null&&(p.callback=c),o=ta(i,p,d),o!==null&&(Ur(o,i,d),ws(o,i,d))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=Fr(),d=ea(c);d.tag=2,o!=null&&(d.callback=o),o=ta(i,d,c),o!==null&&(Ur(o,i,c),ws(o,i,c))}};function h1(i,o,c,d,p,g,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,g,A):o.prototype&&o.prototype.isPureReactComponent?!ds(c,d)||!ds(p,g):!0}function m1(i,o,c,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==i&&ku.enqueueReplaceState(o,o.state,null)}function za(i,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(i=i.defaultProps){c===o&&(c=x({},c));for(var p in i)c[p]===void 0&&(c[p]=i[p])}return c}var sl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function p1(i){sl(i)}function x1(i){console.error(i)}function v1(i){sl(i)}function ol(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function g1(i,o,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Fu(i,o,c){return c=ea(c),c.tag=3,c.payload={element:null},c.callback=function(){ol(i,o)},c}function y1(i){return i=ea(i),i.tag=3,i}function b1(i,o,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var g=d.value;i.payload=function(){return p(g)},i.callback=function(){g1(o,c,d)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){g1(o,c,d),typeof p!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var S=d.stack;this.componentDidCatch(d.value,{componentStack:S!==null?S:""})})}function jy(i,o,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&vs(o,c,p,!0),c=$r.current,c!==null){switch(c.tag){case 13:return yn===null?uf():c.alternate===null&&Nt===0&&(Nt=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===mu?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),df(i,d,p)),!1;case 22:return c.flags|=65536,d===mu?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),df(i,d,p)),!1}throw Error(n(435,c.tag))}return df(i,d,p),uf(),!1}if(Je)return o=$r.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,d!==ou&&(i=Error(n(422),{cause:d}),xs(Gr(i,c)))):(d!==ou&&(o=Error(n(423),{cause:d}),xs(Gr(o,c))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=Gr(d,c),p=Fu(i.stateNode,d,p),vu(i,p),Nt!==4&&(Nt=2)),!1;var g=Error(n(520),{cause:d});if(g=Gr(g,c),Ls===null?Ls=[g]:Ls.push(g),Nt!==4&&(Nt=2),o===null)return!0;d=Gr(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=p&-p,c.lanes|=i,i=Fu(c.stateNode,d,i),vu(c,i),!1;case 1:if(o=c.type,g=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ua===null||!ua.has(g))))return c.flags|=65536,p&=-p,c.lanes|=p,p=y1(p),b1(p,i,c,d),vu(c,p),!1}c=c.return}while(c!==null);return!1}var _1=Error(n(461)),Xt=!1;function tr(i,o,c,d){o.child=i===null?f1(o,null,c,d):ji(o,i.child,c,d)}function w1(i,o,c,d,p){c=c.render;var g=o.ref;if("ref"in d){var A={};for(var S in d)S!=="ref"&&(A[S]=d[S])}else A=d;return ka(o),d=wu(i,o,c,A,g,p),S=Au(),i!==null&&!Xt?(Eu(i,o,p),kn(i,o,p)):(Je&&S&&iu(o),o.flags|=1,tr(i,o,d,p),o.child)}function A1(i,o,c,d,p){if(i===null){var g=c.type;return typeof g=="function"&&!ru(g)&&g.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=g,E1(i,o,g,d,p)):(i=Uo(c.type,null,d,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(g=i.child,!qu(i,p)){var A=g.memoizedProps;if(c=c.compare,c=c!==null?c:ds,c(A,d)&&i.ref===o.ref)return kn(i,o,p)}return o.flags|=1,i=Dn(g,d),i.ref=o.ref,i.return=o,o.child=i}function E1(i,o,c,d,p){if(i!==null){var g=i.memoizedProps;if(ds(g,d)&&i.ref===o.ref)if(Xt=!1,o.pendingProps=d=g,qu(i,p))(i.flags&131072)!==0&&(Xt=!0);else return o.lanes=i.lanes,kn(i,o,p)}return Uu(i,o,c,d,p)}function N1(i,o,c){var d=o.pendingProps,p=d.children,g=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=g!==null?g.baseLanes|c:c,i!==null){for(p=o.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;o.childLanes=g&~d}else o.childLanes=0,o.child=null;return S1(i,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Zo(o,g!==null?g.cachePool:null),g!==null?Eh(o,g):yu(),d1(o);else return o.lanes=o.childLanes=536870912,S1(i,o,g!==null?g.baseLanes|c:c,c)}else g!==null?(Zo(o,g.cachePool),Eh(o,g),aa(),o.memoizedState=null):(i!==null&&Zo(o,null),yu(),aa());return tr(i,o,p,c),o.child}function S1(i,o,c,d){var p=hu();return p=p===null?null:{parent:Bt._currentValue,pool:p},o.memoizedState={baseLanes:c,cachePool:p},i!==null&&Zo(o,null),yu(),d1(o),i!==null&&vs(i,o,d,!0),null}function ll(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function Uu(i,o,c,d,p){return ka(o),c=wu(i,o,c,d,void 0,p),d=Au(),i!==null&&!Xt?(Eu(i,o,p),kn(i,o,p)):(Je&&d&&iu(o),o.flags|=1,tr(i,o,c,p),o.child)}function C1(i,o,c,d,p,g){return ka(o),o.updateQueue=null,c=Sh(o,d,c,p),Nh(i),d=Au(),i!==null&&!Xt?(Eu(i,o,g),kn(i,o,g)):(Je&&d&&iu(o),o.flags|=1,tr(i,o,c,g),o.child)}function O1(i,o,c,d,p){if(ka(o),o.stateNode===null){var g=bi,A=c.contextType;typeof A=="object"&&A!==null&&(g=lr(A)),g=new c(d,g),o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ku,o.stateNode=g,g._reactInternals=o,g=o.stateNode,g.props=d,g.state=o.memoizedState,g.refs={},pu(o),A=c.contextType,g.context=typeof A=="object"&&A!==null?lr(A):bi,g.state=o.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Lu(o,c,A,d),g.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&ku.enqueueReplaceState(g,g.state,null),Es(o,d,g,p),As(),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(i===null){g=o.stateNode;var S=o.memoizedProps,D=za(c,S);g.props=D;var H=g.context,te=c.contextType;A=bi,typeof te=="object"&&te!==null&&(A=lr(te));var ie=c.getDerivedStateFromProps;te=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=o.pendingProps!==S,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||H!==A)&&m1(o,g,d,A),Jn=!1;var $=o.memoizedState;g.state=$,Es(o,d,g,p),As(),H=o.memoizedState,S||$!==H||Jn?(typeof ie=="function"&&(Lu(o,c,ie,d),H=o.memoizedState),(D=Jn||h1(o,c,D,d,$,H,A))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(o.flags|=4194308)):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=H),g.props=d,g.state=H,g.context=A,d=D):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{g=o.stateNode,xu(i,o),A=o.memoizedProps,te=za(c,A),g.props=te,ie=o.pendingProps,$=g.context,H=c.contextType,D=bi,typeof H=="object"&&H!==null&&(D=lr(H)),S=c.getDerivedStateFromProps,(H=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==ie||$!==D)&&m1(o,g,d,D),Jn=!1,$=o.memoizedState,g.state=$,Es(o,d,g,p),As();var Y=o.memoizedState;A!==ie||$!==Y||Jn||i!==null&&i.dependencies!==null&&Ho(i.dependencies)?(typeof S=="function"&&(Lu(o,c,S,d),Y=o.memoizedState),(te=Jn||h1(o,c,te,d,$,Y,D)||i!==null&&i.dependencies!==null&&Ho(i.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(d,Y,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(d,Y,D)),typeof g.componentDidUpdate=="function"&&(o.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&$===i.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&$===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Y),g.props=d,g.state=Y,g.context=D,d=te):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&$===i.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&$===i.memoizedState||(o.flags|=1024),d=!1)}return g=d,ll(i,o),d=(o.flags&128)!==0,g||d?(g=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:g.render(),o.flags|=1,i!==null&&d?(o.child=ji(o,i.child,null,p),o.child=ji(o,null,c,p)):tr(i,o,c,p),o.memoizedState=g.state,i=o.child):i=kn(i,o,p),i}function T1(i,o,c,d){return ps(),o.flags|=256,tr(i,o,c,d),o.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vu(i){return{baseLanes:i,cachePool:xh()}}function Hu(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=Yr),i}function j1(i,o,c){var d=o.pendingProps,p=!1,g=(o.flags&128)!==0,A;if((A=g)||(A=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),A&&(p=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(Je){if(p?na(o):aa(),Je){var S=Et,D;if(D=S){e:{for(D=S,S=gn;D.nodeType!==8;){if(!S){S=null;break e}if(D=sn(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(o.memoizedState={dehydrated:S,treeContext:Ia!==null?{id:Rn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},D=Br(18,null,null,0),D.stateNode=S,D.return=o,o.child=D,mr=o,Et=null,D=!0):D=!1}D||Pa(o)}if(S=o.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Cf(S)?o.lanes=32:o.lanes=536870912,null;Ln(o)}return S=d.children,d=d.fallback,p?(aa(),p=o.mode,S=cl({mode:"hidden",children:S},p),d=Ra(d,p,c,null),S.return=o,d.return=o,S.sibling=d,o.child=S,p=o.child,p.memoizedState=Vu(c),p.childLanes=Hu(i,A,c),o.memoizedState=zu,d):(na(o),Gu(o,S))}if(D=i.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(g)o.flags&256?(na(o),o.flags&=-257,o=Zu(i,o,c)):o.memoizedState!==null?(aa(),o.child=i.child,o.flags|=128,o=null):(aa(),p=d.fallback,S=o.mode,d=cl({mode:"visible",children:d.children},S),p=Ra(p,S,c,null),p.flags|=2,d.return=o,p.return=o,d.sibling=p,o.child=d,ji(o,i.child,null,c),d=o.child,d.memoizedState=Vu(c),d.childLanes=Hu(i,A,c),o.memoizedState=zu,o=p);else if(na(o),Cf(S)){if(A=S.nextSibling&&S.nextSibling.dataset,A)var H=A.dgst;A=H,d=Error(n(419)),d.stack="",d.digest=A,xs({value:d,source:null,stack:null}),o=Zu(i,o,c)}else if(Xt||vs(i,o,c,!1),A=(c&i.childLanes)!==0,Xt||A){if(A=mt,A!==null&&(d=c&-c,d=(d&42)!==0?1:Cc(d),d=(d&(A.suspendedLanes|c))!==0?0:d,d!==0&&d!==D.retryLane))throw D.retryLane=d,yi(i,d),Ur(A,i,d),_1;S.data==="$?"||uf(),o=Zu(i,o,c)}else S.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=D.treeContext,Et=sn(S.nextSibling),mr=o,Je=!0,Ba=null,gn=!1,i!==null&&(Xr[qr++]=Rn,Xr[qr++]=In,Xr[qr++]=Ia,Rn=i.id,In=i.overflow,Ia=o),o=Gu(o,d.children),o.flags|=4096);return o}return p?(aa(),p=d.fallback,S=o.mode,D=i.child,H=D.sibling,d=Dn(D,{mode:"hidden",children:d.children}),d.subtreeFlags=D.subtreeFlags&65011712,H!==null?p=Dn(H,p):(p=Ra(p,S,c,null),p.flags|=2),p.return=o,d.return=o,d.sibling=p,o.child=d,d=p,p=o.child,S=i.child.memoizedState,S===null?S=Vu(c):(D=S.cachePool,D!==null?(H=Bt._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=xh(),S={baseLanes:S.baseLanes|c,cachePool:D}),p.memoizedState=S,p.childLanes=Hu(i,A,c),o.memoizedState=zu,d):(na(o),c=i.child,i=c.sibling,c=Dn(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=c,o.memoizedState=null,c)}function Gu(i,o){return o=cl({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function cl(i,o){return i=Br(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Zu(i,o,c){return ji(o,i.child,null,c),i=Gu(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function D1(i,o,c){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),cu(i.return,o,c)}function Xu(i,o,c,d,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=p)}function R1(i,o,c){var d=o.pendingProps,p=d.revealOrder,g=d.tail;if(tr(i,o,d.children,c),d=Pt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&D1(i,c,o);else if(i.tag===19)D1(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(pe(Pt,d),p){case"forwards":for(c=o.child,p=null;c!==null;)i=c.alternate,i!==null&&il(i)===null&&(p=c),c=c.sibling;c=p,c===null?(p=o.child,o.child=null):(p=c.sibling,c.sibling=null),Xu(o,!1,p,c,g);break;case"backwards":for(c=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&il(i)===null){o.child=p;break}i=p.sibling,p.sibling=c,c=p,p=i}Xu(o,!0,c,null,g);break;case"together":Xu(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function kn(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),ca|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(vs(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Dn(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Dn(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function qu(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Ho(i)))}function Dy(i,o,c){switch(o.tag){case 3:Xe(o,o.stateNode.containerInfo),Qn(o,Bt,i.memoizedState.cache),ps();break;case 27:case 5:tn(o);break;case 4:Xe(o,o.stateNode.containerInfo);break;case 10:Qn(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(na(o),o.flags|=128,null):(c&o.child.childLanes)!==0?j1(i,o,c):(na(o),i=kn(i,o,c),i!==null?i.sibling:null);na(o);break;case 19:var p=(i.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(vs(i,o,c,!1),d=(c&o.childLanes)!==0),p){if(d)return R1(i,o,c);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pe(Pt,Pt.current),d)break;return null;case 22:case 23:return o.lanes=0,N1(i,o,c);case 24:Qn(o,Bt,i.memoizedState.cache)}return kn(i,o,c)}function I1(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Xt=!0;else{if(!qu(i,c)&&(o.flags&128)===0)return Xt=!1,Dy(i,o,c);Xt=(i.flags&131072)!==0}else Xt=!1,Je&&(o.flags&1048576)!==0&&ch(o,Vo,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var d=o.elementType,p=d._init;if(d=p(d._payload),o.type=d,typeof d=="function")ru(d)?(i=za(d,i),o.tag=1,o=O1(null,o,d,i,c)):(o.tag=0,o=Uu(null,o,d,i,c));else{if(d!=null){if(p=d.$$typeof,p===j){o.tag=11,o=w1(null,o,d,i,c);break e}else if(p===K){o.tag=14,o=A1(null,o,d,i,c);break e}}throw o=ce(d)||d,Error(n(306,o,""))}}return o;case 0:return Uu(i,o,o.type,o.pendingProps,c);case 1:return d=o.type,p=za(d,o.pendingProps),O1(i,o,d,p,c);case 3:e:{if(Xe(o,o.stateNode.containerInfo),i===null)throw Error(n(387));d=o.pendingProps;var g=o.memoizedState;p=g.element,xu(i,o),Es(o,d,null,c);var A=o.memoizedState;if(d=A.cache,Qn(o,Bt,d),d!==g.cache&&uu(o,[Bt],c,!0),As(),d=A.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){o=T1(i,o,d,c);break e}else if(d!==p){p=Gr(Error(n(424)),o),xs(p),o=T1(i,o,d,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Et=sn(i.firstChild),mr=o,Je=!0,Ba=null,gn=!0,c=f1(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ps(),d===p){o=kn(i,o,c);break e}tr(i,o,d,c)}o=o.child}return o;case 26:return ll(i,o),i===null?(c=Lm(o.type,null,o.pendingProps,null))?o.memoizedState=c:Je||(c=o.type,i=o.pendingProps,d=Al(fe.current).createElement(c),d[or]=o,d[_r]=i,nr(d,c,i),Zt(d),o.stateNode=d):o.memoizedState=Lm(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return tn(o),i===null&&Je&&(d=o.stateNode=Mm(o.type,o.pendingProps,fe.current),mr=o,gn=!0,p=Et,ha(o.type)?(Of=p,Et=sn(d.firstChild)):Et=p),tr(i,o,o.pendingProps.children,c),ll(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Je&&((p=d=Et)&&(d=i2(d,o.type,o.pendingProps,gn),d!==null?(o.stateNode=d,mr=o,Et=sn(d.firstChild),gn=!1,p=!0):p=!1),p||Pa(o)),tn(o),p=o.type,g=o.pendingProps,A=i!==null?i.memoizedProps:null,d=g.children,Ef(p,g)?d=null:A!==null&&Ef(p,A)&&(o.flags|=32),o.memoizedState!==null&&(p=wu(i,o,Ay,null,null,c),Xs._currentValue=p),ll(i,o),tr(i,o,d,c),o.child;case 6:return i===null&&Je&&((i=c=Et)&&(c=s2(c,o.pendingProps,gn),c!==null?(o.stateNode=c,mr=o,Et=null,i=!0):i=!1),i||Pa(o)),null;case 13:return j1(i,o,c);case 4:return Xe(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=ji(o,null,d,c):tr(i,o,d,c),o.child;case 11:return w1(i,o,o.type,o.pendingProps,c);case 7:return tr(i,o,o.pendingProps,c),o.child;case 8:return tr(i,o,o.pendingProps.children,c),o.child;case 12:return tr(i,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Qn(o,o.type,d.value),tr(i,o,d.children,c),o.child;case 9:return p=o.type._context,d=o.pendingProps.children,ka(o),p=lr(p),d=d(p),o.flags|=1,tr(i,o,d,c),o.child;case 14:return A1(i,o,o.type,o.pendingProps,c);case 15:return E1(i,o,o.type,o.pendingProps,c);case 19:return R1(i,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},i===null?(c=cl(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Dn(i.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return N1(i,o,c);case 24:return ka(o),d=lr(Bt),i===null?(p=hu(),p===null&&(p=mt,g=fu(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=c),p=g),o.memoizedState={parent:d,cache:p},pu(o),Qn(o,Bt,p)):((i.lanes&c)!==0&&(xu(i,o),Es(o,null,null,c),As()),p=i.memoizedState,g=o.memoizedState,p.parent!==d?(p={parent:d,cache:d},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),Qn(o,Bt,d)):(d=g.cache,Qn(o,Bt,d),d!==p.cache&&uu(o,[Bt],c,!0))),tr(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Fn(i){i.flags|=4}function M1(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Vm(o)){if(o=$r.current,o!==null&&((qe&4194048)===qe?yn!==null:(qe&62914560)!==qe&&(qe&536870912)===0||o!==yn))throw _s=mu,vh;i.flags|=8192}}function ul(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?d0():536870912,i.lanes|=o,Mi|=o)}function Ds(i,o){if(!Je)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(o)for(var p=i.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=c,o}function Ry(i,o,c){var d=o.pendingProps;switch(su(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(o),null;case 1:return wt(o),null;case 3:return c=o.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Bn(Bt),Gt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(ms(o)?Fn(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,dh())),wt(o),null;case 26:return c=o.memoizedState,i===null?(Fn(o),c!==null?(wt(o),M1(o,c)):(wt(o),o.flags&=-16777217)):c?c!==i.memoizedState?(Fn(o),wt(o),M1(o,c)):(wt(o),o.flags&=-16777217):(i.memoizedProps!==d&&Fn(o),wt(o),o.flags&=-16777217),null;case 27:qn(o),c=fe.current;var p=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==d&&Fn(o);else{if(!d){if(o.stateNode===null)throw Error(n(166));return wt(o),null}i=U.current,ms(o)?uh(o):(i=Mm(p,d,c),o.stateNode=i,Fn(o))}return wt(o),null;case 5:if(qn(o),c=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==d&&Fn(o);else{if(!d){if(o.stateNode===null)throw Error(n(166));return wt(o),null}if(i=U.current,ms(o))uh(o);else{switch(p=Al(fe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?p.createElement(c,{is:d.is}):p.createElement(c)}}i[or]=o,i[_r]=d;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=i;e:switch(nr(i,c,d),c){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Fn(o)}}return wt(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==d&&Fn(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(i=fe.current,ms(o)){if(i=o.stateNode,c=o.memoizedProps,d=null,p=mr,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[or]=o,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Cm(i.nodeValue,c)),i||Pa(o)}else i=Al(i).createTextNode(d),i[or]=o,o.stateNode=i}return wt(o),null;case 13:if(d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ms(o),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[or]=o}else ps(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wt(o),p=!1}else p=dh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(Ln(o),o):(Ln(o),null)}if(Ln(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,i=i!==null&&i.memoizedState!==null,c){d=o.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var g=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==p&&(d.flags|=2048)}return c!==i&&c&&(o.child.flags|=8192),ul(o,o.updateQueue),wt(o),null;case 4:return Gt(),i===null&&yf(o.stateNode.containerInfo),wt(o),null;case 10:return Bn(o.type),wt(o),null;case 19:if(de(Pt),p=o.memoizedState,p===null)return wt(o),null;if(d=(o.flags&128)!==0,g=p.rendering,g===null)if(d)Ds(p,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(g=il(i),g!==null){for(o.flags|=128,Ds(p,!1),i=g.updateQueue,o.updateQueue=i,ul(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)lh(c,i),c=c.sibling;return pe(Pt,Pt.current&1|2),o.child}i=i.sibling}p.tail!==null&&hr()>hl&&(o.flags|=128,d=!0,Ds(p,!1),o.lanes=4194304)}else{if(!d)if(i=il(g),i!==null){if(o.flags|=128,d=!0,i=i.updateQueue,o.updateQueue=i,ul(o,i),Ds(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Je)return wt(o),null}else 2*hr()-p.renderingStartTime>hl&&c!==536870912&&(o.flags|=128,d=!0,Ds(p,!1),o.lanes=4194304);p.isBackwards?(g.sibling=o.child,o.child=g):(i=p.last,i!==null?i.sibling=g:o.child=g,p.last=g)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=hr(),o.sibling=null,i=Pt.current,pe(Pt,d?i&1|2:i&1),o):(wt(o),null);case 22:case 23:return Ln(o),bu(),d=o.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(wt(o),o.subtreeFlags&6&&(o.flags|=8192)):wt(o),c=o.updateQueue,c!==null&&ul(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),i!==null&&de(Fa),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Bn(Bt),wt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function Iy(i,o){switch(su(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Bn(Bt),Gt(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return qn(o),null;case 13:if(Ln(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ps()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return de(Pt),null;case 4:return Gt(),null;case 10:return Bn(o.type),null;case 22:case 23:return Ln(o),bu(),i!==null&&de(Fa),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Bn(Bt),null;case 25:return null;default:return null}}function B1(i,o){switch(su(o),o.tag){case 3:Bn(Bt),Gt();break;case 26:case 27:case 5:qn(o);break;case 4:Gt();break;case 13:Ln(o);break;case 19:de(Pt);break;case 10:Bn(o.type);break;case 22:case 23:Ln(o),bu(),i!==null&&de(Fa);break;case 24:Bn(Bt)}}function Rs(i,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&i)===i){d=void 0;var g=c.create,A=c.inst;d=g(),A.destroy=d}c=c.next}while(c!==p)}}catch(S){ft(o,o.return,S)}}function ia(i,o,c){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&i)===i){var A=d.inst,S=A.destroy;if(S!==void 0){A.destroy=void 0,p=o;var D=c,H=S;try{H()}catch(te){ft(p,D,te)}}}d=d.next}while(d!==g)}}catch(te){ft(o,o.return,te)}}function P1(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{Ah(o,c)}catch(d){ft(i,i.return,d)}}}function L1(i,o,c){c.props=za(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){ft(i,o,d)}}function Is(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof c=="function"?i.refCleanup=c(d):c.current=d}}catch(p){ft(i,o,p)}}function bn(i,o){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){ft(i,o,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){ft(i,o,p)}else c.current=null}function k1(i){var o=i.type,c=i.memoizedProps,d=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){ft(i,i.return,p)}}function $u(i,o,c){try{var d=i.stateNode;e2(d,i.type,c,o),d[_r]=o}catch(p){ft(i,i.return,p)}}function F1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ha(i.type)||i.tag===4}function Yu(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||F1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ha(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ku(i,o,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=wl));else if(d!==4&&(d===27&&ha(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(Ku(i,o,c),i=i.sibling;i!==null;)Ku(i,o,c),i=i.sibling}function fl(i,o,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(d!==4&&(d===27&&ha(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(fl(i,o,c),i=i.sibling;i!==null;)fl(i,o,c),i=i.sibling}function U1(i){var o=i.stateNode,c=i.memoizedProps;try{for(var d=i.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);nr(o,d,c),o[or]=i,o[_r]=c}catch(g){ft(i,i.return,g)}}var Un=!1,Ct=!1,Wu=!1,z1=typeof WeakSet=="function"?WeakSet:Set,qt=null;function My(i,o){if(i=i.containerInfo,wf=Tl,i=Q0(i),Yc(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{c.nodeType,g.nodeType}catch{c=null;break e}var A=0,S=-1,D=-1,H=0,te=0,ie=i,$=null;t:for(;;){for(var Y;ie!==c||p!==0&&ie.nodeType!==3||(S=A+p),ie!==g||d!==0&&ie.nodeType!==3||(D=A+d),ie.nodeType===3&&(A+=ie.nodeValue.length),(Y=ie.firstChild)!==null;)$=ie,ie=Y;for(;;){if(ie===i)break t;if($===c&&++H===p&&(S=A),$===g&&++te===d&&(D=A),(Y=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=Y}c=S===-1||D===-1?null:{start:S,end:D}}else c=null}c=c||{start:0,end:0}}else c=null;for(Af={focusedElem:i,selectionRange:c},Tl=!1,qt=o;qt!==null;)if(o=qt,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,qt=i;else for(;qt!==null;){switch(o=qt,g=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,c=o,p=g.memoizedProps,g=g.memoizedState,d=c.stateNode;try{var Ie=za(c.type,p,c.elementType===c.type);i=d.getSnapshotBeforeUpdate(Ie,g),d.__reactInternalSnapshotBeforeUpdate=i}catch(De){ft(c,c.return,De)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)Sf(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,qt=i;break}qt=o.return}}function V1(i,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:sa(i,c),d&4&&Rs(5,c);break;case 1:if(sa(i,c),d&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(A){ft(c,c.return,A)}else{var p=za(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(p,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){ft(c,c.return,A)}}d&64&&P1(c),d&512&&Is(c,c.return);break;case 3:if(sa(i,c),d&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Ah(i,o)}catch(A){ft(c,c.return,A)}}break;case 27:o===null&&d&4&&U1(c);case 26:case 5:sa(i,c),o===null&&d&4&&k1(c),d&512&&Is(c,c.return);break;case 12:sa(i,c);break;case 13:sa(i,c),d&4&&Z1(i,c),d&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=Hy.bind(null,c),o2(i,c))));break;case 22:if(d=c.memoizedState!==null||Un,!d){o=o!==null&&o.memoizedState!==null||Ct,p=Un;var g=Ct;Un=d,(Ct=o)&&!g?oa(i,c,(c.subtreeFlags&8772)!==0):sa(i,c),Un=p,Ct=g}break;case 30:break;default:sa(i,c)}}function H1(i){var o=i.alternate;o!==null&&(i.alternate=null,H1(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&jc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,Er=!1;function zn(i,o,c){for(c=c.child;c!==null;)G1(i,o,c),c=c.sibling}function G1(i,o,c){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Se,c)}catch{}switch(c.tag){case 26:Ct||bn(c,o),zn(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ct||bn(c,o);var d=yt,p=Er;ha(c.type)&&(yt=c.stateNode,Er=!1),zn(i,o,c),Vs(c.stateNode),yt=d,Er=p;break;case 5:Ct||bn(c,o);case 6:if(d=yt,p=Er,yt=null,zn(i,o,c),yt=d,Er=p,yt!==null)if(Er)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(c.stateNode)}catch(g){ft(c,o,g)}else try{yt.removeChild(c.stateNode)}catch(g){ft(c,o,g)}break;case 18:yt!==null&&(Er?(i=yt,Rm(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Ks(i)):Rm(yt,c.stateNode));break;case 4:d=yt,p=Er,yt=c.stateNode.containerInfo,Er=!0,zn(i,o,c),yt=d,Er=p;break;case 0:case 11:case 14:case 15:Ct||ia(2,c,o),Ct||ia(4,c,o),zn(i,o,c);break;case 1:Ct||(bn(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&L1(c,o,d)),zn(i,o,c);break;case 21:zn(i,o,c);break;case 22:Ct=(d=Ct)||c.memoizedState!==null,zn(i,o,c),Ct=d;break;default:zn(i,o,c)}}function Z1(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ks(i)}catch(c){ft(o,o.return,c)}}function By(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new z1),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new z1),o;default:throw Error(n(435,i.tag))}}function Qu(i,o){var c=By(i);o.forEach(function(d){var p=Gy.bind(null,i,d);c.has(d)||(c.add(d),d.then(p,p))})}function Pr(i,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],g=i,A=o,S=A;e:for(;S!==null;){switch(S.tag){case 27:if(ha(S.type)){yt=S.stateNode,Er=!1;break e}break;case 5:yt=S.stateNode,Er=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Er=!0;break e}S=S.return}if(yt===null)throw Error(n(160));G1(g,A,p),yt=null,Er=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)X1(o,i),o=o.sibling}var an=null;function X1(i,o){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pr(o,i),Lr(i),d&4&&(ia(3,i,i.return),Rs(3,i),ia(5,i,i.return));break;case 1:Pr(o,i),Lr(i),d&512&&(Ct||c===null||bn(c,c.return)),d&64&&Un&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=an;if(Pr(o,i),Lr(i),d&512&&(Ct||c===null||bn(c,c.return)),d&4){var g=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){e:{d=i.type,c=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ns]||g[or]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(d),p.head.insertBefore(g,p.querySelector("head > title"))),nr(g,d,c),g[or]=i,Zt(g),d=g;break e;case"link":var A=Um("link","href",p).get(d+(c.href||""));if(A){for(var S=0;S<A.length;S++)if(g=A[S],g.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&g.getAttribute("rel")===(c.rel==null?null:c.rel)&&g.getAttribute("title")===(c.title==null?null:c.title)&&g.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(S,1);break t}}g=p.createElement(d),nr(g,d,c),p.head.appendChild(g);break;case"meta":if(A=Um("meta","content",p).get(d+(c.content||""))){for(S=0;S<A.length;S++)if(g=A[S],g.getAttribute("content")===(c.content==null?null:""+c.content)&&g.getAttribute("name")===(c.name==null?null:c.name)&&g.getAttribute("property")===(c.property==null?null:c.property)&&g.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&g.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(S,1);break t}}g=p.createElement(d),nr(g,d,c),p.head.appendChild(g);break;default:throw Error(n(468,d))}g[or]=i,Zt(g),d=g}i.stateNode=d}else zm(p,i.type,i.stateNode);else i.stateNode=Fm(p,d,i.memoizedProps);else g!==d?(g===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):g.count--,d===null?zm(p,i.type,i.stateNode):Fm(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&$u(i,i.memoizedProps,c.memoizedProps)}break;case 27:Pr(o,i),Lr(i),d&512&&(Ct||c===null||bn(c,c.return)),c!==null&&d&4&&$u(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Pr(o,i),Lr(i),d&512&&(Ct||c===null||bn(c,c.return)),i.flags&32){p=i.stateNode;try{di(p,"")}catch(Y){ft(i,i.return,Y)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,$u(i,p,c!==null?c.memoizedProps:p)),d&1024&&(Wu=!0);break;case 6:if(Pr(o,i),Lr(i),d&4){if(i.stateNode===null)throw Error(n(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(Y){ft(i,i.return,Y)}}break;case 3:if(Sl=null,p=an,an=El(o.containerInfo),Pr(o,i),an=p,Lr(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Ks(o.containerInfo)}catch(Y){ft(i,i.return,Y)}Wu&&(Wu=!1,q1(i));break;case 4:d=an,an=El(i.stateNode.containerInfo),Pr(o,i),Lr(i),an=d;break;case 12:Pr(o,i),Lr(i);break;case 13:Pr(o,i),Lr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(af=hr()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qu(i,d)));break;case 22:p=i.memoizedState!==null;var D=c!==null&&c.memoizedState!==null,H=Un,te=Ct;if(Un=H||p,Ct=te||D,Pr(o,i),Ct=te,Un=H,Lr(i),d&8192)e:for(o=i.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(c===null||D||Un||Ct||Va(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){D=c=o;try{if(g=D.stateNode,p)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{S=D.stateNode;var ie=D.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Y){ft(D,D.return,Y)}}}else if(o.tag===6){if(c===null){D=o;try{D.stateNode.nodeValue=p?"":D.memoizedProps}catch(Y){ft(D,D.return,Y)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Qu(i,c))));break;case 19:Pr(o,i),Lr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qu(i,d)));break;case 30:break;case 21:break;default:Pr(o,i),Lr(i)}}function Lr(i){var o=i.flags;if(o&2){try{for(var c,d=i.return;d!==null;){if(F1(d)){c=d;break}d=d.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var p=c.stateNode,g=Yu(i);fl(i,g,p);break;case 5:var A=c.stateNode;c.flags&32&&(di(A,""),c.flags&=-33);var S=Yu(i);fl(i,S,A);break;case 3:case 4:var D=c.stateNode.containerInfo,H=Yu(i);Ku(i,H,D);break;default:throw Error(n(161))}}catch(te){ft(i,i.return,te)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function q1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;q1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function sa(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)V1(i,o.alternate,o),o=o.sibling}function Va(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ia(4,o,o.return),Va(o);break;case 1:bn(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&L1(o,o.return,c),Va(o);break;case 27:Vs(o.stateNode);case 26:case 5:bn(o,o.return),Va(o);break;case 22:o.memoizedState===null&&Va(o);break;case 30:Va(o);break;default:Va(o)}i=i.sibling}}function oa(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,p=i,g=o,A=g.flags;switch(g.tag){case 0:case 11:case 15:oa(p,g,c),Rs(4,g);break;case 1:if(oa(p,g,c),d=g,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(H){ft(d,d.return,H)}if(d=g,p=d.updateQueue,p!==null){var S=d.stateNode;try{var D=p.shared.hiddenCallbacks;if(D!==null)for(p.shared.hiddenCallbacks=null,p=0;p<D.length;p++)wh(D[p],S)}catch(H){ft(d,d.return,H)}}c&&A&64&&P1(g),Is(g,g.return);break;case 27:U1(g);case 26:case 5:oa(p,g,c),c&&d===null&&A&4&&k1(g),Is(g,g.return);break;case 12:oa(p,g,c);break;case 13:oa(p,g,c),c&&A&4&&Z1(p,g);break;case 22:g.memoizedState===null&&oa(p,g,c),Is(g,g.return);break;case 30:break;default:oa(p,g,c)}o=o.sibling}}function Ju(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&gs(c))}function ef(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&gs(i))}function _n(i,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$1(i,o,c,d),o=o.sibling}function $1(i,o,c,d){var p=o.flags;switch(o.tag){case 0:case 11:case 15:_n(i,o,c,d),p&2048&&Rs(9,o);break;case 1:_n(i,o,c,d);break;case 3:_n(i,o,c,d),p&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&gs(i)));break;case 12:if(p&2048){_n(i,o,c,d),i=o.stateNode;try{var g=o.memoizedProps,A=g.id,S=g.onPostCommit;typeof S=="function"&&S(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){ft(o,o.return,D)}}else _n(i,o,c,d);break;case 13:_n(i,o,c,d);break;case 23:break;case 22:g=o.stateNode,A=o.alternate,o.memoizedState!==null?g._visibility&2?_n(i,o,c,d):Ms(i,o):g._visibility&2?_n(i,o,c,d):(g._visibility|=2,Di(i,o,c,d,(o.subtreeFlags&10256)!==0)),p&2048&&Ju(A,o);break;case 24:_n(i,o,c,d),p&2048&&ef(o.alternate,o);break;default:_n(i,o,c,d)}}function Di(i,o,c,d,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var g=i,A=o,S=c,D=d,H=A.flags;switch(A.tag){case 0:case 11:case 15:Di(g,A,S,D,p),Rs(8,A);break;case 23:break;case 22:var te=A.stateNode;A.memoizedState!==null?te._visibility&2?Di(g,A,S,D,p):Ms(g,A):(te._visibility|=2,Di(g,A,S,D,p)),p&&H&2048&&Ju(A.alternate,A);break;case 24:Di(g,A,S,D,p),p&&H&2048&&ef(A.alternate,A);break;default:Di(g,A,S,D,p)}o=o.sibling}}function Ms(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,d=o,p=d.flags;switch(d.tag){case 22:Ms(c,d),p&2048&&Ju(d.alternate,d);break;case 24:Ms(c,d),p&2048&&ef(d.alternate,d);break;default:Ms(c,d)}o=o.sibling}}var Bs=8192;function Ri(i){if(i.subtreeFlags&Bs)for(i=i.child;i!==null;)Y1(i),i=i.sibling}function Y1(i){switch(i.tag){case 26:Ri(i),i.flags&Bs&&i.memoizedState!==null&&b2(an,i.memoizedState,i.memoizedProps);break;case 5:Ri(i);break;case 3:case 4:var o=an;an=El(i.stateNode.containerInfo),Ri(i),an=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Bs,Bs=16777216,Ri(i),Bs=o):Ri(i));break;default:Ri(i)}}function K1(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ps(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];qt=d,Q1(d,i)}K1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W1(i),i=i.sibling}function W1(i){switch(i.tag){case 0:case 11:case 15:Ps(i),i.flags&2048&&ia(9,i,i.return);break;case 3:Ps(i);break;case 12:Ps(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,dl(i)):Ps(i);break;default:Ps(i)}}function dl(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];qt=d,Q1(d,i)}K1(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ia(8,o,o.return),dl(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,dl(o));break;default:dl(o)}i=i.sibling}}function Q1(i,o){for(;qt!==null;){var c=qt;switch(c.tag){case 0:case 11:case 15:ia(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:gs(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,qt=d;else e:for(c=i;qt!==null;){d=qt;var p=d.sibling,g=d.return;if(H1(d),d===c){qt=null;break e}if(p!==null){p.return=g,qt=p;break e}qt=g}}}var Py={getCacheForType:function(i){var o=lr(Bt),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c}},Ly=typeof WeakMap=="function"?WeakMap:Map,nt=0,mt=null,Ve=null,qe=0,at=0,kr=null,la=!1,Ii=!1,tf=!1,Vn=0,Nt=0,ca=0,Ha=0,rf=0,Yr=0,Mi=0,Ls=null,Nr=null,nf=!1,af=0,hl=1/0,ml=null,ua=null,rr=0,fa=null,Bi=null,Pi=0,sf=0,of=null,J1=null,ks=0,lf=null;function Fr(){if((nt&2)!==0&&qe!==0)return qe&-qe;if(P.T!==null){var i=Ai;return i!==0?i:pf()}return p0()}function em(){Yr===0&&(Yr=(qe&536870912)===0||Je?f0():536870912);var i=$r.current;return i!==null&&(i.flags|=32),Yr}function Ur(i,o,c){(i===mt&&(at===2||at===9)||i.cancelPendingCommit!==null)&&(Li(i,0),da(i,qe,Yr,!1)),rs(i,c),((nt&2)===0||i!==mt)&&(i===mt&&((nt&2)===0&&(Ha|=c),Nt===4&&da(i,qe,Yr,!1)),wn(i))}function tm(i,o,c){if((nt&6)!==0)throw Error(n(327));var d=!c&&(o&124)===0&&(o&i.expiredLanes)===0||Ca(i,o),p=d?Uy(i,o):ff(i,o,!0),g=d;do{if(p===0){Ii&&!d&&da(i,o,0,!1);break}else{if(c=i.current.alternate,g&&!ky(c)){p=ff(i,o,!1),g=!1;continue}if(p===2){if(g=o,i.errorRecoveryDisabledLanes&g)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var S=i;p=Ls;var D=S.current.memoizedState.isDehydrated;if(D&&(Li(S,A).flags|=256),A=ff(S,A,!1),A!==2){if(tf&&!D){S.errorRecoveryDisabledLanes|=g,Ha|=g,p=4;break e}g=Nr,Nr=p,g!==null&&(Nr===null?Nr=g:Nr.push.apply(Nr,g))}p=A}if(g=!1,p!==2)continue}}if(p===1){Li(i,0),da(i,o,0,!0);break}e:{switch(d=i,g=p,g){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:da(d,o,Yr,!la);break e;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(p=af+300-hr(),10<p)){if(da(d,o,Yr,!la),Sa(d,0,!0)!==0)break e;d.timeoutHandle=jm(rm.bind(null,d,c,Nr,ml,nf,o,Yr,Ha,Mi,la,g,2,-0,0),p);break e}rm(d,c,Nr,ml,nf,o,Yr,Ha,Mi,la,g,0,-0,0)}}break}while(!0);wn(i)}function rm(i,o,c,d,p,g,A,S,D,H,te,ie,$,Y){if(i.timeoutHandle=-1,ie=o.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Zs={stylesheets:null,count:0,unsuspend:y2},Y1(o),ie=_2(),ie!==null)){i.cancelPendingCommit=ie(cm.bind(null,i,o,g,c,d,p,A,S,D,te,1,$,Y)),da(i,g,A,!H);return}cm(i,o,g,c,d,p,A,S,D)}function ky(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],g=p.getSnapshot;p=p.value;try{if(!Mr(g(),p))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function da(i,o,c,d){o&=~rf,o&=~Ha,i.suspendedLanes|=o,i.pingedLanes&=~o,d&&(i.warmLanes|=o),d=i.expirationTimes;for(var p=o;0<p;){var g=31-ht(p),A=1<<g;d[g]=-1,p&=~A}c!==0&&h0(i,c,o)}function pl(){return(nt&6)===0?(Fs(0),!1):!0}function cf(){if(Ve!==null){if(at===0)var i=Ve.return;else i=Ve,Mn=La=null,Nu(i),Ti=null,Ts=0,i=Ve;for(;i!==null;)B1(i.alternate,i),i=i.return;Ve=null}}function Li(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,r2(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),cf(),mt=i,Ve=c=Dn(i.current,null),qe=o,at=0,kr=null,la=!1,Ii=Ca(i,o),tf=!1,Mi=Yr=rf=Ha=ca=Nt=0,Nr=Ls=null,nf=!1,(o&8)!==0&&(o|=o&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=o;0<d;){var p=31-ht(d),g=1<<p;o|=i[p],d&=~g}return Vn=o,Lo(),c}function nm(i,o){ke=null,P.H=rl,o===bs||o===Xo?(o=bh(),at=3):o===vh?(o=bh(),at=4):at=o===_1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,kr=o,Ve===null&&(Nt=1,ol(i,Gr(o,i.current)))}function am(){var i=P.H;return P.H=rl,i===null?rl:i}function im(){var i=P.A;return P.A=Py,i}function uf(){Nt=4,la||(qe&4194048)!==qe&&$r.current!==null||(Ii=!0),(ca&134217727)===0&&(Ha&134217727)===0||mt===null||da(mt,qe,Yr,!1)}function ff(i,o,c){var d=nt;nt|=2;var p=am(),g=im();(mt!==i||qe!==o)&&(ml=null,Li(i,o)),o=!1;var A=Nt;e:do try{if(at!==0&&Ve!==null){var S=Ve,D=kr;switch(at){case 8:cf(),A=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(o=!0);var H=at;if(at=0,kr=null,ki(i,S,D,H),c&&Ii){A=0;break e}break;default:H=at,at=0,kr=null,ki(i,S,D,H)}}Fy(),A=Nt;break}catch(te){nm(i,te)}while(!0);return o&&i.shellSuspendCounter++,Mn=La=null,nt=d,P.H=p,P.A=g,Ve===null&&(mt=null,qe=0,Lo()),A}function Fy(){for(;Ve!==null;)sm(Ve)}function Uy(i,o){var c=nt;nt|=2;var d=am(),p=im();mt!==i||qe!==o?(ml=null,hl=hr()+500,Li(i,o)):Ii=Ca(i,o);e:do try{if(at!==0&&Ve!==null){o=Ve;var g=kr;t:switch(at){case 1:at=0,kr=null,ki(i,o,g,1);break;case 2:case 9:if(gh(g)){at=0,kr=null,om(o);break}o=function(){at!==2&&at!==9||mt!==i||(at=7),wn(i)},g.then(o,o);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:gh(g)?(at=0,kr=null,om(o)):(at=0,kr=null,ki(i,o,g,7));break;case 5:var A=null;switch(Ve.tag){case 26:A=Ve.memoizedState;case 5:case 27:var S=Ve;if(!A||Vm(A)){at=0,kr=null;var D=S.sibling;if(D!==null)Ve=D;else{var H=S.return;H!==null?(Ve=H,xl(H)):Ve=null}break t}}at=0,kr=null,ki(i,o,g,5);break;case 6:at=0,kr=null,ki(i,o,g,6);break;case 8:cf(),Nt=6;break e;default:throw Error(n(462))}}zy();break}catch(te){nm(i,te)}while(!0);return Mn=La=null,P.H=d,P.A=p,nt=c,Ve!==null?0:(mt=null,qe=0,Lo(),Nt)}function zy(){for(;Ve!==null&&!rn();)sm(Ve)}function sm(i){var o=I1(i.alternate,i,Vn);i.memoizedProps=i.pendingProps,o===null?xl(i):Ve=o}function om(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=C1(c,o,o.pendingProps,o.type,void 0,qe);break;case 11:o=C1(c,o,o.pendingProps,o.type.render,o.ref,qe);break;case 5:Nu(o);default:B1(c,o),o=Ve=lh(o,Vn),o=I1(c,o,Vn)}i.memoizedProps=i.pendingProps,o===null?xl(i):Ve=o}function ki(i,o,c,d){Mn=La=null,Nu(o),Ti=null,Ts=0;var p=o.return;try{if(jy(i,p,o,c,qe)){Nt=1,ol(i,Gr(c,i.current)),Ve=null;return}}catch(g){if(p!==null)throw Ve=p,g;Nt=1,ol(i,Gr(c,i.current)),Ve=null;return}o.flags&32768?(Je||d===1?i=!0:Ii||(qe&536870912)!==0?i=!1:(la=i=!0,(d===2||d===9||d===3||d===6)&&(d=$r.current,d!==null&&d.tag===13&&(d.flags|=16384))),lm(o,i)):xl(o)}function xl(i){var o=i;do{if((o.flags&32768)!==0){lm(o,la);return}i=o.return;var c=Ry(o.alternate,o,Vn);if(c!==null){Ve=c;return}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=i}while(o!==null);Nt===0&&(Nt=5)}function lm(i,o){do{var c=Iy(i.alternate,i);if(c!==null){c.flags&=32767,Ve=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=c}while(i!==null);Nt=6,Ve=null}function cm(i,o,c,d,p,g,A,S,D){i.cancelPendingCommit=null;do vl();while(rr!==0);if((nt&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(g=o.lanes|o.childLanes,g|=eu,yg(i,c,g,A,S,D),i===mt&&(Ve=mt=null,qe=0),Bi=o,fa=i,Pi=c,sf=g,of=p,J1=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Zy(q,function(){return mm(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=P.T,P.T=null,p=ue.p,ue.p=2,A=nt,nt|=4;try{My(i,o,c)}finally{nt=A,ue.p=p,P.T=d}}rr=1,um(),fm(),dm()}}function um(){if(rr===1){rr=0;var i=fa,o=Bi,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=P.T,P.T=null;var d=ue.p;ue.p=2;var p=nt;nt|=4;try{X1(o,i);var g=Af,A=Q0(i.containerInfo),S=g.focusedElem,D=g.selectionRange;if(A!==S&&S&&S.ownerDocument&&W0(S.ownerDocument.documentElement,S)){if(D!==null&&Yc(S)){var H=D.start,te=D.end;if(te===void 0&&(te=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(te,S.value.length);else{var ie=S.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var Y=$.getSelection(),Ie=S.textContent.length,De=Math.min(D.start,Ie),ct=D.end===void 0?De:Math.min(D.end,Ie);!Y.extend&&De>ct&&(A=ct,ct=De,De=A);var F=K0(S,De),B=K0(S,ct);if(F&&B&&(Y.rangeCount!==1||Y.anchorNode!==F.node||Y.anchorOffset!==F.offset||Y.focusNode!==B.node||Y.focusOffset!==B.offset)){var V=ie.createRange();V.setStart(F.node,F.offset),Y.removeAllRanges(),De>ct?(Y.addRange(V),Y.extend(B.node,B.offset)):(V.setEnd(B.node,B.offset),Y.addRange(V))}}}}for(ie=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&ie.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ne=ie[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Tl=!!wf,Af=wf=null}finally{nt=p,ue.p=d,P.T=c}}i.current=o,rr=2}}function fm(){if(rr===2){rr=0;var i=fa,o=Bi,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=P.T,P.T=null;var d=ue.p;ue.p=2;var p=nt;nt|=4;try{V1(i,o.alternate,o)}finally{nt=p,ue.p=d,P.T=c}}rr=3}}function dm(){if(rr===4||rr===3){rr=0,Na();var i=fa,o=Bi,c=Pi,d=J1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?rr=5:(rr=0,Bi=fa=null,hm(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ua=null),Oc(c),o=o.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Se,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=P.T,p=ue.p,ue.p=2,P.T=null;try{for(var g=i.onRecoverableError,A=0;A<d.length;A++){var S=d[A];g(S.value,{componentStack:S.stack})}}finally{P.T=o,ue.p=p}}(Pi&3)!==0&&vl(),wn(i),p=i.pendingLanes,(c&4194090)!==0&&(p&42)!==0?i===lf?ks++:(ks=0,lf=i):ks=0,Fs(0)}}function hm(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,gs(o)))}function vl(i){return um(),fm(),dm(),mm()}function mm(){if(rr!==5)return!1;var i=fa,o=sf;sf=0;var c=Oc(Pi),d=P.T,p=ue.p;try{ue.p=32>c?32:c,P.T=null,c=of,of=null;var g=fa,A=Pi;if(rr=0,Bi=fa=null,Pi=0,(nt&6)!==0)throw Error(n(331));var S=nt;if(nt|=4,W1(g.current),$1(g,g.current,A,c),nt=S,Fs(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Se,g)}catch{}return!0}finally{ue.p=p,P.T=d,hm(i,o)}}function pm(i,o,c){o=Gr(c,o),o=Fu(i.stateNode,o,2),i=ta(i,o,2),i!==null&&(rs(i,2),wn(i))}function ft(i,o,c){if(i.tag===3)pm(i,i,c);else for(;o!==null;){if(o.tag===3){pm(o,i,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ua===null||!ua.has(d))){i=Gr(c,i),c=y1(2),d=ta(o,c,2),d!==null&&(b1(c,d,o,i),rs(d,2),wn(d));break}}o=o.return}}function df(i,o,c){var d=i.pingCache;if(d===null){d=i.pingCache=new Ly;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(c)||(tf=!0,p.add(c),i=Vy.bind(null,i,o,c),o.then(i,i))}function Vy(i,o,c){var d=i.pingCache;d!==null&&d.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,mt===i&&(qe&c)===c&&(Nt===4||Nt===3&&(qe&62914560)===qe&&300>hr()-af?(nt&2)===0&&Li(i,0):rf|=c,Mi===qe&&(Mi=0)),wn(i)}function xm(i,o){o===0&&(o=d0()),i=yi(i,o),i!==null&&(rs(i,o),wn(i))}function Hy(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),xm(i,c)}function Gy(i,o){var c=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(o),xm(i,c)}function Zy(i,o){return Pe(i,o)}var gl=null,Fi=null,hf=!1,yl=!1,mf=!1,Ga=0;function wn(i){i!==Fi&&i.next===null&&(Fi===null?gl=Fi=i:Fi=Fi.next=i),yl=!0,hf||(hf=!0,qy())}function Fs(i,o){if(!mf&&yl){mf=!0;do for(var c=!1,d=gl;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var g=0;else{var A=d.suspendedLanes,S=d.pingedLanes;g=(1<<31-ht(42|i)+1)-1,g&=p&~(A&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(c=!0,bm(d,g))}else g=qe,g=Sa(d,d===mt?g:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(g&3)===0||Ca(d,g)||(c=!0,bm(d,g));d=d.next}while(c);mf=!1}}function Xy(){vm()}function vm(){yl=hf=!1;var i=0;Ga!==0&&(t2()&&(i=Ga),Ga=0);for(var o=hr(),c=null,d=gl;d!==null;){var p=d.next,g=gm(d,o);g===0?(d.next=null,c===null?gl=p:c.next=p,p===null&&(Fi=c)):(c=d,(i!==0||(g&3)!==0)&&(yl=!0)),d=p}Fs(i)}function gm(i,o){for(var c=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var A=31-ht(g),S=1<<A,D=p[A];D===-1?((S&c)===0||(S&d)!==0)&&(p[A]=No(S,o)):D<=o&&(i.expiredLanes|=S),g&=~S}if(o=mt,c=qe,c=Sa(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,c===0||i===o&&(at===2||at===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Ke(d),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Ca(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(d!==null&&Ke(d),Oc(c)){case 2:case 8:c=M;break;case 32:c=q;break;case 268435456:c=be;break;default:c=q}return d=ym.bind(null,i),c=Pe(c,d),i.callbackPriority=o,i.callbackNode=c,o}return d!==null&&d!==null&&Ke(d),i.callbackPriority=2,i.callbackNode=null,2}function ym(i,o){if(rr!==0&&rr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(vl()&&i.callbackNode!==c)return null;var d=qe;return d=Sa(i,i===mt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(tm(i,d,o),gm(i,hr()),i.callbackNode!=null&&i.callbackNode===c?ym.bind(null,i):null)}function bm(i,o){if(vl())return null;tm(i,o,!0)}function qy(){n2(function(){(nt&6)!==0?Pe(ts,Xy):vm()})}function pf(){return Ga===0&&(Ga=f0()),Ga}function _m(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:jo(""+i)}function wm(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function $y(i,o,c,d,p){if(o==="submit"&&c&&c.stateNode===p){var g=_m((p[_r]||null).action),A=d.submitter;A&&(o=(o=A[_r]||null)?_m(o.formAction):A.getAttribute("formAction"),o!==null&&(g=o,A=null));var S=new Mo("action","action",null,d,p);i.push({event:S,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ga!==0){var D=A?wm(p,A):new FormData(p);Mu(c,{pending:!0,data:D,method:p.method,action:g},null,D)}}else typeof g=="function"&&(S.preventDefault(),D=A?wm(p,A):new FormData(p),Mu(c,{pending:!0,data:D,method:p.method,action:g},g,D))},currentTarget:p}]})}}for(var xf=0;xf<Jc.length;xf++){var vf=Jc[xf],Yy=vf.toLowerCase(),Ky=vf[0].toUpperCase()+vf.slice(1);nn(Yy,"on"+Ky)}nn(th,"onAnimationEnd"),nn(rh,"onAnimationIteration"),nn(nh,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(hy,"onTransitionRun"),nn(my,"onTransitionStart"),nn(py,"onTransitionCancel"),nn(ah,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Us));function Am(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],p=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var A=d.length-1;0<=A;A--){var S=d[A],D=S.instance,H=S.currentTarget;if(S=S.listener,D!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=H;try{g(p)}catch(te){sl(te)}p.currentTarget=null,g=D}else for(A=0;A<d.length;A++){if(S=d[A],D=S.instance,H=S.currentTarget,S=S.listener,D!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=H;try{g(p)}catch(te){sl(te)}p.currentTarget=null,g=D}}}}function He(i,o){var c=o[Tc];c===void 0&&(c=o[Tc]=new Set);var d=i+"__bubble";c.has(d)||(Em(o,i,2,!1),c.add(d))}function gf(i,o,c){var d=0;o&&(d|=4),Em(c,i,d,o)}var bl="_reactListening"+Math.random().toString(36).slice(2);function yf(i){if(!i[bl]){i[bl]=!0,v0.forEach(function(c){c!=="selectionchange"&&(Wy.has(c)||gf(c,!1,i),gf(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[bl]||(o[bl]=!0,gf("selectionchange",!1,o))}}function Em(i,o,c,d){switch($m(o)){case 2:var p=E2;break;case 8:p=N2;break;default:p=If}c=p.bind(null,o,c,i),p=void 0,!Uc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(o,c,{capture:!0,passive:p}):i.addEventListener(o,c,!0):p!==void 0?i.addEventListener(o,c,{passive:p}):i.addEventListener(o,c,!1)}function bf(i,o,c,d,p){var g=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var S=d.stateNode.containerInfo;if(S===p)break;if(A===4)for(A=d.return;A!==null;){var D=A.tag;if((D===3||D===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;S!==null;){if(A=si(S),A===null)return;if(D=A.tag,D===5||D===6||D===26||D===27){d=g=A;continue e}S=S.parentNode}}d=d.return}D0(function(){var H=g,te=kc(c),ie=[];e:{var $=ih.get(i);if($!==void 0){var Y=Mo,Ie=i;switch(i){case"keypress":if(Ro(c)===0)break e;case"keydown":case"keyup":Y=Zg;break;case"focusin":Ie="focus",Y=Gc;break;case"focusout":Ie="blur",Y=Gc;break;case"beforeblur":case"afterblur":Y=Gc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=$g;break;case th:case rh:case nh:Y=Pg;break;case ah:Y=Kg;break;case"scroll":case"scrollend":Y=Dg;break;case"wheel":Y=Qg;break;case"copy":case"cut":case"paste":Y=kg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=P0;break;case"toggle":case"beforetoggle":Y=ey}var De=(o&4)!==0,ct=!De&&(i==="scroll"||i==="scrollend"),F=De?$!==null?$+"Capture":null:$;De=[];for(var B=H,V;B!==null;){var ne=B;if(V=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||V===null||F===null||(ne=is(B,F),ne!=null&&De.push(zs(B,ne,V))),ct)break;B=B.return}0<De.length&&($=new Y($,Ie,null,c,te),ie.push({event:$,listeners:De}))}}if((o&7)===0){e:{if($=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",$&&c!==Lc&&(Ie=c.relatedTarget||c.fromElement)&&(si(Ie)||Ie[ii]))break e;if((Y||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(Ie=c.relatedTarget||c.toElement,Y=H,Ie=Ie?si(Ie):null,Ie!==null&&(ct=s(Ie),De=Ie.tag,Ie!==ct||De!==5&&De!==27&&De!==6)&&(Ie=null)):(Y=null,Ie=H),Y!==Ie)){if(De=M0,ne="onMouseLeave",F="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(De=P0,ne="onPointerLeave",F="onPointerEnter",B="pointer"),ct=Y==null?$:as(Y),V=Ie==null?$:as(Ie),$=new De(ne,B+"leave",Y,c,te),$.target=ct,$.relatedTarget=V,ne=null,si(te)===H&&(De=new De(F,B+"enter",Ie,c,te),De.target=V,De.relatedTarget=ct,ne=De),ct=ne,Y&&Ie)t:{for(De=Y,F=Ie,B=0,V=De;V;V=Ui(V))B++;for(V=0,ne=F;ne;ne=Ui(ne))V++;for(;0<B-V;)De=Ui(De),B--;for(;0<V-B;)F=Ui(F),V--;for(;B--;){if(De===F||F!==null&&De===F.alternate)break t;De=Ui(De),F=Ui(F)}De=null}else De=null;Y!==null&&Nm(ie,$,Y,De,!1),Ie!==null&&ct!==null&&Nm(ie,ct,Ie,De,!0)}}e:{if($=H?as(H):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var Ae=G0;else if(V0($))if(Z0)Ae=uy;else{Ae=ly;var Ue=oy}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&Pc(H.elementType)&&(Ae=G0):Ae=cy;if(Ae&&(Ae=Ae(i,H))){H0(ie,Ae,c,te);break e}Ue&&Ue(i,$,H),i==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&Bc($,"number",$.value)}switch(Ue=H?as(H):window,i){case"focusin":(V0(Ue)||Ue.contentEditable==="true")&&(xi=Ue,Kc=H,hs=null);break;case"focusout":hs=Kc=xi=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,J0(ie,c,te);break;case"selectionchange":if(dy)break;case"keydown":case"keyup":J0(ie,c,te)}var Ce;if(Xc)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else pi?U0(i,c)&&(Re="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(L0&&c.locale!=="ko"&&(pi||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&pi&&(Ce=R0()):(Wn=te,zc="value"in Wn?Wn.value:Wn.textContent,pi=!0)),Ue=_l(H,Re),0<Ue.length&&(Re=new B0(Re,i,null,c,te),ie.push({event:Re,listeners:Ue}),Ce?Re.data=Ce:(Ce=z0(c),Ce!==null&&(Re.data=Ce)))),(Ce=ry?ny(i,c):ay(i,c))&&(Re=_l(H,"onBeforeInput"),0<Re.length&&(Ue=new B0("onBeforeInput","beforeinput",null,c,te),ie.push({event:Ue,listeners:Re}),Ue.data=Ce)),$y(ie,i,H,c,te)}Am(ie,o)})}function zs(i,o,c){return{instance:i,listener:o,currentTarget:c}}function _l(i,o){for(var c=o+"Capture",d=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=is(i,c),p!=null&&d.unshift(zs(i,p,g)),p=is(i,o),p!=null&&d.push(zs(i,p,g))),i.tag===3)return d;i=i.return}return[]}function Ui(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Nm(i,o,c,d,p){for(var g=o._reactName,A=[];c!==null&&c!==d;){var S=c,D=S.alternate,H=S.stateNode;if(S=S.tag,D!==null&&D===d)break;S!==5&&S!==26&&S!==27||H===null||(D=H,p?(H=is(c,g),H!=null&&A.unshift(zs(c,H,D))):p||(H=is(c,g),H!=null&&A.push(zs(c,H,D)))),c=c.return}A.length!==0&&i.push({event:o,listeners:A})}var Qy=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function Sm(i){return(typeof i=="string"?i:""+i).replace(Qy,`
`).replace(Jy,"")}function Cm(i,o){return o=Sm(o),Sm(i)===o}function wl(){}function lt(i,o,c,d,p,g){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||di(i,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&di(i,""+d);break;case"className":Co(i,"class",d);break;case"tabIndex":Co(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Co(i,c,d);break;case"style":T0(i,d,g);break;case"data":if(o!=="object"){Co(i,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=jo(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(c==="formAction"?(o!=="input"&&lt(i,o,"name",p.name,p,null),lt(i,o,"formEncType",p.formEncType,p,null),lt(i,o,"formMethod",p.formMethod,p,null),lt(i,o,"formTarget",p.formTarget,p,null)):(lt(i,o,"encType",p.encType,p,null),lt(i,o,"method",p.method,p,null),lt(i,o,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=jo(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=wl);break;case"onScroll":d!=null&&He("scroll",i);break;case"onScrollEnd":d!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=jo(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":He("beforetoggle",i),He("toggle",i),So(i,"popover",d);break;case"xlinkActuate":Tn(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Tn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Tn(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Tn(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Tn(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Tn(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Tn(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Tn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Tn(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":So(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Tg.get(c)||c,So(i,c,d))}}function _f(i,o,c,d,p,g){switch(c){case"style":T0(i,d,g);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof d=="string"?di(i,d):(typeof d=="number"||typeof d=="bigint")&&di(i,""+d);break;case"onScroll":d!=null&&He("scroll",i);break;case"onScrollEnd":d!=null&&He("scrollend",i);break;case"onClick":d!=null&&(i.onclick=wl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!g0.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),o=c.slice(2,p?c.length-7:void 0),g=i[_r]||null,g=g!=null?g[c]:null,typeof g=="function"&&i.removeEventListener(o,g,p),typeof d=="function")){typeof g!="function"&&g!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,d,p);break e}c in i?i[c]=d:d===!0?i.setAttribute(c,""):So(i,c,d)}}}function nr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var d=!1,p=!1,g;for(g in c)if(c.hasOwnProperty(g)){var A=c[g];if(A!=null)switch(g){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:lt(i,o,g,A,c,null)}}p&&lt(i,o,"srcSet",c.srcSet,c,null),d&&lt(i,o,"src",c.src,c,null);return;case"input":He("invalid",i);var S=g=A=p=null,D=null,H=null;for(d in c)if(c.hasOwnProperty(d)){var te=c[d];if(te!=null)switch(d){case"name":p=te;break;case"type":A=te;break;case"checked":D=te;break;case"defaultChecked":H=te;break;case"value":g=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,o));break;default:lt(i,o,d,te,c,null)}}N0(i,g,S,D,H,A,p,!1),Oo(i);return;case"select":He("invalid",i),d=A=g=null;for(p in c)if(c.hasOwnProperty(p)&&(S=c[p],S!=null))switch(p){case"value":g=S;break;case"defaultValue":A=S;break;case"multiple":d=S;default:lt(i,o,p,S,c,null)}o=g,c=A,i.multiple=!!d,o!=null?fi(i,!!d,o,!1):c!=null&&fi(i,!!d,c,!0);return;case"textarea":He("invalid",i),g=p=d=null;for(A in c)if(c.hasOwnProperty(A)&&(S=c[A],S!=null))switch(A){case"value":d=S;break;case"defaultValue":p=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:lt(i,o,A,S,c,null)}C0(i,d,p,g),Oo(i);return;case"option":for(D in c)if(c.hasOwnProperty(D)&&(d=c[D],d!=null))switch(D){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:lt(i,o,D,d,c,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(d=0;d<Us.length;d++)He(Us[d],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in c)if(c.hasOwnProperty(H)&&(d=c[H],d!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:lt(i,o,H,d,c,null)}return;default:if(Pc(o)){for(te in c)c.hasOwnProperty(te)&&(d=c[te],d!==void 0&&_f(i,o,te,d,c,void 0));return}}for(S in c)c.hasOwnProperty(S)&&(d=c[S],d!=null&&lt(i,o,S,d,c,null))}function e2(i,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,A=null,S=null,D=null,H=null,te=null;for(Y in c){var ie=c[Y];if(c.hasOwnProperty(Y)&&ie!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=ie;default:d.hasOwnProperty(Y)||lt(i,o,Y,null,d,ie)}}for(var $ in d){var Y=d[$];if(ie=c[$],d.hasOwnProperty($)&&(Y!=null||ie!=null))switch($){case"type":g=Y;break;case"name":p=Y;break;case"checked":H=Y;break;case"defaultChecked":te=Y;break;case"value":A=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(137,o));break;default:Y!==ie&&lt(i,o,$,Y,d,ie)}}Mc(i,A,S,D,H,te,g,p);return;case"select":Y=A=S=$=null;for(g in c)if(D=c[g],c.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":Y=D;default:d.hasOwnProperty(g)||lt(i,o,g,null,d,D)}for(p in d)if(g=d[p],D=c[p],d.hasOwnProperty(p)&&(g!=null||D!=null))switch(p){case"value":$=g;break;case"defaultValue":S=g;break;case"multiple":A=g;default:g!==D&&lt(i,o,p,g,d,D)}o=S,c=A,d=Y,$!=null?fi(i,!!c,$,!1):!!d!=!!c&&(o!=null?fi(i,!!c,o,!0):fi(i,!!c,c?[]:"",!1));return;case"textarea":Y=$=null;for(S in c)if(p=c[S],c.hasOwnProperty(S)&&p!=null&&!d.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:lt(i,o,S,null,d,p)}for(A in d)if(p=d[A],g=c[A],d.hasOwnProperty(A)&&(p!=null||g!=null))switch(A){case"value":$=p;break;case"defaultValue":Y=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==g&&lt(i,o,A,p,d,g)}S0(i,$,Y);return;case"option":for(var Ie in c)if($=c[Ie],c.hasOwnProperty(Ie)&&$!=null&&!d.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:lt(i,o,Ie,null,d,$)}for(D in d)if($=d[D],Y=c[D],d.hasOwnProperty(D)&&$!==Y&&($!=null||Y!=null))switch(D){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:lt(i,o,D,$,d,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in c)$=c[De],c.hasOwnProperty(De)&&$!=null&&!d.hasOwnProperty(De)&&lt(i,o,De,null,d,$);for(H in d)if($=d[H],Y=c[H],d.hasOwnProperty(H)&&$!==Y&&($!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(n(137,o));break;default:lt(i,o,H,$,d,Y)}return;default:if(Pc(o)){for(var ct in c)$=c[ct],c.hasOwnProperty(ct)&&$!==void 0&&!d.hasOwnProperty(ct)&&_f(i,o,ct,void 0,d,$);for(te in d)$=d[te],Y=c[te],!d.hasOwnProperty(te)||$===Y||$===void 0&&Y===void 0||_f(i,o,te,$,d,Y);return}}for(var F in c)$=c[F],c.hasOwnProperty(F)&&$!=null&&!d.hasOwnProperty(F)&&lt(i,o,F,null,d,$);for(ie in d)$=d[ie],Y=c[ie],!d.hasOwnProperty(ie)||$===Y||$==null&&Y==null||lt(i,o,ie,$,d,Y)}var wf=null,Af=null;function Al(i){return i.nodeType===9?i:i.ownerDocument}function Om(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tm(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Ef(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nf=null;function t2(){var i=window.event;return i&&i.type==="popstate"?i===Nf?!1:(Nf=i,!0):(Nf=null,!1)}var jm=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,n2=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(i){return Dm.resolve(null).then(i).catch(a2)}:jm;function a2(i){setTimeout(function(){throw i})}function ha(i){return i==="head"}function Rm(i,o){var c=o,d=0,p=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(0<d&&8>d){c=d;var A=i.ownerDocument;if(c&1&&Vs(A.documentElement),c&2&&Vs(A.body),c&4)for(c=A.head,Vs(c),A=c.firstChild;A;){var S=A.nextSibling,D=A.nodeName;A[ns]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=S}}if(p===0){i.removeChild(g),Ks(o);return}p--}else c==="$"||c==="$?"||c==="$!"?p++:d=c.charCodeAt(0)-48;else d=0;c=g}while(c);Ks(o)}function Sf(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Sf(c),jc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function i2(i,o,c,d){for(;i.nodeType===1;){var p=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[ns])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=sn(i.nextSibling),i===null)break}return null}function s2(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=sn(i.nextSibling),i===null))return null;return i}function Cf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function o2(i,o){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function sn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Of=null;function Im(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}function Mm(i,o,c){switch(o=Al(c),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Vs(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);jc(i)}var Kr=new Map,Bm=new Set;function El(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Hn=ue.d;ue.d={f:l2,r:c2,D:u2,C:f2,L:d2,m:h2,X:p2,S:m2,M:x2};function l2(){var i=Hn.f(),o=pl();return i||o}function c2(i){var o=oi(i);o!==null&&o.tag===5&&o.type==="form"?t1(o):Hn.r(i)}var zi=typeof document>"u"?null:document;function Pm(i,o,c){var d=zi;if(d&&typeof o=="string"&&o){var p=Hr(o);p='link[rel="'+i+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),Bm.has(p)||(Bm.add(p),i={rel:i,crossOrigin:c,href:o},d.querySelector(p)===null&&(o=d.createElement("link"),nr(o,"link",i),Zt(o),d.head.appendChild(o)))}}function u2(i){Hn.D(i),Pm("dns-prefetch",i,null)}function f2(i,o){Hn.C(i,o),Pm("preconnect",i,o)}function d2(i,o,c){Hn.L(i,o,c);var d=zi;if(d&&i&&o){var p='link[rel="preload"][as="'+Hr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+Hr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+Hr(c.imageSizes)+'"]')):p+='[href="'+Hr(i)+'"]';var g=p;switch(o){case"style":g=Vi(i);break;case"script":g=Hi(i)}Kr.has(g)||(i=x({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),Kr.set(g,i),d.querySelector(p)!==null||o==="style"&&d.querySelector(Hs(g))||o==="script"&&d.querySelector(Gs(g))||(o=d.createElement("link"),nr(o,"link",i),Zt(o),d.head.appendChild(o)))}}function h2(i,o){Hn.m(i,o);var c=zi;if(c&&i){var d=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Hr(d)+'"][href="'+Hr(i)+'"]',g=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Hi(i)}if(!Kr.has(g)&&(i=x({rel:"modulepreload",href:i},o),Kr.set(g,i),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Gs(g)))return}d=c.createElement("link"),nr(d,"link",i),Zt(d),c.head.appendChild(d)}}}function m2(i,o,c){Hn.S(i,o,c);var d=zi;if(d&&i){var p=li(d).hoistableStyles,g=Vi(i);o=o||"default";var A=p.get(g);if(!A){var S={loading:0,preload:null};if(A=d.querySelector(Hs(g)))S.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":o},c),(c=Kr.get(g))&&Tf(i,c);var D=A=d.createElement("link");Zt(D),nr(D,"link",i),D._p=new Promise(function(H,te){D.onload=H,D.onerror=te}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Nl(A,o,d)}A={type:"stylesheet",instance:A,count:1,state:S},p.set(g,A)}}}function p2(i,o){Hn.X(i,o);var c=zi;if(c&&i){var d=li(c).hoistableScripts,p=Hi(i),g=d.get(p);g||(g=c.querySelector(Gs(p)),g||(i=x({src:i,async:!0},o),(o=Kr.get(p))&&jf(i,o),g=c.createElement("script"),Zt(g),nr(g,"link",i),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},d.set(p,g))}}function x2(i,o){Hn.M(i,o);var c=zi;if(c&&i){var d=li(c).hoistableScripts,p=Hi(i),g=d.get(p);g||(g=c.querySelector(Gs(p)),g||(i=x({src:i,async:!0,type:"module"},o),(o=Kr.get(p))&&jf(i,o),g=c.createElement("script"),Zt(g),nr(g,"link",i),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},d.set(p,g))}}function Lm(i,o,c,d){var p=(p=fe.current)?El(p):null;if(!p)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Vi(c.href),c=li(p).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Vi(c.href);var g=li(p).hoistableStyles,A=g.get(i);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,A),(g=p.querySelector(Hs(i)))&&!g._p&&(A.instance=g,A.state.loading=5),Kr.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Kr.set(i,c),g||v2(p,i,c,A.state))),o&&d===null)throw Error(n(528,""));return A}if(o&&d!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Hi(c),c=li(p).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Vi(i){return'href="'+Hr(i)+'"'}function Hs(i){return'link[rel="stylesheet"]['+i+"]"}function km(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function v2(i,o,c,d){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=i.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),nr(o,"link",c),Zt(o),i.head.appendChild(o))}function Hi(i){return'[src="'+Hr(i)+'"]'}function Gs(i){return"script[async]"+i}function Fm(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=i.querySelector('style[data-href~="'+Hr(c.href)+'"]');if(d)return o.instance=d,Zt(d),d;var p=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Zt(d),nr(d,"style",p),Nl(d,c.precedence,i),o.instance=d;case"stylesheet":p=Vi(c.href);var g=i.querySelector(Hs(p));if(g)return o.state.loading|=4,o.instance=g,Zt(g),g;d=km(c),(p=Kr.get(p))&&Tf(d,p),g=(i.ownerDocument||i).createElement("link"),Zt(g);var A=g;return A._p=new Promise(function(S,D){A.onload=S,A.onerror=D}),nr(g,"link",d),o.state.loading|=4,Nl(g,c.precedence,i),o.instance=g;case"script":return g=Hi(c.src),(p=i.querySelector(Gs(g)))?(o.instance=p,Zt(p),p):(d=c,(p=Kr.get(g))&&(d=x({},c),jf(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Zt(p),nr(p,"link",d),i.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Nl(d,c.precedence,i));return o.instance}function Nl(i,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,g=p,A=0;A<d.length;A++){var S=d[A];if(S.dataset.precedence===o)g=S;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function Tf(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function jf(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Sl=null;function Um(i,o,c){if(Sl===null){var d=new Map,p=Sl=new Map;p.set(c,d)}else p=Sl,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),p=0;p<c.length;p++){var g=c[p];if(!(g[ns]||g[or]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(o)||"";A=i+A;var S=d.get(A);S?S.push(g):d.set(A,[g])}}return d}function zm(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function g2(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Vm(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Zs=null;function y2(){}function b2(i,o,c){if(Zs===null)throw Error(n(475));var d=Zs;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Vi(c.href),g=i.querySelector(Hs(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=Cl.bind(d),i.then(d,d)),o.state.loading|=4,o.instance=g,Zt(g);return}g=i.ownerDocument||i,c=km(c),(p=Kr.get(p))&&Tf(c,p),g=g.createElement("link"),Zt(g);var A=g;A._p=new Promise(function(S,D){A.onload=S,A.onerror=D}),nr(g,"link",c),o.instance=g}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Cl.bind(d),i.addEventListener("load",o),i.addEventListener("error",o))}}function _2(){if(Zs===null)throw Error(n(475));var i=Zs;return i.stylesheets&&i.count===0&&Df(i,i.stylesheets),0<i.count?function(o){var c=setTimeout(function(){if(i.stylesheets&&Df(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Cl(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ol=null;function Df(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ol=new Map,o.forEach(w2,i),Ol=null,Cl.call(i))}function w2(i,o){if(!(o.state.loading&4)){var c=Ol.get(i);if(c)var d=c.get(null);else{c=new Map,Ol.set(i,c);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var A=p[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),d=A)}d&&c.set(null,d)}p=o.instance,A=p.getAttribute("data-precedence"),g=c.get(A)||d,g===d&&c.set(null,p),c.set(A,p),this.count++,d=Cl.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),o.state.loading|=4}}var Xs={$$typeof:O,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function A2(i,o,c,d,p,g,A,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.hiddenUpdates=Sc(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Hm(i,o,c,d,p,g,A,S,D,H,te,ie){return i=new A2(i,o,c,A,S,D,H,ie),o=1,g===!0&&(o|=24),g=Br(3,null,null,o),i.current=g,g.stateNode=i,o=fu(),o.refCount++,i.pooledCache=o,o.refCount++,g.memoizedState={element:d,isDehydrated:c,cache:o},pu(g),i}function Gm(i){return i?(i=bi,i):bi}function Zm(i,o,c,d,p,g){p=Gm(p),d.context===null?d.context=p:d.pendingContext=p,d=ea(o),d.payload={element:c},g=g===void 0?null:g,g!==null&&(d.callback=g),c=ta(i,d,o),c!==null&&(Ur(c,i,o),ws(c,i,o))}function Xm(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function Rf(i,o){Xm(i,o),(i=i.alternate)&&Xm(i,o)}function qm(i){if(i.tag===13){var o=yi(i,67108864);o!==null&&Ur(o,i,67108864),Rf(i,67108864)}}var Tl=!0;function E2(i,o,c,d){var p=P.T;P.T=null;var g=ue.p;try{ue.p=2,If(i,o,c,d)}finally{ue.p=g,P.T=p}}function N2(i,o,c,d){var p=P.T;P.T=null;var g=ue.p;try{ue.p=8,If(i,o,c,d)}finally{ue.p=g,P.T=p}}function If(i,o,c,d){if(Tl){var p=Mf(d);if(p===null)bf(i,o,d,jl,c),Ym(i,d);else if(C2(p,i,o,c,d))d.stopPropagation();else if(Ym(i,d),o&4&&-1<S2.indexOf(i)){for(;p!==null;){var g=oi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=On(g.pendingLanes);if(A!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;A;){var D=1<<31-ht(A);S.entanglements[1]|=D,A&=~D}wn(g),(nt&6)===0&&(hl=hr()+500,Fs(0))}}break;case 13:S=yi(g,2),S!==null&&Ur(S,g,2),pl(),Rf(g,2)}if(g=Mf(d),g===null&&bf(i,o,d,jl,c),g===p)break;p=g}p!==null&&d.stopPropagation()}else bf(i,o,d,null,c)}}function Mf(i){return i=kc(i),Bf(i)}var jl=null;function Bf(i){if(jl=null,i=si(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jl=i,null}function $m(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(u0()){case ts:return 2;case M:return 8;case q:case re:return 32;case be:return 268435456;default:return 32}default:return 32}}var Pf=!1,ma=null,pa=null,xa=null,qs=new Map,$s=new Map,va=[],S2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ym(i,o){switch(i){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":qs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(o.pointerId)}}function Ys(i,o,c,d,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},o!==null&&(o=oi(o),o!==null&&qm(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function C2(i,o,c,d,p){switch(o){case"focusin":return ma=Ys(ma,i,o,c,d,p),!0;case"dragenter":return pa=Ys(pa,i,o,c,d,p),!0;case"mouseover":return xa=Ys(xa,i,o,c,d,p),!0;case"pointerover":var g=p.pointerId;return qs.set(g,Ys(qs.get(g)||null,i,o,c,d,p)),!0;case"gotpointercapture":return g=p.pointerId,$s.set(g,Ys($s.get(g)||null,i,o,c,d,p)),!0}return!1}function Km(i){var o=si(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,bg(i.priority,function(){if(c.tag===13){var d=Fr();d=Cc(d);var p=yi(c,d);p!==null&&Ur(p,c,d),Rf(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Mf(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);Lc=d,c.target.dispatchEvent(d),Lc=null}else return o=oi(c),o!==null&&qm(o),i.blockedOn=c,!1;o.shift()}return!0}function Wm(i,o,c){Dl(i)&&c.delete(o)}function O2(){Pf=!1,ma!==null&&Dl(ma)&&(ma=null),pa!==null&&Dl(pa)&&(pa=null),xa!==null&&Dl(xa)&&(xa=null),qs.forEach(Wm),$s.forEach(Wm)}function Rl(i,o){i.blockedOn===o&&(i.blockedOn=null,Pf||(Pf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,O2)))}var Il=null;function Qm(i){Il!==i&&(Il=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Il===i&&(Il=null);for(var o=0;o<i.length;o+=3){var c=i[o],d=i[o+1],p=i[o+2];if(typeof d!="function"){if(Bf(d||c)===null)continue;break}var g=oi(c);g!==null&&(i.splice(o,3),o-=3,Mu(g,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function Ks(i){function o(D){return Rl(D,i)}ma!==null&&Rl(ma,i),pa!==null&&Rl(pa,i),xa!==null&&Rl(xa,i),qs.forEach(o),$s.forEach(o);for(var c=0;c<va.length;c++){var d=va[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<va.length&&(c=va[0],c.blockedOn===null);)Km(c),c.blockedOn===null&&va.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],g=c[d+1],A=p[_r]||null;if(typeof g=="function")A||Qm(c);else if(A){var S=null;if(g&&g.hasAttribute("formAction")){if(p=g,A=g[_r]||null)S=A.formAction;else if(Bf(p)!==null)continue}else S=A.action;typeof S=="function"?c[d+1]=S:(c.splice(d,3),d-=3),Qm(c)}}}function Lf(i){this._internalRoot=i}Ml.prototype.render=Lf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,d=Fr();Zm(c,d,i,o,null,null)},Ml.prototype.unmount=Lf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Zm(i.current,2,null,i,null,null),pl(),o[ii]=null}};function Ml(i){this._internalRoot=i}Ml.prototype.unstable_scheduleHydration=function(i){if(i){var o=p0();i={blockedOn:null,target:i,priority:o};for(var c=0;c<va.length&&o!==0&&o<va[c].priority;c++);va.splice(c,0,i),c===0&&Km(i)}};var Jm=e.version;if(Jm!=="19.1.0")throw Error(n(527,Jm,"19.1.0"));ue.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var T2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Se=Bl.inject(T2),Me=Bl}catch{}}return Qs.createRoot=function(i,o){if(!a(i))throw Error(n(299));var c=!1,d="",p=p1,g=x1,A=v1,S=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(g=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(S=o.unstable_transitionCallbacks)),o=Hm(i,1,!1,null,null,c,d,p,g,A,S,null),i[ii]=o.current,yf(i),new Lf(o)},Qs.hydrateRoot=function(i,o,c){if(!a(i))throw Error(n(299));var d=!1,p="",g=p1,A=x1,S=v1,D=null,H=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(g=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(S=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(D=c.unstable_transitionCallbacks),c.formState!==void 0&&(H=c.formState)),o=Hm(i,1,!0,o,c??null,d,p,g,A,S,D,H),o.context=Gm(null),c=o.current,d=Fr(),d=Cc(d),p=ea(d),p.callback=null,ta(c,p,d),c=d,o.current.lanes=c,rs(o,c),wn(o),i[ii]=o.current,yf(i),new Ml(o)},Qs.version="19.1.0",Qs}var cp;function U2(){if(cp)return Uf.exports;cp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Uf.exports=F2(),Uf.exports}var z2=U2(),lc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cc=typeof window>"u"||"Deno"in globalThis;function un(){}function V2(t,e){return typeof t=="function"?t(e):t}function H2(t){return typeof t=="number"&&t>=0&&t!==1/0}function G2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function od(t,e){return typeof t=="function"?t(e):t}function Z2(t,e){return typeof t=="function"?t(e):t}function up(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:l,stale:u}=t;if(l){if(n){if(e.queryHash!==kd(l,e.options))return!1}else if(!xo(e.queryKey,l))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||a&&a!==e.state.fetchStatus||s&&!s(e))}function fp(t,e){const{exact:r,status:n,predicate:a,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(po(e.options.mutationKey)!==po(s))return!1}else if(!xo(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function kd(t,e){return(e?.queryKeyHashFn||po)(t)}function po(t){return JSON.stringify(t,(e,r)=>ld(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function xo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>xo(t[r],e[r])):!1}function qx(t,e){if(t===e)return t;const r=dp(t)&&dp(e);if(r||ld(t)&&ld(e)){const n=r?t:Object.keys(t),a=n.length,s=r?e:Object.keys(e),l=s.length,u=r?[]:{},h=new Set(n);let m=0;for(let x=0;x<l;x++){const v=r?x:s[x];(!r&&h.has(v)||r)&&t[v]===void 0&&e[v]===void 0?(u[v]=void 0,m++):(u[v]=qx(t[v],e[v]),u[v]===t[v]&&t[v]!==void 0&&m++)}return a===l&&m===a?t:u}return e}function dp(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ld(t){if(!hp(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!hp(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hp(t){return Object.prototype.toString.call(t)==="[object Object]"}function X2(t){return new Promise(e=>{setTimeout(e,t)})}function q2(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?qx(t,e):e}function $2(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Y2(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Fd=Symbol();function $x(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Fd?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var K2=class extends lc{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!cc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Yx=new K2,W2=class extends lc{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!cc&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Jl=new W2;function Q2(){let t,e;const r=new Promise((a,s)=>{t=a,e=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function J2(t){return Math.min(1e3*2**t,3e4)}function Kx(t){return(t??"online")==="online"?Jl.isOnline():!0}var Wx=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Gf(t){return t instanceof Wx}function Qx(t){let e=!1,r=0,n=!1,a;const s=Q2(),l=_=>{n||(y(new Wx(_)),t.abort?.())},u=()=>{e=!0},h=()=>{e=!1},m=()=>Yx.isFocused()&&(t.networkMode==="always"||Jl.isOnline())&&t.canRun(),x=()=>Kx(t.networkMode)&&t.canRun(),v=_=>{n||(n=!0,t.onSuccess?.(_),a?.(),s.resolve(_))},y=_=>{n||(n=!0,t.onError?.(_),a?.(),s.reject(_))},b=()=>new Promise(_=>{a=N=>{(n||m())&&_(N)},t.onPause?.()}).then(()=>{a=void 0,n||t.onContinue?.()}),w=()=>{if(n)return;let _;const N=r===0?t.initialPromise:void 0;try{_=N??t.fn()}catch(C){_=Promise.reject(C)}Promise.resolve(_).then(v).catch(C=>{if(n)return;const E=t.retry??(cc?0:3),O=t.retryDelay??J2,j=typeof O=="function"?O(r,C):O,R=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,C);if(e||!R){y(C);return}r++,t.onFail?.(r,C),X2(j).then(()=>m()?void 0:b()).then(()=>{e?y(C):w()})})};return{promise:s,cancel:l,continue:()=>(a?.(),s),cancelRetry:u,continueRetry:h,canStart:x,start:()=>(x()?w():b().then(w),s)}}var eb=t=>setTimeout(t,0);function tb(){let t=[],e=0,r=u=>{u()},n=u=>{u()},a=eb;const s=u=>{e?t.push(u):a(()=>{r(u)})},l=()=>{const u=t;t=[],u.length&&a(()=>{n(()=>{u.forEach(h=>{r(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||l()}return h},batchCalls:u=>(...h)=>{s(()=>{u(...h)})},schedule:s,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{a=u}}}var br=tb(),Jx=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),H2(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},rb=class extends Jx{#e;#t;#r;#a;#n;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#r=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ab(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=q2(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(un).catch(un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Z2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>od(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!G2(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const h=$x(this.options,e),x=(()=>{const v={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(v),v})();return this.#o=!1,this.options.persister?this.options.persister(h,x,this):h(x)},l=(()=>{const h={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(h),h})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta});const u=h=>{Gf(h)&&h.silent||this.#i({type:"error",error:h}),Gf(h)||(this.#r.config.onError?.(h,this),this.#r.config.onSettled?.(this.state.data,h,this)),this.scheduleGc()};return this.#n=Qx({initialPromise:e?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(m){u(m);return}this.#r.config.onSuccess?.(h,this),this.#r.config.onSettled?.(h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,m)=>{this.#i({type:"failed",failureCount:h,error:m})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...nb(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Gf(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),br.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function nb(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ab(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ib=class extends lc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,a=e.queryHash??kd(n,e);let s=this.get(a);return s||(s=new rb({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){br.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>up(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>up(t,r)):e}notify(t){br.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){br.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){br.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sb=class extends Jx{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||ob(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#a({type:"continue"})};this.#r=Qx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(a,s)=>{this.#a({type:"failed",failureCount:a,error:s})},onPause:()=>{this.#a({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#a({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#a({type:"pending",context:s,variables:t,isPaused:n})}const a=await this.#r.start();return await this.#t.config.onSuccess?.(a,t,this.state.context,this),await this.options.onSuccess?.(a,t,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,t,this.state.context),this.#a({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,t,this.state.context,this),await this.options.onError?.(a,t,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,t,this.state.context),a}finally{this.#a({type:"error",error:a})}}finally{this.#t.runNext(this)}}#a(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),br.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function ob(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lb=class extends lc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new sb({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=Pl(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Pl(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Pl(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(a=>a.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=Pl(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){br.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>fp(e,r))}findAll(t={}){return this.getAll().filter(e=>fp(t,e))}notify(t){br.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return br.batch(()=>Promise.all(t.map(e=>e.continue().catch(un))))}};function Pl(t){return t.options.scope?.id}function mp(t){return{onFetch:(e,r)=>{const n=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const m=async()=>{let x=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},y=$x(e.options,e.fetchOptions),b=async(w,_,N)=>{if(x)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:_,direction:N?"backward":"forward",meta:e.options.meta};return v(k),k})(),O=await y(E),{maxPages:j}=e.options,R=N?Y2:$2;return{pages:R(w.pages,O,j),pageParams:R(w.pageParams,_,j)}};if(a&&s.length){const w=a==="backward",_=w?cb:pp,N={pages:s,pageParams:l},C=_(n,N);u=await b(N,C,w)}else{const w=t??s.length;do{const _=h===0?l[0]??n.initialPageParam:pp(n,u);if(h>0&&_==null)break;u=await b(u,_),h++}while(h<w)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function pp(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function cb(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var ub=class{#e;#t;#r;#a;#n;#s;#o;#i;constructor(t={}){this.#e=t.queryCache||new ib,this.#t=t.mutationCache||new lb,this.#r=t.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=Yx.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Jl.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(od(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(n.queryHash)?.state.data,l=V2(e,s);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return br.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;br.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return br.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=br.batch(()=>this.#e.findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(un).catch(un)}invalidateQueries(t,e={}){return br.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=br.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(un)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(un)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(od(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(un).catch(un)}fetchInfiniteQuery(t){return t.behavior=mp(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(un).catch(un)}ensureInfiniteQueryData(t){return t.behavior=mp(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#a.set(po(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#a.values()],r={};return e.forEach(n=>{xo(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(po(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{xo(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=kd(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Fd&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},fb=z.createContext(void 0),db=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(fb.Provider,{value:t,children:e}));function ev(t,e){return function(){return t.apply(e,arguments)}}const{toString:hb}=Object.prototype,{getPrototypeOf:Ud}=Object,{iterator:uc,toStringTag:tv}=Symbol,fc=(t=>e=>{const r=hb.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),pn=t=>(t=t.toLowerCase(),e=>fc(e)===t),dc=t=>e=>typeof e===t,{isArray:Wi}=Array,vo=dc("undefined");function mb(t){return t!==null&&!vo(t)&&t.constructor!==null&&!vo(t.constructor)&&jr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rv=pn("ArrayBuffer");function pb(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rv(t.buffer),e}const xb=dc("string"),jr=dc("function"),nv=dc("number"),hc=t=>t!==null&&typeof t=="object",vb=t=>t===!0||t===!1,Xl=t=>{if(fc(t)!=="object")return!1;const e=Ud(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tv in t)&&!(uc in t)},gb=pn("Date"),yb=pn("File"),bb=pn("Blob"),_b=pn("FileList"),wb=t=>hc(t)&&jr(t.pipe),Ab=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||jr(t.append)&&((e=fc(t))==="formdata"||e==="object"&&jr(t.toString)&&t.toString()==="[object FormData]"))},Eb=pn("URLSearchParams"),[Nb,Sb,Cb,Ob]=["ReadableStream","Request","Response","Headers"].map(pn),Tb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bo(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Wi(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;let u;for(n=0;n<l;n++)u=s[n],e.call(null,t[u],u,t)}}function av(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const $a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iv=t=>!vo(t)&&t!==$a;function cd(){const{caseless:t}=iv(this)&&this||{},e={},r=(n,a)=>{const s=t&&av(e,a)||a;Xl(e[s])&&Xl(n)?e[s]=cd(e[s],n):Xl(n)?e[s]=cd({},n):Wi(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&bo(arguments[n],r);return e}const jb=(t,e,r,{allOwnKeys:n}={})=>(bo(e,(a,s)=>{r&&jr(a)?t[s]=ev(a,r):t[s]=a},{allOwnKeys:n}),t),Db=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Rb=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ib=(t,e,r,n)=>{let a,s,l;const u={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)l=a[s],(!n||n(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=r!==!1&&Ud(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Mb=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Bb=t=>{if(!t)return null;if(Wi(t))return t;let e=t.length;if(!nv(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Pb=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ud(Uint8Array)),Lb=(t,e)=>{const n=(t&&t[uc]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},kb=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Fb=pn("HTMLFormElement"),Ub=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),xp=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),zb=pn("RegExp"),sv=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};bo(r,(a,s)=>{let l;(l=e(a,s,t))!==!1&&(n[s]=l||a)}),Object.defineProperties(t,n)},Vb=t=>{sv(t,(e,r)=>{if(jr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(jr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Hb=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Wi(t)?n(t):n(String(t).split(e)),r},Gb=()=>{},Zb=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Xb(t){return!!(t&&jr(t.append)&&t[tv]==="FormData"&&t[uc])}const qb=t=>{const e=new Array(10),r=(n,a)=>{if(hc(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=Wi(n)?[]:{};return bo(n,(l,u)=>{const h=r(l,a+1);!vo(h)&&(s[u]=h)}),e[a]=void 0,s}}return n};return r(t,0)},$b=pn("AsyncFunction"),Yb=t=>t&&(hc(t)||jr(t))&&jr(t.then)&&jr(t.catch),ov=((t,e)=>t?setImmediate:e?((r,n)=>($a.addEventListener("message",({source:a,data:s})=>{a===$a&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),$a.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",jr($a.postMessage)),Kb=typeof queueMicrotask<"u"?queueMicrotask.bind($a):typeof process<"u"&&process.nextTick||ov,Wb=t=>t!=null&&jr(t[uc]),Q={isArray:Wi,isArrayBuffer:rv,isBuffer:mb,isFormData:Ab,isArrayBufferView:pb,isString:xb,isNumber:nv,isBoolean:vb,isObject:hc,isPlainObject:Xl,isReadableStream:Nb,isRequest:Sb,isResponse:Cb,isHeaders:Ob,isUndefined:vo,isDate:gb,isFile:yb,isBlob:bb,isRegExp:zb,isFunction:jr,isStream:wb,isURLSearchParams:Eb,isTypedArray:Pb,isFileList:_b,forEach:bo,merge:cd,extend:jb,trim:Tb,stripBOM:Db,inherits:Rb,toFlatObject:Ib,kindOf:fc,kindOfTest:pn,endsWith:Mb,toArray:Bb,forEachEntry:Lb,matchAll:kb,isHTMLForm:Fb,hasOwnProperty:xp,hasOwnProp:xp,reduceDescriptors:sv,freezeMethods:Vb,toObjectSet:Hb,toCamelCase:Ub,noop:Gb,toFiniteNumber:Zb,findKey:av,global:$a,isContextDefined:iv,isSpecCompliantForm:Xb,toJSONObject:qb,isAsyncFn:$b,isThenable:Yb,setImmediate:ov,asap:Kb,isIterable:Wb};function Be(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Q.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const lv=Be.prototype,cv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cv[t]={value:t}});Object.defineProperties(Be,cv);Object.defineProperty(lv,"isAxiosError",{value:!0});Be.from=(t,e,r,n,a,s)=>{const l=Object.create(lv);return Q.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Be.call(l,t.message,e,r,n,a),l.cause=t,l.name=t.name,s&&Object.assign(l,s),l};const Qb=null;function ud(t){return Q.isPlainObject(t)||Q.isArray(t)}function uv(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function vp(t,e,r){return t?t.concat(e).map(function(a,s){return a=uv(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function Jb(t){return Q.isArray(t)&&!t.some(ud)}const e_=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function mc(t,e,r){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,N){return!Q.isUndefined(N[_])});const n=r.metaTokens,a=r.visitor||x,s=r.dots,l=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(a))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(Q.isDate(w))return w.toISOString();if(Q.isBoolean(w))return w.toString();if(!h&&Q.isBlob(w))throw new Be("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(w)||Q.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function x(w,_,N){let C=w;if(w&&!N&&typeof w=="object"){if(Q.endsWith(_,"{}"))_=n?_:_.slice(0,-2),w=JSON.stringify(w);else if(Q.isArray(w)&&Jb(w)||(Q.isFileList(w)||Q.endsWith(_,"[]"))&&(C=Q.toArray(w)))return _=uv(_),C.forEach(function(O,j){!(Q.isUndefined(O)||O===null)&&e.append(l===!0?vp([_],j,s):l===null?_:_+"[]",m(O))}),!1}return ud(w)?!0:(e.append(vp(N,_,s),m(w)),!1)}const v=[],y=Object.assign(e_,{defaultVisitor:x,convertValue:m,isVisitable:ud});function b(w,_){if(!Q.isUndefined(w)){if(v.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));v.push(w),Q.forEach(w,function(C,E){(!(Q.isUndefined(C)||C===null)&&a.call(e,C,Q.isString(E)?E.trim():E,_,y))===!0&&b(C,_?_.concat(E):[E])}),v.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return b(t),e}function gp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function zd(t,e){this._pairs=[],t&&mc(t,this,e)}const fv=zd.prototype;fv.append=function(e,r){this._pairs.push([e,r])};fv.toString=function(e){const r=e?function(n){return e.call(this,n,gp)}:gp;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function t_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dv(t,e,r){if(!e)return t;const n=r&&r.encode||t_;Q.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=Q.isURLSearchParams(e)?e.toString():new zd(e,r).toString(n),s){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class yp{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const hv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},r_=typeof URLSearchParams<"u"?URLSearchParams:zd,n_=typeof FormData<"u"?FormData:null,a_=typeof Blob<"u"?Blob:null,i_={isBrowser:!0,classes:{URLSearchParams:r_,FormData:n_,Blob:a_},protocols:["http","https","file","blob","url","data"]},Vd=typeof window<"u"&&typeof document<"u",fd=typeof navigator=="object"&&navigator||void 0,s_=Vd&&(!fd||["ReactNative","NativeScript","NS"].indexOf(fd.product)<0),o_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",l_=Vd&&window.location.href||"http://localhost",c_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vd,hasStandardBrowserEnv:s_,hasStandardBrowserWebWorkerEnv:o_,navigator:fd,origin:l_},Symbol.toStringTag,{value:"Module"})),fr={...c_,...i_};function u_(t,e){return mc(t,new fr.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return fr.isNode&&Q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function f_(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function d_(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function mv(t){function e(r,n,a,s){let l=r[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=s>=r.length;return l=!l&&Q.isArray(a)?a.length:l,h?(Q.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!u):((!a[l]||!Q.isObject(a[l]))&&(a[l]=[]),e(r,n,a[l],s)&&Q.isArray(a[l])&&(a[l]=d_(a[l])),!u)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const r={};return Q.forEachEntry(t,(n,a)=>{e(f_(n),a,r,0)}),r}return null}function h_(t,e,r){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const _o={transitional:hv,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Q.isObject(e);if(s&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return a?JSON.stringify(mv(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return u_(e,this.formSerializer).toString();if((u=Q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return mc(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),h_(e)):e}],transformResponse:[function(e){const r=this.transitional||_o.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Be.from(u,Be.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{_o.headers[t]={}});const m_=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p_=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||e[r]&&m_[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},bp=Symbol("internals");function Js(t){return t&&String(t).trim().toLowerCase()}function ql(t){return t===!1||t==null?t:Q.isArray(t)?t.map(ql):String(t)}function x_(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const v_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zf(t,e,r,n,a){if(Q.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!Q.isString(e)){if(Q.isString(n))return e.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(e)}}function g_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function y_(t,e){const r=Q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,l){return this[n].call(this,e,a,s,l)},configurable:!0})})}let Dr=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(u,h,m){const x=Js(h);if(!x)throw new Error("header name must be a non-empty string");const v=Q.findKey(a,x);(!v||a[v]===void 0||m===!0||m===void 0&&a[v]!==!1)&&(a[v||h]=ql(u))}const l=(u,h)=>Q.forEach(u,(m,x)=>s(m,x,h));if(Q.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(Q.isString(e)&&(e=e.trim())&&!v_(e))l(p_(e),r);else if(Q.isObject(e)&&Q.isIterable(e)){let u={},h,m;for(const x of e){if(!Q.isArray(x))throw TypeError("Object iterator must return a key-value pair");u[m=x[0]]=(h=u[m])?Q.isArray(h)?[...h,x[1]]:[h,x[1]]:x[1]}l(u,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Js(e),e){const n=Q.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return x_(a);if(Q.isFunction(r))return r.call(this,a,n);if(Q.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Js(e),e){const n=Q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Zf(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(l){if(l=Js(l),l){const u=Q.findKey(n,l);u&&(!r||Zf(n,n[u],u,r))&&(delete n[u],a=!0)}}return Q.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||Zf(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return Q.forEach(this,(a,s)=>{const l=Q.findKey(n,s);if(l){r[l]=ql(a),delete r[s];return}const u=e?g_(s):String(s).trim();u!==s&&delete r[s],r[u]=ql(a),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Q.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&Q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[bp]=this[bp]={accessors:{}}).accessors,a=this.prototype;function s(l){const u=Js(l);n[u]||(y_(a,l),n[u]=!0)}return Q.isArray(e)?e.forEach(s):s(e),this}};Dr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(Dr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Q.freezeMethods(Dr);function Xf(t,e){const r=this||_o,n=e||r,a=Dr.from(n.headers);let s=n.data;return Q.forEach(t,function(u){s=u.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function pv(t){return!!(t&&t.__CANCEL__)}function Qi(t,e,r){Be.call(this,t??"canceled",Be.ERR_CANCELED,e,r),this.name="CanceledError"}Q.inherits(Qi,Be,{__CANCEL__:!0});function xv(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Be("Request failed with status code "+r.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function b_(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function __(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,l;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),x=n[s];l||(l=m),r[a]=h,n[a]=m;let v=s,y=0;for(;v!==a;)y+=r[v++],v=v%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),m-l<e)return;const b=x&&m-x;return b?Math.round(y*1e3/b):void 0}}function w_(t,e){let r=0,n=1e3/e,a,s;const l=(m,x=Date.now())=>{r=x,a=null,s&&(clearTimeout(s),s=null),t.apply(null,m)};return[(...m)=>{const x=Date.now(),v=x-r;v>=n?l(m,x):(a=m,s||(s=setTimeout(()=>{s=null,l(a)},n-v)))},()=>a&&l(a)]}const ec=(t,e,r=3)=>{let n=0;const a=__(50,250);return w_(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,h=l-n,m=a(h),x=l<=u;n=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&x?(u-l)/m:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(v)},r)},_p=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},wp=t=>(...e)=>Q.asap(()=>t(...e)),A_=fr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,fr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(fr.origin),fr.navigator&&/(msie|trident)/i.test(fr.navigator.userAgent)):()=>!0,E_=fr.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const l=[t+"="+encodeURIComponent(e)];Q.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),Q.isString(n)&&l.push("path="+n),Q.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function N_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function S_(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function vv(t,e,r){let n=!N_(e);return t&&(n||r==!1)?S_(t,e):e}const Ap=t=>t instanceof Dr?{...t}:t;function Ja(t,e){e=e||{};const r={};function n(m,x,v,y){return Q.isPlainObject(m)&&Q.isPlainObject(x)?Q.merge.call({caseless:y},m,x):Q.isPlainObject(x)?Q.merge({},x):Q.isArray(x)?x.slice():x}function a(m,x,v,y){if(Q.isUndefined(x)){if(!Q.isUndefined(m))return n(void 0,m,v,y)}else return n(m,x,v,y)}function s(m,x){if(!Q.isUndefined(x))return n(void 0,x)}function l(m,x){if(Q.isUndefined(x)){if(!Q.isUndefined(m))return n(void 0,m)}else return n(void 0,x)}function u(m,x,v){if(v in e)return n(m,x);if(v in t)return n(void 0,m)}const h={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,x,v)=>a(Ap(m),Ap(x),v,!0)};return Q.forEach(Object.keys(Object.assign({},t,e)),function(x){const v=h[x]||a,y=v(t[x],e[x],x);Q.isUndefined(y)&&v!==u||(r[x]=y)}),r}const gv=t=>{const e=Ja({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:u}=e;e.headers=l=Dr.from(l),e.url=dv(vv(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(Q.isFormData(r)){if(fr.hasStandardBrowserEnv||fr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[m,...x]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...x].join("; "))}}if(fr.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(e)),n||n!==!1&&A_(e.url))){const m=a&&s&&E_.read(s);m&&l.set(a,m)}return e},C_=typeof XMLHttpRequest<"u",O_=C_&&function(t){return new Promise(function(r,n){const a=gv(t);let s=a.data;const l=Dr.from(a.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a,x,v,y,b,w;function _(){b&&b(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(x),a.signal&&a.signal.removeEventListener("abort",x)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function C(){if(!N)return;const O=Dr.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),R={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:O,config:t,request:N};xv(function(K){r(K),_()},function(K){n(K),_()},R),N=null}"onloadend"in N?N.onloadend=C:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(C)},N.onabort=function(){N&&(n(new Be("Request aborted",Be.ECONNABORTED,t,N)),N=null)},N.onerror=function(){n(new Be("Network Error",Be.ERR_NETWORK,t,N)),N=null},N.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const R=a.transitional||hv;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new Be(j,R.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,t,N)),N=null},s===void 0&&l.setContentType(null),"setRequestHeader"in N&&Q.forEach(l.toJSON(),function(j,R){N.setRequestHeader(R,j)}),Q.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),u&&u!=="json"&&(N.responseType=a.responseType),m&&([y,w]=ec(m,!0),N.addEventListener("progress",y)),h&&N.upload&&([v,b]=ec(h),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(x=O=>{N&&(n(!O||O.type?new Qi(null,t,N):O),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(x),a.signal&&(a.signal.aborted?x():a.signal.addEventListener("abort",x)));const E=b_(a.url);if(E&&fr.protocols.indexOf(E)===-1){n(new Be("Unsupported protocol "+E+":",Be.ERR_BAD_REQUEST,t));return}N.send(s||null)})},T_=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(m){if(!a){a=!0,u();const x=m instanceof Error?m:this.reason;n.abort(x instanceof Be?x:new Qi(x instanceof Error?x.message:x))}};let l=e&&setTimeout(()=>{l=null,s(new Be(`timeout ${e} of ms exceeded`,Be.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(s):m.removeEventListener("abort",s)}),t=null)};t.forEach(m=>m.addEventListener("abort",s));const{signal:h}=n;return h.unsubscribe=()=>Q.asap(u),h}},j_=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},D_=async function*(t,e){for await(const r of R_(t))yield*j_(r,e)},R_=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Ep=(t,e,r,n)=>{const a=D_(t,e);let s=0,l,u=h=>{l||(l=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:m,value:x}=await a.next();if(m){u(),h.close();return}let v=x.byteLength;if(r){let y=s+=v;r(y)}h.enqueue(new Uint8Array(x))}catch(m){throw u(m),m}},cancel(h){return u(h),a.return()}},{highWaterMark:2})},pc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yv=pc&&typeof ReadableStream=="function",I_=pc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),bv=(t,...e)=>{try{return!!t(...e)}catch{return!1}},M_=yv&&bv(()=>{let t=!1;const e=new Request(fr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Np=64*1024,dd=yv&&bv(()=>Q.isReadableStream(new Response("").body)),tc={stream:dd&&(t=>t.body)};pc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!tc[e]&&(tc[e]=Q.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Be(`Response type '${e}' is not supported`,Be.ERR_NOT_SUPPORT,n)})})})(new Response);const B_=async t=>{if(t==null)return 0;if(Q.isBlob(t))return t.size;if(Q.isSpecCompliantForm(t))return(await new Request(fr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(t)||Q.isArrayBuffer(t))return t.byteLength;if(Q.isURLSearchParams(t)&&(t=t+""),Q.isString(t))return(await I_(t)).byteLength},P_=async(t,e)=>{const r=Q.toFiniteNumber(t.getContentLength());return r??B_(e)},L_=pc&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:m,headers:x,withCredentials:v="same-origin",fetchOptions:y}=gv(t);m=m?(m+"").toLowerCase():"text";let b=T_([a,s&&s.toAbortSignal()],l),w;const _=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let N;try{if(h&&M_&&r!=="get"&&r!=="head"&&(N=await P_(x,n))!==0){let R=new Request(e,{method:"POST",body:n,duplex:"half"}),k;if(Q.isFormData(n)&&(k=R.headers.get("content-type"))&&x.setContentType(k),R.body){const[K,W]=_p(N,ec(wp(h)));n=Ep(R.body,Np,K,W)}}Q.isString(v)||(v=v?"include":"omit");const C="credentials"in Request.prototype;w=new Request(e,{...y,signal:b,method:r.toUpperCase(),headers:x.normalize().toJSON(),body:n,duplex:"half",credentials:C?v:void 0});let E=await fetch(w,y);const O=dd&&(m==="stream"||m==="response");if(dd&&(u||O&&_)){const R={};["status","statusText","headers"].forEach(J=>{R[J]=E[J]});const k=Q.toFiniteNumber(E.headers.get("content-length")),[K,W]=u&&_p(k,ec(wp(u),!0))||[];E=new Response(Ep(E.body,Np,K,()=>{W&&W(),_&&_()}),R)}m=m||"text";let j=await tc[Q.findKey(tc,m)||"text"](E,t);return!O&&_&&_(),await new Promise((R,k)=>{xv(R,k,{data:j,headers:Dr.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:w})})}catch(C){throw _&&_(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,t,w),{cause:C.cause||C}):Be.from(C,C&&C.code,t,w)}}),hd={http:Qb,xhr:O_,fetch:L_};Q.forEach(hd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Sp=t=>`- ${t}`,k_=t=>Q.isFunction(t)||t===null||t===!1,_v={getAdapter:t=>{t=Q.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let l;if(n=r,!k_(r)&&(n=hd[(l=String(r)).toLowerCase()],n===void 0))throw new Be(`Unknown adapter '${l}'`);if(n)break;a[l||"#"+s]=n}if(!n){const s=Object.entries(a).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(Sp).join(`
`):" "+Sp(s[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:hd};function qf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qi(null,t)}function Cp(t){return qf(t),t.headers=Dr.from(t.headers),t.data=Xf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_v.getAdapter(t.adapter||_o.adapter)(t).then(function(n){return qf(t),n.data=Xf.call(t,t.transformResponse,n),n.headers=Dr.from(n.headers),n},function(n){return pv(n)||(qf(t),n&&n.response&&(n.response.data=Xf.call(t,t.transformResponse,n.response),n.response.headers=Dr.from(n.response.headers))),Promise.reject(n)})}const wv="1.10.0",xc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xc[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Op={};xc.transitional=function(e,r,n){function a(s,l){return"[Axios v"+wv+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,u)=>{if(e===!1)throw new Be(a(l," has been removed"+(r?" in "+r:"")),Be.ERR_DEPRECATED);return r&&!Op[l]&&(Op[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,l,u):!0}};xc.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function F_(t,e,r){if(typeof t!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],l=e[s];if(l){const u=t[s],h=u===void 0||l(u,s,t);if(h!==!0)throw new Be("option "+s+" must be "+h,Be.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Be("Unknown option "+s,Be.ERR_BAD_OPTION)}}const $l={assertOptions:F_,validators:xc},An=$l.validators;let Wa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new yp,response:new yp}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ja(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&$l.assertOptions(n,{silentJSONParsing:An.transitional(An.boolean),forcedJSONParsing:An.transitional(An.boolean),clarifyTimeoutError:An.transitional(An.boolean)},!1),a!=null&&(Q.isFunction(a)?r.paramsSerializer={serialize:a}:$l.assertOptions(a,{encode:An.function,serialize:An.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),$l.assertOptions(r,{baseUrl:An.spelling("baseURL"),withXsrfToken:An.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=s&&Q.merge(s.common,s[r.method]);s&&Q.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),r.headers=Dr.concat(l,s);const u=[];let h=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(h=h&&_.synchronous,u.unshift(_.fulfilled,_.rejected))});const m=[];this.interceptors.response.forEach(function(_){m.push(_.fulfilled,_.rejected)});let x,v=0,y;if(!h){const w=[Cp.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,m),y=w.length,x=Promise.resolve(r);v<y;)x=x.then(w[v++],w[v++]);return x}y=u.length;let b=r;for(v=0;v<y;){const w=u[v++],_=u[v++];try{b=w(b)}catch(N){_.call(this,N);break}}try{x=Cp.call(this,b)}catch(w){return Promise.reject(w)}for(v=0,y=m.length;v<y;)x=x.then(m[v++],m[v++]);return x}getUri(e){e=Ja(this.defaults,e);const r=vv(e.baseURL,e.url,e.allowAbsoluteUrls);return dv(r,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Wa.prototype[e]=function(r,n){return this.request(Ja(n||{},{method:e,url:r,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function r(n){return function(s,l,u){return this.request(Ja(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Wa.prototype[e]=r(),Wa.prototype[e+"Form"]=r(!0)});let U_=class Av{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const l=new Promise(u=>{n.subscribe(u),s=u}).then(a);return l.cancel=function(){n.unsubscribe(s)},l},e(function(s,l,u){n.reason||(n.reason=new Qi(s,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Av(function(a){e=a}),cancel:e}}};function z_(t){return function(r){return t.apply(null,r)}}function V_(t){return Q.isObject(t)&&t.isAxiosError===!0}const md={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(md).forEach(([t,e])=>{md[e]=t});function Ev(t){const e=new Wa(t),r=ev(Wa.prototype.request,e);return Q.extend(r,Wa.prototype,e,{allOwnKeys:!0}),Q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return Ev(Ja(t,a))},r}const Tt=Ev(_o);Tt.Axios=Wa;Tt.CanceledError=Qi;Tt.CancelToken=U_;Tt.isCancel=pv;Tt.VERSION=wv;Tt.toFormData=mc;Tt.AxiosError=Be;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=z_;Tt.isAxiosError=V_;Tt.mergeConfig=Ja;Tt.AxiosHeaders=Dr;Tt.formToJSON=t=>mv(Q.isHTMLForm(t)?new FormData(t):t);Tt.getAdapter=_v.getAdapter;Tt.HttpStatusCode=md;Tt.default=Tt;const{Axios:I6,AxiosError:M6,CanceledError:B6,isCancel:P6,CancelToken:L6,VERSION:k6,all:F6,Cancel:U6,isAxiosError:z6,spread:V6,toFormData:H6,AxiosHeaders:G6,HttpStatusCode:Z6,formToJSON:X6,getAdapter:q6,mergeConfig:$6}=Tt,H_="https://henrydiagnostics-production.up.railway.app",_e=Tt.create({baseURL:`${H_}/api`,headers:{"Content-Type":"application/json"}});_e.interceptors.request.use(t=>{const e=localStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});_e.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)));const $f={login:async t=>(await _e.post("/auth/login",t)).data,logout:async()=>{const t=await _e.post("/auth/logout");return localStorage.removeItem("auth_token"),localStorage.removeItem("user"),t.data},getProfile:async()=>(await _e.get("/auth/profile")).data,changePassword:async t=>(await _e.put("/auth/change-password",t)).data},Nv=z.createContext(null),G_=({children:t})=>{const[e,r]=z.useState(null),[n,a]=z.useState(!0);z.useEffect(()=>{(async()=>{const m=localStorage.getItem("auth_token"),x=localStorage.getItem("user");if(m&&x)try{const v=await $f.getProfile();r(v.user)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}a(!1)})()},[]);const u={user:e,isLoading:n,login:async h=>{try{const m=await $f.login(h);localStorage.setItem("auth_token",m.token),localStorage.setItem("user",JSON.stringify(m.user)),r(m.user)}catch(m){throw m}},logout:async()=>{try{await $f.logout()}catch(h){console.error("Error during logout:",h)}finally{r(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},isAuthenticated:!!e};return f.jsx(Nv.Provider,{value:u,children:t})},xn=()=>{const t=z.useContext(Nv);if(!t)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return t};var wo=t=>t.type==="checkbox",Ya=t=>t instanceof Date,yr=t=>t==null;const Sv=t=>typeof t=="object";var Ot=t=>!yr(t)&&!Array.isArray(t)&&Sv(t)&&!Ya(t),Z_=t=>Ot(t)&&t.target?wo(t.target)?t.target.checked:t.target.value:t,X_=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,q_=(t,e)=>t.has(X_(e)),$_=t=>{const e=t.constructor&&t.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},Hd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Hd&&(t instanceof Blob||n))&&(r||Ot(t)))if(e=r?[]:{},!r&&!$_(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Yt(t[a]));else return t;return e}var vc=t=>/^\w*$/.test(t),Mt=t=>t===void 0,Gd=t=>Array.isArray(t)?t.filter(Boolean):[],Zd=t=>Gd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(t,e,r)=>{if(!e||!Ot(t))return r;const n=(vc(e)?[e]:Zd(e)).reduce((a,s)=>yr(a)?a:a[s],t);return Mt(n)||n===t?Mt(t[e])?r:t[e]:n},En=t=>typeof t=="boolean",dt=(t,e,r)=>{let n=-1;const a=vc(e)?[e]:Zd(e),s=a.length,l=s-1;for(;++n<s;){const u=a[n];let h=r;if(n!==l){const m=t[u];h=Ot(m)||Array.isArray(m)?m:isNaN(+a[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=h,t=t[u]}};const Tp={BLUR:"blur",FOCUS_OUT:"focusout"},fn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Y_=ln.createContext(null);Y_.displayName="HookFormContext";var K_=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(a,s,{get:()=>{const l=s;return e._proxyFormState[l]!==fn.all&&(e._proxyFormState[l]=!n||fn.all),t[l]}});return a};const W_=typeof window<"u"?z.useLayoutEffect:z.useEffect;var Nn=t=>typeof t=="string",Q_=(t,e,r,n,a)=>Nn(t)?(n&&e.watch.add(t),Ee(r,t,a)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Ee(r,s))):(n&&(e.watchAll=!0),r),Xd=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},fo=t=>Array.isArray(t)?t:[t],jp=()=>{let t=[];return{get observers(){return t},next:a=>{for(const s of t)s.next&&s.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(s=>s!==a)}}),unsubscribe:()=>{t=[]}}},pd=t=>yr(t)||!Sv(t);function wa(t,e,r=new WeakSet){if(pd(t)||pd(e))return t===e;if(Ya(t)&&Ya(e))return t.getTime()===e.getTime();const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const l=t[s];if(!a.includes(s))return!1;if(s!=="ref"){const u=e[s];if(Ya(l)&&Ya(u)||Ot(l)&&Ot(u)||Array.isArray(l)&&Array.isArray(u)?!wa(l,u,r):l!==u)return!1}}return!0}var Cr=t=>Ot(t)&&!Object.keys(t).length,qd=t=>t.type==="file",dn=t=>typeof t=="function",rc=t=>{if(!Hd)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Cv=t=>t.type==="select-multiple",$d=t=>t.type==="radio",J_=t=>$d(t)||wo(t),Yf=t=>rc(t)&&t.isConnected;function e3(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Mt(t)?n++:t[e[n++]];return t}function t3(t){for(const e in t)if(t.hasOwnProperty(e)&&!Mt(t[e]))return!1;return!0}function It(t,e){const r=Array.isArray(e)?e:vc(e)?[e]:Zd(e),n=r.length===1?t:e3(t,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(Ot(n)&&Cr(n)||Array.isArray(n)&&t3(n))&&It(t,r.slice(0,-1)),t}var Ov=t=>{for(const e in t)if(dn(t[e]))return!0;return!1};function nc(t,e={}){const r=Array.isArray(t);if(Ot(t)||r)for(const n in t)Array.isArray(t[n])||Ot(t[n])&&!Ov(t[n])?(e[n]=Array.isArray(t[n])?[]:{},nc(t[n],e[n])):yr(t[n])||(e[n]=!0);return e}function Tv(t,e,r){const n=Array.isArray(t);if(Ot(t)||n)for(const a in t)Array.isArray(t[a])||Ot(t[a])&&!Ov(t[a])?Mt(e)||pd(r[a])?r[a]=Array.isArray(t[a])?nc(t[a],[]):{...nc(t[a])}:Tv(t[a],yr(e)?{}:e[a],r[a]):r[a]=!wa(t[a],e[a]);return r}var eo=(t,e)=>Tv(t,e,nc(e));const Dp={value:!1,isValid:!1},Rp={value:!0,isValid:!0};var jv=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Mt(t[0].attributes.value)?Mt(t[0].value)||t[0].value===""?Rp:{value:t[0].value,isValid:!0}:Rp:Dp}return Dp},Dv=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Mt(t)?t:e?t===""?NaN:t&&+t:r&&Nn(t)?new Date(t):n?n(t):t;const Ip={isValid:!1,value:null};var Rv=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Ip):Ip;function Mp(t){const e=t.ref;return qd(e)?e.files:$d(e)?Rv(t.refs).value:Cv(e)?[...e.selectedOptions].map(({value:r})=>r):wo(e)?jv(t.refs).value:Dv(Mt(e.value)?t.ref.value:e.value,t)}var r3=(t,e,r,n)=>{const a={};for(const s of t){const l=Ee(e,s);l&&dt(a,s,l._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},ac=t=>t instanceof RegExp,to=t=>Mt(t)?t:ac(t)?t.source:Ot(t)?ac(t.value)?t.value.source:t.value:t,Bp=t=>({isOnSubmit:!t||t===fn.onSubmit,isOnBlur:t===fn.onBlur,isOnChange:t===fn.onChange,isOnAll:t===fn.all,isOnTouch:t===fn.onTouched});const Pp="AsyncFunction";var n3=t=>!!t&&!!t.validate&&!!(dn(t.validate)&&t.validate.constructor.name===Pp||Ot(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Pp)),a3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Lp=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const ho=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const s=Ee(t,a);if(s){const{_f:l,...u}=s;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],a)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(ho(u,e))break}else if(Ot(u)&&ho(u,e))break}}};function kp(t,e,r){const n=Ee(t,r);if(n||vc(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),l=Ee(e,s),u=Ee(t,s);if(l&&!Array.isArray(l)&&r!==s)return{name:r};if(u&&u.type)return{name:s,error:u};if(u&&u.root&&u.root.type)return{name:`${s}.root`,error:u.root};a.pop()}return{name:r}}var i3=(t,e,r,n)=>{r(t);const{name:a,...s}=t;return Cr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(l=>e[l]===(!n||fn.all))},s3=(t,e,r)=>!t||!e||t===e||fo(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),o3=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,l3=(t,e)=>!Gd(Ee(t,e)).length&&It(t,e),c3=(t,e,r)=>{const n=fo(Ee(t,r));return dt(n,"root",e[r]),dt(t,r,n),t},Yl=t=>Nn(t);function Fp(t,e,r="validate"){if(Yl(t)||Array.isArray(t)&&t.every(Yl)||En(t)&&!t)return{type:r,message:Yl(t)?t:"",ref:e}}var Gi=t=>Ot(t)&&!ac(t)?t:{value:t,message:""},Up=async(t,e,r,n,a,s)=>{const{ref:l,refs:u,required:h,maxLength:m,minLength:x,min:v,max:y,pattern:b,validate:w,name:_,valueAsNumber:N,mount:C}=t._f,E=Ee(r,_);if(!C||e.has(_))return{};const O=u?u[0]:l,j=se=>{a&&O.reportValidity&&(O.setCustomValidity(En(se)?"":se||""),O.reportValidity())},R={},k=$d(l),K=wo(l),W=k||K,J=(N||qd(l))&&Mt(l.value)&&Mt(E)||rc(l)&&l.value===""||E===""||Array.isArray(E)&&!E.length,Z=Xd.bind(null,_,n,R),ve=(se,he,ce,xe=Gn.maxLength,P=Gn.minLength)=>{const ue=se?he:ce;R[_]={type:se?xe:P,message:ue,ref:l,...Z(se?xe:P,ue)}};if(s?!Array.isArray(E)||!E.length:h&&(!W&&(J||yr(E))||En(E)&&!E||K&&!jv(u).isValid||k&&!Rv(u).isValid)){const{value:se,message:he}=Yl(h)?{value:!!h,message:h}:Gi(h);if(se&&(R[_]={type:Gn.required,message:he,ref:O,...Z(Gn.required,he)},!n))return j(he),R}if(!J&&(!yr(v)||!yr(y))){let se,he;const ce=Gi(y),xe=Gi(v);if(!yr(E)&&!isNaN(E)){const P=l.valueAsNumber||E&&+E;yr(ce.value)||(se=P>ce.value),yr(xe.value)||(he=P<xe.value)}else{const P=l.valueAsDate||new Date(E),ue=I=>new Date(new Date().toDateString()+" "+I),ae=l.type=="time",we=l.type=="week";Nn(ce.value)&&E&&(se=ae?ue(E)>ue(ce.value):we?E>ce.value:P>new Date(ce.value)),Nn(xe.value)&&E&&(he=ae?ue(E)<ue(xe.value):we?E<xe.value:P<new Date(xe.value))}if((se||he)&&(ve(!!se,ce.message,xe.message,Gn.max,Gn.min),!n))return j(R[_].message),R}if((m||x)&&!J&&(Nn(E)||s&&Array.isArray(E))){const se=Gi(m),he=Gi(x),ce=!yr(se.value)&&E.length>+se.value,xe=!yr(he.value)&&E.length<+he.value;if((ce||xe)&&(ve(ce,se.message,he.message),!n))return j(R[_].message),R}if(b&&!J&&Nn(E)){const{value:se,message:he}=Gi(b);if(ac(se)&&!E.match(se)&&(R[_]={type:Gn.pattern,message:he,ref:l,...Z(Gn.pattern,he)},!n))return j(he),R}if(w){if(dn(w)){const se=await w(E,r),he=Fp(se,O);if(he&&(R[_]={...he,...Z(Gn.validate,he.message)},!n))return j(he.message),R}else if(Ot(w)){let se={};for(const he in w){if(!Cr(se)&&!n)break;const ce=Fp(await w[he](E,r),O,he);ce&&(se={...ce,...Z(he,ce.message)},j(ce.message),n&&(R[_]=se))}if(!Cr(se)&&(R[_]={ref:O,...se},!n))return R}}return j(!0),R};const u3={mode:fn.onSubmit,reValidateMode:fn.onChange,shouldFocusError:!0};function f3(t={}){let e={...u3,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:dn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=Ot(e.defaultValues)||Ot(e.values)?Yt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Yt(a),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...x};const y={array:jp(),state:jp()},b=e.criteriaMode===fn.all,w=M=>q=>{clearTimeout(m),m=setTimeout(M,q)},_=async M=>{if(!e.disabled&&(x.isValid||v.isValid||M)){const q=e.resolver?Cr((await K()).errors):await J(n,!0);q!==r.isValid&&y.state.next({isValid:q})}},N=(M,q)=>{!e.disabled&&(x.isValidating||x.validatingFields||v.isValidating||v.validatingFields)&&((M||Array.from(u.mount)).forEach(re=>{re&&(q?dt(r.validatingFields,re,q):It(r.validatingFields,re))}),y.state.next({validatingFields:r.validatingFields,isValidating:!Cr(r.validatingFields)}))},C=(M,q=[],re,be,ye=!0,me=!0)=>{if(be&&re&&!e.disabled){if(l.action=!0,me&&Array.isArray(Ee(n,M))){const Se=re(Ee(n,M),be.argA,be.argB);ye&&dt(n,M,Se)}if(me&&Array.isArray(Ee(r.errors,M))){const Se=re(Ee(r.errors,M),be.argA,be.argB);ye&&dt(r.errors,M,Se),l3(r.errors,M)}if((x.touchedFields||v.touchedFields)&&me&&Array.isArray(Ee(r.touchedFields,M))){const Se=re(Ee(r.touchedFields,M),be.argA,be.argB);ye&&dt(r.touchedFields,M,Se)}(x.dirtyFields||v.dirtyFields)&&(r.dirtyFields=eo(a,s)),y.state.next({name:M,isDirty:ve(M,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else dt(s,M,q)},E=(M,q)=>{dt(r.errors,M,q),y.state.next({errors:r.errors})},O=M=>{r.errors=M,y.state.next({errors:r.errors,isValid:!1})},j=(M,q,re,be)=>{const ye=Ee(n,M);if(ye){const me=Ee(s,M,Mt(re)?Ee(a,M):re);Mt(me)||be&&be.defaultChecked||q?dt(s,M,q?me:Mp(ye._f)):ce(M,me),l.mount&&_()}},R=(M,q,re,be,ye)=>{let me=!1,Se=!1;const Me={name:M};if(!e.disabled){if(!re||be){(x.isDirty||v.isDirty)&&(Se=r.isDirty,r.isDirty=Me.isDirty=ve(),me=Se!==Me.isDirty);const Ge=wa(Ee(a,M),q);Se=!!Ee(r.dirtyFields,M),Ge?It(r.dirtyFields,M):dt(r.dirtyFields,M,!0),Me.dirtyFields=r.dirtyFields,me=me||(x.dirtyFields||v.dirtyFields)&&Se!==!Ge}if(re){const Ge=Ee(r.touchedFields,M);Ge||(dt(r.touchedFields,M,re),Me.touchedFields=r.touchedFields,me=me||(x.touchedFields||v.touchedFields)&&Ge!==re)}me&&ye&&y.state.next(Me)}return me?Me:{}},k=(M,q,re,be)=>{const ye=Ee(r.errors,M),me=(x.isValid||v.isValid)&&En(q)&&r.isValid!==q;if(e.delayError&&re?(h=w(()=>E(M,re)),h(e.delayError)):(clearTimeout(m),h=null,re?dt(r.errors,M,re):It(r.errors,M)),(re?!wa(ye,re):ye)||!Cr(be)||me){const Se={...be,...me&&En(q)?{isValid:q}:{},errors:r.errors,name:M};r={...r,...Se},y.state.next(Se)}},K=async M=>{N(M,!0);const q=await e.resolver(s,e.context,r3(M||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return N(M),q},W=async M=>{const{errors:q}=await K(M);if(M)for(const re of M){const be=Ee(q,re);be?dt(r.errors,re,be):It(r.errors,re)}else r.errors=q;return q},J=async(M,q,re={valid:!0})=>{for(const be in M){const ye=M[be];if(ye){const{_f:me,...Se}=ye;if(me){const Me=u.array.has(me.name),Ge=ye._f&&n3(ye._f);Ge&&x.validatingFields&&N([be],!0);const ht=await Up(ye,u.disabled,s,b,e.shouldUseNativeValidation&&!q,Me);if(Ge&&x.validatingFields&&N([be]),ht[me.name]&&(re.valid=!1,q))break;!q&&(Ee(ht,me.name)?Me?c3(r.errors,ht,me.name):dt(r.errors,me.name,ht[me.name]):It(r.errors,me.name))}!Cr(Se)&&await J(Se,q,re)}}return re.valid},Z=()=>{for(const M of u.unMount){const q=Ee(n,M);q&&(q._f.refs?q._f.refs.every(re=>!Yf(re)):!Yf(q._f.ref))&&Ze(M)}u.unMount=new Set},ve=(M,q)=>!e.disabled&&(M&&q&&dt(s,M,q),!wa(I(),a)),se=(M,q,re)=>Q_(M,u,{...l.mount?s:Mt(q)?a:Nn(M)?{[M]:q}:q},re,q),he=M=>Gd(Ee(l.mount?s:a,M,e.shouldUnregister?Ee(a,M,[]):[])),ce=(M,q,re={})=>{const be=Ee(n,M);let ye=q;if(be){const me=be._f;me&&(!me.disabled&&dt(s,M,Dv(q,me)),ye=rc(me.ref)&&yr(q)?"":q,Cv(me.ref)?[...me.ref.options].forEach(Se=>Se.selected=ye.includes(Se.value)):me.refs?wo(me.ref)?me.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(ye)?Se.checked=!!ye.find(Me=>Me===Se.value):Se.checked=ye===Se.value||!!ye)}):me.refs.forEach(Se=>Se.checked=Se.value===ye):qd(me.ref)?me.ref.value="":(me.ref.value=ye,me.ref.type||y.state.next({name:M,values:Yt(s)})))}(re.shouldDirty||re.shouldTouch)&&R(M,ye,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&we(M)},xe=(M,q,re)=>{for(const be in q){if(!q.hasOwnProperty(be))return;const ye=q[be],me=M+"."+be,Se=Ee(n,me);(u.array.has(M)||Ot(ye)||Se&&!Se._f)&&!Ya(ye)?xe(me,ye,re):ce(me,ye,re)}},P=(M,q,re={})=>{const be=Ee(n,M),ye=u.array.has(M),me=Yt(q);dt(s,M,me),ye?(y.array.next({name:M,values:Yt(s)}),(x.isDirty||x.dirtyFields||v.isDirty||v.dirtyFields)&&re.shouldDirty&&y.state.next({name:M,dirtyFields:eo(a,s),isDirty:ve(M,me)})):be&&!be._f&&!yr(me)?xe(M,me,re):ce(M,me,re),Lp(M,u)&&y.state.next({...r}),y.state.next({name:l.mount?M:void 0,values:Yt(s)})},ue=async M=>{l.mount=!0;const q=M.target;let re=q.name,be=!0;const ye=Ee(n,re),me=Ge=>{be=Number.isNaN(Ge)||Ya(Ge)&&isNaN(Ge.getTime())||wa(Ge,Ee(s,re,Ge))},Se=Bp(e.mode),Me=Bp(e.reValidateMode);if(ye){let Ge,ht;const ai=q.type?Mp(ye._f):Z_(M),vn=M.type===Tp.BLUR||M.type===Tp.FOCUS_OUT,Nc=!a3(ye._f)&&!e.resolver&&!Ee(r.errors,re)&&!ye._f.deps||o3(vn,Ee(r.touchedFields,re),r.isSubmitted,Me,Se),$n=Lp(re,u,vn);dt(s,re,ai),vn?(ye._f.onBlur&&ye._f.onBlur(M),h&&h(0)):ye._f.onChange&&ye._f.onChange(M);const Yn=R(re,ai,vn),On=!Cr(Yn)||$n;if(!vn&&y.state.next({name:re,type:M.type,values:Yt(s)}),Nc)return(x.isValid||v.isValid)&&(e.mode==="onBlur"?vn&&_():vn||_()),On&&y.state.next({name:re,...$n?{}:Yn});if(!vn&&$n&&y.state.next({...r}),e.resolver){const{errors:Sa}=await K([re]);if(me(ai),be){const Ca=kp(r.errors,n,re),No=kp(Sa,n,Ca.name||re);Ge=No.error,re=No.name,ht=Cr(Sa)}}else N([re],!0),Ge=(await Up(ye,u.disabled,s,b,e.shouldUseNativeValidation))[re],N([re]),me(ai),be&&(Ge?ht=!1:(x.isValid||v.isValid)&&(ht=await J(n,!0)));be&&(ye._f.deps&&we(ye._f.deps),k(re,ht,Ge,Yn))}},ae=(M,q)=>{if(Ee(r.errors,q)&&M.focus)return M.focus(),1},we=async(M,q={})=>{let re,be;const ye=fo(M);if(e.resolver){const me=await W(Mt(M)?M:ye);re=Cr(me),be=M?!ye.some(Se=>Ee(me,Se)):re}else M?(be=(await Promise.all(ye.map(async me=>{const Se=Ee(n,me);return await J(Se&&Se._f?{[me]:Se}:Se)}))).every(Boolean),!(!be&&!r.isValid)&&_()):be=re=await J(n);return y.state.next({...!Nn(M)||(x.isValid||v.isValid)&&re!==r.isValid?{}:{name:M},...e.resolver||!M?{isValid:re}:{},errors:r.errors}),q.shouldFocus&&!be&&ho(n,ae,M?ye:u.mount),be},I=M=>{const q={...l.mount?s:a};return Mt(M)?q:Nn(M)?Ee(q,M):M.map(re=>Ee(q,re))},X=(M,q)=>({invalid:!!Ee((q||r).errors,M),isDirty:!!Ee((q||r).dirtyFields,M),error:Ee((q||r).errors,M),isValidating:!!Ee(r.validatingFields,M),isTouched:!!Ee((q||r).touchedFields,M)}),de=M=>{M&&fo(M).forEach(q=>It(r.errors,q)),y.state.next({errors:M?r.errors:{}})},pe=(M,q,re)=>{const be=(Ee(n,M,{_f:{}})._f||{}).ref,ye=Ee(r.errors,M)||{},{ref:me,message:Se,type:Me,...Ge}=ye;dt(r.errors,M,{...Ge,...q,ref:be}),y.state.next({name:M,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&be&&be.focus&&be.focus()},U=(M,q)=>dn(M)?y.state.subscribe({next:re=>M(se(void 0,q),re)}):se(M,q,!0),L=M=>y.state.subscribe({next:q=>{s3(M.name,q.name,M.exact)&&i3(q,M.formState||x,hr,M.reRenderRoot)&&M.callback({values:{...s},...r,...q})}}).unsubscribe,fe=M=>(l.mount=!0,v={...v,...M.formState},L({...M,formState:v})),Ze=(M,q={})=>{for(const re of M?fo(M):u.mount)u.mount.delete(re),u.array.delete(re),q.keepValue||(It(n,re),It(s,re)),!q.keepError&&It(r.errors,re),!q.keepDirty&&It(r.dirtyFields,re),!q.keepTouched&&It(r.touchedFields,re),!q.keepIsValidating&&It(r.validatingFields,re),!e.shouldUnregister&&!q.keepDefaultValue&&It(a,re);y.state.next({values:Yt(s)}),y.state.next({...r,...q.keepDirty?{isDirty:ve()}:{}}),!q.keepIsValid&&_()},Xe=({disabled:M,name:q})=>{(En(M)&&l.mount||M||u.disabled.has(q))&&(M?u.disabled.add(q):u.disabled.delete(q))},Gt=(M,q={})=>{let re=Ee(n,M);const be=En(q.disabled)||En(e.disabled);return dt(n,M,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:M}},name:M,mount:!0,...q}}),u.mount.add(M),re?Xe({disabled:En(q.disabled)?q.disabled:e.disabled,name:M}):j(M,!0,q.value),{...be?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:to(q.min),max:to(q.max),minLength:to(q.minLength),maxLength:to(q.maxLength),pattern:to(q.pattern)}:{},name:M,onChange:ue,onBlur:ue,ref:ye=>{if(ye){Gt(M,q),re=Ee(n,M);const me=Mt(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Se=J_(me),Me=re._f.refs||[];if(Se?Me.find(Ge=>Ge===me):me===re._f.ref)return;dt(n,M,{_f:{...re._f,...Se?{refs:[...Me.filter(Yf),me,...Array.isArray(Ee(a,M))?[{}]:[]],ref:{type:me.type,name:M}}:{ref:me}}}),j(M,!1,void 0,me)}else re=Ee(n,M,{}),re._f&&(re._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(q_(u.array,M)&&l.action)&&u.unMount.add(M)}}},tn=()=>e.shouldFocusError&&ho(n,ae,u.mount),qn=M=>{En(M)&&(y.state.next({disabled:M}),ho(n,(q,re)=>{const be=Ee(n,re);be&&(q.disabled=be._f.disabled||M,Array.isArray(be._f.refs)&&be._f.refs.forEach(ye=>{ye.disabled=be._f.disabled||M}))},0,!1))},le=(M,q)=>async re=>{let be;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let ye=Yt(s);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:Se}=await K();r.errors=me,ye=Yt(Se)}else await J(n);if(u.disabled.size)for(const me of u.disabled)It(ye,me);if(It(r.errors,"root"),Cr(r.errors)){y.state.next({errors:{}});try{await M(ye,re)}catch(me){be=me}}else q&&await q({...r.errors},re),tn(),setTimeout(tn);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(r.errors)&&!be,submitCount:r.submitCount+1,errors:r.errors}),be)throw be},Pe=(M,q={})=>{Ee(n,M)&&(Mt(q.defaultValue)?P(M,Yt(Ee(a,M))):(P(M,q.defaultValue),dt(a,M,Yt(q.defaultValue))),q.keepTouched||It(r.touchedFields,M),q.keepDirty||(It(r.dirtyFields,M),r.isDirty=q.defaultValue?ve(M,Yt(Ee(a,M))):ve()),q.keepError||(It(r.errors,M),x.isValid&&_()),y.state.next({...r}))},Ke=(M,q={})=>{const re=M?Yt(M):a,be=Yt(re),ye=Cr(M),me=ye?a:be;if(q.keepDefaultValues||(a=re),!q.keepValues){if(q.keepDirtyValues){const Se=new Set([...u.mount,...Object.keys(eo(a,s))]);for(const Me of Array.from(Se))Ee(r.dirtyFields,Me)?dt(me,Me,Ee(s,Me)):P(Me,Ee(me,Me))}else{if(Hd&&Mt(M))for(const Se of u.mount){const Me=Ee(n,Se);if(Me&&Me._f){const Ge=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(rc(Ge)){const ht=Ge.closest("form");if(ht){ht.reset();break}}}}if(q.keepFieldsRef)for(const Se of u.mount)P(Se,Ee(me,Se));else n={}}s=e.shouldUnregister?q.keepDefaultValues?Yt(a):{}:Yt(me),y.array.next({values:{...me}}),y.state.next({values:{...me}})}u={mount:q.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!x.isValid||!!q.keepIsValid||!!q.keepDirtyValues,l.watch=!!e.shouldUnregister,y.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!wa(M,a)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:q.keepDirtyValues?q.keepDefaultValues&&s?eo(a,s):r.dirtyFields:q.keepDefaultValues&&M?eo(a,M):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},rn=(M,q)=>Ke(dn(M)?M(s):M,q),Na=(M,q={})=>{const re=Ee(n,M),be=re&&re._f;if(be){const ye=be.refs?be.refs[0]:be.ref;ye.focus&&(ye.focus(),q.shouldSelect&&dn(ye.select)&&ye.select())}},hr=M=>{r={...r,...M}},ts={control:{register:Gt,unregister:Ze,getFieldState:X,handleSubmit:le,setError:pe,_subscribe:L,_runSchema:K,_focusError:tn,_getWatch:se,_getDirty:ve,_setValid:_,_setFieldArray:C,_setDisabledField:Xe,_setErrors:O,_getFieldArray:he,_reset:Ke,_resetDefaultValues:()=>dn(e.defaultValues)&&e.defaultValues().then(M=>{rn(M,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:qn,_subjects:y,_proxyFormState:x,get _fields(){return n},get _formValues(){return s},get _state(){return l},set _state(M){l=M},get _defaultValues(){return a},get _names(){return u},set _names(M){u=M},get _formState(){return r},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:fe,trigger:we,register:Gt,handleSubmit:le,watch:U,setValue:P,getValues:I,reset:rn,resetField:Pe,clearErrors:de,unregister:Ze,setError:pe,setFocus:Na,getFieldState:X};return{...ts,formControl:ts}}function en(t={}){const e=ln.useRef(void 0),r=ln.useRef(void 0),[n,a]=ln.useState({isDirty:!1,isValidating:!1,isLoading:dn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:dn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!dn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...u}=f3(t);e.current={...u,formState:n}}const s=e.current.control;return s._options=t,W_(()=>{const l=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(u=>({...u,isReady:!0})),s._formState.isReady=!0,l},[s]),ln.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ln.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),ln.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),ln.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),ln.useEffect(()=>{if(s._proxyFormState.isDirty){const l=s._getDirty();l!==n.isDirty&&s._subjects.state.next({isDirty:l})}},[s,n.isDirty]),ln.useEffect(()=>{t.values&&!wa(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=t.values,a(l=>({...l}))):s._resetDefaultValues()},[s,t.values]),ln.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=K_(n,s),e.current}const zp=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Ee(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},xd=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?zp(n.ref,r,t):n&&n.refs&&n.refs.forEach(a=>zp(a,r,t))}},Vp=(t,e)=>{e.shouldUseNativeValidation&&xd(t,e);const r={};for(const n in t){const a=Ee(e.fields,n),s=Object.assign(t[n]||{},{ref:a&&a.ref});if(d3(e.names||Object.keys(t),n)){const l=Object.assign({},Ee(r,n));dt(l,"root",s),dt(r,n,l)}else dt(r,n,s)}return r},d3=(t,e)=>{const r=Hp(e);return t.some(n=>Hp(n).match(`^${r}\\.\\d+`))};function Hp(t){return t.replace(/\]|\[/g,"")}function oe(t,e,r){function n(u,h){var m;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(m=u._zod).traits??(m.traits=new Set),u._zod.traits.add(t),e(u,h);for(const x in l.prototype)x in u||Object.defineProperty(u,x,{value:l.prototype[x].bind(u)});u._zod.constr=l,u._zod.def=h}const a=r?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:t});function l(u){var h;const m=r?.Parent?new s:this;n(m,u),(h=m._zod).deferred??(h.deferred=[]);for(const x of m._zod.deferred)x();return m}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(t)}),Object.defineProperty(l,"name",{value:t}),l}class go extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Iv={};function ei(t){return Iv}function h3(t){const e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,a])=>e.indexOf(+n)===-1).map(([n,a])=>a)}function m3(t,e){return typeof e=="bigint"?e.toString():e}function Mv(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Yd(t){return t==null}function Kd(t){const e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function p3(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(t.toFixed(a).replace(".","")),l=Number.parseInt(e.toFixed(a).replace(".",""));return s%l/10**a}function gt(t,e,r){Object.defineProperty(t,e,{get(){{const n=r();return t[e]=n,n}},set(n){Object.defineProperty(t,e,{value:n})},configurable:!0})}function Wd(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ro(t){return JSON.stringify(t)}const Bv=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function vd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const x3=Mv(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function gd(t){if(vd(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(vd(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const v3=new Set(["string","number","symbol"]);function gc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ri(t,e,r){const n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function je(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function g3(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const y3={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function b3(t,e){const r={},n=t._zod.def;for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(r[a]=n.shape[a])}return ri(t,{...t._zod.def,shape:r,checks:[]})}function _3(t,e){const r={...t._zod.def.shape},n=t._zod.def;for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete r[a]}return ri(t,{...t._zod.def,shape:r,checks:[]})}function w3(t,e){if(!gd(e))throw new Error("Invalid input to extend: expected a plain object");const r={...t._zod.def,get shape(){const n={...t._zod.def.shape,...e};return Wd(this,"shape",n),n},checks:[]};return ri(t,r)}function A3(t,e){return ri(t,{...t._zod.def,get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Wd(this,"shape",r),r},catchall:e._zod.def.catchall,checks:[]})}function E3(t,e,r){const n=e._zod.def.shape,a={...n};if(r)for(const s in r){if(!(s in n))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(a[s]=t?new t({type:"optional",innerType:n[s]}):n[s])}else for(const s in n)a[s]=t?new t({type:"optional",innerType:n[s]}):n[s];return ri(e,{...e._zod.def,shape:a,checks:[]})}function N3(t,e,r){const n=e._zod.def.shape,a={...n};if(r)for(const s in r){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(a[s]=new t({type:"nonoptional",innerType:n[s]}))}else for(const s in n)a[s]=new t({type:"nonoptional",innerType:n[s]});return ri(e,{...e._zod.def,shape:a,checks:[]})}function mo(t,e=0){for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function Qd(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function Ll(t){return typeof t=="string"?t:t?.message}function ti(t,e,r){const n={...t,path:t.path??[]};if(!t.message){const a=Ll(t.inst?._zod.def?.error?.(t))??Ll(e?.error?.(t))??Ll(r.customError?.(t))??Ll(r.localeError?.(t))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function Jd(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function yo(...t){const[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}const Pv=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,m3,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},e0=oe("$ZodError",Pv),yc=oe("$ZodError",Pv,{Parent:Error});function S3(t,e=r=>r.message){const r={},n=[];for(const a of t.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}function C3(t,e){const r=e||function(s){return s.message},n={_errors:[]},a=s=>{for(const l of s.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(r(l));else{let u=n,h=0;for(;h<l.path.length;){const m=l.path[h];h===l.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(r(l))):u[m]=u[m]||{_errors:[]},u=u[m],h++}}};return a(t),n}const Lv=t=>(e,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},l=e._zod.run({value:r,issues:[]},s);if(l instanceof Promise)throw new go;if(l.issues.length){const u=new(a?.Err??t)(l.issues.map(h=>ti(h,s,ei())));throw Bv(u,a?.callee),u}return l.value},O3=Lv(yc),kv=t=>async(e,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let l=e._zod.run({value:r,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(a?.Err??t)(l.issues.map(h=>ti(h,s,ei())));throw Bv(u,a?.callee),u}return l.value},T3=kv(yc),Fv=t=>(e,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=e._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new go;return s.issues.length?{success:!1,error:new(t??e0)(s.issues.map(l=>ti(l,a,ei())))}:{success:!0,data:s.value}},j3=Fv(yc),Uv=t=>async(e,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=e._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(l=>ti(l,a,ei())))}:{success:!0,data:s.value}},D3=Uv(yc),R3=/^[cC][^\s-]{8,}$/,I3=/^[0-9a-z]+$/,M3=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,B3=/^[0-9a-vA-V]{20}$/,P3=/^[A-Za-z0-9]{27}$/,L3=/^[a-zA-Z0-9_-]{21}$/,k3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,F3=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Gp=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,U3=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,z3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function V3(){return new RegExp(z3,"u")}const H3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Z3=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,X3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q3=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,zv=/^[A-Za-z0-9_-]*$/,$3=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Y3=/^\+(?:[0-9]){6,14}[0-9]$/,Vv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",K3=new RegExp(`^${Vv}$`);function Hv(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function W3(t){return new RegExp(`^${Hv(t)}$`)}function Q3(t){const e=Hv({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-]\\d{2}:\\d{2})");const n=`${e}(?:${r.join("|")})`;return new RegExp(`^${Vv}T(?:${n})$`)}const J3=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},ew=/^\d+$/,tw=/^-?\d+(?:\.\d+)?/i,rw=/^[^A-Z]*$/,nw=/^[^a-z]*$/,Rr=oe("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),Gv={number:"number",bigint:"bigint",object:"date"},Zv=oe("$ZodCheckLessThan",(t,e)=>{Rr.init(t,e);const r=Gv[typeof e.value];t._zod.onattach.push(n=>{const a=n._zod.bag,s=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Xv=oe("$ZodCheckGreaterThan",(t,e)=>{Rr.init(t,e);const r=Gv[typeof e.value];t._zod.onattach.push(n=>{const a=n._zod.bag,s=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),aw=oe("$ZodCheckMultipleOf",(t,e)=>{Rr.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):p3(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),iw=oe("$ZodCheckNumberFormat",(t,e)=>{Rr.init(t,e),e.format=e.format||"float64";const r=e.format?.includes("int"),n=r?"int":"number",[a,s]=y3[e.format];t._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=a,u.maximum=s,r&&(u.pattern=ew)}),t._zod.check=l=>{const u=l.value;if(r){if(!Number.isInteger(u)){l.issues.push({expected:n,format:e.format,code:"invalid_type",input:u,inst:t});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort});return}}u<a&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),u>s&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inst:t})}}),sw=oe("$ZodCheckMaxLength",(t,e)=>{var r;Rr.init(t,e),(r=t._zod.def).when??(r.when=n=>{const a=n.value;return!Yd(a)&&a.length!==void 0}),t._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{const a=n.value;if(a.length<=e.maximum)return;const l=Jd(a);n.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),ow=oe("$ZodCheckMinLength",(t,e)=>{var r;Rr.init(t,e),(r=t._zod.def).when??(r.when=n=>{const a=n.value;return!Yd(a)&&a.length!==void 0}),t._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{const a=n.value;if(a.length>=e.minimum)return;const l=Jd(a);n.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),lw=oe("$ZodCheckLengthEquals",(t,e)=>{var r;Rr.init(t,e),(r=t._zod.def).when??(r.when=n=>{const a=n.value;return!Yd(a)&&a.length!==void 0}),t._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=n=>{const a=n.value,s=a.length;if(s===e.length)return;const l=Jd(a),u=s>e.length;n.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),bc=oe("$ZodCheckStringFormat",(t,e)=>{var r,n;Rr.init(t,e),t._zod.onattach.push(a=>{const s=a._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),cw=oe("$ZodCheckRegex",(t,e)=>{bc.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),uw=oe("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=rw),bc.init(t,e)}),fw=oe("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=nw),bc.init(t,e)}),dw=oe("$ZodCheckIncludes",(t,e)=>{Rr.init(t,e);const r=gc(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),hw=oe("$ZodCheckStartsWith",(t,e)=>{Rr.init(t,e);const r=new RegExp(`^${gc(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),mw=oe("$ZodCheckEndsWith",(t,e)=>{Rr.init(t,e);const r=new RegExp(`.*${gc(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}}),pw=oe("$ZodCheckOverwrite",(t,e)=>{Rr.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});class xw{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),s=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const e=Function,r=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...r,a.join(`
`))}}const vw={major:4,minor:0,patch:5},jt=oe("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=vw;const n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(const a of n)for(const s of a._zod.onattach)s(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(s,l,u)=>{let h=mo(s),m;for(const x of l){if(x._zod.def.when){if(!x._zod.def.when(s))continue}else if(h)continue;const v=s.issues.length,y=x._zod.check(s);if(y instanceof Promise&&u?.async===!1)throw new go;if(m||y instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await y,s.issues.length!==v&&(h||(h=mo(s,v)))});else{if(s.issues.length===v)continue;h||(h=mo(s,v))}}return m?m.then(()=>s):s};t._zod.run=(s,l)=>{const u=t._zod.parse(s,l);if(u instanceof Promise){if(l.async===!1)throw new go;return u.then(h=>a(h,n,l))}return a(u,n,l)}}t["~standard"]={validate:a=>{try{const s=j3(t,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return D3(t,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),t0=oe("$ZodString",(t,e)=>{jt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??J3(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),_t=oe("$ZodStringFormat",(t,e)=>{bc.init(t,e),t0.init(t,e)}),gw=oe("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=F3),_t.init(t,e)}),yw=oe("$ZodUUID",(t,e)=>{if(e.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Gp(n))}else e.pattern??(e.pattern=Gp());_t.init(t,e)}),bw=oe("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=U3),_t.init(t,e)}),_w=oe("$ZodURL",(t,e)=>{_t.init(t,e),t._zod.check=r=>{try{const n=r.value,a=new URL(n),s=a.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:$3.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),!n.endsWith("/")&&s.endsWith("/")?r.value=s.slice(0,-1):r.value=s;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),ww=oe("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=V3()),_t.init(t,e)}),Aw=oe("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=L3),_t.init(t,e)}),Ew=oe("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=R3),_t.init(t,e)}),Nw=oe("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=I3),_t.init(t,e)}),Sw=oe("$ZodULID",(t,e)=>{e.pattern??(e.pattern=M3),_t.init(t,e)}),Cw=oe("$ZodXID",(t,e)=>{e.pattern??(e.pattern=B3),_t.init(t,e)}),Ow=oe("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=P3),_t.init(t,e)}),Tw=oe("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Q3(e)),_t.init(t,e)}),jw=oe("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=K3),_t.init(t,e)}),Dw=oe("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=W3(e)),_t.init(t,e)}),Rw=oe("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=k3),_t.init(t,e)}),Iw=oe("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=H3),_t.init(t,e),t._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),Mw=oe("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=G3),_t.init(t,e),t._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),Bw=oe("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Z3),_t.init(t,e)}),Pw=oe("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=X3),_t.init(t,e),t._zod.check=r=>{const[n,a]=r.value.split("/");try{if(!a)throw new Error;const s=Number(a);if(`${s}`!==a)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function qv(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Lw=oe("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=q3),_t.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{qv(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function kw(t){if(!zv.test(t))return!1;const e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return qv(r)}const Fw=oe("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=zv),_t.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{kw(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),Uw=oe("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Y3),_t.init(t,e)});function zw(t,e=null){try{const r=t.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const Vw=oe("$ZodJWT",(t,e)=>{_t.init(t,e),t._zod.check=r=>{zw(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),$v=oe("$ZodNumber",(t,e)=>{jt.init(t,e),t._zod.pattern=t._zod.bag.pattern??tw,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...s?{received:s}:{}}),r}}),Hw=oe("$ZodNumber",(t,e)=>{iw.init(t,e),$v.init(t,e)}),Gw=oe("$ZodUnknown",(t,e)=>{jt.init(t,e),t._zod.parse=r=>r}),Zw=oe("$ZodNever",(t,e)=>{jt.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function Zp(t,e,r){t.issues.length&&e.issues.push(...Qd(r,t.issues)),e.value[r]=t.value}const Xw=oe("$ZodArray",(t,e)=>{jt.init(t,e),t._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),r;r.value=Array(a.length);const s=[];for(let l=0;l<a.length;l++){const u=a[l],h=e.element._zod.run({value:u,issues:[]},n);h instanceof Promise?s.push(h.then(m=>Zp(m,r,l))):Zp(h,r,l)}return s.length?Promise.all(s).then(()=>r):r}});function kl(t,e,r){t.issues.length&&e.issues.push(...Qd(r,t.issues)),e.value[r]=t.value}function Xp(t,e,r,n){t.issues.length?n[r]===void 0?r in n?e.value[r]=void 0:e.value[r]=t.value:e.issues.push(...Qd(r,t.issues)):t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}const qw=oe("$ZodObject",(t,e)=>{jt.init(t,e);const r=Mv(()=>{const v=Object.keys(e.shape);for(const b of v)if(!(e.shape[b]instanceof jt))throw new Error(`Invalid element at key "${b}": expected a Zod schema`);const y=g3(e.shape);return{shape:e.shape,keys:v,keySet:new Set(v),numKeys:v.length,optionalKeys:new Set(y)}});gt(t._zod,"propValues",()=>{const v=e.shape,y={};for(const b in v){const w=v[b]._zod;if(w.values){y[b]??(y[b]=new Set);for(const _ of w.values)y[b].add(_)}}return y});const n=v=>{const y=new xw(["shape","payload","ctx"]),b=r.value,w=E=>{const O=ro(E);return`shape[${O}]._zod.run({ value: input[${O}], issues: [] }, ctx)`};y.write("const input = payload.value;");const _=Object.create(null);let N=0;for(const E of b.keys)_[E]=`key_${N++}`;y.write("const newResult = {}");for(const E of b.keys)if(b.optionalKeys.has(E)){const O=_[E];y.write(`const ${O} = ${w(E)};`);const j=ro(E);y.write(`
        if (${O}.issues.length) {
          if (input[${j}] === undefined) {
            if (${j} in input) {
              newResult[${j}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${O}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${j}, ...iss.path] : [${j}],
              }))
            );
          }
        } else if (${O}.value === undefined) {
          if (${j} in input) newResult[${j}] = undefined;
        } else {
          newResult[${j}] = ${O}.value;
        }
        `)}else{const O=_[E];y.write(`const ${O} = ${w(E)};`),y.write(`
          if (${O}.issues.length) payload.issues = payload.issues.concat(${O}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ro(E)}, ...iss.path] : [${ro(E)}]
          })));`),y.write(`newResult[${ro(E)}] = ${O}.value`)}y.write("payload.value = newResult;"),y.write("return payload;");const C=y.compile();return(E,O)=>C(v,E,O)};let a;const s=vd,l=!Iv.jitless,h=l&&x3.value,m=e.catchall;let x;t._zod.parse=(v,y)=>{x??(x=r.value);const b=v.value;if(!s(b))return v.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),v;const w=[];if(l&&h&&y?.async===!1&&y.jitless!==!0)a||(a=n(e.shape)),v=a(v,y);else{v.value={};const O=x.shape;for(const j of x.keys){const R=O[j],k=R._zod.run({value:b[j],issues:[]},y),K=R._zod.optin==="optional"&&R._zod.optout==="optional";k instanceof Promise?w.push(k.then(W=>K?Xp(W,v,j,b):kl(W,v,j))):K?Xp(k,v,j,b):kl(k,v,j)}}if(!m)return w.length?Promise.all(w).then(()=>v):v;const _=[],N=x.keySet,C=m._zod,E=C.def.type;for(const O of Object.keys(b)){if(N.has(O))continue;if(E==="never"){_.push(O);continue}const j=C.run({value:b[O],issues:[]},y);j instanceof Promise?w.push(j.then(R=>kl(R,v,O))):kl(j,v,O)}return _.length&&v.issues.push({code:"unrecognized_keys",keys:_,input:b,inst:t}),w.length?Promise.all(w).then(()=>v):v}});function qp(t,e,r,n){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(a=>a.issues.map(s=>ti(s,n,ei())))}),e}const $w=oe("$ZodUnion",(t,e)=>{jt.init(t,e),gt(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),gt(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),gt(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),gt(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>Kd(n.source)).join("|")})$`)}}),t._zod.parse=(r,n)=>{let a=!1;const s=[];for(const l of e.options){const u=l._zod.run({value:r.value,issues:[]},n);if(u instanceof Promise)s.push(u),a=!0;else{if(u.issues.length===0)return u;s.push(u)}}return a?Promise.all(s).then(l=>qp(l,r,t,n)):qp(s,r,t,n)}}),Yw=oe("$ZodIntersection",(t,e)=>{jt.init(t,e),t._zod.parse=(r,n)=>{const a=r.value,s=e.left._zod.run({value:a,issues:[]},n),l=e.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([h,m])=>$p(r,h,m)):$p(r,s,l)}});function yd(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(gd(t)&&gd(e)){const r=Object.keys(e),n=Object.keys(t).filter(s=>r.indexOf(s)!==-1),a={...t,...e};for(const s of n){const l=yd(t[s],e[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};a[s]=l.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<t.length;n++){const a=t[n],s=e[n],l=yd(a,s);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function $p(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),mo(t))return t;const n=yd(e.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}const Kw=oe("$ZodEnum",(t,e)=>{jt.init(t,e);const r=h3(e.entries);t._zod.values=new Set(r),t._zod.pattern=new RegExp(`^(${r.filter(n=>v3.has(typeof n)).map(n=>typeof n=="string"?gc(n):n.toString()).join("|")})$`),t._zod.parse=(n,a)=>{const s=n.value;return t._zod.values.has(s)||n.issues.push({code:"invalid_value",values:r,input:s,inst:t}),n}}),Ww=oe("$ZodTransform",(t,e)=>{jt.init(t,e),t._zod.parse=(r,n)=>{const a=e.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new go;return r.value=a,r}}),Qw=oe("$ZodOptional",(t,e)=>{jt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",gt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),gt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${Kd(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(r,n):r.value===void 0?r:e.innerType._zod.run(r,n)}),Jw=oe("$ZodNullable",(t,e)=>{jt.init(t,e),gt(t._zod,"optin",()=>e.innerType._zod.optin),gt(t._zod,"optout",()=>e.innerType._zod.optout),gt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${Kd(r.source)}|null)$`):void 0}),gt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),e4=oe("$ZodDefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",gt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=e.defaultValue,r;const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>Yp(s,e)):Yp(a,e)}});function Yp(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const t4=oe("$ZodPrefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",gt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),r4=oe("$ZodNonOptional",(t,e)=>{jt.init(t,e),gt(t._zod,"values",()=>{const r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>Kp(s,t)):Kp(a,t)}});function Kp(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const n4=oe("$ZodCatch",(t,e)=>{jt.init(t,e),t._zod.optin="optional",gt(t._zod,"optout",()=>e.innerType._zod.optout),gt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=e.catchValue({...r,error:{issues:s.issues.map(l=>ti(l,n,ei()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=e.catchValue({...r,error:{issues:a.issues.map(s=>ti(s,n,ei()))},input:r.value}),r.issues=[]),r)}}),a4=oe("$ZodPipe",(t,e)=>{jt.init(t,e),gt(t._zod,"values",()=>e.in._zod.values),gt(t._zod,"optin",()=>e.in._zod.optin),gt(t._zod,"optout",()=>e.out._zod.optout),gt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{const a=e.in._zod.run(r,n);return a instanceof Promise?a.then(s=>Wp(s,e,n)):Wp(a,e,n)}});function Wp(t,e,r){return mo(t)?t:e.out._zod.run({value:t.value,issues:t.issues},r)}const i4=oe("$ZodReadonly",(t,e)=>{jt.init(t,e),gt(t._zod,"propValues",()=>e.innerType._zod.propValues),gt(t._zod,"values",()=>e.innerType._zod.values),gt(t._zod,"optin",()=>e.innerType._zod.optin),gt(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,n)=>{const a=e.innerType._zod.run(r,n);return a instanceof Promise?a.then(Qp):Qp(a)}});function Qp(t){return t.value=Object.freeze(t.value),t}const s4=oe("$ZodCustom",(t,e)=>{Rr.init(t,e),jt.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{const n=r.value,a=e.fn(n);if(a instanceof Promise)return a.then(s=>Jp(s,r,n,t));Jp(a,r,n,t)}});function Jp(t,e,r,n){if(!t){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),e.issues.push(yo(a))}}class o4{constructor(){this._map=new Map,this._idmap=new Map}add(e,...r){const n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){const r=e._zod.parent;if(r){const n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function l4(){return new o4}const Fl=l4();function c4(t,e){return new t({type:"string",...je(e)})}function u4(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...je(e)})}function ex(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...je(e)})}function f4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...je(e)})}function d4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...je(e)})}function h4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...je(e)})}function m4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...je(e)})}function p4(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...je(e)})}function x4(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...je(e)})}function v4(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...je(e)})}function g4(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...je(e)})}function y4(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...je(e)})}function b4(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...je(e)})}function _4(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...je(e)})}function w4(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...je(e)})}function A4(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...je(e)})}function E4(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...je(e)})}function N4(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...je(e)})}function S4(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...je(e)})}function C4(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...je(e)})}function O4(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...je(e)})}function T4(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...je(e)})}function j4(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...je(e)})}function D4(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...je(e)})}function R4(t,e){return new t({type:"string",format:"date",check:"string_format",...je(e)})}function I4(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...je(e)})}function M4(t,e){return new t({type:"string",format:"duration",check:"string_format",...je(e)})}function B4(t,e){return new t({type:"number",checks:[],...je(e)})}function P4(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...je(e)})}function L4(t){return new t({type:"unknown"})}function k4(t,e){return new t({type:"never",...je(e)})}function tx(t,e){return new Zv({check:"less_than",...je(e),value:t,inclusive:!1})}function Kf(t,e){return new Zv({check:"less_than",...je(e),value:t,inclusive:!0})}function rx(t,e){return new Xv({check:"greater_than",...je(e),value:t,inclusive:!1})}function Wf(t,e){return new Xv({check:"greater_than",...je(e),value:t,inclusive:!0})}function nx(t,e){return new aw({check:"multiple_of",...je(e),value:t})}function Yv(t,e){return new sw({check:"max_length",...je(e),maximum:t})}function ic(t,e){return new ow({check:"min_length",...je(e),minimum:t})}function Kv(t,e){return new lw({check:"length_equals",...je(e),length:t})}function F4(t,e){return new cw({check:"string_format",format:"regex",...je(e),pattern:t})}function U4(t){return new uw({check:"string_format",format:"lowercase",...je(t)})}function z4(t){return new fw({check:"string_format",format:"uppercase",...je(t)})}function V4(t,e){return new dw({check:"string_format",format:"includes",...je(e),includes:t})}function H4(t,e){return new hw({check:"string_format",format:"starts_with",...je(e),prefix:t})}function G4(t,e){return new mw({check:"string_format",format:"ends_with",...je(e),suffix:t})}function Ao(t){return new pw({check:"overwrite",tx:t})}function Z4(t){return Ao(e=>e.normalize(t))}function X4(){return Ao(t=>t.trim())}function q4(){return Ao(t=>t.toLowerCase())}function $4(){return Ao(t=>t.toUpperCase())}function Y4(t,e,r){return new t({type:"array",element:e,...je(r)})}function K4(t,e,r){return new t({type:"custom",check:"custom",fn:e,...je(r)})}function ax(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function W4(t,e){for(var r={};t.length;){var n=t[0],a=n.code,s=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[l]={message:u.message,type:u.code}}else r[l]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(x){return x.errors.forEach(function(v){return t.push(v)})}),e){var h=r[l].types,m=h&&h[n.code];r[l]=Xd(l,e,r,a,m?[].concat(m,n.message):n.message)}t.shift()}return r}function Q4(t,e){for(var r={};t.length;){var n=t[0],a=n.code,s=n.message,l=n.path.join(".");if(!r[l])if(n.code==="invalid_union"){var u=n.errors[0][0];r[l]={message:u.message,type:u.code}}else r[l]={message:s,type:a};if(n.code==="invalid_union"&&n.errors.forEach(function(x){return x.forEach(function(v){return t.push(v)})}),e){var h=r[l].types,m=h&&h[n.code];r[l]=Xd(l,e,r,a,m?[].concat(m,n.message):n.message)}t.shift()}return r}function Ji(t,e,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(t))return function(n,a,s){try{return Promise.resolve(ax(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(l){return s.shouldUseNativeValidation&&xd({},s),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(u){return Array.isArray(u?.issues)}(l))return{values:{},errors:Vp(W4(l.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw l}))}catch(l){return Promise.reject(l)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(t))return function(n,a,s){try{return Promise.resolve(ax(function(){return Promise.resolve((r.mode==="sync"?O3:T3)(t,n,e)).then(function(l){return s.shouldUseNativeValidation&&xd({},s),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(u){return u instanceof e0}(l))return{values:{},errors:Vp(Q4(l.issues,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const J4=oe("ZodISODateTime",(t,e)=>{Tw.init(t,e),At.init(t,e)});function eA(t){return D4(J4,t)}const tA=oe("ZodISODate",(t,e)=>{jw.init(t,e),At.init(t,e)});function rA(t){return R4(tA,t)}const nA=oe("ZodISOTime",(t,e)=>{Dw.init(t,e),At.init(t,e)});function aA(t){return I4(nA,t)}const iA=oe("ZodISODuration",(t,e)=>{Rw.init(t,e),At.init(t,e)});function sA(t){return M4(iA,t)}const oA=(t,e)=>{e0.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>C3(t,r)},flatten:{value:r=>S3(t,r)},addIssue:{value:r=>t.issues.push(r)},addIssues:{value:r=>t.issues.push(...r)},isEmpty:{get(){return t.issues.length===0}}})},_c=oe("ZodError",oA,{Parent:Error}),lA=Lv(_c),cA=kv(_c),uA=Fv(_c),fA=Uv(_c),Ht=oe("ZodType",(t,e)=>(jt.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>ri(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t),t.parse=(r,n)=>lA(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>uA(t,r,n),t.parseAsync=async(r,n)=>cA(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>fA(t,r,n),t.spa=t.safeParseAsync,t.refine=(r,n)=>t.check(rE(r,n)),t.superRefine=r=>t.check(nE(r)),t.overwrite=r=>t.check(Ao(r)),t.optional=()=>lx(t),t.nullable=()=>cx(t),t.nullish=()=>lx(cx(t)),t.nonoptional=r=>$A(t,r),t.array=()=>BA(t),t.or=r=>kA([t,r]),t.and=r=>UA(t,r),t.transform=r=>ux(t,VA(r)),t.default=r=>ZA(t,r),t.prefault=r=>qA(t,r),t.catch=r=>KA(t,r),t.pipe=r=>ux(t,r),t.readonly=()=>JA(t),t.describe=r=>{const n=t.clone();return Fl.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return Fl.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return Fl.get(t);const n=t.clone();return Fl.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Wv=oe("_ZodString",(t,e)=>{t0.init(t,e),Ht.init(t,e);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(F4(...n)),t.includes=(...n)=>t.check(V4(...n)),t.startsWith=(...n)=>t.check(H4(...n)),t.endsWith=(...n)=>t.check(G4(...n)),t.min=(...n)=>t.check(ic(...n)),t.max=(...n)=>t.check(Yv(...n)),t.length=(...n)=>t.check(Kv(...n)),t.nonempty=(...n)=>t.check(ic(1,...n)),t.lowercase=n=>t.check(U4(n)),t.uppercase=n=>t.check(z4(n)),t.trim=()=>t.check(X4()),t.normalize=(...n)=>t.check(Z4(...n)),t.toLowerCase=()=>t.check(q4()),t.toUpperCase=()=>t.check($4())}),dA=oe("ZodString",(t,e)=>{t0.init(t,e),Wv.init(t,e),t.email=r=>t.check(u4(hA,r)),t.url=r=>t.check(p4(mA,r)),t.jwt=r=>t.check(j4(TA,r)),t.emoji=r=>t.check(x4(pA,r)),t.guid=r=>t.check(ex(ix,r)),t.uuid=r=>t.check(f4(Ul,r)),t.uuidv4=r=>t.check(d4(Ul,r)),t.uuidv6=r=>t.check(h4(Ul,r)),t.uuidv7=r=>t.check(m4(Ul,r)),t.nanoid=r=>t.check(v4(xA,r)),t.guid=r=>t.check(ex(ix,r)),t.cuid=r=>t.check(g4(vA,r)),t.cuid2=r=>t.check(y4(gA,r)),t.ulid=r=>t.check(b4(yA,r)),t.base64=r=>t.check(C4(SA,r)),t.base64url=r=>t.check(O4(CA,r)),t.xid=r=>t.check(_4(bA,r)),t.ksuid=r=>t.check(w4(_A,r)),t.ipv4=r=>t.check(A4(wA,r)),t.ipv6=r=>t.check(E4(AA,r)),t.cidrv4=r=>t.check(N4(EA,r)),t.cidrv6=r=>t.check(S4(NA,r)),t.e164=r=>t.check(T4(OA,r)),t.datetime=r=>t.check(eA(r)),t.date=r=>t.check(rA(r)),t.time=r=>t.check(aA(r)),t.duration=r=>t.check(sA(r))});function Qt(t){return c4(dA,t)}const At=oe("ZodStringFormat",(t,e)=>{_t.init(t,e),Wv.init(t,e)}),hA=oe("ZodEmail",(t,e)=>{bw.init(t,e),At.init(t,e)}),ix=oe("ZodGUID",(t,e)=>{gw.init(t,e),At.init(t,e)}),Ul=oe("ZodUUID",(t,e)=>{yw.init(t,e),At.init(t,e)}),mA=oe("ZodURL",(t,e)=>{_w.init(t,e),At.init(t,e)}),pA=oe("ZodEmoji",(t,e)=>{ww.init(t,e),At.init(t,e)}),xA=oe("ZodNanoID",(t,e)=>{Aw.init(t,e),At.init(t,e)}),vA=oe("ZodCUID",(t,e)=>{Ew.init(t,e),At.init(t,e)}),gA=oe("ZodCUID2",(t,e)=>{Nw.init(t,e),At.init(t,e)}),yA=oe("ZodULID",(t,e)=>{Sw.init(t,e),At.init(t,e)}),bA=oe("ZodXID",(t,e)=>{Cw.init(t,e),At.init(t,e)}),_A=oe("ZodKSUID",(t,e)=>{Ow.init(t,e),At.init(t,e)}),wA=oe("ZodIPv4",(t,e)=>{Iw.init(t,e),At.init(t,e)}),AA=oe("ZodIPv6",(t,e)=>{Mw.init(t,e),At.init(t,e)}),EA=oe("ZodCIDRv4",(t,e)=>{Bw.init(t,e),At.init(t,e)}),NA=oe("ZodCIDRv6",(t,e)=>{Pw.init(t,e),At.init(t,e)}),SA=oe("ZodBase64",(t,e)=>{Lw.init(t,e),At.init(t,e)}),CA=oe("ZodBase64URL",(t,e)=>{Fw.init(t,e),At.init(t,e)}),OA=oe("ZodE164",(t,e)=>{Uw.init(t,e),At.init(t,e)}),TA=oe("ZodJWT",(t,e)=>{Vw.init(t,e),At.init(t,e)}),Qv=oe("ZodNumber",(t,e)=>{$v.init(t,e),Ht.init(t,e),t.gt=(n,a)=>t.check(rx(n,a)),t.gte=(n,a)=>t.check(Wf(n,a)),t.min=(n,a)=>t.check(Wf(n,a)),t.lt=(n,a)=>t.check(tx(n,a)),t.lte=(n,a)=>t.check(Kf(n,a)),t.max=(n,a)=>t.check(Kf(n,a)),t.int=n=>t.check(sx(n)),t.safe=n=>t.check(sx(n)),t.positive=n=>t.check(rx(0,n)),t.nonnegative=n=>t.check(Wf(0,n)),t.negative=n=>t.check(tx(0,n)),t.nonpositive=n=>t.check(Kf(0,n)),t.multipleOf=(n,a)=>t.check(nx(n,a)),t.step=(n,a)=>t.check(nx(n,a)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function $i(t){return B4(Qv,t)}const jA=oe("ZodNumberFormat",(t,e)=>{Hw.init(t,e),Qv.init(t,e)});function sx(t){return P4(jA,t)}const DA=oe("ZodUnknown",(t,e)=>{Gw.init(t,e),Ht.init(t,e)});function ox(){return L4(DA)}const RA=oe("ZodNever",(t,e)=>{Zw.init(t,e),Ht.init(t,e)});function IA(t){return k4(RA,t)}const MA=oe("ZodArray",(t,e)=>{Xw.init(t,e),Ht.init(t,e),t.element=e.element,t.min=(r,n)=>t.check(ic(r,n)),t.nonempty=r=>t.check(ic(1,r)),t.max=(r,n)=>t.check(Yv(r,n)),t.length=(r,n)=>t.check(Kv(r,n)),t.unwrap=()=>t.element});function BA(t,e){return Y4(MA,t,e)}const PA=oe("ZodObject",(t,e)=>{qw.init(t,e),Ht.init(t,e),gt(t,"shape",()=>e.shape),t.keyof=()=>Yi(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:ox()}),t.loose=()=>t.clone({...t._zod.def,catchall:ox()}),t.strict=()=>t.clone({...t._zod.def,catchall:IA()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>w3(t,r),t.merge=r=>A3(t,r),t.pick=r=>b3(t,r),t.omit=r=>_3(t,r),t.partial=(...r)=>E3(Jv,t,r[0]),t.required=(...r)=>N3(eg,t,r[0])});function es(t,e){const r={type:"object",get shape(){return Wd(this,"shape",{...t}),this.shape},...je(e)};return new PA(r)}const LA=oe("ZodUnion",(t,e)=>{$w.init(t,e),Ht.init(t,e),t.options=e.options});function kA(t,e){return new LA({type:"union",options:t,...je(e)})}const FA=oe("ZodIntersection",(t,e)=>{Yw.init(t,e),Ht.init(t,e)});function UA(t,e){return new FA({type:"intersection",left:t,right:e})}const bd=oe("ZodEnum",(t,e)=>{Kw.init(t,e),Ht.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const r=new Set(Object.keys(e.entries));t.extract=(n,a)=>{const s={};for(const l of n)if(r.has(l))s[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new bd({...e,checks:[],...je(a),entries:s})},t.exclude=(n,a)=>{const s={...e.entries};for(const l of n)if(r.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new bd({...e,checks:[],...je(a),entries:s})}});function Yi(t,e){const r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new bd({type:"enum",entries:r,...je(e)})}const zA=oe("ZodTransform",(t,e)=>{Ww.init(t,e),Ht.init(t,e),t._zod.parse=(r,n)=>{r.addIssue=s=>{if(typeof s=="string")r.issues.push(yo(s,r.value,e));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=t),l.continue??(l.continue=!0),r.issues.push(yo(l))}};const a=e.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function VA(t){return new zA({type:"transform",transform:t})}const Jv=oe("ZodOptional",(t,e)=>{Qw.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType});function lx(t){return new Jv({type:"optional",innerType:t})}const HA=oe("ZodNullable",(t,e)=>{Jw.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType});function cx(t){return new HA({type:"nullable",innerType:t})}const GA=oe("ZodDefault",(t,e)=>{e4.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function ZA(t,e){return new GA({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const XA=oe("ZodPrefault",(t,e)=>{t4.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType});function qA(t,e){return new XA({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const eg=oe("ZodNonOptional",(t,e)=>{r4.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType});function $A(t,e){return new eg({type:"nonoptional",innerType:t,...je(e)})}const YA=oe("ZodCatch",(t,e)=>{n4.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function KA(t,e){return new YA({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const WA=oe("ZodPipe",(t,e)=>{a4.init(t,e),Ht.init(t,e),t.in=e.in,t.out=e.out});function ux(t,e){return new WA({type:"pipe",in:t,out:e})}const QA=oe("ZodReadonly",(t,e)=>{i4.init(t,e),Ht.init(t,e)});function JA(t){return new QA({type:"readonly",innerType:t})}const eE=oe("ZodCustom",(t,e)=>{s4.init(t,e),Ht.init(t,e)});function tE(t){const e=new Rr({check:"custom"});return e._zod.check=t,e}function rE(t,e={}){return K4(eE,t,e)}function nE(t){const e=tE(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(yo(n,r.value,e._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),r.issues.push(yo(a))}},t(r.value,r)));return e}const tg=({className:t="",size:e="md"})=>{const r={sm:"h-8",md:"h-12",lg:"h-16"};return f.jsxs("div",{className:`flex items-center space-x-3 ${t}`,children:[f.jsx("img",{src:"/logo-henrys-diagnostics.png",alt:"Henry Diagnostics",className:`${r[e]} w-auto object-contain`,onError:n=>{n.currentTarget.style.display="none",n.currentTarget.nextElementSibling?.classList.remove("hidden")}}),f.jsx("span",{className:"hidden text-xl font-bold text-blue-600",children:"HENRY DIAGNOSTICS"})]})},aE=es({email:Qt().email("Email inválido"),password:Qt().min(1,"Contraseña requerida")}),iE=()=>{const[t,e]=z.useState(!1),[r,n]=z.useState(null),{login:a}=xn(),{register:s,handleSubmit:l,formState:{errors:u}}=en({resolver:Ji(aE)}),h=async m=>{e(!0),n(null);try{await a(m)}catch(x){n(x.response?.data?.message||"Error al iniciar sesión")}finally{e(!1)}};return f.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(tg,{size:"lg"})}),f.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Iniciar Sesión"}),f.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sistema de Seguimiento de Clientes"})]}),f.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:f.jsxs("div",{className:"card px-6 py-8",children:[r&&f.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-600",children:r})}),f.jsxs("form",{className:"space-y-6",onSubmit:l(h),children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),f.jsxs("div",{className:"mt-1",children:[f.jsx("input",{...s("email"),type:"email",autoComplete:"email",className:"input-field",placeholder:"tu@email.com"}),u.email&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email.message})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),f.jsxs("div",{className:"mt-1",children:[f.jsx("input",{...s("password"),type:"password",autoComplete:"current-password",className:"input-field",placeholder:"Tu contraseña"}),u.password&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password.message})]})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:t,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Iniciando sesión...":"Iniciar Sesión"})})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsx("p",{className:"font-semibold mb-2",children:"Credenciales de prueba:"}),f.jsxs("div",{className:"space-y-1 text-xs",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Admin:"})," rik@rikmarquez.com / HenryDiag2024$"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Mecánico:"})," mecanico@henrydiagnostics.com / MecanicoHD2024!"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Seguimiento:"})," ventas@henrydiagnostics.com / VentasHD2024!"]})]})]})})]})})]})},sE=({currentPage:t,onPageChange:e})=>{const{user:r,logout:n}=xn(),[a,s]=z.useState(!1),l=async()=>{try{await n()}catch(x){console.error("Error al cerrar sesión:",x)}},u=[{id:"dashboard",label:"Dashboard",icon:"🏠"},{id:"services",label:"Servicios",icon:"🔧"},{id:"appointmentList",label:"Citas del Día",icon:"📅"},{id:"opportunities",label:"Oportunidades",icon:"💼"}],h=[{id:"reception",label:"Recepción",icon:"🚪"},{id:"appointments",label:"Todas las Citas",icon:"📋"},{id:"vehicles",label:"Vehículos",icon:"🚗"},{id:"customers",label:"Clientes",icon:"👥"},{id:"mechanics",label:"Mecánicos",icon:"🔧"},...r?.rol==="administrador"?[{id:"users",label:"Usuarios",icon:"👤"}]:[]],m=()=>{s(!a)};return f.jsxs(f.Fragment,{children:[f.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex justify-between items-center h-14",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(tg,{size:"sm"}),f.jsx("span",{className:"ml-3 text-xl font-semibold text-gray-900",children:"Henry Diagnostics"})]}),f.jsxs("button",{onClick:m,className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,title:"Más opciones",children:[f.jsx("span",{children:"⚙️"}),f.jsx("span",{className:"hidden sm:inline",children:"Más"}),f.jsx("span",{className:`transition-transform duration-200 ${a?"rotate-180":""}`,children:"▼"})]})]}),f.jsx("div",{className:"hidden sm:block border-t border-gray-100 py-2",children:f.jsxs("nav",{className:"flex items-center justify-center space-x-3 lg:space-x-6",children:[u.map(x=>f.jsxs("button",{onClick:()=>e(x.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${t===x.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[f.jsx("span",{children:x.icon}),f.jsx("span",{children:x.label})]},x.id)),f.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:text-red-800 hover:bg-red-50 transition-colors whitespace-nowrap",children:[f.jsx("span",{children:"🚪"}),f.jsx("span",{children:"Cerrar Sesión"})]})]})})]})}),f.jsx("div",{className:`bg-gray-50 border-b border-gray-200 shadow-sm transition-all duration-300 ease-in-out overflow-hidden ${a?"max-h-20 opacity-100":"max-h-0 opacity-0"}`,children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsx("nav",{className:"flex items-center justify-center space-x-4 lg:space-x-6 py-4",children:h.map(x=>f.jsxs("button",{onClick:()=>{e(x.id),s(!1)},className:`flex items-center space-x-1 lg:space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${t===x.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[f.jsx("span",{children:x.icon}),f.jsx("span",{children:x.label})]},x.id))})})}),f.jsx("div",{className:"sm:hidden border-t border-gray-200 bg-gray-50",children:f.jsxs("div",{className:"px-4 py-2",children:[f.jsx("div",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Principal"}),f.jsxs("nav",{className:"flex overflow-x-auto space-x-3 mb-3",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[u.map(x=>f.jsxs("button",{onClick:()=>e(x.id),className:`flex flex-col items-center p-2 rounded-lg text-xs font-medium whitespace-nowrap transition-colors min-w-0 flex-shrink-0 ${t===x.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[f.jsx("span",{className:"text-base mb-1",children:x.icon}),f.jsx("span",{className:"text-xs",children:x.label})]},x.id)),f.jsxs("button",{onClick:l,className:"flex flex-col items-center p-2 rounded-lg text-xs font-medium whitespace-nowrap transition-colors min-w-0 flex-shrink-0 text-red-600 hover:text-red-800 hover:bg-red-50",children:[f.jsx("span",{className:"text-base mb-1",children:"🚪"}),f.jsx("span",{className:"text-xs",children:"Cerrar"})]})]}),f.jsx("div",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Administración"}),f.jsx("nav",{className:"flex overflow-x-auto space-x-3",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:h.map(x=>f.jsxs("button",{onClick:()=>e(x.id),className:`flex flex-col items-center p-2 rounded-lg text-xs font-medium whitespace-nowrap transition-colors min-w-0 flex-shrink-0 ${t===x.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[f.jsx("span",{className:"text-base mb-1",children:x.icon}),f.jsx("span",{className:"text-xs",children:x.label})]},x.id))})]})})]})},zr={search:async t=>(await _e.get("/opportunities/search",{params:t})).data,create:async t=>(await _e.post("/opportunities",t)).data,getById:async t=>(await _e.get(`/opportunities/${t}`)).data,update:async(t,e)=>(await _e.put(`/opportunities/${t}`,e)).data,getByVehicle:async t=>(await _e.get(`/opportunities/vehicle/${t}`)).data,getRemindersToday:async()=>(await _e.get("/opportunities/reminders/today")).data,addNote:async(t,e)=>(await _e.post(`/opportunities/${t}/notes`,e)).data,changeStatus:async(t,e)=>(await _e.put(`/opportunities/${t}`,{estado:e})).data,assignUser:async(t,e)=>(await _e.put(`/opportunities/${t}`,{usuario_asignado:e})).data,getPending:async()=>(await _e.get("/opportunities/search",{params:{estado:"pendiente",limit:50}})).data,getByPriority:async t=>(await _e.get("/opportunities/search",{params:{prioridad:t,limit:50}})).data,getAppointmentsToday:async()=>{const t=new Date().toISOString().split("T")[0];console.log("🗓️ getAppointmentsToday: Buscando citas para fecha:",t);const e=await _e.get("/opportunities/search",{params:{tiene_cita:"true",fecha_desde:t,fecha_hasta:t,limit:50}});return console.log("📊 getAppointmentsToday: Resultado completo:",JSON.stringify(e.data,null,2)),console.log("📊 getAppointmentsToday: Total opportunities:",e.data?.opportunities?.length||0),e.data}},Or={search:async t=>(await _e.get("/vehicles/search",{params:t})).data,create:async t=>(await _e.post("/vehicles",t)).data,getByVin:async t=>(await _e.get(`/vehicles/${t}`)).data,update:async(t,e)=>(await _e.put(`/vehicles/${t}`,e)).data,delete:async t=>(await _e.delete(`/vehicles/${t}`)).data,getHistory:async t=>(await _e.get(`/vehicles/${t}/history`)).data,getCustomerVehicles:async t=>(await _e.get("/vehicles/search",{params:{customer_id:t,limit:100}})).data,searchByPlate:async t=>(await _e.get("/vehicles/search",{params:{placa:t,limit:10}})).data,searchByCustomer:async t=>(await _e.get("/vehicles/search",{params:{customer_name:t,limit:20}})).data,getCount:async()=>(await _e.get("/vehicles/count")).data};class oE{async getStats(){return(await _e.get("/services/stats")).data}async getCountThisMonth(){return(await _e.get("/services/count/month")).data}async getServices(e={},r=1,n=50){const a=new URLSearchParams;return e.fecha_desde&&a.append("fecha_desde",e.fecha_desde),e.fecha_hasta&&a.append("fecha_hasta",e.fecha_hasta),e.estado&&a.append("estado",e.estado),e.cliente&&a.append("cliente",e.cliente),e.vehiculo&&a.append("vehiculo",e.vehiculo),e.mechanic_id&&a.append("mechanic_id",e.mechanic_id.toString()),e.branch_id&&a.append("branch_id",e.branch_id.toString()),a.append("page",r.toString()),a.append("limit",n.toString()),(await _e.get(`/services?${a.toString()}`)).data}async getServiceById(e){return(await _e.get(`/services/${e}`)).data}async updateServiceStatus(e,r,n){return(await _e.put(`/services/${e}/status`,{estado:r,notas:n})).data}async updateService(e,r){return(await _e.put(`/services/${e}`,r)).data}async completeService(e,r){return(await _e.put(`/services/${e}/complete`,r)).data}async getServicesByVehicle(e){return(await _e.get(`/services/vehicle/${e}`)).data}async getServicesByCustomer(e){return(await _e.get(`/services/customer/${e}`)).data}async getRecentServices(e=10){return(await _e.get(`/services/recent?limit=${e}`)).data}async getAvailableMechanics(){return(await _e.get("/mechanics?activo=true&limit=100")).data}}const Zn=new oE,lE=({onNavigate:t,onNavigateToVehicleForm:e})=>{const{user:r,isLoading:n}=xn(),[a,s]=z.useState({vehiclesCount:0,opportunitiesPending:0,remindersToday:0,servicesThisMonth:0,appointmentsToday:0}),[l,u]=z.useState(!0),[h,m]=z.useState(""),[x,v]=z.useState(!1);z.useEffect(()=>{!n&&r&&y()},[n,r]);const y=async()=>{try{console.log("🔄 Dashboard: Iniciando carga de datos...");const _=new Date().toISOString().split("T")[0],[N,C,E,O,j]=await Promise.all([zr.getRemindersToday(),zr.getPending(),Or.getCount(),zr.getAppointmentsToday(),Zn.getCountThisMonth()]);console.log("📊 Dashboard: Datos recibidos",{vehicles:E,opportunities:C,reminders:N,appointments:O,services:j}),console.log("🔍 Dashboard: Detalle appointments:",{appointmentsResult:O,appointmentsArray:O?.opportunities,appointmentsLength:O?.opportunities?.length,finalCount:O?.opportunities?.length||0}),s({vehiclesCount:E.count||0,opportunitiesPending:C.opportunities?.length||0,remindersToday:N.reminders?.length||0,servicesThisMonth:j.count||0,appointmentsToday:O.opportunities?.length||0})}catch(_){console.error("❌ Dashboard: Error loading dashboard data:",_)}finally{u(!1)}},b=async()=>{if(h.trim()){v(!0);try{const _=await Or.searchByPlate(h.trim());_.vehicles&&_.vehicles.length>0?(t("vehicles"),localStorage.setItem("vehicleSearchResults",JSON.stringify(_.vehicles)),localStorage.setItem("vehicleSearchQuery",h.trim())):alert("No se encontró ningún vehículo con esas placas")}catch(_){console.error("Error searching vehicle:",_),alert("Error al buscar el vehículo")}finally{v(!1)}}},w=_=>{_.key==="Enter"&&b()};return n?f.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):f.jsx("div",{className:"bg-gray-50",children:f.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Bienvenido, ",r?.nombre]}),f.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de seguimiento de clientes y vehículos"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[f.jsx("div",{className:"card p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vehículos Registrados"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"--":a.vehiclesCount})]}),f.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:f.jsx("span",{className:"text-blue-600 text-xl",children:"🚗"})})]})}),f.jsxs("div",{className:`card p-6 ${a.appointmentsToday>0?"ring-2 ring-blue-200 bg-blue-50":""}`,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Citas Hoy"}),f.jsx("p",{className:`text-2xl font-bold ${a.appointmentsToday>0?"text-blue-600":"text-gray-900"}`,children:l?"--":a.appointmentsToday})]}),f.jsx("div",{className:`p-3 rounded-full ${a.appointmentsToday>0?"bg-blue-100":"bg-gray-100"}`,children:f.jsx("span",{className:`text-xl ${a.appointmentsToday>0?"text-blue-600":"text-gray-600"}`,children:"📅"})})]}),a.appointmentsToday>0&&f.jsx("div",{className:"mt-3",children:f.jsx("button",{onClick:()=>t("appointments"),className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-full font-medium",children:"Ver Citas"})})]}),f.jsx("div",{className:"card p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Oportunidades Pendientes"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"--":a.opportunitiesPending})]}),f.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:f.jsx("span",{className:"text-yellow-600 text-xl",children:"💼"})})]})}),f.jsxs("div",{className:`card p-6 cursor-pointer hover:shadow-lg transition-shadow ${a.servicesThisMonth>0?"ring-2 ring-green-200 bg-green-50":""}`,onClick:()=>t("services"),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Servicios del Mes"}),f.jsx("p",{className:`text-2xl font-bold ${a.servicesThisMonth>0?"text-green-600":"text-gray-900"}`,children:l?"--":a.servicesThisMonth})]}),f.jsx("div",{className:`p-3 rounded-full ${a.servicesThisMonth>0?"bg-green-100":"bg-gray-100"}`,children:f.jsx("span",{className:`text-xl ${a.servicesThisMonth>0?"text-green-600":"text-gray-600"}`,children:"✅"})})]}),a.servicesThisMonth>0&&f.jsx("div",{className:"mt-3",children:f.jsx("button",{onClick:_=>{_.stopPropagation(),t("services")},className:"text-xs bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-full font-medium",children:"Ver Servicios"})})]}),f.jsxs("div",{className:`card p-6 ${a.remindersToday>0?"ring-2 ring-red-200 bg-red-50":""}`,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recordatorios Hoy"}),f.jsx("p",{className:`text-2xl font-bold ${a.remindersToday>0?"text-red-600":"text-gray-900"}`,children:l?"--":a.remindersToday})]}),f.jsx("div",{className:`p-3 rounded-full ${a.remindersToday>0?"bg-red-100":"bg-gray-100"}`,children:f.jsx("span",{className:`text-xl ${a.remindersToday>0?"text-red-600":"text-gray-600"}`,children:a.remindersToday>0?"🔥":"⏰"})})]}),a.remindersToday>0&&f.jsx("div",{className:"mt-3",children:f.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("navigate",{detail:"reminders"})),className:"text-xs bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-full font-medium",children:"Ver Recordatorios"})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Búsqueda Rápida"}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"text",value:h,onChange:_=>m(_.target.value.toUpperCase()),onKeyPress:w,placeholder:"Buscar por placas (ABC-123-A)",className:"input-field text-sm"}),f.jsx("button",{onClick:b,disabled:x||!h.trim(),className:"w-full btn-primary text-sm disabled:opacity-50",children:x?"Buscando...":"Buscar Vehículo"})]})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rápidas"}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:()=>{console.log("📅 Dashboard: Navigating to appointments"),t("appointments")},className:"w-full btn-primary text-sm",children:"📅 Agendar Cita Rápida"}),f.jsx("button",{onClick:()=>{console.log("🚗 Dashboard: Using direct vehicle form navigation"),e()},className:"w-full btn-secondary text-sm",children:"Registrar Nuevo Vehículo"}),f.jsx("button",{onClick:()=>{console.log("💼 Dashboard: Navigating to opportunities"),t("opportunities")},className:"w-full btn-secondary text-sm",children:"Crear Oportunidad"}),f.jsx("button",{onClick:()=>{console.log("⏰ Dashboard: Navigating to reminders"),t("reminders")},className:"w-full btn-secondary text-sm",children:"Ver Recordatorios"})]})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Próximos Recordatorios"}),f.jsx("div",{className:"text-sm text-gray-600",children:f.jsx("p",{children:"No hay recordatorios programados para hoy"})})]})]})]})})})},rg={getTodayAppointments:async()=>{console.log("📅 Obteniendo citas del día...");try{const t=await _e.get("/appointments/today");return console.log(`✅ ${t.data.appointments.length} citas encontradas para hoy`),t.data}catch(t){throw console.error("❌ Error obteniendo citas del día:",t),t}},getAppointmentsByDateRange:async(t,e)=>{console.log(`📅 Obteniendo citas del ${t} al ${e}...`);try{const r=await _e.get("/appointments",{params:{start_date:t,end_date:e}});return console.log(`✅ ${r.data.appointments.length} citas encontradas en el rango`),r.data}catch(r){throw console.error("❌ Error obteniendo citas por rango:",r),r}},convertToService:async(t,e)=>{console.log(`🎯 Convirtiendo cita ${t} a servicio...`);try{const r=await _e.post(`/appointments/${t}/convert-to-service`,e);return console.log(`✅ Cita convertida exitosamente. Servicio ID: ${r.data.service?.service_id}`),r.data}catch(r){throw console.error("❌ Error convirtiendo cita a servicio:",r),r}}},Xn={getAll:async(t=50)=>(await _e.get("/customers/search",{params:{nombre:"",limit:t}})).data,search:async t=>(await _e.get("/customers/search",{params:t})).data,create:async t=>(await _e.post("/customers",t)).data,getById:async t=>(await _e.get(`/customers/${t}`)).data,update:async(t,e)=>(await _e.put(`/customers/${t}`,e)).data,delete:async t=>(await _e.delete(`/customers/${t}`)).data,getVehicles:async t=>(await _e.get(`/customers/${t}/vehicles`)).data,searchByName:async t=>(await _e.get("/customers/search",{params:{nombre:t,limit:10}})).data,searchByPhone:async t=>(await _e.get("/customers/search",{params:{telefono:t,limit:5}})).data},vr={async getMechanics(t={}){console.log("🔍 Obteniendo mecánicos con filtros:",t);const e=new URLSearchParams;Object.entries(t).forEach(([n,a])=>{a!=null&&a!==""&&e.append(n,a.toString())});const r=await _e.get(`/mechanics?${e.toString()}`);return console.log("✅ Mecánicos obtenidos:",{total:r.data.mechanics?.length||0,pagination:r.data.pagination}),r.data},async getMechanicById(t){console.log("🔍 Obteniendo mecánico por ID:",t);const e=await _e.get(`/mechanics/${t}`);return console.log("✅ Mecánico obtenido:",{mechanic_id:e.data.mechanic.mechanic_id,nombre:`${e.data.mechanic.nombre} ${e.data.mechanic.apellidos}`}),e.data},async createMechanic(t){console.log("➕ Creando nuevo mecánico:",{nombre:`${t.nombre} ${t.apellidos}`,numero_empleado:t.numero_empleado,branch_id:t.branch_id});const e=await _e.post("/mechanics",t);return console.log("✅ Mecánico creado exitosamente:",{mechanic_id:e.data.mechanic.mechanic_id,mensaje:e.data.message}),e.data},async updateMechanic(t,e){console.log("✏️ Actualizando mecánico:",{mechanic_id:t,campos_a_actualizar:Object.keys(e)});const r=await _e.put(`/mechanics/${t}`,e);return console.log("✅ Mecánico actualizado exitosamente:",{mechanic_id:t,mensaje:r.data.message}),r.data},async deleteMechanic(t){console.log("🗑️ Eliminando mecánico:",{mechanic_id:t});const e=await _e.delete(`/mechanics/${t}`);return console.log("✅ Operación completada:",{mechanic_id:t,accion:e.data.action,mensaje:e.data.message}),e.data},async getBranches(){console.log("🏢 Obteniendo lista de sucursales...");const t=await _e.get("/mechanics/branches");return console.log("✅ Sucursales obtenidas:",{total:t.data.branches?.length||0}),t.data},async getMechanicsStats(){console.log("📊 Obteniendo estadísticas de mecánicos...");const t=await _e.get("/mechanics/stats");return console.log("✅ Estadísticas obtenidas:",t.data.stats),t.data},formatName:t=>{const e=`${t.nombre} ${t.apellidos}`;return t.alias?`${e} "${t.alias}"`:e},formatNameWithAlias:t=>t.alias?`"${t.alias}" - ${t.nombre} ${t.apellidos}`:`${t.nombre} ${t.apellidos}`,formatExperienceLevel:t=>({junior:"Junior",intermedio:"Intermedio",senior:"Senior",master:"Master"})[t]||t,formatSalary:t=>t?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(t):"No especificado",formatDate:t=>new Date(t).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"}),getCommonSpecialties:()=>["Frenos","Suspensión","Dirección"]},ng=({appointment:t,isOpen:e,onSuccess:r,onCancel:n})=>{const[a,s]=z.useState("customer"),[l,u]=z.useState(!1),[h,m]=z.useState(!1),[x,v]=z.useState(!1),[y,b]=z.useState(null),[w,_]=z.useState(""),[N,C]=z.useState([]),[E,O]=z.useState(null),[j,R]=z.useState([]),[k,K]=z.useState(null),[W,J]=z.useState([]),{register:Z,handleSubmit:ve,formState:{errors:se},reset:he,setValue:ce,watch:xe}=en();z.useEffect(()=>{e&&(he(),s("customer"),u(!1),m(!1),b(null),O(null),K(null),_(""),C([]),R([]),P(),ce("descripcion",`Servicio programado: ${t.cita_descripcion_breve}`))},[e,he,ce,t]);const P=async()=>{try{const X=await vr.getMechanics({activo:!0,limit:100});J(X.mechanics||[])}catch(X){console.error("Error cargando mecánicos:",X)}};z.useEffect(()=>{if(w.length>=2&&!l){const X=setTimeout(async()=>{try{const de=await Xn.searchByName(w);C(de.customers||[])}catch(de){console.error("Error buscando clientes:",de),C([])}},500);return()=>clearTimeout(X)}else C([])},[w,l]);const ue=async X=>{console.log("👤 Cliente seleccionado:",X.nombre),O(X),C([]),ce("customer_id",X.customer_id);try{const de=await Or.getCustomerVehicles(X.customer_id);R(de.vehicles||[]),de.vehicles&&de.vehicles.length>0?s("vehicle"):(m(!0),s("service"))}catch(de){console.error("Error cargando vehículos del cliente:",de),m(!0),s("service")}},ae=X=>{console.log("🚗 Vehículo seleccionado:",X.placa_actual),K(X),ce("vehicle_id",X.vehicle_id),s("service")},we=()=>{u(!l),O(null),R([]),K(null),C([]),_(""),l?s("customer"):(ce("new_customer.telefono",t.cita_telefono_contacto),ce("new_customer.nombre",t.cita_nombre_contacto),m(!0),s("service"))},I=async X=>{try{v(!0),b(null),console.log("🎯 Enviando datos de conversión:",X);const de=await rg.convertToService(t.opportunity_id,X);console.log("✅ Conversión exitosa:",de),r()}catch(de){console.error("❌ Error en conversión:",de);const pe=de.response?.data?.error||"Error al convertir la cita";b(pe)}finally{v(!1)}};return e?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"🎯 Convertir Cita a Servicio"}),f.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[f.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"📅 Información de la Cita"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Hora:"})," ",t.cita_hora]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Contacto:"})," ",t.cita_nombre_contacto]})]}),f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",t.cita_telefono_contacto]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Vehículo:"})," ",t.cita_descripcion_breve]})]})]})]}),y&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:f.jsxs("p",{className:"text-red-800",children:["❌ ",y]})}),f.jsxs("form",{onSubmit:ve(I),className:"space-y-6",children:[a==="customer"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"radio",checked:!l,onChange:()=>!l||we(),className:"mr-2"}),"Cliente Existente"]}),f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"radio",checked:l,onChange:()=>l||we(),className:"mr-2"}),"Cliente Nuevo"]})]}),l?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:"👤 Datos del Cliente Nuevo"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo *"}),f.jsx("input",{...Z("new_customer.nombre",{required:"Nombre es requerido"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),se.new_customer?.nombre&&f.jsx("p",{className:"text-red-600 text-sm mt-1",children:se.new_customer.nombre.message})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono *"}),f.jsx("input",{...Z("new_customer.telefono",{required:"Teléfono es requerido"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsx("input",{...Z("new_customer.email"),type:"email",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),f.jsx("input",{...Z("new_customer.direccion"),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),f.jsx("button",{type:"button",onClick:()=>s("service"),className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Continuar ➡️"})]}):f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"🔍 Buscar Cliente"}),f.jsx("input",{type:"text",value:w,onChange:X=>_(X.target.value),placeholder:"Nombre o teléfono del cliente...",className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),N.length>0&&f.jsx("div",{className:"mt-2 border border-gray-200 rounded-lg max-h-48 overflow-y-auto",children:N.map(X=>f.jsxs("button",{type:"button",onClick:()=>ue(X),className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[f.jsx("div",{className:"font-medium",children:X.nombre}),f.jsx("div",{className:"text-sm text-gray-600",children:X.telefono})]},X.customer_id))})]})]}),a==="vehicle"&&E&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"font-medium text-gray-900",children:["🚗 Vehículos de ",E.nombre]}),f.jsx("div",{className:"space-y-2",children:j.map(X=>f.jsxs("button",{type:"button",onClick:()=>ae(X),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50",children:[f.jsxs("div",{className:"font-medium",children:[X.marca," ",X.modelo," ",X.año]}),f.jsxs("div",{className:"text-sm text-gray-600",children:[X.color," - Placas: ",X.placa_actual]})]},X.vehicle_id))}),f.jsx("div",{className:"border-t pt-4",children:f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",checked:h,onChange:X=>m(X.target.checked),className:"mr-2"}),"Es un vehículo nuevo de este cliente"]})}),h&&f.jsx("button",{type:"button",onClick:()=>s("service"),className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Continuar con Vehículo Nuevo ➡️"})]}),a==="service"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:"🔧 Datos del Servicio"}),h&&f.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 space-y-4",children:[f.jsx("h4",{className:"font-medium text-yellow-900",children:"🚗 Datos del Vehículo Nuevo"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),f.jsx("input",{...Z("new_vehicle.marca",{required:"Marca es requerida"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),f.jsx("input",{...Z("new_vehicle.modelo",{required:"Modelo es requerido"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Año *"}),f.jsx("input",{...Z("new_vehicle.año",{required:"Año es requerido",min:{value:1900,message:"Año inválido"},max:{value:new Date().getFullYear()+1,message:"Año inválido"}}),type:"number",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color *"}),f.jsx("input",{...Z("new_vehicle.color",{required:"Color es requerido"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placas *"}),f.jsx("input",{...Z("new_vehicle.placa_actual",{required:"Placas son requeridas"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Servicio *"}),f.jsxs("select",{...Z("tipo_servicio",{required:"Tipo de servicio es requerido"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"Diagnóstico",children:"Diagnóstico"}),f.jsx("option",{value:"Reparación",children:"Reparación"}),f.jsx("option",{value:"Mantenimiento",children:"Mantenimiento"}),f.jsx("option",{value:"Revisión",children:"Revisión"})]}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"💡 El precio se establecerá durante la cotización"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción del Servicio"}),f.jsx("textarea",{...Z("descripcion"),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mecánico Asignado"}),f.jsxs("select",{...Z("mechanic_id"),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[f.jsx("option",{value:"",children:"Sin asignar"}),W.map(X=>f.jsxs("option",{value:X.mechanic_id,children:[X.alias?`"${X.alias}" - `:"",X.nombre," ",X.apellidos,"(",X.nivel_experiencia," - ",X.branch_nombre,")"]},X.mechanic_id))]})]}),f.jsxs("div",{className:"flex space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400",disabled:x,children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:x,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50",children:x?"⏳ Convirtiendo...":"🎯 Crear Servicio"})]})]})]})]})}):null},cE=()=>{const{user:t}=xn(),[e,r]=z.useState([]),[n,a]=z.useState([]),[s,l]=z.useState(!0),[u,h]=z.useState(!1),[m,x]=z.useState(!1),[v,y]=z.useState(null),[b,w]=z.useState(!1),[_,N]=z.useState({cita_fecha:"",cita_hora:"",cita_descripcion_breve:"",cita_telefono_contacto:"",cita_nombre_contacto:"",titulo:"",descripcion:""}),C=async()=>{try{const Z=await zr.search({tiene_cita:"true"});r(Z.opportunities||[])}catch(Z){console.error("Error al cargar citas:",Z)}finally{l(!1)}},E=()=>{if(e.length===0)return;const Z=new Date().toISOString().split("T")[0];let ve=e;m||(ve=e.filter(se=>se.cita_fecha>=Z)),ve.sort((se,he)=>{const ce=new Date(se.cita_fecha+"T"+se.cita_hora),xe=new Date(he.cita_fecha+"T"+he.cita_hora);return ce.getTime()-xe.getTime()}),a(ve)};z.useEffect(()=>{E()},[e,m]);const O=Z=>{console.log("🎯 Seleccionando cita para conversión:",Z.opportunity_id),y(Z),w(!0)},j=()=>{console.log("🎉 Conversión exitosa, recargando lista..."),w(!1),y(null),C()},R=()=>{console.log("❌ Conversión cancelada"),w(!1),y(null)},k=async Z=>{Z.preventDefault();try{const ve={..._,titulo:_.titulo||`Cita - ${_.cita_descripcion_breve}`,descripcion:_.descripcion||`Cita agendada para ${_.cita_nombre_contacto} - ${_.cita_descripcion_breve}`,tipo_oportunidad:"cita_agendada",estado:"agendado",prioridad:"media",origen:"manual",tiene_cita:!0};(await _e.post("/opportunities/appointments",ve)).status===201&&(h(!1),N({cita_fecha:"",cita_hora:"",cita_descripcion_breve:"",cita_telefono_contacto:"",cita_nombre_contacto:"",titulo:"",descripcion:""}),C())}catch(ve){console.error("Error al crear cita:",ve),alert("Error al crear la cita. Por favor, intenta de nuevo.")}},K=Z=>new Date(Z).toLocaleDateString("es-MX"),W=Z=>Z.substring(0,5),J=Z=>{switch(Z){case"agendado":return"bg-blue-100 text-blue-800";case"en_proceso":return"bg-yellow-100 text-yellow-800";case"completado":return"bg-green-100 text-green-800";case"perdido":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return z.useEffect(()=>{C()},[]),s?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"📋 Todas las Citas"}),f.jsxs("p",{className:"text-gray-600",children:["Gestión completa de citas agendadas -",m?`${n.length} citas (todas)`:`${n.length} citas (futuras)`]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[f.jsx("input",{type:"checkbox",checked:m,onChange:Z=>x(Z.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),f.jsx("span",{className:"text-gray-700",children:"Mostrar citas pasadas"})]}),f.jsx("button",{onClick:()=>h(!0),className:"btn-primary",children:"📅 Nueva Cita"})]})]}),u&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Agendar Cita Rápida"}),f.jsxs("form",{onSubmit:k,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha *"}),f.jsx("input",{type:"date",value:_.cita_fecha,onChange:Z=>N({..._,cita_fecha:Z.target.value}),className:"input-field",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora *"}),f.jsx("input",{type:"time",value:_.cita_hora,onChange:Z=>N({..._,cita_hora:Z.target.value}),className:"input-field",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción del vehículo *"}),f.jsx("input",{type:"text",placeholder:"Ej: Honda HRV 2022",value:_.cita_descripcion_breve,onChange:Z=>N({..._,cita_descripcion_breve:Z.target.value}),className:"input-field",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del contacto *"}),f.jsx("input",{type:"text",placeholder:"Nombre completo",value:_.cita_nombre_contacto,onChange:Z=>N({..._,cita_nombre_contacto:Z.target.value}),className:"input-field",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono *"}),f.jsx("input",{type:"tel",placeholder:"55-1234-5678",value:_.cita_telefono_contacto,onChange:Z=>N({..._,cita_telefono_contacto:Z.target.value}),className:"input-field",required:!0})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary flex-1",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Agendar Cita"})]})]})]})}),f.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-6xl mb-4",children:"📅"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length===0?"No hay citas agendadas":m?"No hay citas en el rango seleccionado":"No hay citas futuras"}),f.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"Comienza agendando tu primera cita":m?"Intenta cambiar el filtro de fechas":"Las citas futuras aparecerán aquí"}),e.length===0&&f.jsx("button",{onClick:()=>h(!0),className:"btn-primary",children:"Agendar Primera Cita"})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cita"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehículo"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(Z=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:K(Z.cita_fecha)}),f.jsx("div",{className:"text-sm text-gray-500",children:W(Z.cita_hora)})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:Z.cita_nombre_contacto}),f.jsx("div",{className:"text-sm text-gray-500",children:Z.cita_telefono_contacto})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900",children:Z.cita_descripcion_breve})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J(Z.estado)}`,children:Z.estado}),Z.converted_to_service_id&&f.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"✅ Convertida"})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsx("div",{className:"flex flex-col space-y-2",children:Z.converted_to_service_id?f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-green-600 text-lg",children:"✅"}),f.jsx("p",{className:"text-xs text-green-700",children:"Ya convertida"}),f.jsxs("p",{className:"text-xs text-gray-500",children:["Servicio #",Z.converted_to_service_id]})]}):f.jsx("button",{onClick:()=>O(Z),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-3 py-2 rounded text-xs hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-105",children:"🎯 Convertir a Servicio"})})})]},Z.opportunity_id))})]})})}),v&&f.jsx(ng,{appointment:v,isOpen:b,onSuccess:j,onCancel:R})]})},uE=()=>{const[t,e]=z.useState([]),[r,n]=z.useState(!0),[a,s]=z.useState(null),[l,u]=z.useState(null),[h,m]=z.useState(!1),[x,v]=z.useState("");z.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0),s(null),console.log("📅 Cargando citas del día...");const E=await rg.getTodayAppointments();e(E.appointments),v(E.date),console.log(`✅ ${E.appointments.length} citas cargadas`)}catch(E){console.error("❌ Error cargando citas:",E),s("Error al cargar las citas del día")}finally{n(!1)}},b=E=>{console.log("🎯 Seleccionando cita para conversión:",E.opportunity_id),u(E),m(!0)},w=()=>{console.log("🎉 Conversión exitosa, recargando lista..."),m(!1),u(null),y()},_=()=>{console.log("❌ Conversión cancelada"),m(!1),u(null)},N=E=>{if(!E)return"";const[O,j]=E.split(":"),R=parseInt(O),k=R>12?R-12:R===0?12:R,K=R>=12?"PM":"AM";return`${k}:${j} ${K}`},C=E=>E?new Date(E+"T00:00:00").toLocaleDateString("es-CR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"";return r?f.jsx("div",{className:"flex justify-center items-center min-h-64",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Cargando citas del día..."})]})}):a?f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-red-400 mr-2",children:"❌"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-red-800 font-medium",children:"Error"}),f.jsx("p",{className:"text-red-600",children:a})]})]}),f.jsx("button",{onClick:y,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Reintentar"})]}):f.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"📅 Citas del Día"}),f.jsxs("p",{className:"text-gray-600",children:[x?C(x):"Hoy"," - ",t.length," citas programadas"]})]}),t.length===0?f.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:"📅"}),f.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No hay citas programadas para hoy"}),f.jsx("p",{className:"text-gray-500",children:"Las citas programadas para hoy aparecerán aquí."})]}):f.jsx("div",{className:"space-y-4",children:t.map(E=>f.jsx("div",{className:`border rounded-lg p-6 transition-all hover:shadow-md ${E.converted_to_service_id?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:border-blue-300"}`,children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center mb-3",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"text-2xl",children:"🕐"}),f.jsx("span",{className:"text-xl font-bold text-blue-600",children:N(E.cita_hora)})]}),E.converted_to_service_id&&f.jsx("span",{className:"ml-4 bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"✅ Convertida a Servicio"})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-2",children:[f.jsx("span",{className:"text-lg mr-2",children:"👤"}),f.jsx("span",{className:"font-medium text-gray-900",children:E.cita_nombre_contacto})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-lg mr-2",children:"📞"}),f.jsx("span",{className:"text-gray-600",children:E.cita_telefono_contacto})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-lg mr-2",children:"🚗"}),f.jsx("span",{className:"text-gray-700",children:E.cita_descripcion_breve})]}),E.origen_cita&&f.jsxs("div",{className:"flex items-center mt-2",children:[f.jsx("span",{className:"text-sm mr-2",children:"📋"}),f.jsxs("span",{className:"text-sm text-gray-500",children:["Origen: ",E.origen_cita]})]})]})]})]}),f.jsx("div",{className:"ml-6",children:E.converted_to_service_id?f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-green-600 text-2xl mb-2",children:"✅"}),f.jsx("p",{className:"text-sm text-green-700",children:"Ya convertida"}),E.existing_service_id&&f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Servicio #",E.existing_service_id]})]}):f.jsx("button",{onClick:()=>b(E),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-105 font-medium shadow-lg",children:"🎯 Convertir a Servicio"})})]})},E.opportunity_id))}),l&&f.jsx(ng,{appointment:l,isOpen:h,onSuccess:w,onCancel:_})]})},fE=es({searchType:Yi(["placa","vin","cliente"]),searchValue:Qt().min(1,"Valor de búsqueda requerido")}),dE=({onVehicleSelect:t,onCreateNew:e})=>{const[r,n]=z.useState([]),[a,s]=z.useState(!1),[l,u]=z.useState(null),{register:h,handleSubmit:m,watch:x,setValue:v,formState:{errors:y}}=en({resolver:Ji(fE),defaultValues:{searchType:"placa"}});z.useEffect(()=>{const E=localStorage.getItem("vehicleSearchResults"),O=localStorage.getItem("vehicleSearchQuery");if(E&&O)try{const j=JSON.parse(E);n(j),v("searchType","placa"),v("searchValue",O),localStorage.removeItem("vehicleSearchResults"),localStorage.removeItem("vehicleSearchQuery")}catch(j){console.error("Error parsing saved search results:",j)}},[v]);const b=x("searchType"),w=()=>{switch(b){case"placa":return"ABC-123-A";case"vin":return"1N4BL11D85C123456";case"cliente":return"Juan Pérez";default:return""}},_=async E=>{s(!0),u(null),n([]);try{let O;switch(E.searchType){case"placa":O=await Or.searchByPlate(E.searchValue);break;case"vin":E.searchValue.length===17?O={vehicles:[(await Or.getByVin(E.searchValue)).vehicle],total:1}:O=await Or.search({vin:E.searchValue});break;case"cliente":O=await Or.searchByCustomer(E.searchValue);break;default:throw new Error("Tipo de búsqueda no válido")}n(O.vehicles||[]),O.vehicles?.length===0&&u("No se encontraron vehículos que coincidan con la búsqueda")}catch(O){u(O.response?.data?.message||"Error al buscar vehículos")}finally{s(!1)}},N=async()=>{s(!0),u(null),n([]);try{const E=await Or.search({});n(E.vehicles||[]),E.vehicles?.length===0&&u("No hay vehículos registrados en el sistema")}catch(E){u(E.response?.data?.message||"Error al cargar vehículos")}finally{s(!1)}},C=E=>`https://wa.me/52${E.replace(/^\+52/,"")}`;return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Búsqueda de Vehículos"}),f.jsx("form",{onSubmit:m(_),className:"space-y-4",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de búsqueda"}),f.jsxs("select",{...h("searchType"),className:"input-field",children:[f.jsx("option",{value:"placa",children:"Por Placas"}),f.jsx("option",{value:"vin",children:"Por VIN"}),f.jsx("option",{value:"cliente",children:"Por Cliente"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor a buscar"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{...h("searchValue"),type:"text",className:"input-field flex-1",placeholder:w()}),f.jsx("button",{type:"submit",disabled:a,className:"btn-primary px-6 disabled:opacity-50",children:a?"Buscando...":"Buscar"}),f.jsx("button",{type:"button",onClick:()=>N(),disabled:a,className:"btn-secondary px-6 disabled:opacity-50",children:a?"Cargando...":"Listar Todos"})]}),y.searchValue&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.searchValue.message})]})]})}),f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:f.jsx("button",{onClick:()=>{console.log("🔘 VehicleSearch button clicked"),console.log("onCreateNew function:",e),e?e():console.log("❌ onCreateNew is undefined")},className:"btn-secondary",children:"+ Registrar Nuevo Vehículo"})})]}),l&&f.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:f.jsx("p",{className:"text-red-600 text-sm",children:l})}),r.length>0&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Resultados (",r.length,")"]}),r.map(E=>f.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t?.(E),children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[f.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[E.marca," ",E.modelo," ",E.año]}),f.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:E.placa_actual||"Sin placas"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"VIN:"})," ",E.vin]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",E.kilometraje_actual?.toLocaleString()," km"]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Propietario:"})," ",E.customer?.nombre||"No asignado"]})]}),E.customer&&f.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[f.jsxs("span",{className:"text-gray-600",children:["📞 ",E.customer.telefono]}),E.customer.whatsapp&&f.jsx("a",{href:C(E.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",onClick:O=>O.stopPropagation(),children:"💬 WhatsApp"})]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("span",{className:"text-xs text-gray-500",children:["Último registro: ",new Date(E.fecha_actualizacion).toLocaleDateString("es-MX")]})})]})},E.vin))]})]})};function hE(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function mE(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var pE=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xE=function(t){pE(e,t);function e(r,n){var a=this.constructor,s=t.call(this,r,n)||this;return Object.defineProperty(s,"name",{value:a.name,enumerable:!1,configurable:!0}),hE(s,a.prototype),mE(s),s}return e}(Error),vE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ir=function(t){vE(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(xE),gE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cn=function(t){gE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Ir),yE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Te=function(t){yE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Ir),bE=function(){function t(e){if(this.binarizer=e,e===null)throw new Te("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,a){var s=this.binarizer.getLuminanceSource().crop(e,r,n,a);return new t(this.binarizer.createBinarizer(s))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),_E=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jt=function(t){_E(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Ir),wE=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),pt=function(){function t(){}return t.arraycopy=function(e,r,n,a,s){for(;s--;)n[a++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),AE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r0=function(t){AE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Ir),EE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fx=function(t){EE(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=t.call(this,n)||this;return a.index=r,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e}(r0),NE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zt=function(){function t(){}return t.fill=function(e,r){for(var n=0,a=e.length;n<a;n++)e[n]=r},t.fillWithin=function(e,r,n,a){t.rangeCheck(e.length,r,n);for(var s=r;s<n;s++)e[s]=a},t.rangeCheck=function(e,r,n){if(r>n)throw new Te("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new fx(r);if(n>e)throw new fx(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var a=Array.from({length:e});return a.map(function(s){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var a=Array.from({length:e});return a.map(function(s){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var a=1;try{for(var s=NE(e),l=s.next();!l.done;l=s.next()){var u=l.value;a=31*a+u}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var a=n-r,s=new Int32Array(a);return pt.arraycopy(e,r,s,0,a),s},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var a=0,s=e.length-1;a<=s;){var l=s+a>>1,u=n(r,e[l]);if(u>0)a=l+1;else if(u<0)s=l-1;else return l}return-a-1},t.numberComparator=function(e,r){return e-r},t}(),ze=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),er=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);pt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),s=n[a];s&=~((1<<(e&31))-1);for(var l=n.length;s===0;){if(++a===l)return r;s=n[a]}var u=a*32+ze.numberOfTrailingZeros(s);return u>r?r:u},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),s=~n[a];s&=~((1<<(e&31))-1);for(var l=n.length;s===0;){if(++a===l)return r;s=~n[a]}var u=a*32+ze.numberOfTrailingZeros(s);return u>r?r:u},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Te;if(r!==e){r--;for(var n=Math.floor(e/32),a=Math.floor(r/32),s=this.bits,l=n;l<=a;l++){var u=l>n?0:e&31,h=l<a?31:r&31,m=(2<<h)-(1<<u);s[l]|=m}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Te;if(r===e)return!0;r--;for(var a=Math.floor(e/32),s=Math.floor(r/32),l=this.bits,u=a;u<=s;u++){var h=u>a?0:e&31,m=u<s?31:r&31,x=(2<<m)-(1<<h)&4294967295;if((l[u]&x)!==(n?x:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Te("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Te("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,a){for(var s=0;s<a;s++){for(var l=0,u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;r[n+s]=l}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,s=0;s<n;s++){var l=a[s];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[r-s]=l}if(this.size!==n*32){for(var u=n*32-this.size,h=e[0]>>>u,s=1;s<n;s++){var m=e[s];h|=m<<32-u,e[s-1]=h,h=m>>>u}e[n-1]=h}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&zt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+zt.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),_d;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(_d||(_d={}));const bt=_d;var SE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ge=function(t){SE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Ir),CE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},it;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(it||(it={}));var Ut=function(){function t(e,r,n){for(var a,s,l=[],u=3;u<arguments.length;u++)l[u-3]=arguments[u];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var h=this.values,m=0,x=h.length;m!==x;m++){var v=h[m];t.VALUES_TO_ECI.set(v,this)}try{for(var y=CE(l),b=y.next();!b.done;b=y.next()){var w=b.value;t.NAME_TO_ECI.set(w,this)}}catch(_){a={error:_}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ge("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new ge("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new ge("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(it.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(it.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(it.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(it.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(it.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(it.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(it.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(it.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(it.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(it.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(it.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(it.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(it.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(it.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(it.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(it.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(it.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(it.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(it.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(it.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(it.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(it.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(it.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(it.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(it.Big5,28,"Big5"),t.GB18030=new t(it.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(it.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),OE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kl=function(t){OE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Ir),Jr=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Ut?e:Ut.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var a="",s=0,l=e.length;s<l;s++){var u=e[s].toString(16);u.length<2&&(u="0"+u),a+="%"+u}return decodeURIComponent(a)}if(n.equals(Ut.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Kl("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Ut.UTF8)||e.equals(Ut.ISO8859_1)||e.equals(Ut.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),a=[],s=0;s<n.length;s++)a.push(n[s].charCodeAt(0));return new Uint8Array(a)},t}(),$e=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Jr.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(bt.CHARACTER_SET)!==void 0)return r.get(bt.CHARACTER_SET).toString();for(var n=e.length,a=!0,s=!0,l=!0,u=0,h=0,m=0,x=0,v=0,y=0,b=0,w=0,_=0,N=0,C=0,E=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,O=0;O<n&&(a||s||l);O++){var j=e[O]&255;l&&(u>0?(j&128)===0?l=!1:u--:(j&128)!==0&&((j&64)===0?l=!1:(u++,(j&32)===0?h++:(u++,(j&16)===0?m++:(u++,(j&8)===0?x++:l=!1))))),a&&(j>127&&j<160?a=!1:j>159&&(j<192||j===215||j===247)&&C++),s&&(v>0?j<64||j===127||j>252?s=!1:v--:j===128||j===160||j>239?s=!1:j>160&&j<224?(y++,w=0,b++,b>_&&(_=b)):j>127?(v++,b=0,w++,w>N&&(N=w)):(b=0,w=0))}return l&&u>0&&(l=!1),s&&v>0&&(s=!1),l&&(E||h+m+x>0)?t.UTF8:s&&(t.ASSUME_SHIFT_JIS||_>=3||N>=3)?t.SHIFT_JIS:a&&s?_===2&&y===2||C*10>=n?t.SHIFT_JIS:t.ISO88591:a?t.ISO88591:s?t.SHIFT_JIS:l?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function s(u,h,m,x,v,y){if(u==="%%")return"%";if(r[++a]!==void 0){u=x?parseInt(x.substr(1)):void 0;var b=v?parseInt(v.substr(1)):void 0,w;switch(y){case"s":w=r[a];break;case"c":w=r[a][0];break;case"f":w=parseFloat(r[a]).toFixed(u);break;case"p":w=parseFloat(r[a]).toPrecision(u);break;case"e":w=parseFloat(r[a]).toExponential(u);break;case"x":w=parseInt(r[a]).toString(b||16);break;case"d":w=parseFloat(parseInt(r[a],b||10).toPrecision(u)).toFixed(0);break}w=typeof w=="object"?JSON.stringify(w):(+w).toString(b);for(var _=parseInt(m),N=m&&m[0]+""=="0"?"0":" ";w.length<_;)w=h!==void 0?w+N:N+w;return w}}var l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,s)},t.getBytes=function(e,r){return Jr.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Ut.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Ut.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Ut.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Fe=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=$e.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var a=r;r<r+n;a++)this.append(e[a]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),Cn=function(){function t(e,r,n,a){if(this.width=e,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=e),this.height=r,e<1||r<1)throw new Te("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,a=new t(n,r),s=0;s<r;s++)for(var l=e[s],u=0;u<n;u++)l[u]&&a.set(u,s);return a},t.parseFromString=function(e,r,n){if(e===null)throw new Te("stringRepresentation cannot be null");for(var a=new Array(e.length),s=0,l=0,u=-1,h=0,m=0;m<e.length;)if(e.charAt(m)===`
`||e.charAt(m)==="\r"){if(s>l){if(u===-1)u=s-l;else if(s-l!==u)throw new Te("row lengths do not match");l=s,h++}m++}else if(e.substring(m,m+r.length)===r)m+=r.length,a[s]=!0,s++;else if(e.substring(m,m+n.length)===n)m+=n.length,a[s]=!1,s++;else throw new Te("illegal character encountered: "+e.substring(m));if(s>l){if(u===-1)u=s-l;else if(s-l!==u)throw new Te("row lengths do not match");h++}for(var x=new t(u,h),v=0;v<s;v++)a[v]&&x.set(Math.floor(v%u),Math.floor(v/u));return x},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Te("input matrix dimensions do not match");for(var r=new er(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,s=0,l=this.height;s<l;s++)for(var u=s*n,h=e.getRow(s,r).getBitArray(),m=0;m<n;m++)a[u+m]^=h[m]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,a){if(r<0||e<0)throw new Te("Left and top must be nonnegative");if(a<1||n<1)throw new Te("Height and width must be at least 1");var s=e+n,l=r+a;if(l>this.height||s>this.width)throw new Te("The region must fit inside the matrix");for(var u=this.rowSize,h=this.bits,m=r;m<l;m++)for(var x=m*u,v=e;v<s;v++)h[x+Math.floor(v/32)]|=1<<(v&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new er(this.width):r.clear();for(var n=this.rowSize,a=this.bits,s=e*n,l=0;l<n;l++)r.setBulk(l*32,a[s+l]);return r},t.prototype.setRow=function(e,r){pt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new er(e),a=new er(e),s=0,l=Math.floor((r+1)/2);s<l;s++)n=this.getRow(s,n),a=this.getRow(r-1-s,a),n.reverse(),a.reverse(),this.setRow(s,a),this.setRow(r-1-s,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,a=this.bits,s=e,l=r,u=-1,h=-1,m=0;m<r;m++)for(var x=0;x<n;x++){var v=a[m*n+x];if(v!==0){if(m<l&&(l=m),m>h&&(h=m),x*32<s){for(var y=0;(v<<31-y&4294967295)===0;)y++;x*32+y<s&&(s=x*32+y)}if(x*32+31>u){for(var y=31;!(v>>>y);)y--;x*32+y>u&&(u=x*32+y)}}}return u<s||h<l?null:Int32Array.from([s,l,u-s+1,h-l+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/e,s=n%e*32,l=r[n],u=0;(l<<31-u&4294967295)===0;)u++;return s+=u,Int32Array.from([s,a])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),s=Math.floor(n%e)*32,l=r[n],u=31;!(l>>>u);)u--;return s+=u,Int32Array.from([s,a])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&zt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+zt.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var a=new Fe,s=0,l=this.height;s<l;s++){for(var u=0,h=this.width;u<h;u++)a.append(this.get(u,s)?e:r);a.append(n)}return a.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),TE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ee=function(t){TE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Ir),jE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DE=function(t){jE(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),s=a.getWidth();n==null||n.getSize()<s?n=new er(s):n.clear(),this.initArrays(s);for(var l=a.getRow(r,this.luminances),u=this.buckets,h=0;h<s;h++)u[(l[h]&255)>>e.LUMINANCE_SHIFT]++;var m=e.estimateBlackPoint(u);if(s<3)for(var h=0;h<s;h++)(l[h]&255)<m&&n.set(h);else for(var x=l[0]&255,v=l[1]&255,h=1;h<s-1;h++){var y=l[h+1]&255;(v*4-x-y)/2<m&&n.set(h),x=v,v=y}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),s=new Cn(n,a);this.initArrays(n);for(var l=this.buckets,u=1;u<5;u++)for(var h=Math.floor(a*u/5),m=r.getRow(h,this.luminances),x=Math.floor(n*4/5),v=Math.floor(n/5);v<x;v++){var y=m[v]&255;l[y>>e.LUMINANCE_SHIFT]++}for(var b=e.estimateBlackPoint(l),w=r.getMatrix(),u=0;u<a;u++)for(var _=u*n,v=0;v<n;v++){var y=w[_+v]&255;y<b&&s.set(v,u)}return s},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(r){for(var n=r.length,a=0,s=0,l=0,u=0;u<n;u++)r[u]>l&&(s=u,l=r[u]),r[u]>a&&(a=r[u]);for(var h=0,m=0,u=0;u<n;u++){var x=u-s,v=r[u]*x*x;v>m&&(h=u,m=v)}if(s>h){var y=s;s=h,h=y}if(h-s<=n/16)throw new ee;for(var b=h-1,w=-1,u=h-1;u>s;u--){var _=u-s,v=_*_*(h-u)*(a-r[u]);v>w&&(b=u,w=v)}return b<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(wE),RE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IE=function(t){RE(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var s=r.getMatrix(),l=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&l++;var u=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&u++;var h=e.calculateBlackPoints(s,l,u,n,a),m=new Cn(n,a);e.calculateThresholdForBlock(s,l,u,n,a,h,m),this.matrix=m}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,a,s,l,u,h){for(var m=l-e.BLOCK_SIZE,x=s-e.BLOCK_SIZE,v=0;v<a;v++){var y=v<<e.BLOCK_SIZE_POWER;y>m&&(y=m);for(var b=e.cap(v,2,a-3),w=0;w<n;w++){var _=w<<e.BLOCK_SIZE_POWER;_>x&&(_=x);for(var N=e.cap(w,2,n-3),C=0,E=-2;E<=2;E++){var O=u[b+E];C+=O[N-2]+O[N-1]+O[N]+O[N+1]+O[N+2]}var j=C/25;e.thresholdBlock(r,_,y,j,s,h)}}},e.cap=function(r,n,a){return r<n?n:r>a?a:r},e.thresholdBlock=function(r,n,a,s,l,u){for(var h=0,m=a*l+n;h<e.BLOCK_SIZE;h++,m+=l)for(var x=0;x<e.BLOCK_SIZE;x++)(r[m+x]&255)<=s&&u.set(n+x,a+h)},e.calculateBlackPoints=function(r,n,a,s,l){for(var u=l-e.BLOCK_SIZE,h=s-e.BLOCK_SIZE,m=new Array(a),x=0;x<a;x++){m[x]=new Int32Array(n);var v=x<<e.BLOCK_SIZE_POWER;v>u&&(v=u);for(var y=0;y<n;y++){var b=y<<e.BLOCK_SIZE_POWER;b>h&&(b=h);for(var w=0,_=255,N=0,C=0,E=v*s+b;C<e.BLOCK_SIZE;C++,E+=s){for(var O=0;O<e.BLOCK_SIZE;O++){var j=r[E+O]&255;w+=j,j<_&&(_=j),j>N&&(N=j)}if(N-_>e.MIN_DYNAMIC_RANGE)for(C++,E+=s;C<e.BLOCK_SIZE;C++,E+=s)for(var O=0;O<e.BLOCK_SIZE;O++)w+=r[E+O]&255}var R=w>>e.BLOCK_SIZE_POWER*2;if(N-_<=e.MIN_DYNAMIC_RANGE&&(R=_/2,x>0&&y>0)){var k=(m[x-1][y]+2*m[x][y-1]+m[x-1][y-1])/4;_<k&&(R=k)}m[x][y]=R}}return m},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(DE),wc=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,a){throw new Kl("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Kl("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Kl("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Fe,n=0;n<this.height;n++){for(var a=this.getRow(n,e),s=0;s<this.width;s++){var l=a[s]&255,u=void 0;l<64?u="#":l<128?u="+":l<192?u=".":u=" ",r.append(u)}r.append(`
`)}return r.toString()},t}(),ME=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n0=function(t){ME(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),s=this.getWidth(),l=0;l<s;l++)a[l]=255-(a[l]&255);return a},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),s=0;s<n;s++)a[s]=255-(r[s]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,a,s){return new e(this.delegate.crop(r,n,a,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(wc),BE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PE=function(t){BE(e,t);function e(r,n){n===void 0&&(n=!1);var a=t.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(r,n),a}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(a.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,a,s){s===void 0&&(s=!1);var l=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var u=0,h=0,m=r.length;u<m;u+=4,h++){var x=void 0,v=r[u+3];if(v===0)x=255;else{var y=r[u],b=r[u+1],w=r[u+2];x=306*y+601*b+117*w+512>>10}l[h]=x}else for(var u=0,h=0,_=r.length;u<_;u+=4,h++){var x=void 0,v=r[u+3];if(v===0)x=255;else{var y=r[u],b=r[u+1],w=r[u+2];x=306*y+601*b+117*w+512>>10}l[h]=255-x}return l},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Te("Requested row is outside the image: "+r);var a=this.getWidth(),s=r*a;return n===null?n=this.buffer.slice(s,s+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(s,s+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,s){return t.prototype.crop.call(this,r,n,a,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),s=r*e.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*u),m=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*u);return n.width=h,n.height=m,a.translate(h/2,m/2),a.rotate(s),a.drawImage(this.canvas,l/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new n0(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(wc),LE=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),pr=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(x){try{m(n.next(x))}catch(v){l(v)}}function h(x){try{m(n.throw(x))}catch(v){l(v)}}function m(x){x.done?s(x.value):a(x.value).then(u,h)}m((n=n.apply(t,e||[])).next())})},xr=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(m){return function(x){return h([m,x])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=m[0]&2?a.return:m[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,m[1])).done)return s;switch(a=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(x){m=[6,x],a=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},kE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ni=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return pr(this,void 0,void 0,function(){var e,r,n,a,s,l,u,h,m,x,v,y;return xr(this,function(b){switch(b.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=b.sent(),r=[];try{for(n=kE(e),a=n.next();!a.done;a=n.next())s=a.value,l=s.kind==="video"?"videoinput":s.kind,l==="videoinput"&&(u=s.deviceId||s.id,h=s.label||"Video device "+(r.length+1),m=s.groupId,x={deviceId:u,label:h,kind:l,groupId:m},r.push(x))}catch(w){v={error:w}}finally{try{a&&!a.done&&(y=n.return)&&y.call(n)}finally{if(v)throw v.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return pr(this,void 0,void 0,function(){var e;return xr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new LE(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return pr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return pr(this,void 0,void 0,function(){return xr(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return pr(this,void 0,void 0,function(){var n,a;return xr(this,function(s){switch(s.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return pr(this,void 0,void 0,function(){var n;return xr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return pr(this,void 0,void 0,function(){var n,a;return xr(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=s.sent(),[4,this.decodeOnce(n)];case 2:return a=s.sent(),[2,a]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return pr(this,void 0,void 0,function(){return xr(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return pr(this,void 0,void 0,function(){var a,s;return xr(this,function(l){switch(l.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},s={video:a},[4,this.decodeFromConstraints(s,r,n)];case 1:return[2,l.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return pr(this,void 0,void 0,function(){var a;return xr(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=s.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,s.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return pr(this,void 0,void 0,function(){var a;return xr(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return a=s.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,s.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return pr(this,void 0,void 0,function(){var n;return xr(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return pr(this,void 0,void 0,function(){return xr(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new cn("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new cn("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new cn("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new cn("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new cn("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new cn("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new cn("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new cn("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new cn("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new cn("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=e,a},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return pr(this,void 0,void 0,function(){return xr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return pr(this,void 0,void 0,function(){return xr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var s=function(l,u){if(a._stopAsyncDecode){u(new ee("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var h=a.decode(e);l(h)}catch(y){var m=r&&y instanceof ee,x=y instanceof Jt||y instanceof ge,v=x&&n;if(m||v)return setTimeout(s,a._timeBetweenDecodingAttempts,l,u);u(y)}};return new Promise(function(l,u){return s(l,u)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var s=n.decode(e);r(s,null),setTimeout(a,n.timeBetweenScansMillis)}catch(h){r(null,h);var l=h instanceof Jt||h instanceof ge,u=h instanceof ee;(l||u)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),a=new PE(n,r),s=new IE(a);return new bE(s)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),dr=function(){function t(e,r,n,a,s,l){n===void 0&&(n=r==null?0:8*r.length),l===void 0&&(l=pt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=s,this.timestamp=l,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=s,this.resultMetadata=null,l==null?this.timestamp=pt.currentTimeMillis():this.timestamp=l}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);pt.arraycopy(r,0,n,0,r.length),pt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),wd;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wd||(wd={}));const Oe=wd;var Ad;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ad||(Ad={}));const sr=Ad;var Ac=function(){function t(e,r,n,a,s,l){s===void 0&&(s=-1),l===void 0&&(l=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),oo=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Te;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Aa=function(){function t(e,r){if(r.length===0)throw new Te;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),pt.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var a=0,s=r.length;a!==s;a++){var l=r[a];n=oo.addOrSubtract(n,l)}return n}n=r[0];for(var u=r.length,h=this.field,a=1;a<u;a++)n=oo.addOrSubtract(h.multiply(e,n),r[a]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Te("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var s=new Int32Array(n.length),l=n.length-r.length;pt.arraycopy(n,0,s,0,l);for(var u=l;u<n.length;u++)s[u]=oo.addOrSubtract(r[u-l],n[u]);return new t(this.field,s)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Te("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=e.coefficients,s=a.length,l=new Int32Array(n+s-1),u=this.field,h=0;h<n;h++)for(var m=r[h],x=0;x<s;x++)l[h+x]=oo.addOrSubtract(l[h+x],u.multiply(m,a[x]));return new t(u,l)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),s=this.coefficients,l=0;l<r;l++)a[l]=n.multiply(s[l],e);return new t(n,a)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Te;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,s=new Int32Array(a+e),l=this.field,u=0;u<a;u++)s[u]=l.multiply(n[u],r);return new t(l,s)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Te("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Te("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,s=e.getCoefficient(e.getDegree()),l=r.inverse(s);a.getDegree()>=e.getDegree()&&!a.isZero();){var u=a.getDegree()-e.getDegree(),h=r.multiply(a.getCoefficient(a.getDegree()),l),m=e.multiplyByMonomial(u,h),x=r.buildMonomial(u,h);n=n.addOrSubtract(x),a=a.addOrSubtract(m)}return[n,a]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),FE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ag=function(t){FE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Ir),UE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tr=function(t){UE(e,t);function e(r,n,a){var s=t.call(this)||this;s.primitive=r,s.size=n,s.generatorBase=a;for(var l=new Int32Array(n),u=1,h=0;h<n;h++)l[h]=u,u*=2,u>=n&&(u^=r,u&=n-1);s.expTable=l;for(var m=new Int32Array(n),h=0;h<n-1;h++)m[l[h]]=h;return s.logTable=m,s.zero=new Aa(s,Int32Array.from([0])),s.one=new Aa(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Te;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Aa(this,a)},e.prototype.inverse=function(r){if(r===0)throw new ag;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+ze.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(oo),zE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zl=function(t){zE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Ir),VE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eo=function(t){VE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Ir),Ec=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,a=new Aa(n,e),s=new Int32Array(r),l=!0,u=0;u<r;u++){var h=a.evaluateAt(n.exp(u+n.getGeneratorBase()));s[s.length-1-u]=h,h!==0&&(l=!1)}if(!l)for(var m=new Aa(n,s),x=this.runEuclideanAlgorithm(n.buildMonomial(r,1),m,r),v=x[0],y=x[1],b=this.findErrorLocations(v),w=this.findErrorMagnitudes(y,b),u=0;u<b.length;u++){var _=e.length-1-n.log(b[u]);if(_<0)throw new zl("Bad error location");e[_]=Tr.addOrSubtract(e[_],w[u])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var s=this.field,l=e,u=r,h=s.getZero(),m=s.getOne();u.getDegree()>=(n/2|0);){var x=l,v=h;if(l=u,h=m,l.isZero())throw new zl("r_{i-1} was zero");u=x;for(var y=s.getZero(),b=l.getCoefficient(l.getDegree()),w=s.inverse(b);u.getDegree()>=l.getDegree()&&!u.isZero();){var _=u.getDegree()-l.getDegree(),N=s.multiply(u.getCoefficient(u.getDegree()),w);y=y.addOrSubtract(s.buildMonomial(_,N)),u=u.addOrSubtract(l.multiplyByMonomial(_,N))}if(m=y.multiply(h).addOrSubtract(v),u.getDegree()>=l.getDegree())throw new Eo("Division algorithm failed to reduce polynomial?")}var C=m.getCoefficient(0);if(C===0)throw new zl("sigmaTilde(0) was zero");var E=s.inverse(C),O=m.multiplyScalar(E),j=u.multiplyScalar(E);return[O,j]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,s=this.field,l=1;l<s.getSize()&&a<r;l++)e.evaluateAt(l)===0&&(n[a]=s.inverse(l),a++);if(a!==r)throw new zl("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,a=new Int32Array(n),s=this.field,l=0;l<n;l++){for(var u=s.inverse(r[l]),h=1,m=0;m<n;m++)if(l!==m){var x=s.multiply(r[m],u),v=(x&1)===0?x|1:x&-2;h=s.multiply(h,v)}a[l]=s.multiply(e.evaluateAt(u),s.inverse(h)),s.getGeneratorBase()!==0&&(a[l]=s.multiply(a[l],u))}return a},t}(),ar;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(ar||(ar={}));var dx=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),a=this.correctBits(n),s=t.convertBoolArrayToByteArray(a),l=t.getEncodedData(a),u=new Ac(s,l,null,null);return u.setNumBits(a.length),u},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=ar.UPPER,a=ar.UPPER,s="",l=0;l<r;)if(a===ar.BINARY){if(r-l<5)break;var u=t.readCode(e,l,5);if(l+=5,u===0){if(r-l<11)break;u=t.readCode(e,l,11)+31,l+=11}for(var h=0;h<u;h++){if(r-l<8){l=r;break}var m=t.readCode(e,l,8);s+=$e.castAsNonUtf8Char(m),l+=8}a=n}else{var x=a===ar.DIGIT?4:5;if(r-l<x)break;var m=t.readCode(e,l,x);l+=x;var v=t.getCharacter(a,m);v.startsWith("CTRL_")?(n=a,a=t.getTable(v.charAt(5)),v.charAt(6)==="L"&&(n=a)):(s+=v,a=n)}return s},t.getTable=function(e){switch(e){case"L":return ar.LOWER;case"P":return ar.PUNCT;case"M":return ar.MIXED;case"D":return ar.DIGIT;case"B":return ar.BINARY;case"U":default:return ar.UPPER}},t.getCharacter=function(e,r){switch(e){case ar.UPPER:return t.UPPER_TABLE[r];case ar.LOWER:return t.LOWER_TABLE[r];case ar.MIXED:return t.MIXED_TABLE[r];case ar.PUNCT:return t.PUNCT_TABLE[r];case ar.DIGIT:return t.DIGIT_TABLE[r];default:throw new Eo("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Tr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Tr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Tr.AZTEC_DATA_10):(n=12,r=Tr.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),s=e.length/n;if(s<a)throw new ge;for(var l=e.length%n,u=new Int32Array(s),h=0;h<s;h++,l+=n)u[h]=t.readCode(e,l,n);try{var m=new Ec(r);m.decode(u,s-a)}catch(N){throw new ge(N)}for(var x=(1<<n)-1,v=0,h=0;h<a;h++){var y=u[h];if(y===0||y===x)throw new ge;(y===1||y===x-1)&&v++}for(var b=new Array(a*n-v),w=0,h=0;h<a;h++){var y=u[h];if(y===1||y===x-1)b.fill(y>1,w,w+n-1),w+=n-1;else for(var _=n-1;_>=0;--_)b[w++]=(y&1<<_)!==0}return b},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,s=new Int32Array(a),l=new Array(this.totalBitsInLayer(n,r));if(r)for(var u=0;u<s.length;u++)s[u]=u;else for(var h=a+1+2*ze.truncDivision(ze.truncDivision(a,2)-1,15),m=a/2,x=ze.truncDivision(h,2),u=0;u<m;u++){var v=u+ze.truncDivision(u,15);s[m-u-1]=x-v-1,s[m+u]=x+v+1}for(var u=0,y=0;u<n;u++){for(var b=(n-u)*4+(r?9:12),w=u*2,_=a-1-w,N=0;N<b;N++)for(var C=N*2,E=0;E<2;E++)l[y+C+E]=e.get(s[w+E],s[w+N]),l[y+2*b+C+E]=e.get(s[w+N],s[_-E]),l[y+4*b+C+E]=e.get(s[_-E],s[_-N]),l[y+6*b+C+E]=e.get(s[_-N],s[w+E]);y+=b*8}return l},t.readCode=function(e,r,n){for(var a=0,s=r;s<r+n;s++)a<<=1,e[s]&&(a|=1);return a},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Qe=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,a){var s=e-n,l=r-a;return Math.sqrt(s*s+l*l)},t.sum=function(e){for(var r=0,n=0,a=e.length;n!==a;n++){var s=e[n];r+=s}return r},t}(),Ed=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Ne=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Ed.floatToIntBits(this.x)+Ed.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),s,l,u;if(n>=r&&n>=a?(l=e[0],s=e[1],u=e[2]):a>=n&&a>=r?(l=e[1],s=e[0],u=e[2]):(l=e[2],s=e[0],u=e[1]),this.crossProductZ(s,l,u)<0){var h=s;s=u,u=h}e[0]=s,e[1]=l,e[2]=u},t.distance=function(e,r){return Qe.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var a=r.x,s=r.y;return(n.x-a)*(e.y-s)-(n.y-s)*(e.x-a)},t}(),a0=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),HE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GE=function(t){HE(e,t);function e(r,n,a,s,l){var u=t.call(this,r,n)||this;return u.compact=a,u.nbDatablocks=s,u.nbLayers=l,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(a0),Nd=function(){function t(e,r,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var s=r/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=a-s,this.downInit=a+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,s=!1,l=!0,u=!1,h=!1,m=!1,x=!1,v=!1,y=this.width,b=this.height;l;){l=!1;for(var w=!0;(w||!h)&&r<y;)w=this.containsBlackPoint(n,a,r,!1),w?(r++,l=!0,h=!0):h||r++;if(r>=y){s=!0;break}for(var _=!0;(_||!m)&&a<b;)_=this.containsBlackPoint(e,r,a,!0),_?(a++,l=!0,m=!0):m||a++;if(a>=b){s=!0;break}for(var N=!0;(N||!x)&&e>=0;)N=this.containsBlackPoint(n,a,e,!1),N?(e--,l=!0,x=!0):x||e--;if(e<0){s=!0;break}for(var C=!0;(C||!v)&&n>=0;)C=this.containsBlackPoint(e,r,n,!0),C?(n--,l=!0,v=!0):v||n--;if(n<0){s=!0;break}l&&(u=!0)}if(!s&&u){for(var E=r-e,O=null,j=1;O===null&&j<E;j++)O=this.getBlackPointOnSegment(e,a-j,e+j,a);if(O==null)throw new ee;for(var R=null,j=1;R===null&&j<E;j++)R=this.getBlackPointOnSegment(e,n+j,e+j,n);if(R==null)throw new ee;for(var k=null,j=1;k===null&&j<E;j++)k=this.getBlackPointOnSegment(r,n+j,r-j,n);if(k==null)throw new ee;for(var K=null,j=1;K===null&&j<E;j++)K=this.getBlackPointOnSegment(r,a-j,r-j,a);if(K==null)throw new ee;return this.centerEdges(K,O,k,R)}else throw new ee},t.prototype.getBlackPointOnSegment=function(e,r,n,a){for(var s=Qe.round(Qe.distance(e,r,n,a)),l=(n-e)/s,u=(a-r)/s,h=this.image,m=0;m<s;m++){var x=Qe.round(e+m*l),v=Qe.round(r+m*u);if(h.get(x,v))return new Ne(x,v)}return null},t.prototype.centerEdges=function(e,r,n,a){var s=e.getX(),l=e.getY(),u=r.getX(),h=r.getY(),m=n.getX(),x=n.getY(),v=a.getX(),y=a.getY(),b=t.CORR;return s<this.width/2?[new Ne(v-b,y+b),new Ne(u+b,h+b),new Ne(m-b,x-b),new Ne(s+b,l-b)]:[new Ne(v+b,y+b),new Ne(u+b,h-b),new Ne(m-b,x+b),new Ne(s-b,l-b)]},t.prototype.containsBlackPoint=function(e,r,n,a){var s=this.image;if(a){for(var l=e;l<=r;l++)if(s.get(l,n))return!0}else for(var u=e;u<=r;u++)if(s.get(n,u))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),hx=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),a=e.getHeight(),s=!0,l=0;l<r.length&&s;l+=2){var u=Math.floor(r[l]),h=Math.floor(r[l+1]);if(u<-1||u>n||h<-1||h>a)throw new ee;s=!1,u===-1?(r[l]=0,s=!0):u===n&&(r[l]=n-1,s=!0),h===-1?(r[l+1]=0,s=!0):h===a&&(r[l+1]=a-1,s=!0)}s=!0;for(var l=r.length-2;l>=0&&s;l-=2){var u=Math.floor(r[l]),h=Math.floor(r[l+1]);if(u<-1||u>n||h<-1||h>a)throw new ee;s=!1,u===-1?(r[l]=0,s=!0):u===n&&(r[l]=n-1,s=!0),h===-1?(r[l+1]=0,s=!0):h===a&&(r[l+1]=a-1,s=!0)}},t}(),ig=function(){function t(e,r,n,a,s,l,u,h,m){this.a11=e,this.a21=r,this.a31=n,this.a12=a,this.a22=s,this.a32=l,this.a13=u,this.a23=h,this.a33=m}return t.quadrilateralToQuadrilateral=function(e,r,n,a,s,l,u,h,m,x,v,y,b,w,_,N){var C=t.quadrilateralToSquare(e,r,n,a,s,l,u,h),E=t.squareToQuadrilateral(m,x,v,y,b,w,_,N);return E.times(C)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,a=this.a12,s=this.a13,l=this.a21,u=this.a22,h=this.a23,m=this.a31,x=this.a32,v=this.a33,y=0;y<r;y+=2){var b=e[y],w=e[y+1],_=s*b+h*w+v;e[y]=(n*b+l*w+m)/_,e[y+1]=(a*b+u*w+x)/_}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,a=this.a12,s=this.a13,l=this.a21,u=this.a22,h=this.a23,m=this.a31,x=this.a32,v=this.a33,y=e.length,b=0;b<y;b++){var w=e[b],_=r[b],N=s*w+h*_+v;e[b]=(n*w+l*_+m)/N,r[b]=(a*w+u*_+x)/N}},t.squareToQuadrilateral=function(e,r,n,a,s,l,u,h){var m=e-n+s-u,x=r-a+l-h;if(m===0&&x===0)return new t(n-e,s-n,e,a-r,l-a,r,0,0,1);var v=n-s,y=u-s,b=a-l,w=h-l,_=v*w-y*b,N=(m*w-y*x)/_,C=(v*x-m*b)/_;return new t(n-e+N*n,u-e+C*u,e,a-r+N*a,h-r+C*h,r,N,C,1)},t.quadrilateralToSquare=function(e,r,n,a,s,l,u,h){return t.squareToQuadrilateral(e,r,n,a,s,l,u,h).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),ZE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XE=function(t){ZE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,a,s,l,u,h,m,x,v,y,b,w,_,N,C,E,O,j){var R=ig.quadrilateralToQuadrilateral(s,l,u,h,m,x,v,y,b,w,_,N,C,E,O,j);return this.sampleGridWithTransform(r,n,a,R)},e.prototype.sampleGridWithTransform=function(r,n,a,s){if(n<=0||a<=0)throw new ee;for(var l=new Cn(n,a),u=new Float32Array(2*n),h=0;h<a;h++){for(var m=u.length,x=h+.5,v=0;v<m;v+=2)u[v]=v/2+.5,u[v+1]=x;s.transformPoints(u),hx.checkAndNudgePoints(r,u);try{for(var v=0;v<m;v+=2)r.get(Math.floor(u[v]),Math.floor(u[v+1]))&&l.set(v/2,h)}catch{throw new ee}}return l},e}(hx),i0=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new XE,t}(),Sr=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Ne(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),qE=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var s=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),l=this.getMatrixCornerPoints(n);return new GE(s,l,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ee;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,s=0;s<4;s++){var l=n[(this.shift+s)%4];this.compact?(a<<=7,a+=l>>1&127):(a<<=10,a+=(l>>2&992)+(l>>1&31))}var u=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(s,l,u){var h=(s>>r-2<<1)+(s&1);n=(n<<3)+h}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(ze.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new ee},t.prototype.getCorrectedParameterData=function(e,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var s=n-a,l=new Int32Array(n),u=n-1;u>=0;--u)l[u]=e&15,e>>=4;try{var h=new Ec(Tr.AZTEC_PARAM);h.decode(l,s)}catch{throw new ee}for(var m=0,u=0;u<a;u++)m=(m<<4)+l[u];return m},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,a=e,s=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(r,l,1,-1),h=this.getFirstDifferent(n,l,1,1),m=this.getFirstDifferent(a,l,-1,1),x=this.getFirstDifferent(s,l,-1,-1);if(this.nbCenterLayers>2){var v=this.distancePoint(x,u)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(v<.75||v>1.25||!this.isWhiteOrBlackRectangle(u,h,m,x))break}r=u,n=h,a=m,s=x,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;var y=new Ne(r.getX()+.5,r.getY()-.5),b=new Ne(n.getX()+.5,n.getY()+.5),w=new Ne(a.getX()-.5,a.getY()+.5),_=new Ne(s.getX()-.5,s.getY()-.5);return this.expandSquare([y,b,w,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,a;try{var s=new Nd(this.image).detect();e=s[0],r=s[1],n=s[2],a=s[3]}catch{var l=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new Sr(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Sr(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Sr(l-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Sr(l-7,u-7),!1,-1,-1).toResultPoint()}var h=Qe.round((e.getX()+a.getX()+r.getX()+n.getX())/4),m=Qe.round((e.getY()+a.getY()+r.getY()+n.getY())/4);try{var s=new Nd(this.image,15,h,m).detect();e=s[0],r=s[1],n=s[2],a=s[3]}catch{e=this.getFirstDifferent(new Sr(h+7,m-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Sr(h+7,m+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Sr(h-7,m+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Sr(h-7,m-7),!1,-1,-1).toResultPoint()}return h=Qe.round((e.getX()+a.getX()+r.getX()+n.getX())/4),m=Qe.round((e.getY()+a.getY()+r.getY()+n.getY())/4),new Sr(h,m)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,a,s){var l=i0.getInstance(),u=this.getDimension(),h=u/2-this.nbCenterLayers,m=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,h,h,m,h,m,m,h,m,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),s.getX(),s.getY())},t.prototype.sampleLine=function(e,r,n){for(var a=0,s=this.distanceResultPoint(e,r),l=s/n,u=e.getX(),h=e.getY(),m=l*(r.getX()-e.getX())/s,x=l*(r.getY()-e.getY())/s,v=0;v<n;v++)this.image.get(Qe.round(u+v*m),Qe.round(h+v*x))&&(a|=1<<n-v-1);return a},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,a){var s=3;e=new Sr(e.getX()-s,e.getY()+s),r=new Sr(r.getX()-s,r.getY()-s),n=new Sr(n.getX()+s,n.getY()-s),a=new Sr(a.getX()+s,a.getY()+s);var l=this.getColor(a,e);if(l===0)return!1;var u=this.getColor(e,r);return u!==l||(u=this.getColor(r,n),u!==l)?!1:(u=this.getColor(n,a),u===l)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),a=(r.getX()-e.getX())/n,s=(r.getY()-e.getY())/n,l=0,u=e.getX(),h=e.getY(),m=this.image.get(e.getX(),e.getY()),x=Math.ceil(n),v=0;v<x;v++)u+=a,h+=s,this.image.get(Qe.round(u),Qe.round(h))!==m&&l++;var y=l/n;return y>.1&&y<.9?0:y<=.1===m?1:-1},t.prototype.getFirstDifferent=function(e,r,n,a){for(var s=e.getX()+n,l=e.getY()+a;this.isValid(s,l)&&this.image.get(s,l)===r;)s+=n,l+=a;for(s-=n,l-=a;this.isValid(s,l)&&this.image.get(s,l)===r;)s+=n;for(s-=n;this.isValid(s,l)&&this.image.get(s,l)===r;)l+=a;return l-=a,new Sr(s,l)},t.prototype.expandSquare=function(e,r,n){var a=n/(2*r),s=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,h=(e[0].getY()+e[2].getY())/2,m=new Ne(u+a*s,h+a*l),x=new Ne(u-a*s,h-a*l);s=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,h=(e[1].getY()+e[3].getY())/2;var v=new Ne(u+a*s,h+a*l),y=new Ne(u-a*s,h-a*l),b=[m,v,x,y];return b},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Qe.round(e.getX()),n=Qe.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Qe.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Qe.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ze.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Sd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,a=new qE(e.getBlackMatrix()),s=null,l=null;try{var u=a.detectMirror(!1);s=u.getPoints(),this.reportFoundResultPoints(r,s),l=new dx().decode(u)}catch(v){n=v}if(l==null)try{var u=a.detectMirror(!0);s=u.getPoints(),this.reportFoundResultPoints(r,s),l=new dx().decode(u)}catch(v){throw n??v}var h=new dr(l.getText(),l.getRawBytes(),l.getNumBits(),s,Oe.AZTEC,pt.currentTimeMillis()),m=l.getByteSegments();m!=null&&h.putMetadata(sr.BYTE_SEGMENTS,m);var x=l.getECLevel();return x!=null&&h.putMetadata(sr.ERROR_CORRECTION_LEVEL,x),h},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(bt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,s,l){n.foundPossibleResultPoint(a)})}},t.prototype.reset=function(){},t}(),$E=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){$E(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Sd,r)||this}return e})(ni);var Vt=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(bt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),s=this.doDecode(a,r),l=s.getResultMetadata(),u=270;l!==null&&l.get(sr.ORIENTATION)===!0&&(u=u+l.get(sr.ORIENTATION)%360),s.putMetadata(sr.ORIENTATION,u);var h=s.getResultPoints();if(h!==null)for(var m=a.getHeight(),x=0;x<h.length;x++)h[x]=new Ne(m-h[x].getY()-1,h[x].getX());return s}else throw new ee}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),a=e.getHeight(),s=new er(n),l=r&&r.get(bt.TRY_HARDER)===!0,u=Math.max(1,a>>(l?8:5)),h;l?h=a:h=15;for(var m=Math.trunc(a/2),x=0;x<h;x++){var v=Math.trunc((x+1)/2),y=(x&1)===0,b=m+u*(y?v:-v);if(b<0||b>=a)break;try{s=e.getBlackRow(b,s)}catch{continue}for(var w=function(E){if(E===1&&(s.reverse(),r&&r.get(bt.NEED_RESULT_POINT_CALLBACK)===!0)){var O=new Map;r.forEach(function(k,K){return O.set(K,k)}),O.delete(bt.NEED_RESULT_POINT_CALLBACK),r=O}try{var j=_.decodeRow(b,s,r);if(E===1){j.putMetadata(sr.ORIENTATION,180);var R=j.getResultPoints();R!==null&&(R[0]=new Ne(n-R[0].getX()-1,R[0].getY()),R[1]=new Ne(n-R[1].getX()-1,R[1].getY()))}return{value:j}}catch{}},_=this,N=0;N<2;N++){var C=w(N);if(typeof C=="object")return C.value}}throw new ee},t.recordPattern=function(e,r,n){for(var a=n.length,s=0;s<a;s++)n[s]=0;var l=e.getSize();if(r>=l)throw new ee;for(var u=!e.get(r),h=0,m=r;m<l;){if(e.get(m)!==u)n[h]++;else{if(++h===a)break;n[h]=1,u=!u}m++}if(!(h===a||h===a-1&&m===l))throw new ee},t.recordPatternInReverse=function(e,r,n){for(var a=n.length,s=e.get(r);r>0&&a>=0;)e.get(--r)!==s&&(a--,s=!s);if(a>=0)throw new ee;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var a=e.length,s=0,l=0,u=0;u<a;u++)s+=e[u],l+=r[u];if(s<l)return Number.POSITIVE_INFINITY;var h=s/l;n*=h;for(var m=0,x=0;x<a;x++){var v=e[x],y=r[x]*h,b=v>y?v-y:y-v;if(b>n)return Number.POSITIVE_INFINITY;m+=b}return m/s},t}(),YE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mx=function(t){YE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),s=0,l=Int32Array.from([0,0,0,0,0,0]),u=a,h=!1,m=6,x=a;x<n;x++)if(r.get(x)!==h)l[s]++;else{if(s===m-1){for(var v=e.MAX_AVG_VARIANCE,y=-1,b=e.CODE_START_A;b<=e.CODE_START_C;b++){var w=Vt.patternMatchVariance(l,e.CODE_PATTERNS[b],e.MAX_INDIVIDUAL_VARIANCE);w<v&&(v=w,y=b)}if(y>=0&&r.isRange(Math.max(0,u-(x-u)/2),u,!1))return Int32Array.from([u,x,y]);u+=l[0]+l[1],l=l.slice(2,l.length),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,h=!h}throw new ee},e.decodeCode=function(r,n,a){Vt.recordPattern(r,a,n);for(var s=e.MAX_AVG_VARIANCE,l=-1,u=0;u<e.CODE_PATTERNS.length;u++){var h=e.CODE_PATTERNS[u],m=this.patternMatchVariance(n,h,e.MAX_INDIVIDUAL_VARIANCE);m<s&&(s=m,l=u)}if(l>=0)return l;throw new ee},e.prototype.decodeRow=function(r,n,a){var s=a&&a.get(bt.ASSUME_GS1)===!0,l=e.findStartPattern(n),u=l[2],h=0,m=new Uint8Array(20);m[h++]=u;var x;switch(u){case e.CODE_START_A:x=e.CODE_CODE_A;break;case e.CODE_START_B:x=e.CODE_CODE_B;break;case e.CODE_START_C:x=e.CODE_CODE_C;break;default:throw new ge}for(var v=!1,y=!1,b="",w=l[0],_=l[1],N=Int32Array.from([0,0,0,0,0,0]),C=0,E=0,O=u,j=0,R=!0,k=!1,K=!1;!v;){var W=y;switch(y=!1,C=E,E=e.decodeCode(n,N,_),m[h++]=E,E!==e.CODE_STOP&&(R=!0),E!==e.CODE_STOP&&(j++,O+=j*E),w=_,_+=N.reduce(function(ue,ae){return ue+ae},0),E){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ge}switch(x){case e.CODE_CODE_A:if(E<64)K===k?b+=String.fromCharCode(32+E):b+=String.fromCharCode(32+E+128),K=!1;else if(E<96)K===k?b+=String.fromCharCode(E-64):b+=String.fromCharCode(E+64),K=!1;else switch(E!==e.CODE_STOP&&(R=!1),E){case e.CODE_FNC_1:s&&(b.length===0?b+="]C1":b+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!k&&K?(k=!0,K=!1):k&&K?(k=!1,K=!1):K=!0;break;case e.CODE_SHIFT:y=!0,x=e.CODE_CODE_B;break;case e.CODE_CODE_B:x=e.CODE_CODE_B;break;case e.CODE_CODE_C:x=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_B:if(E<96)K===k?b+=String.fromCharCode(32+E):b+=String.fromCharCode(32+E+128),K=!1;else switch(E!==e.CODE_STOP&&(R=!1),E){case e.CODE_FNC_1:s&&(b.length===0?b+="]C1":b+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!k&&K?(k=!0,K=!1):k&&K?(k=!1,K=!1):K=!0;break;case e.CODE_SHIFT:y=!0,x=e.CODE_CODE_A;break;case e.CODE_CODE_A:x=e.CODE_CODE_A;break;case e.CODE_CODE_C:x=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_C:if(E<100)E<10&&(b+="0"),b+=E;else switch(E!==e.CODE_STOP&&(R=!1),E){case e.CODE_FNC_1:s&&(b.length===0?b+="]C1":b+="");break;case e.CODE_CODE_A:x=e.CODE_CODE_A;break;case e.CODE_CODE_B:x=e.CODE_CODE_B;break;case e.CODE_STOP:v=!0;break}break}W&&(x=x===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var J=_-w;if(_=n.getNextUnset(_),!n.isRange(_,Math.min(n.getSize(),_+(_-w)/2),!1))throw new ee;if(O-=j*C,O%103!==C)throw new Jt;var Z=b.length;if(Z===0)throw new ee;Z>0&&R&&(x===e.CODE_CODE_C?b=b.substring(0,Z-2):b=b.substring(0,Z-1));for(var ve=(l[1]+l[0])/2,se=w+J/2,he=m.length,ce=new Uint8Array(he),xe=0;xe<he;xe++)ce[xe]=m[xe];var P=[new Ne(ve,r),new Ne(se,r)];return new dr(b,ce,0,P,Oe.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Vt),KE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},px=function(t){KE(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=t.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(r,n,a){var s,l,u,h,m=this.counters;m.fill(0),this.decodeRowResult="";var x=e.findAsteriskPattern(n,m),v=n.getNextSet(x[1]),y=n.getSize(),b,w;do{e.recordPattern(n,v,m);var _=e.toNarrowWidePattern(m);if(_<0)throw new ee;b=e.patternToChar(_),this.decodeRowResult+=b,w=v;try{for(var N=(s=void 0,Qf(m)),C=N.next();!C.done;C=N.next()){var E=C.value;v+=E}}catch(he){s={error:he}}finally{try{C&&!C.done&&(l=N.return)&&l.call(N)}finally{if(s)throw s.error}}v=n.getNextSet(v)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var j=Qf(m),R=j.next();!R.done;R=j.next()){var E=R.value;O+=E}}catch(he){u={error:he}}finally{try{R&&!R.done&&(h=j.return)&&h.call(j)}finally{if(u)throw u.error}}var k=v-w-O;if(v!==y&&k*2<O)throw new ee;if(this.usingCheckDigit){for(var K=this.decodeRowResult.length-1,W=0,J=0;J<K;J++)W+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(K)!==e.ALPHABET_STRING.charAt(W%43))throw new Jt;this.decodeRowResult=this.decodeRowResult.substring(0,K)}if(this.decodeRowResult.length===0)throw new ee;var Z;this.extendedMode?Z=e.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;var ve=(x[1]+x[0])/2,se=w+O/2;return new dr(Z,null,0,[new Ne(ve,r),new Ne(se,r)],Oe.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var a=r.getSize(),s=r.getNextSet(0),l=0,u=s,h=!1,m=n.length,x=s;x<a;x++)if(r.get(x)!==h)n[l]++;else{if(l===m-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,u-Math.floor((x-u)/2)),u,!1))return[u,x];u+=n[0]+n[1],n.copyWithin(0,2,2+l-1),n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,h=!h}throw new ee},e.toNarrowWidePattern=function(r){var n,a,s=r.length,l=0,u;do{var h=2147483647;try{for(var m=(n=void 0,Qf(r)),x=m.next();!x.done;x=m.next()){var v=x.value;v<h&&v>l&&(h=v)}}catch(_){n={error:_}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}l=h,u=0;for(var y=0,b=0,w=0;w<s;w++){var v=r[w];v>l&&(b|=1<<s-1-w,u++,y+=v)}if(u===3){for(var w=0;w<s&&u>0;w++){var v=r[w];if(v>l&&(u--,v*2>=y))return-1}return b}}while(u>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new ee},e.decodeExtended=function(r){for(var n=r.length,a="",s=0;s<n;s++){var l=r.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){var u=r.charAt(s+1),h="\0";switch(l){case"+":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)+32);else throw new ge;break;case"$":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)-64);else throw new ge;break;case"%":if(u>="A"&&u<="E")h=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")h=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")h=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")h="\0";else if(u==="V")h="@";else if(u==="W")h="`";else if(u==="X"||u==="Y"||u==="Z")h="";else throw new ge;break;case"/":if(u>="A"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")h=":";else throw new ge;break}a+=h,s++}else a+=l}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Vt),WE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xx=function(t){WE(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,a){var s,l,u,h,m=this.findAsteriskPattern(n),x=n.getNextSet(m[1]),v=n.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var b,w;do{e.recordPattern(n,x,y);var _=this.toPattern(y);if(_<0)throw new ee;b=this.patternToChar(_),this.decodeRowResult+=b,w=x;try{for(var N=(s=void 0,Jf(y)),C=N.next();!C.done;C=N.next()){var E=C.value;x+=E}}catch(J){s={error:J}}finally{try{C&&!C.done&&(l=N.return)&&l.call(N)}finally{if(s)throw s.error}}x=n.getNextSet(x)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var j=Jf(y),R=j.next();!R.done;R=j.next()){var E=R.value;O+=E}}catch(J){u={error:J}}finally{try{R&&!R.done&&(h=j.return)&&h.call(j)}finally{if(u)throw u.error}}if(x===v||!n.get(x))throw new ee;if(this.decodeRowResult.length<2)throw new ee;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var k=this.decodeExtended(this.decodeRowResult),K=(m[1]+m[0])/2,W=w+O/2;return new dr(k,null,0,[new Ne(K,r),new Ne(W,r)],Oe.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var s=this.counters,l=a,u=!1,h=s.length,m=0,x=a;x<n;x++)if(r.get(x)!==u)s[m]++;else{if(m===h-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([l,x]);l+=s[0]+s[1],s.copyWithin(0,2,2+m-1),s[m-1]=0,s[m]=0,m--}else m++;s[m]=1,u=!u}throw new ee},e.prototype.toPattern=function(r){var n,a,s=0;try{for(var l=Jf(r),u=l.next();!u.done;u=l.next()){var h=u.value;s+=h}}catch(w){n={error:w}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var m=0,x=r.length,v=0;v<x;v++){var y=Math.round(r[v]*9/s);if(y<1||y>4)return-1;if((v&1)===0)for(var b=0;b<y;b++)m=m<<1|1;else m<<=y}return m},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new ee},e.prototype.decodeExtended=function(r){for(var n=r.length,a="",s=0;s<n;s++){var l=r.charAt(s);if(l>="a"&&l<="d"){if(s>=n-1)throw new ge;var u=r.charAt(s+1),h="\0";switch(l){case"d":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)+32);else throw new ge;break;case"a":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)-64);else throw new ge;break;case"b":if(u>="A"&&u<="E")h=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")h=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")h=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")h="\0";else if(u==="V")h="@";else if(u==="W")h="`";else if(u>="X"&&u<="Z")h="";else throw new ge;break;case"c":if(u>="A"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")h=":";else throw new ge;break}a+=h,s++}else a+=l}return a},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,a){for(var s=1,l=0,u=n-1;u>=0;u--)l+=s*e.ALPHABET_STRING.indexOf(r.charAt(u)),++s>a&&(s=1);if(r.charAt(n)!==e.ALPHABET_STRING[l%47])throw new Jt},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Vt),QE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vx=function(t){QE(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,a){var s,l,u=this.decodeStart(n),h=this.decodeEnd(n),m=new Fe;e.decodeMiddle(n,u[1],h[0],m);var x=m.toString(),v=null;a!=null&&(v=a.get(bt.ALLOWED_LENGTHS)),v==null&&(v=e.DEFAULT_ALLOWED_LENGTHS);var y=x.length,b=!1,w=0;try{for(var _=JE(v),N=_.next();!N.done;N=_.next()){var C=N.value;if(y===C){b=!0;break}C>w&&(w=C)}}catch(j){s={error:j}}finally{try{N&&!N.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}if(!b&&y>w&&(b=!0),!b)throw new ge;var E=[new Ne(u[1],r),new Ne(h[0],r)],O=new dr(x,null,0,E,Oe.ITF,new Date().getTime());return O},e.decodeMiddle=function(r,n,a,s){var l=new Int32Array(10),u=new Int32Array(5),h=new Int32Array(5);for(l.fill(0),u.fill(0),h.fill(0);n<a;){Vt.recordPattern(r,n,l);for(var m=0;m<5;m++){var x=2*m;u[m]=l[x],h[m]=l[x+1]}var v=e.decodeDigit(u);s.append(v.toString()),v=this.decodeDigit(h),s.append(v.toString()),l.forEach(function(y){n+=y})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),a=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},e.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var s=n-1;a>0&&s>=0&&!r.get(s);s--)a--;if(a!==0)throw new ee},e.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new ee;return a},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),a=void 0;try{a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(l){l instanceof ee&&(a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var s=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-s,a}finally{r.reverse()}},e.findGuardPattern=function(r,n,a){var s=a.length,l=new Int32Array(s),u=r.getSize(),h=!1,m=0,x=n;l.fill(0);for(var v=n;v<u;v++)if(r.get(v)!==h)l[m]++;else{if(m===s-1){if(Vt.patternMatchVariance(l,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[x,v];x+=l[0]+l[1],pt.arraycopy(l,2,l,0,m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,h=!h}throw new ee},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,a=-1,s=e.PATTERNS.length,l=0;l<s;l++){var u=e.PATTERNS[l],h=Vt.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);h<n?(n=h,a=l):h===n&&(a=-1)}if(a>=0)return a%10;throw new ee},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Vt),eN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ki=function(t){eN(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,a,s=0,l=Int32Array.from([0,0,0]);!n;){l=Int32Array.from([0,0,0]),a=e.findGuardPattern(r,s,!1,this.START_END_PATTERN,l);var u=a[0];s=a[1];var h=u-(s-u);h>=0&&(n=r.isRange(h,u,!1))}return a},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,s=n-1;s>=0;s-=2){var l=r.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new ge;a+=l}a*=3;for(var s=n-2;s>=0;s-=2){var l=r.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new ge;a+=l}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,a,s){return this.findGuardPattern(r,n,a,s,new Int32Array(s.length))},e.findGuardPattern=function(r,n,a,s,l){var u=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var h=0,m=n,x=s.length,v=a,y=n;y<u;y++)if(r.get(y)!==v)l[h]++;else{if(h===x-1){if(Vt.patternMatchVariance(l,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([m,y]);m+=l[0]+l[1];for(var b=l.slice(2,l.length),w=0;w<h-1;w++)l[w]=b[w];l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,v=!v}throw new ee},e.decodeDigit=function(r,n,a,s){this.recordPattern(r,a,n);for(var l=this.MAX_AVG_VARIANCE,u=-1,h=s.length,m=0;m<h;m++){var x=s[m],v=Vt.patternMatchVariance(n,x,e.MAX_INDIVIDUAL_VARIANCE);v<l&&(l=v,u=m)}if(u>=0)return u;throw new ee},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Vt),tN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rN=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,a),l=a.toString(),u=t.parseExtensionString(l),h=[new Ne((n[0]+n[1])/2,e),new Ne(s,e)],m=new dr(l,null,0,h,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&m.putAllMetadata(u),m},t.prototype.decodeMiddle=function(e,r,n){var a,s,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=e.getSize(),h=r[1],m=0,x=0;x<5&&h<u;x++){var v=Ki.decodeDigit(e,l,h,Ki.L_AND_G_PATTERNS);n+=String.fromCharCode(48+v%10);try{for(var y=(a=void 0,tN(l)),b=y.next();!b.done;b=y.next()){var w=b.value;h+=w}}catch(N){a={error:N}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}v>=10&&(m|=1<<4-x),x!==4&&(h=e.getNextSet(h),h=e.getNextUnset(h))}if(n.length!==5)throw new ee;var _=this.determineCheckDigit(m);if(t.extensionChecksum(n.toString())!==_)throw new ee;return h},t.extensionChecksum=function(e){for(var r=e.length,n=0,a=r-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ee},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[sr.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),s=n%100,l=s<10?"0"+s:s.toString();return r+a+"."+l},t}(),nN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aN=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,a),l=a.toString(),u=t.parseExtensionString(l),h=[new Ne((n[0]+n[1])/2,e),new Ne(s,e)],m=new dr(l,null,0,h,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&m.putAllMetadata(u),m},t.prototype.decodeMiddle=function(e,r,n){var a,s,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=e.getSize(),h=r[1],m=0,x=0;x<2&&h<u;x++){var v=Ki.decodeDigit(e,l,h,Ki.L_AND_G_PATTERNS);n+=String.fromCharCode(48+v%10);try{for(var y=(a=void 0,nN(l)),b=y.next();!b.done;b=y.next()){var w=b.value;h+=w}}catch(_){a={error:_}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}v>=10&&(m|=1<<1-x),x!==1&&(h=e.getNextSet(h),h=e.getNextUnset(h))}if(n.length!==2)throw new ee;if(parseInt(n.toString())%4!==m)throw new ee;return h},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[sr.ISSUE_NUMBER,parseInt(e)]])},t}(),iN=function(){function t(){}return t.decodeRow=function(e,r,n){var a=Ki.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new rN;return s.decodeRow(e,r,a)}catch{var l=new aN;return l.decodeRow(e,r,a)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),sN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ft=function(t){sN(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],s=new Int32Array(a.length),l=0;l<a.length;l++)s[l]=a[a.length-l-1];e.L_AND_G_PATTERNS[n]=s}return r}return e.prototype.decodeRow=function(r,n,a){var s=e.findStartGuardPattern(n),l=a==null?null:a.get(bt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=new Ne((s[0]+s[1])/2,r);l.foundPossibleResultPoint(u)}var h=this.decodeMiddle(n,s,this.decodeRowStringBuffer),m=h.rowOffset,x=h.resultString;if(l!=null){var v=new Ne(m,r);l.foundPossibleResultPoint(v)}var y=e.decodeEnd(n,m);if(l!=null){var b=new Ne((y[0]+y[1])/2,r);l.foundPossibleResultPoint(b)}var w=y[1],_=w+(w-y[0]);if(_>=n.getSize()||!n.isRange(w,_,!1))throw new ee;var N=x.toString();if(N.length<8)throw new ge;if(!e.checkChecksum(N))throw new Jt;var C=(s[1]+s[0])/2,E=(y[1]+y[0])/2,O=this.getBarcodeFormat(),j=[new Ne(C,r),new Ne(E,r)],R=new dr(N,null,0,j,O,new Date().getTime()),k=0;try{var K=iN.decodeRow(r,n,y[1]);R.putMetadata(sr.UPC_EAN_EXTENSION,K.getText()),R.putAllMetadata(K.getResultMetadata()),R.addResultPoints(K.getResultPoints()),k=K.getText().length}catch{}var W=a==null?null:a.get(bt.ALLOWED_EAN_EXTENSIONS);if(W!=null){var J=!1;for(var Z in W)if(k.toString()===Z){J=!0;break}if(!J)throw new ee}return O===Oe.EAN_13||Oe.UPC_A,R},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,s=n-1;s>=0;s-=2){var l=r.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new ge;a+=l}a*=3;for(var s=n-2;s>=0;s-=2){var l=r.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new ge;a+=l}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Ki),oN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cd=function(t){oN(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var s,l,u,h,m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;for(var x=r.getSize(),v=n[1],y=0,b=0;b<6&&v<x;b++){var w=Ft.decodeDigit(r,m,v,Ft.L_AND_G_PATTERNS);a+=String.fromCharCode(48+w%10);try{for(var _=(s=void 0,gx(m)),N=_.next();!N.done;N=_.next()){var C=N.value;v+=C}}catch(R){s={error:R}}finally{try{N&&!N.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}w>=10&&(y|=1<<5-b)}a=e.determineFirstDigit(a,y);var E=Ft.findGuardPattern(r,v,!0,Ft.MIDDLE_PATTERN,new Int32Array(Ft.MIDDLE_PATTERN.length).fill(0));v=E[1];for(var b=0;b<6&&v<x;b++){var w=Ft.decodeDigit(r,m,v,Ft.L_PATTERNS);a+=String.fromCharCode(48+w);try{for(var O=(u=void 0,gx(m)),j=O.next();!j.done;j=O.next()){var C=j.value;v+=C}}catch(K){u={error:K}}finally{try{j&&!j.done&&(h=O.return)&&h.call(O)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:a}},e.prototype.getBarcodeFormat=function(){return Oe.EAN_13},e.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new ee},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Ft),lN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bx=function(t){lN(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var s,l,u,h,m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;for(var x=r.getSize(),v=n[1],y=0;y<4&&v<x;y++){var b=Ft.decodeDigit(r,m,v,Ft.L_PATTERNS);a+=String.fromCharCode(48+b);try{for(var w=(s=void 0,yx(m)),_=w.next();!_.done;_=w.next()){var N=_.value;v+=N}}catch(j){s={error:j}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}}var C=Ft.findGuardPattern(r,v,!0,Ft.MIDDLE_PATTERN,new Int32Array(Ft.MIDDLE_PATTERN.length).fill(0));v=C[1];for(var y=0;y<4&&v<x;y++){var b=Ft.decodeDigit(r,m,v,Ft.L_PATTERNS);a+=String.fromCharCode(48+b);try{for(var E=(u=void 0,yx(m)),O=E.next();!O.done;O=E.next()){var N=O.value;v+=N}}catch(k){u={error:k}}finally{try{O&&!O.done&&(h=E.return)&&h.call(E)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:a}},e.prototype.getBarcodeFormat=function(){return Oe.EAN_8},e}(Ft),cN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_x=function(t){cN(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Cd,r}return e.prototype.getBarcodeFormat=function(){return Oe.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},e.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new dr(n.substring(1),null,null,r.getResultPoints(),Oe.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new ee},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Ft),uN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wx=function(t){uN(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,a){var s,l,u=this.decodeMiddleCounters.map(function(N){return N});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var h=r.getSize(),m=n[1],x=0,v=0;v<6&&m<h;v++){var y=e.decodeDigit(r,u,m,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);try{for(var b=(s=void 0,fN(u)),w=b.next();!w.done;w=b.next()){var _=w.value;m+=_}}catch(N){s={error:N}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}y>=10&&(x|=1<<5-v)}return e.determineNumSysAndCheckDigit(new Fe(a),x),m},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Ft.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][s]){r.insert(0,"0"+a),r.append("0"+s);return}throw ee.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Oe.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(l){return l.charCodeAt(0)}),a=new Fe;a.append(r.charAt(0));var s=n[5];switch(s){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(s),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(s);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Ft),dN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ax=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ed=function(t){dN(e,t);function e(r){var n=t.call(this)||this,a=r==null?null:r.get(bt.POSSIBLE_FORMATS),s=[];return a!=null&&(a.indexOf(Oe.EAN_13)>-1&&s.push(new Cd),a.indexOf(Oe.UPC_A)>-1&&s.push(new _x),a.indexOf(Oe.EAN_8)>-1&&s.push(new bx),a.indexOf(Oe.UPC_E)>-1&&s.push(new wx)),s.length===0&&(s.push(new Cd),s.push(new _x),s.push(new bx),s.push(new wx)),n.readers=s,n}return e.prototype.decodeRow=function(r,n,a){var s,l;try{for(var u=Ax(this.readers),h=u.next();!h.done;h=u.next()){var m=h.value;try{var x=m.decodeRow(r,n,a),v=x.getBarcodeFormat()===Oe.EAN_13&&x.getText().charAt(0)==="0",y=a==null?null:a.get(bt.POSSIBLE_FORMATS),b=y==null||y.includes(Oe.UPC_A);if(v&&b){var w=x.getRawBytes(),_=new dr(x.getText().substring(1),w,w?w.length:null,x.getResultPoints(),Oe.UPC_A);return _.putAllMetadata(x.getResultMetadata()),_}return x}catch{}}}catch(N){s={error:N}}finally{try{h&&!h.done&&(l=u.return)&&l.call(u)}finally{if(s)throw s.error}}throw new ee},e.prototype.reset=function(){var r,n;try{for(var a=Ax(this.readers),s=a.next();!s.done;s=a.next()){var l=s.value;l.reset()}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e}(Vt),hN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mN=function(t){hN(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,a){var s=this.getValidRowData(n);if(!s)throw new ee;var l=this.codaBarDecodeRow(s.row);if(!l)throw new ee;return new dr(l,null,0,[new Ne(s.left,r),new Ne(s.right,r)],Oe.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var s=n.lastIndexOf(!0);if(s<=a)return null;n=n.slice(a,s+1);for(var l=[],u=n[0],h=1,m=1;m<n.length;m++)n[m]===u?h++:(u=n[m],l.push(h),h=1);return l.push(h),l.length<23&&(l.length+1)%8!==0?null:{row:l,left:a,right:s}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(h,m){return(h+m)/2},0));r.length>0;){var s=r.splice(0,8).splice(0,7),l=s.map(function(h){return h<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[l]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[l])}var u=n.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Vt),pN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qa=function(t){pN(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(Vt.patternMatchVariance(r,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new ee},e.count=function(r){return Qe.sum(new Int32Array(r))},e.increment=function(r,n){for(var a=0,s=n[0],l=1;l<r.length;l++)n[l]>s&&(s=n[l],a=l);r[a]++},e.decrement=function(r,n){for(var a=0,s=n[0],l=1;l<r.length;l++)n[l]<s&&(s=n[l],a=l);r[a]--},e.isFinderPattern=function(r){var n,a,s=r[0]+r[1],l=s+r[2]+r[3],u=s/l;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;try{for(var x=xN(r),v=x.next();!v.done;v=x.next()){var y=v.value;y>m&&(m=y),y<h&&(h=y)}}catch(b){n={error:b}}finally{try{v&&!v.done&&(a=x.return)&&a.call(x)}finally{if(n)throw n.error}}return m<10*h}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Vt),sc=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),sg=function(){function t(e,r,n,a,s){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ne(n,s)),this.resultPoints.push(new Ne(a,s))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),vN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xi=function(){function t(){}return t.getRSSvalue=function(e,r,n){var a,s,l=0;try{for(var u=vN(e),h=u.next();!h.done;h=u.next()){var m=h.value;l+=m}}catch(E){a={error:E}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}for(var x=0,v=0,y=e.length,b=0;b<y-1;b++){var w=void 0;for(w=1,v|=1<<b;w<e[b];w++,v&=~(1<<b)){var _=t.combins(l-w-1,y-b-2);if(n&&v===0&&l-w-(y-b-1)>=y-b-1&&(_-=t.combins(l-w-(y-b),y-b-2)),y-b-1>1){for(var N=0,C=l-w-(y-b-2);C>r;C--)N+=t.combins(l-w-C-1,y-b-3);_-=N*(y-1-b)}else l-w>r&&_--;x+=_}l-=w}return x},t.combins=function(e,r){var n,a;e-r>r?(a=r,n=e-r):(a=e-r,n=r);for(var s=1,l=1,u=e;u>n;u--)s*=u,l<=a&&(s/=l,l++);for(;l<=a;)s/=l,l++;return s},t}(),gN=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new er(n),s=0,l=e[0],u=l.getRightChar().getValue(),h=11;h>=0;--h)(u&1<<h)!==0&&a.set(s),s++;for(var h=1;h<e.length;++h){for(var m=e[h],x=m.getLeftChar().getValue(),v=11;v>=0;--v)(x&1<<v)!==0&&a.set(s),s++;if(m.getRightChar()!==null)for(var y=m.getRightChar().getValue(),v=11;v>=0;--v)(y&1<<v)!==0&&a.set(s),s++}return a},t}(),Za=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),s0=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),yN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),on=function(t){yN(e,t);function e(r,n){var a=t.call(this,r)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(s0),bN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xa=function(t){bN(e,t);function e(r,n,a){var s=t.call(this,r)||this;return a?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=n,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(s0),_N=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zi=function(t){_N(e,t);function e(r,n,a){var s=t.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new ge;return s.firstDigit=n,s.secondDigit=a,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(s0),Vl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wN=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,a,s,l,u,h,m;if(!e)return null;if(e.length<2)throw new ee;var x=e.substring(0,2);try{for(var v=Vl(t.TWO_DIGIT_DATA_LENGTH),y=v.next();!y.done;y=v.next()){var b=y.value;if(b[0]===x)return b[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,b[2],e):t.processFixedAI(2,b[1],e)}}catch(k){r={error:k}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}if(e.length<3)throw new ee;var w=e.substring(0,3);try{for(var _=Vl(t.THREE_DIGIT_DATA_LENGTH),N=_.next();!N.done;N=_.next()){var b=N.value;if(b[0]===w)return b[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,b[2],e):t.processFixedAI(3,b[1],e)}}catch(k){a={error:k}}finally{try{N&&!N.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}try{for(var C=Vl(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),E=C.next();!E.done;E=C.next()){var b=E.value;if(b[0]===w)return b[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,b[2],e):t.processFixedAI(4,b[1],e)}}catch(k){l={error:k}}finally{try{E&&!E.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}if(e.length<4)throw new ee;var O=e.substring(0,4);try{for(var j=Vl(t.FOUR_DIGIT_DATA_LENGTH),R=j.next();!R.done;R=j.next()){var b=R.value;if(b[0]===O)return b[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,b[2],e):t.processFixedAI(4,b[1],e)}}catch(k){h={error:k}}finally{try{R&&!R.done&&(m=j.return)&&m.call(j)}finally{if(h)throw h.error}}throw new ee},t.processFixedAI=function(e,r,n){if(n.length<e)throw new ee;var a=n.substring(0,e);if(n.length<e+r)throw new ee;var s=n.substring(e,e+r),l=n.substring(e+r),u="("+a+")"+s,h=t.parseFieldsInGeneralPurpose(l);return h==null?u:u+h},t.processVariableAI=function(e,r,n){var a=n.substring(0,e),s;n.length<e+r?s=n.length:s=e+r;var l=n.substring(e,s),u=n.substring(s),h="("+a+")"+l,m=t.parseFieldsInGeneralPurpose(u);return m==null?h:h+m},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Wl=function(){function t(e){this.buffer=new Fe,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,a=null;do{var s=this.decodeGeneralPurposeField(n,a),l=wN.parseFieldsInGeneralPurpose(s.getNewString());if(l!=null&&e.append(l),s.isRemaining()?a=""+s.getRemainingValue():a=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Zi(this.information.getSize(),Zi.FNC1,Zi.FNC1):new Zi(this.information.getSize(),r-1,Zi.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,s=(n-8)%11;return new Zi(e+7,a,s)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var a=0,s=0;s<n;++s)e.get(r+s)&&(a|=1<<n-s-1);return a},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Xa(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Xa(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Xa(this.current.getPosition(),this.buffer.toString()):r=new Xa(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Za(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Xa(this.current.getPosition(),this.buffer.toString());return new Za(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Za(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Xa(this.current.getPosition(),this.buffer.toString());return new Za(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Za(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Xa(this.current.getPosition(),this.buffer.toString());return new Za(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Za(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new on(e+5,on.FNC1);if(r>=5&&r<15)return new on(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new on(e+7,""+(n+1));if(n>=90&&n<116)return new on(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),s;switch(a){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new ge}return new on(e+8,s)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new on(e+5,on.FNC1);if(r>=5&&r<15)return new on(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new on(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Eo("Decoding invalid alphanumeric value: "+n)}return new on(e+6,a)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),og=function(){function t(e){this.information=e,this.generalDecoder=new Wl(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),AN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hn=function(t){AN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var s=0;s<4;++s){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);l/100===0&&r.append("0"),l/10===0&&r.append("0"),r.append(l)}e.appendCheckDigit(r,a)},e.appendCheckDigit=function(r,n){for(var a=0,s=0;s<13;s++){var l=r.charAt(s+n).charCodeAt(0)-48;a+=(s&1)===0?3*l:l}a=10-a%10,a===10&&(a=0),r.append(a)},e.GTIN_SIZE=40,e}(og),EN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NN=function(t){EN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Fe;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(hn),SN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CN=function(t){SN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Fe;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(og),ON=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ql=function(t){ON(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,s);for(var l=this.checkWeight(s),u=1e5,h=0;h<5;++h)l/u===0&&r.append("0"),u/=10;r.append(l)},e}(hn),TN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lg=function(t){TN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ql.GTIN_SIZE+e.WEIGHT_SIZE)throw new ee;var r=new Fe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Ql.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Ql),jN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DN=function(t){jN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(lg),RN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IN=function(t){RN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(lg),MN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BN=function(t){MN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+hn.GTIN_SIZE)throw new ee;var r=new Fe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+hn.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+hn.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(hn),PN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),LN=function(t){PN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+hn.GTIN_SIZE)throw new ee;var r=new Fe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+hn.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+hn.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+hn.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(s.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(hn),kN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ya=function(t){kN(e,t);function e(r,n,a){var s=t.call(this,r)||this;return s.dateCode=a,s.firstAIdigits=n,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ee;var r=new Fe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var s=a%32;a/=32;var l=a%12+1;a/=12;var u=a;u/10===0&&r.append("0"),r.append(u),l/10===0&&r.append("0"),r.append(l),s/10===0&&r.append("0"),r.append(s)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ql);function FN(t){try{if(t.get(1))return new NN(t);if(!t.get(2))return new CN(t);var e=Wl.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new DN(t);case 5:return new IN(t)}var r=Wl.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new BN(t);case 13:return new LN(t)}var n=Wl.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new ya(t,"310","11");case 57:return new ya(t,"320","11");case 58:return new ya(t,"310","13");case 59:return new ya(t,"320","13");case 60:return new ya(t,"310","15");case 61:return new ya(t,"320","15");case 62:return new ya(t,"310","17");case 63:return new ya(t,"320","17")}}catch(a){throw console.log(a),new Eo("unknown decoder: "+t)}}var Ex=function(){function t(e,r,n,a){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),UN=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(a,s){r.forEach(function(l){a.getLeftChar().getValue()===l.getLeftChar().getValue()&&a.getRightChar().getValue()===l.getRightChar().getValue()&&a.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),zN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ba=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VN=function(t){zN(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(u){if(u instanceof ee){if(!this.pairs.length)throw new ee;a=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(r,!1),s){var l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new ee},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var a,s,l=n;l<this.rows.length;l++){var u=this.rows[l];this.pairs.length=0;try{for(var h=(a=void 0,ba(r)),m=h.next();!m.done;m=h.next()){var x=m.value;this.pairs.push(x.getPairs())}}catch(y){a={error:y}}finally{try{m&&!m.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var v=new Array(r);v.push(u);try{return this.checkRows(v,l+1)}catch(y){console.log(y)}}}throw new ee},e.isValidSequence=function(r){var n,a;try{for(var s=ba(e.FINDER_PATTERN_SEQUENCES),l=s.next();!l.done;l=s.next()){var u=l.value;if(!(r.length>u.length)){for(var h=!0,m=0;m<r.length;m++)if(r[m].getFinderPattern().getValue()!==u[m]){h=!1;break}if(h)return!0}}}catch(x){n={error:x}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var a=0,s=!1,l=!1;a<this.rows.length;){var u=this.rows[a];if(u.getRowNumber()>r){l=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),a++}l||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new UN(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var a,s,l,u,h,m;try{for(var x=ba(n),v=x.next();!v.done;v=x.next()){var y=v.value;if(y.getPairs().length!==r.length){var b=!0;try{for(var w=(l=void 0,ba(y.getPairs())),_=w.next();!_.done;_=w.next()){var N=_.value,C=!1;try{for(var E=(h=void 0,ba(r)),O=E.next();!O.done;O=E.next()){var j=O.value;if(Ex.equals(N,j)){C=!0;break}}}catch(R){h={error:R}}finally{try{O&&!O.done&&(m=E.return)&&m.call(E)}finally{if(h)throw h.error}}C||(b=!1)}}catch(R){l={error:R}}finally{try{_&&!_.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}}}catch(R){a={error:R}}finally{try{v&&!v.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}},e.isPartialRow=function(r,n){var a,s,l,u,h,m;try{for(var x=ba(n),v=x.next();!v.done;v=x.next()){var y=v.value,b=!0;try{for(var w=(l=void 0,ba(r)),_=w.next();!_.done;_=w.next()){var N=_.value,C=!1;try{for(var E=(h=void 0,ba(y.getPairs())),O=E.next();!O.done;O=E.next()){var j=O.value;if(N.equals(j)){C=!0;break}}}catch(R){h={error:R}}finally{try{O&&!O.done&&(m=E.return)&&m.call(E)}finally{if(h)throw h.error}}if(!C){b=!1;break}}}catch(R){l={error:R}}finally{try{_&&!_.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}if(b)return!0}}catch(R){a={error:R}}finally{try{v&&!v.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=gN.buildBitArray(r),a=FN(n),s=a.parseInformation(),l=r[0].getFinderPattern().getResultPoints(),u=r[r.length-1].getFinderPattern().getResultPoints(),h=[l[0],l[1],u[0],u[1]];return new dr(s,null,null,h,Oe.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var s=a.getChecksumPortion(),l=2,u=1;u<this.pairs.size();++u){var h=this.pairs.get(u);s+=h.getLeftChar().getChecksumPortion(),l++;var m=h.getRightChar();m!=null&&(s+=m.getChecksumPortion(),l++)}s%=211;var x=211*(l-4)+s;return x===n.getValue()},e.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(r,n,a){var s=n.length%2===0;this.startFromEven&&(s=!s);var l,u=!0,h=-1;do this.findNextPair(r,n,h),l=this.parseFoundFinderPattern(r,a,s),l===null?h=e.getNextSecondBar(r,this.startEnd[0]):u=!1;while(u);var m=this.decodeDataCharacter(r,l,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ee;var x;try{x=this.decodeDataCharacter(r,l,s,!1)}catch(v){x=null,console.log(v)}return new Ex(m,x,l,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,a){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var l=r.getSize(),u;if(a>=0)u=a;else if(this.isEmptyPair(n))u=0;else{var h=n[n.length-1];u=h.getFinderPattern().getStartEnd()[1]}var m=n.length%2!==0;this.startFromEven&&(m=!m);for(var x=!1;u<l&&(x=!r.get(u),!!x);)u++;for(var v=0,y=u,b=u;b<l;b++)if(r.get(b)!==x)s[v]++;else{if(v===3){if(m&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=y,this.startEnd[1]=b;return}m&&e.reverseCounters(s),y+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,v--}else v++;s[v]=1,x=!x}throw new ee},e.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var s=r[a];r[a]=r[n-a-1],r[n-a-1]=s}},e.prototype.parseFoundFinderPattern=function(r,n,a){var s,l,u;if(a){for(var h=this.startEnd[0]-1;h>=0&&!r.get(h);)h--;h++,s=this.startEnd[0]-h,l=h,u=this.startEnd[1]}else l=this.startEnd[0],u=r.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];var m=this.getDecodeFinderCounters();pt.arraycopy(m,0,m,1,m.length-1),m[0]=s;var x;try{x=this.parseFinderValue(m,e.FINDER_PATTERNS)}catch{return null}return new sg(x,[l,u],l,u,n)},e.prototype.decodeDataCharacter=function(r,n,a,s){for(var l=this.getDataCharacterCounters(),u=0;u<l.length;u++)l[u]=0;if(s)e.recordPatternInReverse(r,n.getStartEnd()[0],l);else{e.recordPattern(r,n.getStartEnd()[1],l);for(var h=0,m=l.length-1;h<m;h++,m--){var x=l[h];l[h]=l[m],l[m]=x}}var v=17,y=Qe.sum(new Int32Array(l))/v,b=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(y-b)/b>.3)throw new ee;for(var w=this.getOddCounts(),_=this.getEvenCounts(),N=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors(),h=0;h<l.length;h++){var E=1*l[h]/y,O=E+.5;if(O<1){if(E<.3)throw new ee;O=1}else if(O>8){if(E>8.7)throw new ee;O=8}var j=h/2;(h&1)===0?(w[j]=O,N[j]=E-O):(_[j]=O,C[j]=E-O)}this.adjustOddEvenCounts(v);for(var R=4*n.getValue()+(a?0:2)+(s?0:1)-1,k=0,K=0,h=w.length-1;h>=0;h--){if(e.isNotA1left(n,a,s)){var W=e.WEIGHTS[R][2*h];K+=w[h]*W}k+=w[h]}for(var J=0,h=_.length-1;h>=0;h--)if(e.isNotA1left(n,a,s)){var W=e.WEIGHTS[R][2*h+1];J+=_[h]*W}var Z=K+J;if((k&1)!==0||k>13||k<4)throw new ee;var ve=(13-k)/2,se=e.SYMBOL_WIDEST[ve],he=9-se,ce=Xi.getRSSvalue(w,se,!0),xe=Xi.getRSSvalue(_,he,!1),P=e.EVEN_TOTAL_SUBSET[ve],ue=e.GSUM[ve],ae=ce*P+xe+ue;return new sc(ae,Z)},e.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(r){var n=Qe.sum(new Int32Array(this.getOddCounts())),a=Qe.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;n>13?l=!0:n<4&&(s=!0);var u=!1,h=!1;a>13?h=!0:a<4&&(u=!0);var m=n+a-r,x=(n&1)===1,v=(a&1)===0;if(m===1)if(x){if(v)throw new ee;l=!0}else{if(!v)throw new ee;h=!0}else if(m===-1)if(x){if(v)throw new ee;s=!0}else{if(!v)throw new ee;u=!0}else if(m===0){if(x){if(!v)throw new ee;n<a?(s=!0,h=!0):(l=!0,u=!0)}else if(v)throw new ee}else throw new ee;if(s){if(l)throw new ee;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new ee;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(qa),HN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GN=function(t){HN(e,t);function e(r,n,a){var s=t.call(this,r,n)||this;return s.count=0,s.finderPattern=a,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(sc),ZN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),td=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nx=function(t){ZN(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,a){var s,l,u,h,m=this.decodePair(n,!1,r,a);e.addOrTally(this.possibleLeftPairs,m),n.reverse();var x=this.decodePair(n,!0,r,a);e.addOrTally(this.possibleRightPairs,x),n.reverse();try{for(var v=td(this.possibleLeftPairs),y=v.next();!y.done;y=v.next()){var b=y.value;if(b.getCount()>1)try{for(var w=(u=void 0,td(this.possibleRightPairs)),_=w.next();!_.done;_=w.next()){var N=_.value;if(N.getCount()>1&&e.checkChecksum(b,N))return e.constructResult(b,N)}}catch(C){u={error:C}}finally{try{_&&!_.done&&(h=w.return)&&h.call(w)}finally{if(u)throw u.error}}}}catch(C){s={error:C}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}throw new ee},e.addOrTally=function(r,n){var a,s;if(n!=null){var l=!1;try{for(var u=td(r),h=u.next();!h.done;h=u.next()){var m=h.value;if(m.getValue()===n.getValue()){m.incrementCount(),l=!0;break}}}catch(x){a={error:x}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}l||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),s=new String(a).toString(),l=new Fe,u=13-s.length;u>0;u--)l.append("0");l.append(s);for(var h=0,u=0;u<13;u++){var m=l.charAt(u).charCodeAt(0)-48;h+=(u&1)===0?3*m:m}h=10-h%10,h===10&&(h=0),l.append(h.toString());var x=r.getFinderPattern().getResultPoints(),v=n.getFinderPattern().getResultPoints();return new dr(l.toString(),null,0,[x[0],x[1],v[0],v[1]],Oe.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,a===s},e.prototype.decodePair=function(r,n,a,s){try{var l=this.findFinderPattern(r,n),u=this.parseFoundFinderPattern(r,a,n,l),h=s==null?null:s.get(bt.NEED_RESULT_POINT_CALLBACK);if(h!=null){var m=(l[0]+l[1])/2;n&&(m=r.getSize()-1-m),h.foundPossibleResultPoint(new Ne(m,a))}var x=this.decodeDataCharacter(r,u,!0),v=this.decodeDataCharacter(r,u,!1);return new GN(1597*x.getValue()+v.getValue(),x.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,a){for(var s=this.getDataCharacterCounters(),l=0;l<s.length;l++)s[l]=0;if(a)Vt.recordPatternInReverse(r,n.getStartEnd()[0],s);else{Vt.recordPattern(r,n.getStartEnd()[1]+1,s);for(var u=0,h=s.length-1;u<h;u++,h--){var m=s[u];s[u]=s[h],s[h]=m}}for(var x=a?16:15,v=Qe.sum(new Int32Array(s))/x,y=this.getOddCounts(),b=this.getEvenCounts(),w=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors(),u=0;u<s.length;u++){var N=s[u]/v,C=Math.floor(N+.5);C<1?C=1:C>8&&(C=8);var E=Math.floor(u/2);(u&1)===0?(y[E]=C,w[E]=N-C):(b[E]=C,_[E]=N-C)}this.adjustOddEvenCounts(a,x);for(var O=0,j=0,u=y.length-1;u>=0;u--)j*=9,j+=y[u],O+=y[u];for(var R=0,k=0,u=b.length-1;u>=0;u--)R*=9,R+=b[u],k+=b[u];var K=j+3*R;if(a){if((O&1)!==0||O>12||O<4)throw new ee;var W=(12-O)/2,J=e.OUTSIDE_ODD_WIDEST[W],Z=9-J,ve=Xi.getRSSvalue(y,J,!1),se=Xi.getRSSvalue(b,Z,!0),he=e.OUTSIDE_EVEN_TOTAL_SUBSET[W],ce=e.OUTSIDE_GSUM[W];return new sc(ve*he+se+ce,K)}else{if((k&1)!==0||k>10||k<4)throw new ee;var W=(10-k)/2,J=e.INSIDE_ODD_WIDEST[W],Z=9-J,ve=Xi.getRSSvalue(y,J,!0),se=Xi.getRSSvalue(b,Z,!1),xe=e.INSIDE_ODD_TOTAL_SUBSET[W],ce=e.INSIDE_GSUM[W];return new sc(se*xe+ve+ce,K)}},e.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=r.getSize(),l=!1,u=0;u<s&&(l=!r.get(u),n!==l);)u++;for(var h=0,m=u,x=u;x<s;x++)if(r.get(x)!==l)a[h]++;else{if(h===3){if(qa.isFinderPattern(a))return[m,x];m+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,h--}else h++;a[h]=1,l=!l}throw new ee},e.prototype.parseFoundFinderPattern=function(r,n,a,s){for(var l=r.get(s[0]),u=s[0]-1;u>=0&&l!==r.get(u);)u--;u++;var h=s[0]-u,m=this.getDecodeFinderCounters(),x=new Int32Array(m.length);pt.arraycopy(m,0,x,1,m.length-1),x[0]=h;var v=this.parseFinderValue(x,e.FINDER_PATTERNS),y=u,b=s[1];return a&&(y=r.getSize()-1-y,b=r.getSize()-1-b),new sg(v,[u,s[1]],y,b,n)},e.prototype.adjustOddEvenCounts=function(r,n){var a=Qe.sum(new Int32Array(this.getOddCounts())),s=Qe.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,h=!1,m=!1;r?(a>12?u=!0:a<4&&(l=!0),s>12?m=!0:s<4&&(h=!0)):(a>11?u=!0:a<5&&(l=!0),s>10?m=!0:s<4&&(h=!0));var x=a+s-n,v=(a&1)===(r?1:0),y=(s&1)===1;if(x===1)if(v){if(y)throw new ee;u=!0}else{if(!y)throw new ee;m=!0}else if(x===-1)if(v){if(y)throw new ee;l=!0}else{if(!y)throw new ee;h=!0}else if(x===0){if(v){if(!y)throw new ee;a<s?(l=!0,m=!0):(u=!0,h=!0)}else if(y)throw new ee}else throw new ee;if(l){if(u)throw new ee;qa.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&qa.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new ee;qa.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&qa.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(qa),XN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lo=function(t){XN(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var a=r?r.get(bt.POSSIBLE_FORMATS):null,s=r&&r.get(bt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,l=r&&r.get(bt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Oe.EAN_13)||a.includes(Oe.UPC_A)||a.includes(Oe.EAN_8)||a.includes(Oe.UPC_E))&&n.readers.push(new ed(r)),a.includes(Oe.CODE_39)&&n.readers.push(new px(s,l)),a.includes(Oe.CODE_93)&&n.readers.push(new xx),a.includes(Oe.CODE_128)&&n.readers.push(new mx),a.includes(Oe.ITF)&&n.readers.push(new vx),a.includes(Oe.CODABAR)&&n.readers.push(new mN),a.includes(Oe.RSS_14)&&n.readers.push(new Nx),a.includes(Oe.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new VN))),n.readers.length===0&&(n.readers.push(new ed(r)),n.readers.push(new px),n.readers.push(new xx),n.readers.push(new ed(r)),n.readers.push(new mx),n.readers.push(new vx),n.readers.push(new Nx)),n}return e.prototype.decodeRow=function(r,n,a){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(r,n,a)}catch{}throw new ee},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Vt),qN=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){qN(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new lo(n),r,n)||this}return e})(ni);var Sx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rt=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),et=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),$N=function(){function t(e,r,n,a,s,l){var u,h;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=s,this.ecBlocks=l;var m=0,x=l.getECCodewords(),v=l.getECBlocks();try{for(var y=Sx(v),b=y.next();!b.done;b=y.next()){var w=b.value;m+=w.getCount()*(w.getDataCodewords()+x)}}catch(_){u={error:_}}finally{try{b&&!b.done&&(h=y.return)&&h.call(y)}finally{if(u)throw u.error}}this.totalCodewords=m}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,a;if((e&1)!==0||(r&1)!==0)throw new ge;try{for(var s=Sx(t.VERSIONS),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===r)return u}}catch(h){n={error:h}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}throw new ge},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new rt(5,new et(1,3))),new t(2,12,12,10,10,new rt(7,new et(1,5))),new t(3,14,14,12,12,new rt(10,new et(1,8))),new t(4,16,16,14,14,new rt(12,new et(1,12))),new t(5,18,18,16,16,new rt(14,new et(1,18))),new t(6,20,20,18,18,new rt(18,new et(1,22))),new t(7,22,22,20,20,new rt(20,new et(1,30))),new t(8,24,24,22,22,new rt(24,new et(1,36))),new t(9,26,26,24,24,new rt(28,new et(1,44))),new t(10,32,32,14,14,new rt(36,new et(1,62))),new t(11,36,36,16,16,new rt(42,new et(1,86))),new t(12,40,40,18,18,new rt(48,new et(1,114))),new t(13,44,44,20,20,new rt(56,new et(1,144))),new t(14,48,48,22,22,new rt(68,new et(1,174))),new t(15,52,52,24,24,new rt(42,new et(2,102))),new t(16,64,64,14,14,new rt(56,new et(2,140))),new t(17,72,72,16,16,new rt(36,new et(4,92))),new t(18,80,80,18,18,new rt(48,new et(4,114))),new t(19,88,88,20,20,new rt(56,new et(4,144))),new t(20,96,96,22,22,new rt(68,new et(4,174))),new t(21,104,104,24,24,new rt(56,new et(6,136))),new t(22,120,120,18,18,new rt(68,new et(6,175))),new t(23,132,132,20,20,new rt(62,new et(8,163))),new t(24,144,144,22,22,new rt(62,new et(8,156),new et(2,155))),new t(25,8,18,6,16,new rt(7,new et(1,5))),new t(26,8,32,6,14,new rt(11,new et(1,10))),new t(27,12,26,10,24,new rt(14,new et(1,16))),new t(28,12,36,10,16,new rt(18,new et(1,22))),new t(29,16,36,14,16,new rt(24,new et(1,32))),new t(30,16,48,14,22,new rt(28,new et(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),YN=function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new ge;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Cn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return $N.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,s=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth(),u=!1,h=!1,m=!1,x=!1;do if(n===s&&a===0&&!u)e[r++]=this.readCorner1(s,l)&255,n-=2,a+=2,u=!0;else if(n===s-2&&a===0&&(l&3)!==0&&!h)e[r++]=this.readCorner2(s,l)&255,n-=2,a+=2,h=!0;else if(n===s+4&&a===2&&(l&7)===0&&!m)e[r++]=this.readCorner3(s,l)&255,n-=2,a+=2,m=!0;else if(n===s-2&&a===0&&(l&7)===4&&!x)e[r++]=this.readCorner4(s,l)&255,n-=2,a+=2,x=!0;else{do n<s&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,s,l)&255),n-=2,a+=2;while(n>=0&&a<l);n+=1,a+=3;do n>=0&&a<l&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,s,l)&255),n+=2,a-=2;while(n<s&&a>=0);n+=3,a+=1}while(n<s||a<l);if(r!==this.version.getTotalCodewords())throw new ge;return e},t.prototype.readModule=function(e,r,n,a){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,a){var s=0;return this.readModule(e-2,r-2,n,a)&&(s|=1),s<<=1,this.readModule(e-2,r-1,n,a)&&(s|=1),s<<=1,this.readModule(e-1,r-2,n,a)&&(s|=1),s<<=1,this.readModule(e-1,r-1,n,a)&&(s|=1),s<<=1,this.readModule(e-1,r,n,a)&&(s|=1),s<<=1,this.readModule(e,r-2,n,a)&&(s|=1),s<<=1,this.readModule(e,r-1,n,a)&&(s|=1),s<<=1,this.readModule(e,r,n,a)&&(s|=1),s},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Te("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),l=r/a|0,u=n/s|0,h=l*a,m=u*s,x=new Cn(m,h),v=0;v<l;++v)for(var y=v*a,b=0;b<u;++b)for(var w=b*s,_=0;_<a;++_)for(var N=v*(a+2)+1+_,C=y+_,E=0;E<s;++E){var O=b*(s+2)+1+E;if(e.get(O,N)){var j=w+E;x.set(j,C)}}return x},t}(),Cx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KN=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,a,s,l,u=r.getECBlocks(),h=0,m=u.getECBlocks();try{for(var x=Cx(m),v=x.next();!v.done;v=x.next()){var y=v.value;h+=y.getCount()}}catch(ce){n={error:ce}}finally{try{v&&!v.done&&(a=x.return)&&a.call(x)}finally{if(n)throw n.error}}var b=new Array(h),w=0;try{for(var _=Cx(m),N=_.next();!N.done;N=_.next())for(var y=N.value,C=0;C<y.getCount();C++){var E=y.getDataCodewords(),O=u.getECCodewords()+E;b[w++]=new t(E,new Uint8Array(O))}}catch(ce){s={error:ce}}finally{try{N&&!N.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}for(var j=b[0].codewords.length,R=j-u.getECCodewords(),k=R-1,K=0,C=0;C<k;C++)for(var W=0;W<w;W++)b[W].codewords[C]=e[K++];for(var J=r.getVersionNumber()===24,Z=J?8:w,W=0;W<Z;W++)b[W].codewords[R-1]=e[K++];for(var ve=b[0].codewords.length,C=R;C<ve;C++)for(var W=0;W<w;W++){var se=J?(W+8)%w:W,he=J&&se>7?C-1:C;b[se].codewords[he]=e[K++]}if(K!==e.length)throw new Te;return b},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),cg=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Te(""+e);var r=0,n=this.bitOffset,a=this.byteOffset,s=this.bytes;if(n>0){var l=8-n,u=e<l?e:l,h=l-u,m=255>>8-u<<h;r=(s[a]&m)>>h,e-=u,n+=u,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)r=r<<8|s[a]&255,a++,e-=8;if(e>0){var h=8-e,m=255>>h<<h;r=r<<e|(s[a]&m)>>h,n+=e}}return this.bitOffset=n,this.byteOffset=a,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Lt;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lt||(Lt={}));var WN=function(){function t(){}return t.decode=function(e){var r=new cg(e),n=new Fe,a=new Fe,s=new Array,l=Lt.ASCII_ENCODE;do if(l===Lt.ASCII_ENCODE)l=this.decodeAsciiSegment(r,n,a);else{switch(l){case Lt.C40_ENCODE:this.decodeC40Segment(r,n);break;case Lt.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Lt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Lt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Lt.BASE256_ENCODE:this.decodeBase256Segment(r,n,s);break;default:throw new ge}l=Lt.ASCII_ENCODE}while(l!==Lt.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new Ac(e,n.toString(),s.length===0?null:s,null)},t.decodeAsciiSegment=function(e,r,n){var a=!1;do{var s=e.readBits(8);if(s===0)throw new ge;if(s<=128)return a&&(s+=128),r.append(String.fromCharCode(s-1)),Lt.ASCII_ENCODE;if(s===129)return Lt.PAD_ENCODE;if(s<=229){var l=s-130;l<10&&r.append("0"),r.append(""+l)}else switch(s){case 230:return Lt.C40_ENCODE;case 231:return Lt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Lt.ANSIX12_ENCODE;case 239:return Lt.TEXT_ENCODE;case 240:return Lt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new ge;break}}while(e.available()>0);return Lt.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,a=[],s=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var u=0;u<3;u++){var h=a[u];switch(s){case 0:if(h<3)s=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){var m=this.C40_BASIC_SET_CHARS[h];n?(r.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):r.append(m)}else throw new ge;break;case 1:n?(r.append(String.fromCharCode(h+128)),n=!1):r.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){var m=this.C40_SHIFT2_SET_CHARS[h];n?(r.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):r.append(m)}else switch(h){case 27:r.append("");break;case 30:n=!0;break;default:throw new ge}s=0;break;case 3:n?(r.append(String.fromCharCode(h+224)),n=!1):r.append(String.fromCharCode(h+96)),s=0;break;default:throw new ge}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,a=[],s=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var u=0;u<3;u++){var h=a[u];switch(s){case 0:if(h<3)s=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){var m=this.TEXT_BASIC_SET_CHARS[h];n?(r.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):r.append(m)}else throw new ge;break;case 1:n?(r.append(String.fromCharCode(h+128)),n=!1):r.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){var m=this.TEXT_SHIFT2_SET_CHARS[h];n?(r.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):r.append(m)}else switch(h){case 27:r.append("");break;case 30:n=!0;break;default:throw new ge}s=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){var m=this.TEXT_SHIFT3_SET_CHARS[h];n?(r.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):r.append(m),s=0}else throw new ge;break;default:throw new ge}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var s=0;s<3;s++){var l=n[s];switch(l){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(l<14)r.append(String.fromCharCode(l+44));else if(l<40)r.append(String.fromCharCode(l+51));else throw new ge;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var a=(e<<8)+r-1,s=Math.floor(a/1600);n[0]=s,a-=s*1600,s=Math.floor(a/40),n[1]=s,n[2]=a-s*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(a&32)===0&&(a|=64),r.append(String.fromCharCode(a))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var a=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),a++),l;if(s===0?l=e.available()/8|0:s<250?l=s:l=250*(s-249)+this.unrandomize255State(e.readBits(8),a++),l<0)throw new ge;for(var u=new Uint8Array(l),h=0;h<l;h++){if(e.available()<8)throw new ge;u[h]=this.unrandomize255State(e.readBits(8),a++)}n.push(u);try{r.append(Jr.decode(u,$e.ISO88591))}catch(m){throw new Eo("Platform does not support required encoding: "+m.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,a=e-n;return a>=0?a:a+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),QN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JN=function(){function t(){this.rsDecoder=new Ec(Tr.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,a=new YN(e),s=a.getVersion(),l=a.readCodewords(),u=KN.getDataBlocks(l,s),h=0;try{for(var m=QN(u),x=m.next();!x.done;x=m.next()){var v=x.value;h+=v.getNumDataCodewords()}}catch(O){r={error:O}}finally{try{x&&!x.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}for(var y=new Uint8Array(h),b=u.length,w=0;w<b;w++){var _=u[w],N=_.getCodewords(),C=_.getNumDataCodewords();this.correctErrors(N,C);for(var E=0;E<C;E++)y[E*b+w]=N[E]}return WN.decode(y)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Jt}for(var a=0;a<r;a++)e[a]=n[a]},t}(),eS=function(){function t(e){this.image=e,this.rectangleDetector=new Nd(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ee;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],s=r[2],l=r[3],u=this.transitionsBetween(n,l)+1,h=this.transitionsBetween(s,l)+1;(u&1)===1&&(u+=1),(h&1)===1&&(h+=1),4*u<7*h&&4*h<7*u&&(u=h=Math.max(u,h));var m=t.sampleGrid(this.image,n,a,s,l,u,h);return new a0(m,[n,a,s,l])},t.shiftPoint=function(e,r,n){var a=(r.getX()-e.getX())/(n+1),s=(r.getY()-e.getY())/(n+1);return new Ne(e.getX()+a,e.getY()+s)},t.moveAway=function(e,r,n){var a=e.getX(),s=e.getY();return a<r?a-=1:a+=1,s<n?s-=1:s+=1,new Ne(a,s)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],a=e[3],s=e[2],l=this.transitionsBetween(r,n),u=this.transitionsBetween(n,a),h=this.transitionsBetween(a,s),m=this.transitionsBetween(s,r),x=l,v=[s,r,n,a];return x>u&&(x=u,v[0]=r,v[1]=n,v[2]=a,v[3]=s),x>h&&(x=h,v[0]=n,v[1]=a,v[2]=s,v[3]=r),x>m&&(v[0]=a,v[1]=s,v[2]=r,v[3]=n),v},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],a=e[2],s=e[3],l=this.transitionsBetween(r,s),u=t.shiftPoint(n,a,(l+1)*4),h=t.shiftPoint(a,n,(l+1)*4),m=this.transitionsBetween(u,r),x=this.transitionsBetween(h,s);return m<x?(e[0]=r,e[1]=n,e[2]=a,e[3]=s):(e[0]=n,e[1]=a,e[2]=s,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],a=e[2],s=e[3],l=this.transitionsBetween(r,s),u=this.transitionsBetween(n,s),h=t.shiftPoint(r,n,(u+1)*4),m=t.shiftPoint(a,n,(l+1)*4);l=this.transitionsBetween(h,s),u=this.transitionsBetween(m,s);var x=new Ne(s.getX()+(a.getX()-n.getX())/(l+1),s.getY()+(a.getY()-n.getY())/(l+1)),v=new Ne(s.getX()+(r.getX()-n.getX())/(u+1),s.getY()+(r.getY()-n.getY())/(u+1));if(!this.isValid(x))return this.isValid(v)?v:null;if(!this.isValid(v))return x;var y=this.transitionsBetween(h,x)+this.transitionsBetween(m,x),b=this.transitionsBetween(h,v)+this.transitionsBetween(m,v);return y>b?x:v},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],a=e[2],s=e[3],l=this.transitionsBetween(r,s)+1,u=this.transitionsBetween(a,s)+1,h=t.shiftPoint(r,n,u*4),m=t.shiftPoint(a,n,l*4);l=this.transitionsBetween(h,s)+1,u=this.transitionsBetween(m,s)+1,(l&1)===1&&(l+=1),(u&1)===1&&(u+=1);var x=(r.getX()+n.getX()+a.getX()+s.getX())/4,v=(r.getY()+n.getY()+a.getY()+s.getY())/4;r=t.moveAway(r,x,v),n=t.moveAway(n,x,v),a=t.moveAway(a,x,v),s=t.moveAway(s,x,v);var y,b;return h=t.shiftPoint(r,n,u*4),h=t.shiftPoint(h,s,l*4),y=t.shiftPoint(n,r,u*4),y=t.shiftPoint(y,a,l*4),m=t.shiftPoint(a,s,u*4),m=t.shiftPoint(m,n,l*4),b=t.shiftPoint(s,a,u*4),b=t.shiftPoint(b,r,l*4),[h,y,m,b]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,a,s,l,u){var h=i0.getInstance();return h.sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,r.getX(),r.getY(),s.getX(),s.getY(),a.getX(),a.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),s=Math.trunc(r.getX()),l=Math.trunc(r.getY()),u=Math.abs(l-a)>Math.abs(s-n);if(u){var h=n;n=a,a=h,h=s,s=l,l=h}for(var m=Math.abs(s-n),x=Math.abs(l-a),v=-m/2,y=a<l?1:-1,b=n<s?1:-1,w=0,_=this.image.get(u?a:n,u?n:a),N=n,C=a;N!==s;N+=b){var E=this.image.get(u?C:N,u?N:C);if(E!==_&&(w++,_=E),v+=x,v>0){if(C===l)break;C+=y,v-=m}}return w},t}(),Od=function(){function t(){this.decoder=new JN}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(bt.PURE_BARCODE)){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(s),a=t.NO_POINTS}else{var l=new eS(e.getBlackMatrix()).detect();n=this.decoder.decode(l.getBits()),a=l.getPoints()}var u=n.getRawBytes(),h=new dr(n.getText(),u,8*u.length,a,Oe.DATA_MATRIX,pt.currentTimeMillis()),m=n.getByteSegments();m!=null&&h.putMetadata(sr.BYTE_SEGMENTS,m);var x=n.getECLevel();return x!=null&&h.putMetadata(sr.ERROR_CORRECTION_LEVEL,x),h},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new ee;var a=this.moduleSize(r,e),s=r[1],l=n[1],u=r[0],h=n[0],m=(h-u+1)/a,x=(l-s+1)/a;if(m<=0||x<=0)throw new ee;var v=a/2;s+=v,u+=v;for(var y=new Cn(m,x),b=0;b<x;b++)for(var w=s+b*a,_=0;_<m;_++)e.get(u+_*a,w)&&y.set(_,b);return y},t.moduleSize=function(e,r){for(var n=r.getWidth(),a=e[0],s=e[1];a<n&&r.get(a,s);)a++;if(a===n)throw new ee;var l=a-e[0];if(l===0)throw new ee;return l},t.NO_POINTS=[],t}(),tS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){tS(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Od,r)||this}return e})(ni);var qi;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(qi||(qi={}));var rS=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new cn(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Te;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(qi.L,"L",1),t.M=new t(qi.M,"M",0),t.Q=new t(qi.Q,"Q",3),t.H=new t(qi.H,"H",2),t}(),nS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ug=function(){function t(e){this.errorCorrectionLevel=rS.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return ze.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,a,s=Number.MAX_SAFE_INTEGER,l=0;try{for(var u=nS(t.FORMAT_INFO_DECODE_LOOKUP),h=u.next();!h.done;h=u.next()){var m=h.value,x=m[0];if(x===e||x===r)return new t(m[1]);var v=t.numBitsDiffering(e,x);v<s&&(l=m[1],s=v),e!==r&&(v=t.numBitsDiffering(r,x),v<s&&(l=m[1],s=v))}}catch(y){n={error:y}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return s<=3?new t(l):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),aS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},G=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,a=this.ecBlocks;try{for(var s=aS(a),l=s.next();!l.done;l=s.next()){var u=l.value;n+=u.getCount()}}catch(h){e={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),T=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),iS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qa=function(){function t(e,r){for(var n,a,s=[],l=2;l<arguments.length;l++)s[l-2]=arguments[l];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=s;var u=0,h=s[0].getECCodewordsPerBlock(),m=s[0].getECBlocks();try{for(var x=iS(m),v=x.next();!v.done;v=x.next()){var y=v.value;u+=y.getCount()*(y.getDataCodewords()+h)}}catch(b){n={error:b}}finally{try{v&&!v.done&&(a=x.return)&&a.call(x)}finally{if(n)throw n.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ge;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ge}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Te;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<t.VERSION_DECODE_INFO.length;a++){var s=t.VERSION_DECODE_INFO[a];if(s===e)return t.getVersionForNumber(a+7);var l=ug.numBitsDiffering(e,s);l<r&&(n=a+7,r=l)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new Cn(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var s=this.alignmentPatternCenters[a]-2,l=0;l<n;l++)a===0&&(l===0||l===n-1)||a===n-1&&l===0||r.setRegion(this.alignmentPatternCenters[l]-2,s,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new G(7,new T(1,19)),new G(10,new T(1,16)),new G(13,new T(1,13)),new G(17,new T(1,9))),new t(2,Int32Array.from([6,18]),new G(10,new T(1,34)),new G(16,new T(1,28)),new G(22,new T(1,22)),new G(28,new T(1,16))),new t(3,Int32Array.from([6,22]),new G(15,new T(1,55)),new G(26,new T(1,44)),new G(18,new T(2,17)),new G(22,new T(2,13))),new t(4,Int32Array.from([6,26]),new G(20,new T(1,80)),new G(18,new T(2,32)),new G(26,new T(2,24)),new G(16,new T(4,9))),new t(5,Int32Array.from([6,30]),new G(26,new T(1,108)),new G(24,new T(2,43)),new G(18,new T(2,15),new T(2,16)),new G(22,new T(2,11),new T(2,12))),new t(6,Int32Array.from([6,34]),new G(18,new T(2,68)),new G(16,new T(4,27)),new G(24,new T(4,19)),new G(28,new T(4,15))),new t(7,Int32Array.from([6,22,38]),new G(20,new T(2,78)),new G(18,new T(4,31)),new G(18,new T(2,14),new T(4,15)),new G(26,new T(4,13),new T(1,14))),new t(8,Int32Array.from([6,24,42]),new G(24,new T(2,97)),new G(22,new T(2,38),new T(2,39)),new G(22,new T(4,18),new T(2,19)),new G(26,new T(4,14),new T(2,15))),new t(9,Int32Array.from([6,26,46]),new G(30,new T(2,116)),new G(22,new T(3,36),new T(2,37)),new G(20,new T(4,16),new T(4,17)),new G(24,new T(4,12),new T(4,13))),new t(10,Int32Array.from([6,28,50]),new G(18,new T(2,68),new T(2,69)),new G(26,new T(4,43),new T(1,44)),new G(24,new T(6,19),new T(2,20)),new G(28,new T(6,15),new T(2,16))),new t(11,Int32Array.from([6,30,54]),new G(20,new T(4,81)),new G(30,new T(1,50),new T(4,51)),new G(28,new T(4,22),new T(4,23)),new G(24,new T(3,12),new T(8,13))),new t(12,Int32Array.from([6,32,58]),new G(24,new T(2,92),new T(2,93)),new G(22,new T(6,36),new T(2,37)),new G(26,new T(4,20),new T(6,21)),new G(28,new T(7,14),new T(4,15))),new t(13,Int32Array.from([6,34,62]),new G(26,new T(4,107)),new G(22,new T(8,37),new T(1,38)),new G(24,new T(8,20),new T(4,21)),new G(22,new T(12,11),new T(4,12))),new t(14,Int32Array.from([6,26,46,66]),new G(30,new T(3,115),new T(1,116)),new G(24,new T(4,40),new T(5,41)),new G(20,new T(11,16),new T(5,17)),new G(24,new T(11,12),new T(5,13))),new t(15,Int32Array.from([6,26,48,70]),new G(22,new T(5,87),new T(1,88)),new G(24,new T(5,41),new T(5,42)),new G(30,new T(5,24),new T(7,25)),new G(24,new T(11,12),new T(7,13))),new t(16,Int32Array.from([6,26,50,74]),new G(24,new T(5,98),new T(1,99)),new G(28,new T(7,45),new T(3,46)),new G(24,new T(15,19),new T(2,20)),new G(30,new T(3,15),new T(13,16))),new t(17,Int32Array.from([6,30,54,78]),new G(28,new T(1,107),new T(5,108)),new G(28,new T(10,46),new T(1,47)),new G(28,new T(1,22),new T(15,23)),new G(28,new T(2,14),new T(17,15))),new t(18,Int32Array.from([6,30,56,82]),new G(30,new T(5,120),new T(1,121)),new G(26,new T(9,43),new T(4,44)),new G(28,new T(17,22),new T(1,23)),new G(28,new T(2,14),new T(19,15))),new t(19,Int32Array.from([6,30,58,86]),new G(28,new T(3,113),new T(4,114)),new G(26,new T(3,44),new T(11,45)),new G(26,new T(17,21),new T(4,22)),new G(26,new T(9,13),new T(16,14))),new t(20,Int32Array.from([6,34,62,90]),new G(28,new T(3,107),new T(5,108)),new G(26,new T(3,41),new T(13,42)),new G(30,new T(15,24),new T(5,25)),new G(28,new T(15,15),new T(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new G(28,new T(4,116),new T(4,117)),new G(26,new T(17,42)),new G(28,new T(17,22),new T(6,23)),new G(30,new T(19,16),new T(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new G(28,new T(2,111),new T(7,112)),new G(28,new T(17,46)),new G(30,new T(7,24),new T(16,25)),new G(24,new T(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new G(30,new T(4,121),new T(5,122)),new G(28,new T(4,47),new T(14,48)),new G(30,new T(11,24),new T(14,25)),new G(30,new T(16,15),new T(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new G(30,new T(6,117),new T(4,118)),new G(28,new T(6,45),new T(14,46)),new G(30,new T(11,24),new T(16,25)),new G(30,new T(30,16),new T(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new G(26,new T(8,106),new T(4,107)),new G(28,new T(8,47),new T(13,48)),new G(30,new T(7,24),new T(22,25)),new G(30,new T(22,15),new T(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new G(28,new T(10,114),new T(2,115)),new G(28,new T(19,46),new T(4,47)),new G(28,new T(28,22),new T(6,23)),new G(30,new T(33,16),new T(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new G(30,new T(8,122),new T(4,123)),new G(28,new T(22,45),new T(3,46)),new G(30,new T(8,23),new T(26,24)),new G(30,new T(12,15),new T(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new T(3,117),new T(10,118)),new G(28,new T(3,45),new T(23,46)),new G(30,new T(4,24),new T(31,25)),new G(30,new T(11,15),new T(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new T(7,116),new T(7,117)),new G(28,new T(21,45),new T(7,46)),new G(30,new T(1,23),new T(37,24)),new G(30,new T(19,15),new T(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new T(5,115),new T(10,116)),new G(28,new T(19,47),new T(10,48)),new G(30,new T(15,24),new T(25,25)),new G(30,new T(23,15),new T(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new T(13,115),new T(3,116)),new G(28,new T(2,46),new T(29,47)),new G(30,new T(42,24),new T(1,25)),new G(30,new T(23,15),new T(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new T(17,115)),new G(28,new T(10,46),new T(23,47)),new G(30,new T(10,24),new T(35,25)),new G(30,new T(19,15),new T(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new T(17,115),new T(1,116)),new G(28,new T(14,46),new T(21,47)),new G(30,new T(29,24),new T(19,25)),new G(30,new T(11,15),new T(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new T(13,115),new T(6,116)),new G(28,new T(14,46),new T(23,47)),new G(30,new T(44,24),new T(7,25)),new G(30,new T(59,16),new T(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new T(12,121),new T(7,122)),new G(28,new T(12,47),new T(26,48)),new G(30,new T(39,24),new T(14,25)),new G(30,new T(22,15),new T(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new T(6,121),new T(14,122)),new G(28,new T(6,47),new T(34,48)),new G(30,new T(46,24),new T(10,25)),new G(30,new T(2,15),new T(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new T(17,122),new T(4,123)),new G(28,new T(29,46),new T(14,47)),new G(30,new T(49,24),new T(10,25)),new G(30,new T(24,15),new T(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new T(4,122),new T(18,123)),new G(28,new T(13,46),new T(32,47)),new G(30,new T(48,24),new T(14,25)),new G(30,new T(42,15),new T(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new T(20,117),new T(4,118)),new G(28,new T(40,47),new T(7,48)),new G(30,new T(43,24),new T(22,25)),new G(30,new T(10,15),new T(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new T(19,118),new T(6,119)),new G(28,new T(18,47),new T(31,48)),new G(30,new T(34,24),new T(34,25)),new G(30,new T(20,15),new T(61,16)))],t}(),Kt;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Kt||(Kt={}));var Ox=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&e.flip(a,n)},t.values=new Map([[Kt.DATA_MASK_000,new t(Kt.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Kt.DATA_MASK_001,new t(Kt.DATA_MASK_001,function(e,r){return(e&1)===0})],[Kt.DATA_MASK_010,new t(Kt.DATA_MASK_010,function(e,r){return r%3===0})],[Kt.DATA_MASK_011,new t(Kt.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Kt.DATA_MASK_100,new t(Kt.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Kt.DATA_MASK_101,new t(Kt.DATA_MASK_101,function(e,r){return e*r%6===0})],[Kt.DATA_MASK_110,new t(Kt.DATA_MASK_110,function(e,r){return e*r%6<3})],[Kt.DATA_MASK_111,new t(Kt.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),sS=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new ge;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),s=0,l=a-7,n=a-1;n>=l;n--)s=this.copyBit(8,n,s);for(var r=a-8;r<a;r++)s=this.copyBit(r,8,s);if(this.parsedFormatInfo=ug.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ge},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Qa.getVersionForNumber(r);for(var n=0,a=e-11,s=5;s>=0;s--)for(var l=e-9;l>=a;l--)n=this.copyBit(l,s,n);var u=Qa.decodeVersionInformation(n);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;n=0;for(var l=5;l>=0;l--)for(var s=e-9;s>=a;s--)n=this.copyBit(l,s,n);if(u=Qa.decodeVersionInformation(n),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new ge},t.prototype.copyBit=function(e,r,n){var a=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return a?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Ox.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var s=r.buildFunctionPattern(),l=!0,u=new Uint8Array(r.getTotalCodewords()),h=0,m=0,x=0,v=a-1;v>0;v-=2){v===6&&v--;for(var y=0;y<a;y++)for(var b=l?a-1-y:y,w=0;w<2;w++)s.get(v-w,b)||(x++,m<<=1,this.bitMatrix.get(v-w,b)&&(m|=1),x===8&&(u[h++]=m,x=0,m=0));l=!l}if(h!==r.getTotalCodewords())throw new ge;return u},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Ox.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var a=r+1,s=e.getHeight();a<s;a++)e.get(r,a)!==e.get(a,r)&&(e.flip(a,r),e.flip(r,a))},t}(),Tx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oS=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var a,s,l,u;if(e.length!==r.getTotalCodewords())throw new Te;var h=r.getECBlocksForLevel(n),m=0,x=h.getECBlocks();try{for(var v=Tx(x),y=v.next();!y.done;y=v.next()){var b=y.value;m+=b.getCount()}}catch(he){a={error:he}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}var w=new Array(m),_=0;try{for(var N=Tx(x),C=N.next();!C.done;C=N.next())for(var b=C.value,E=0;E<b.getCount();E++){var O=b.getDataCodewords(),j=h.getECCodewordsPerBlock()+O;w[_++]=new t(O,new Uint8Array(j))}}catch(he){l={error:he}}finally{try{C&&!C.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}for(var R=w[0].codewords.length,k=w.length-1;k>=0;){var K=w[k].codewords.length;if(K===R)break;k--}k++;for(var W=R-h.getECCodewordsPerBlock(),J=0,E=0;E<W;E++)for(var Z=0;Z<_;Z++)w[Z].codewords[E]=e[J++];for(var Z=k;Z<_;Z++)w[Z].codewords[W]=e[J++];for(var ve=w[0].codewords.length,E=W;E<ve;E++)for(var Z=0;Z<_;Z++){var se=Z<k?E:E+1;w[Z].codewords[se]=e[J++]}return w},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Wr;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Wr||(Wr={}));var vt=function(){function t(e,r,n,a){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,t.FOR_BITS.set(a,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Te;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Wr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Wr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Wr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Wr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Wr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Wr.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Wr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Wr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Wr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Wr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),lS=function(){function t(){}return t.decode=function(e,r,n,a){var s=new cg(e),l=new Fe,u=new Array,h=-1,m=-1;try{var x=null,v=!1,y=void 0;do{if(s.available()<4)y=vt.TERMINATOR;else{var b=s.readBits(4);y=vt.forBits(b)}switch(y){case vt.TERMINATOR:break;case vt.FNC1_FIRST_POSITION:case vt.FNC1_SECOND_POSITION:v=!0;break;case vt.STRUCTURED_APPEND:if(s.available()<16)throw new ge;h=s.readBits(8),m=s.readBits(8);break;case vt.ECI:var w=t.parseECIValue(s);if(x=Ut.getCharacterSetECIByValue(w),x===null)throw new ge;break;case vt.HANZI:var _=s.readBits(4),N=s.readBits(y.getCharacterCountBits(r));_===t.GB2312_SUBSET&&t.decodeHanziSegment(s,l,N);break;default:var C=s.readBits(y.getCharacterCountBits(r));switch(y){case vt.NUMERIC:t.decodeNumericSegment(s,l,C);break;case vt.ALPHANUMERIC:t.decodeAlphanumericSegment(s,l,C,v);break;case vt.BYTE:t.decodeByteSegment(s,l,C,x,u,a);break;case vt.KANJI:t.decodeKanjiSegment(s,l,C);break;default:throw new ge}break}}while(y!==vt.TERMINATOR)}catch{throw new ge}return new Ac(e,l.toString(),u.length===0?null:u,n===null?null:n.toString(),h,m)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new ge;for(var a=new Uint8Array(2*n),s=0;n>0;){var l=e.readBits(13),u=l/96<<8&4294967295|l%96;u<959?u+=41377:u+=42657,a[s]=u>>8&255,a[s+1]=u&255,s+=2,n--}try{r.append(Jr.decode(a,$e.GB2312))}catch(h){throw new ge(h)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new ge;for(var a=new Uint8Array(2*n),s=0;n>0;){var l=e.readBits(13),u=l/192<<8&4294967295|l%192;u<7936?u+=33088:u+=49472,a[s]=u>>8,a[s+1]=u,s+=2,n--}try{r.append(Jr.decode(a,$e.SHIFT_JIS))}catch(h){throw new ge(h)}},t.decodeByteSegment=function(e,r,n,a,s,l){if(8*n>e.available())throw new ge;for(var u=new Uint8Array(n),h=0;h<n;h++)u[h]=e.readBits(8);var m;a===null?m=$e.guessEncoding(u,l):m=a.getName();try{r.append(Jr.decode(u,m))}catch(x){throw new ge(x)}s.push(u)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ge;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,a){for(var s=r.length();n>1;){if(e.available()<11)throw new ge;var l=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(l/45))),r.append(t.toAlphaNumericChar(l%45)),n-=2}if(n===1){if(e.available()<6)throw new ge;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(a)for(var u=s;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new ge;var a=e.readBits(10);if(a>=1e3)throw new ge;r.append(t.toAlphaNumericChar(Math.floor(a/100))),r.append(t.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(t.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new ge;var s=e.readBits(7);if(s>=100)throw new ge;r.append(t.toAlphaNumericChar(Math.floor(s/10))),r.append(t.toAlphaNumericChar(s%10))}else if(n===1){if(e.available()<4)throw new ge;var l=e.readBits(4);if(l>=10)throw new ge;r.append(t.toAlphaNumericChar(l))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=e.readBits(16);return(r&31)<<16&4294967295|a}throw new ge},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),fg=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),jx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cS=function(){function t(){this.rsDecoder=new Ec(Tr.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(Cn.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new sS(e),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(l){a=l}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var s=this.decodeBitMatrixParser(n,r);return s.setOther(new fg(!0)),s}catch(l){throw a!==null?a:l}},t.prototype.decodeBitMatrixParser=function(e,r){var n,a,s,l,u=e.readVersion(),h=e.readFormatInformation().getErrorCorrectionLevel(),m=e.readCodewords(),x=oS.getDataBlocks(m,u,h),v=0;try{for(var y=jx(x),b=y.next();!b.done;b=y.next()){var w=b.value;v+=w.getNumDataCodewords()}}catch(k){n={error:k}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(n)throw n.error}}var _=new Uint8Array(v),N=0;try{for(var C=jx(x),E=C.next();!E.done;E=C.next()){var w=E.value,O=w.getCodewords(),j=w.getNumDataCodewords();this.correctErrors(O,j);for(var R=0;R<j;R++)_[N++]=O[R]}}catch(k){s={error:k}}finally{try{E&&!E.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}return lS.decode(_,u,h,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Jt}for(var a=0;a<r;a++)e[a]=n[a]},t}(),uS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fS=function(t){uS(e,t);function e(r,n,a){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=a,s}return e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var s=(this.getX()+n)/2,l=(this.getY()+r)/2,u=(this.estimatedModuleSize+a)/2;return new e(s,l,u)},e}(Ne),dS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hS=function(){function t(e,r,n,a,s,l,u){this.image=e,this.startX=r,this.startY=n,this.width=a,this.height=s,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,a=e+n,s=this.startY+r/2,l=new Int32Array(3),u=this.image,h=0;h<r;h++){var m=s+((h&1)===0?Math.floor((h+1)/2):-Math.floor((h+1)/2));l[0]=0,l[1]=0,l[2]=0;for(var x=e;x<a&&!u.get(x,m);)x++;for(var v=0;x<a;){if(u.get(x,m))if(v===1)l[1]++;else if(v===2){if(this.foundPatternCross(l)){var y=this.handlePossibleCenter(l,m,x);if(y!==null)return y}l[0]=l[2],l[1]=1,l[2]=0,v=1}else l[++v]++;else v===1&&v++,l[v]++;x++}if(this.foundPatternCross(l)){var y=this.handlePossibleCenter(l,m,a);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-e[a])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,a){var s=this.image,l=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var h=e;h>=0&&s.get(r,h)&&u[1]<=n;)u[1]++,h--;if(h<0||u[1]>n)return NaN;for(;h>=0&&!s.get(r,h)&&u[0]<=n;)u[0]++,h--;if(u[0]>n)return NaN;for(h=e+1;h<l&&s.get(r,h)&&u[1]<=n;)u[1]++,h++;if(h===l||u[1]>n)return NaN;for(;h<l&&!s.get(r,h)&&u[2]<=n;)u[2]++,h++;if(u[2]>n)return NaN;var m=u[0]+u[1]+u[2];return 5*Math.abs(m-a)>=2*a?NaN:this.foundPatternCross(u)?t.centerFromEnd(u,h):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var a,s,l=e[0]+e[1]+e[2],u=t.centerFromEnd(e,n),h=this.crossCheckVertical(r,u,2*e[1],l);if(!isNaN(h)){var m=(e[0]+e[1]+e[2])/3;try{for(var x=dS(this.possibleCenters),v=x.next();!v.done;v=x.next()){var y=v.value;if(y.aboutEquals(m,h,u))return y.combineEstimate(h,u,m)}}catch(w){a={error:w}}finally{try{v&&!v.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}var b=new fS(u,h,m);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null},t}(),mS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pS=function(t){mS(e,t);function e(r,n,a,s){var l=t.call(this,r,n)||this;return l.estimatedModuleSize=a,l.count=s,s===void 0&&(l.count=1),l}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var s=this.count+1,l=(this.count*this.getX()+n)/s,u=(this.count*this.getY()+r)/s,h=(this.count*this.estimatedModuleSize+a)/s;return new e(l,u,h,s)},e}(Ne),xS=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),no=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vS=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(bt.TRY_HARDER)!==void 0,n=e!=null&&e.get(bt.PURE_BARCODE)!==void 0,a=this.image,s=a.getHeight(),l=a.getWidth(),u=Math.floor(3*s/(4*t.MAX_MODULES));(u<t.MIN_SKIP||r)&&(u=t.MIN_SKIP);for(var h=!1,m=new Int32Array(5),x=u-1;x<s&&!h;x+=u){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;for(var v=0,y=0;y<l;y++)if(a.get(y,x))(v&1)===1&&v++,m[v]++;else if((v&1)===0)if(v===4)if(t.foundPatternCross(m)){var b=this.handlePossibleCenter(m,x,y,n);if(b===!0)if(u=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{var w=this.findRowSkip();w>m[2]&&(x+=w-m[2]-u,y=l-1)}else{m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,v=3;continue}v=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,v=3;else m[++v]++;else m[v]++;if(t.foundPatternCross(m)){var b=this.handlePossibleCenter(m,x,l,n);b===!0&&(u=m[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}}var _=this.selectBestPatterns();return Ne.orderBestPatterns(_),new xS(_)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;r+=a}if(r<7)return!1;var s=r/7,l=s/2;return Math.abs(s-e[0])<l&&Math.abs(s-e[1])<l&&Math.abs(3*s-e[2])<3*l&&Math.abs(s-e[3])<l&&Math.abs(s-e[4])<l},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,a){for(var s=this.getCrossCheckStateCount(),l=0,u=this.image;e>=l&&r>=l&&u.get(r-l,e-l);)s[2]++,l++;if(e<l||r<l)return!1;for(;e>=l&&r>=l&&!u.get(r-l,e-l)&&s[1]<=n;)s[1]++,l++;if(e<l||r<l||s[1]>n)return!1;for(;e>=l&&r>=l&&u.get(r-l,e-l)&&s[0]<=n;)s[0]++,l++;if(s[0]>n)return!1;var h=u.getHeight(),m=u.getWidth();for(l=1;e+l<h&&r+l<m&&u.get(r+l,e+l);)s[2]++,l++;if(e+l>=h||r+l>=m)return!1;for(;e+l<h&&r+l<m&&!u.get(r+l,e+l)&&s[3]<n;)s[3]++,l++;if(e+l>=h||r+l>=m||s[3]>=n)return!1;for(;e+l<h&&r+l<m&&u.get(r+l,e+l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return!1;var x=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(x-a)<2*a&&t.foundPatternCross(s)},t.prototype.crossCheckVertical=function(e,r,n,a){for(var s=this.image,l=s.getHeight(),u=this.getCrossCheckStateCount(),h=e;h>=0&&s.get(r,h);)u[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(r,h)&&u[1]<=n;)u[1]++,h--;if(h<0||u[1]>n)return NaN;for(;h>=0&&s.get(r,h)&&u[0]<=n;)u[0]++,h--;if(u[0]>n)return NaN;for(h=e+1;h<l&&s.get(r,h);)u[2]++,h++;if(h===l)return NaN;for(;h<l&&!s.get(r,h)&&u[3]<n;)u[3]++,h++;if(h===l||u[3]>=n)return NaN;for(;h<l&&s.get(r,h)&&u[4]<n;)u[4]++,h++;if(u[4]>=n)return NaN;var m=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(m-a)>=2*a?NaN:t.foundPatternCross(u)?t.centerFromEnd(u,h):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,a){for(var s=this.image,l=s.getWidth(),u=this.getCrossCheckStateCount(),h=e;h>=0&&s.get(h,r);)u[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(h,r)&&u[1]<=n;)u[1]++,h--;if(h<0||u[1]>n)return NaN;for(;h>=0&&s.get(h,r)&&u[0]<=n;)u[0]++,h--;if(u[0]>n)return NaN;for(h=e+1;h<l&&s.get(h,r);)u[2]++,h++;if(h===l)return NaN;for(;h<l&&!s.get(h,r)&&u[3]<n;)u[3]++,h++;if(h===l||u[3]>=n)return NaN;for(;h<l&&s.get(h,r)&&u[4]<n;)u[4]++,h++;if(u[4]>=n)return NaN;var m=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(m-a)>=a?NaN:t.foundPatternCross(u)?t.centerFromEnd(u,h):NaN},t.prototype.handlePossibleCenter=function(e,r,n,a){var s=e[0]+e[1]+e[2]+e[3]+e[4],l=t.centerFromEnd(e,n),u=this.crossCheckVertical(r,Math.floor(l),e[2],s);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],s),!isNaN(l)&&(!a||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],s)))){for(var h=s/7,m=!1,x=this.possibleCenters,v=0,y=x.length;v<y;v++){var b=x[v];if(b.aboutEquals(h,u,l)){x[v]=b.combineEstimate(u,l,h),m=!0;break}}if(!m){var w=new pS(l,u,h);x.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var s=no(this.possibleCenters),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.getCount()>=t.CENTER_QUORUM)if(a==null)a=u;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-u.getX())-Math.abs(a.getY()-u.getY()))/2)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,a,s=0,l=0,u=this.possibleCenters.length;try{for(var h=no(this.possibleCenters),m=h.next();!m.done;m=h.next()){var x=m.value;x.getCount()>=t.CENTER_QUORUM&&(s++,l+=x.getEstimatedModuleSize())}}catch(_){e={error:_}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}if(s<3)return!1;var v=l/u,y=0;try{for(var b=no(this.possibleCenters),w=b.next();!w.done;w=b.next()){var x=w.value;y+=Math.abs(x.getEstimatedModuleSize()-v)}}catch(_){n={error:_}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}return y<=.05*l},t.prototype.selectBestPatterns=function(){var e,r,n,a,s=this.possibleCenters.length;if(s<3)throw new ee;var l=this.possibleCenters,u;if(s>3){var h=0,m=0;try{for(var x=no(this.possibleCenters),v=x.next();!v.done;v=x.next()){var y=v.value,b=y.getEstimatedModuleSize();h+=b,m+=b*b}}catch(R){e={error:R}}finally{try{v&&!v.done&&(r=x.return)&&r.call(x)}finally{if(e)throw e.error}}u=h/s;var w=Math.sqrt(m/s-u*u);l.sort(function(R,k){var K=Math.abs(k.getEstimatedModuleSize()-u),W=Math.abs(R.getEstimatedModuleSize()-u);return K<W?-1:K>W?1:0});for(var _=Math.max(.2*u,w),N=0;N<l.length&&l.length>3;N++){var C=l[N];Math.abs(C.getEstimatedModuleSize()-u)>_&&(l.splice(N,1),N--)}}if(l.length>3){var h=0;try{for(var E=no(l),O=E.next();!O.done;O=E.next()){var j=O.value;h+=j.getEstimatedModuleSize()}}catch(k){n={error:k}}finally{try{O&&!O.done&&(a=E.return)&&a.call(E)}finally{if(n)throw n.error}}u=h/l.length,l.sort(function(k,K){if(K.getCount()===k.getCount()){var W=Math.abs(K.getEstimatedModuleSize()-u),J=Math.abs(k.getEstimatedModuleSize()-u);return W<J?1:W>J?-1:0}else return K.getCount()-k.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),gS=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(bt.NEED_RESULT_POINT_CALLBACK);var r=new vS(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),s=this.calculateModuleSize(r,n,a);if(s<1)throw new ee("No pattern found in proccess finder.");var l=t.computeDimension(r,n,a,s),u=Qa.getProvisionalVersionForDimension(l),h=u.getDimensionForVersion()-7,m=null;if(u.getAlignmentPatternCenters().length>0)for(var x=n.getX()-r.getX()+a.getX(),v=n.getY()-r.getY()+a.getY(),y=1-3/h,b=Math.floor(r.getX()+y*(x-r.getX())),w=Math.floor(r.getY()+y*(v-r.getY())),_=4;_<=16;_<<=1)try{m=this.findAlignmentInRegion(s,b,w,_);break}catch(O){if(!(O instanceof ee))throw O}var N=t.createTransform(r,n,a,m,l),C=t.sampleGrid(this.image,N,l),E;return m===null?E=[a,r,n]:E=[a,r,n,m],new a0(C,E)},t.createTransform=function(e,r,n,a,s){var l=s-3.5,u,h,m,x;return a!==null?(u=a.getX(),h=a.getY(),m=l-3,x=m):(u=r.getX()-e.getX()+n.getX(),h=r.getY()-e.getY()+n.getY(),m=l,x=l),ig.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,m,x,3.5,l,e.getX(),e.getY(),r.getX(),r.getY(),u,h,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var a=i0.getInstance();return a.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,a){var s=Qe.round(Ne.distance(e,r)/a),l=Qe.round(Ne.distance(e,n)/a),u=Math.floor((s+l)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new ee("Dimensions could be not found.")}return u},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,a){var s=this.sizeOfBlackWhiteBlackRun(e,r,n,a),l=1,u=e-(n-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var h=Math.floor(r-(a-r)*l);return l=1,h<0?(l=r/(r-h),h=0):h>=this.image.getHeight()&&(l=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),s+=this.sizeOfBlackWhiteBlackRun(e,r,u,h),s-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,a){var s=Math.abs(a-r)>Math.abs(n-e);if(s){var l=e;e=r,r=l,l=n,n=a,a=l}for(var u=Math.abs(n-e),h=Math.abs(a-r),m=-u/2,x=e<n?1:-1,v=r<a?1:-1,y=0,b=n+x,w=e,_=r;w!==b;w+=x){var N=s?_:w,C=s?w:_;if(y===1===this.image.get(N,C)){if(y===2)return Qe.distance(w,_,e,r);y++}if(m+=h,m>0){if(_===a)break;_+=v,m-=u}}return y===2?Qe.distance(n+x,a,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,a){var s=Math.floor(a*e),l=Math.max(0,r-s),u=Math.min(this.image.getWidth()-1,r+s);if(u-l<e*3)throw new ee("Alignment top exceeds estimated module size.");var h=Math.max(0,n-s),m=Math.min(this.image.getHeight()-1,n+s);if(m-h<e*3)throw new ee("Alignment bottom exceeds estimated module size.");var x=new hS(this.image,l,h,u-l,m-h,e,this.resultPointCallback);return x.find()},t}(),Td=function(){function t(){this.decoder=new cS}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,a;if(r!=null&&r.get(bt.PURE_BARCODE)!==void 0){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(s,r),a=t.NO_POINTS}else{var l=new gS(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(l.getBits(),r),a=l.getPoints()}n.getOther()instanceof fg&&n.getOther().applyMirroredCorrection(a);var u=new dr(n.getText(),n.getRawBytes(),void 0,a,Oe.QR_CODE,void 0),h=n.getByteSegments();h!==null&&u.putMetadata(sr.BYTE_SEGMENTS,h);var m=n.getECLevel();return m!==null&&u.putMetadata(sr.ERROR_CORRECTION_LEVEL,m),n.hasStructuredAppend()&&(u.putMetadata(sr.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),u.putMetadata(sr.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new ee;var a=this.moduleSize(r,e),s=r[1],l=n[1],u=r[0],h=n[0];if(u>=h||s>=l)throw new ee;if(l-s!==h-u&&(h=u+(l-s),h>=e.getWidth()))throw new ee;var m=Math.round((h-u+1)/a),x=Math.round((l-s+1)/a);if(m<=0||x<=0)throw new ee;if(x!==m)throw new ee;var v=Math.floor(a/2);s+=v,u+=v;var y=u+Math.floor((m-1)*a)-h;if(y>0){if(y>v)throw new ee;u-=y}var b=s+Math.floor((x-1)*a)-l;if(b>0){if(b>v)throw new ee;s-=b}for(var w=new Cn(m,x),_=0;_<x;_++)for(var N=s+Math.floor(_*a),C=0;C<m;C++)e.get(u+Math.floor(C*a),N)&&w.set(C,_);return w},t.moduleSize=function(e,r){for(var n=r.getHeight(),a=r.getWidth(),s=e[0],l=e[1],u=!0,h=0;s<a&&l<n;){if(u!==r.get(s,l)){if(++h===5)break;u=!u}s++,l++}if(s===a||l===n)throw new ee;return(s-e[0])/7},t.NO_POINTS=new Array,t}(),yS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ye=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Qe.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),s=0;try{for(var l=yS(e),u=l.next();!u.done;u=l.next()){var h=u.value;a[s++]=h}}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return a},t.getCodeword=function(e){var r=zt.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),bS=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),_S=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wS=function(){function t(){}return t.detectMultiple=function(e,r,n){var a=e.getBlackMatrix(),s=t.detect(n,a);return s.length||(a=a.clone(),a.rotate180(),s=t.detect(n,a)),new bS(a,s)},t.detect=function(e,r){for(var n,a,s=new Array,l=0,u=0,h=!1;l<r.getHeight();){var m=t.findVertices(r,l,u);if(m[0]==null&&m[3]==null){if(!h)break;h=!1,u=0;try{for(var x=(n=void 0,_S(s)),v=x.next();!v.done;v=x.next()){var y=v.value;y[1]!=null&&(l=Math.trunc(Math.max(l,y[1].getY()))),y[3]!=null&&(l=Math.max(l,Math.trunc(y[3].getY())))}}catch(b){n={error:b}}finally{try{v&&!v.done&&(a=x.return)&&a.call(x)}finally{if(n)throw n.error}}l+=t.ROW_STEP;continue}if(h=!0,s.push(m),!e)break;m[2]!=null?(u=Math.trunc(m[2].getX()),l=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),l=Math.trunc(m[4].getY()))}return s},t.findVertices=function(e,r,n){var a=e.getHeight(),s=e.getWidth(),l=new Array(8);return t.copyToResult(l,t.findRowsWithPattern(e,a,s,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),l[4]!=null&&(n=Math.trunc(l[4].getX()),r=Math.trunc(l[4].getY())),t.copyToResult(l,t.findRowsWithPattern(e,a,s,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),l},t.copyToResult=function(e,r,n){for(var a=0;a<n.length;a++)e[n[a]]=r[a]},t.findRowsWithPattern=function(e,r,n,a,s,l){for(var u=new Array(4),h=!1,m=new Int32Array(l.length);a<r;a+=t.ROW_STEP){var x=t.findGuardPattern(e,s,a,n,!1,l,m);if(x!=null){for(;a>0;){var v=t.findGuardPattern(e,s,--a,n,!1,l,m);if(v!=null)x=v;else{a++;break}}u[0]=new Ne(x[0],a),u[1]=new Ne(x[1],a),h=!0;break}}var y=a+1;if(h){for(var b=0,v=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);y<r;y++){var x=t.findGuardPattern(e,v[0],y,n,!1,l,m);if(x!=null&&Math.abs(v[0]-x[0])<t.MAX_PATTERN_DRIFT&&Math.abs(v[1]-x[1])<t.MAX_PATTERN_DRIFT)v=x,b=0;else{if(b>t.SKIPPED_ROW_COUNT_MAX)break;b++}}y-=b+1,u[2]=new Ne(v[0],y),u[3]=new Ne(v[1],y)}return y-a<t.BARCODE_MIN_HEIGHT&&zt.fill(u,null),u},t.findGuardPattern=function(e,r,n,a,s,l,u){zt.fillWithin(u,0,u.length,0);for(var h=r,m=0;e.get(h,n)&&h>0&&m++<t.MAX_PIXEL_DRIFT;)h--;for(var x=h,v=0,y=l.length,b=s;x<a;x++){var w=e.get(x,n);if(w!==b)u[v]++;else{if(v===y-1){if(t.patternMatchVariance(u,l,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([h,x]);h+=u[0]+u[1],pt.arraycopy(u,2,u,0,v-1),u[v-1]=0,u[v]=0,v--}else v++;u[v]=1,b=!b}}return v===y-1&&t.patternMatchVariance(u,l,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([h,x-1]):null},t.patternMatchVariance=function(e,r,n){for(var a=e.length,s=0,l=0,u=0;u<a;u++)s+=e[u],l+=r[u];if(s<l)return 1/0;var h=s/l;n*=h;for(var m=0,x=0;x<a;x++){var v=e[x],y=r[x]*h,b=v>y?v-y:y-v;if(b>n)return 1/0;m+=b}return m/s},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),AS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ka=function(){function t(e,r){if(r.length===0)throw new Te;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),pt.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var s=AS(this.coefficients),l=s.next();!l.done;l=s.next()){var u=l.value;a=this.field.add(a,u)}}catch(v){r={error:v}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}for(var h=this.coefficients[0],m=this.coefficients.length,x=1;x<m;x++)h=this.field.add(this.field.multiply(e,h),this.coefficients[x]);return h},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Te("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var s=new Int32Array(n.length),l=n.length-r.length;pt.arraycopy(n,0,s,0,l);for(var u=l;u<n.length;u++)s[u]=this.field.add(r[u-l],n[u]);return new t(this.field,s)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Te("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Te("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=e.coefficients,s=a.length,l=new Int32Array(n+s-1),u=0;u<n;u++)for(var h=r[u],m=0;m<s;m++)l[u+m]=this.field.add(l[u+m],this.field.multiply(h,a[m]));return new t(this.field,l)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Te;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),s=0;s<n;s++)a[s]=this.field.multiply(this.coefficients[s],r);return new t(this.field,a)},t.prototype.toString=function(){for(var e=new Fe,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),ES=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Te;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new ag;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),NS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SS=function(t){NS(e,t);function e(r,n){var a=t.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var s=1,l=0;l<r;l++)a.expTable[l]=s,s=s*n%r;for(var l=0;l<r-1;l++)a.logTable[a.expTable[l]]=l;return a.zero=new Ka(a,new Int32Array([0])),a.one=new Ka(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Te;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Ka(this,a)},e.PDF417_GF=new e(Ye.NUMBER_OF_CODEWORDS,3),e}(ES),CS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OS=function(){function t(){this.field=SS.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var a,s,l=new Ka(this.field,e),u=new Int32Array(r),h=!1,m=r;m>0;m--){var x=l.evaluateAt(this.field.exp(m));u[r-m]=x,x!==0&&(h=!0)}if(!h)return 0;var v=this.field.getOne();if(n!=null)try{for(var y=CS(n),b=y.next();!b.done;b=y.next()){var w=b.value,_=this.field.exp(e.length-1-w),N=new Ka(this.field,new Int32Array([this.field.subtract(0,_),1]));v=v.multiply(N)}}catch(W){a={error:W}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}for(var C=new Ka(this.field,u),E=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),C,r),O=E[0],j=E[1],R=this.findErrorLocations(O),k=this.findErrorMagnitudes(j,O,R),m=0;m<R.length;m++){var K=e.length-1-this.field.log(R[m]);if(K<0)throw Jt.getChecksumInstance();e[K]=this.field.subtract(e[K],k[m])}return R.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var s=e,l=r,u=this.field.getZero(),h=this.field.getOne();l.getDegree()>=Math.round(n/2);){var m=s,x=u;if(s=l,u=h,s.isZero())throw Jt.getChecksumInstance();l=m;for(var v=this.field.getZero(),y=s.getCoefficient(s.getDegree()),b=this.field.inverse(y);l.getDegree()>=s.getDegree()&&!l.isZero();){var w=l.getDegree()-s.getDegree(),_=this.field.multiply(l.getCoefficient(l.getDegree()),b);v=v.add(this.field.buildMonomial(w,_)),l=l.subtract(s.multiplyByMonomial(w,_))}h=v.multiply(u).subtract(x).negative()}var N=h.getCoefficient(0);if(N===0)throw Jt.getChecksumInstance();var C=this.field.inverse(N),E=h.multiply(C),O=l.multiply(C);return[E,O]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),a=0,s=1;s<this.field.getSize()&&a<r;s++)e.evaluateAt(s)===0&&(n[a]=this.field.inverse(s),a++);if(a!==r)throw Jt.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var a=r.getDegree(),s=new Int32Array(a),l=1;l<=a;l++)s[a-l]=this.field.multiply(l,r.getCoefficient(l));for(var u=new Ka(this.field,s),h=n.length,m=new Int32Array(h),l=0;l<h;l++){var x=this.field.inverse(n[l]),v=this.field.subtract(0,e.evaluateAt(x)),y=this.field.inverse(u.evaluateAt(x));m[l]=this.field.multiply(v,y)}return m},t}(),jd=function(){function t(e,r,n,a,s){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,a,s)}return t.prototype.constructor_1=function(e,r,n,a,s){var l=r==null||n==null,u=a==null||s==null;if(l&&u)throw new ee;l?(r=new Ne(0,a.getY()),n=new Ne(0,s.getY())):u&&(a=new Ne(e.getWidth()-1,r.getY()),s=new Ne(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var a=this.topLeft,s=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){var h=n?this.topLeft:this.topRight,m=Math.trunc(h.getY()-e);m<0&&(m=0);var x=new Ne(h.getX(),m);n?a=x:l=x}if(r>0){var v=n?this.bottomLeft:this.bottomRight,y=Math.trunc(v.getY()+r);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var b=new Ne(v.getX(),y);n?s=b:u=b}return new t(this.image,a,s,l,u)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),TS=function(){function t(e,r,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),o0=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function a(l,u,h,m,x,v){if(l==="%%")return"%";if(r[++n]!==void 0){l=m?parseInt(m.substr(1)):void 0;var y=x?parseInt(x.substr(1)):void 0,b;switch(v){case"s":b=r[n];break;case"c":b=r[n][0];break;case"f":b=parseFloat(r[n]).toFixed(l);break;case"p":b=parseFloat(r[n]).toPrecision(l);break;case"e":b=parseFloat(r[n]).toExponential(l);break;case"x":b=parseInt(r[n]).toString(y||16);break;case"d":b=parseFloat(parseInt(r[n],y||10).toPrecision(l)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(y);for(var w=parseInt(h),_=h&&h[0]+""=="0"?"0":" ";b.length<w;)b=u!==void 0?b+_:_+b;return b}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),jS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dg=function(){function t(e){this.boundingBox=new jd(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new o0,a=0;try{for(var s=jS(this.codewords),l=s.next();!l.done;l=s.next()){var u=l.value;if(u==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,u.getRowNumber(),u.getValue())}}catch(h){e={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),DS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RS=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,s=[],l;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return s},co=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,a=new Array,s=function(v,y){var b={getKey:function(){return v},getValue:function(){return y}};b.getValue()>n?(n=b.getValue(),a=[],a.push(b.getKey())):b.getValue()===n&&a.push(b.getKey())};try{for(var l=DS(this.values.entries()),u=l.next();!u.done;u=l.next()){var h=RS(u.value,2),m=h[0],x=h[1];s(m,x)}}catch(v){e={error:v}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return Ye.toIntArray(a)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),IS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dx=function(t){IS(e,t);function e(r,n){var a=t.call(this,r)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var r,n;try{for(var a=rd(this.getCodewords()),s=a.next();!s.done;s=a.next()){var l=s.value;l?.setRowNumberAsRowIndicatorColumn()}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),s=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=-1,x=1,v=0,y=u;y<h;y++)if(n[y]!=null){var b=n[y],w=b.getRowNumber()-m;if(w===0)v++;else if(w===1)x=Math.max(x,v),v=1,m=b.getRowNumber();else if(w<0||b.getRowNumber()>=r.getRowCount()||w>y)n[y]=null;else{var _=void 0;x>2?_=(x-2)*w:_=w;for(var N=_>=y,C=1;C<=_&&!N;C++)N=n[y-C]!=null;N?n[y]=null:(m=b.getRowNumber(),v=1)}}},e.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var s=new Int32Array(a.getRowCount());try{for(var l=rd(this.getCodewords()),u=l.next();!u.done;u=l.next()){var h=u.value;if(h!=null){var m=h.getRowNumber();if(m>=s.length)continue;s[m]++}}}catch(x){r={error:x}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=this.getCodewords(),m=-1,x=l;x<u;x++)if(h[x]!=null){var v=h[x];v.setRowNumberAsRowIndicatorColumn();var y=v.getRowNumber()-m;y===0||(y===1?m=v.getRowNumber():v.getRowNumber()>=r.getRowCount()?h[x]=null:m=v.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),s=new co,l=new co,u=new co,h=new co;try{for(var m=rd(a),x=m.next();!x.done;x=m.next()){var v=x.value;if(v!=null){v.setRowNumberAsRowIndicatorColumn();var y=v.getValue()%30,b=v.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:l.setValue(y*3+1);break;case 1:h.setValue(y/3),u.setValue(y%3);break;case 2:s.setValue(y+1);break}}}}catch(_){r={error:_}}finally{try{x&&!x.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}if(s.getValue().length===0||l.getValue().length===0||u.getValue().length===0||h.getValue().length===0||s.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Ye.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Ye.MAX_ROWS_IN_BARCODE)return null;var w=new TS(s.getValue()[0],l.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(a,w),w},e.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var s=r[a];if(r[a]!=null){var l=s.getValue()%30,u=s.getRowNumber();if(u>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(l/3)!==n.getErrorCorrectionLevel()||l%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:l+1!==n.getColumnCount()&&(r[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(dg),MS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BS=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ye.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(s.setRowNumber(e[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),s=0,l=this.barcodeColumnCount+1;l>0&&s<this.ADJUST_ROW_NUMBER_SKIP;l--){var u=this.detectionResultColumns[l].getCodewords()[n];u!=null&&(s=t.adjustRowNumberIfValid(a,s,u),u.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),s=0,l=1;l<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;l++){var u=this.detectionResultColumns[l].getCodewords()[n];u!=null&&(s=t.adjustRowNumberIfValid(a,s,u),u.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var a,s;if(this.detectionResultColumns[e-1]!=null){var l=n[r],u=this.detectionResultColumns[e-1].getCodewords(),h=u;this.detectionResultColumns[e+1]!=null&&(h=this.detectionResultColumns[e+1].getCodewords());var m=new Array(14);m[2]=u[r],m[3]=h[r],r>0&&(m[0]=n[r-1],m[4]=u[r-1],m[5]=h[r-1]),r>1&&(m[8]=n[r-2],m[10]=u[r-2],m[11]=h[r-2]),r<n.length-1&&(m[1]=n[r+1],m[6]=u[r+1],m[7]=h[r+1]),r<n.length-2&&(m[9]=n[r+2],m[12]=u[r+2],m[13]=h[r+2]);try{for(var x=MS(m),v=x.next();!v.done;v=x.next()){var y=v.value;if(t.adjustRowNumber(l,y))return}}catch(b){a={error:b}}finally{try{v&&!v.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new o0,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var s=this.detectionResultColumns[a].getCodewords()[n];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()},t}(),PS=function(){function t(e,r,n,a){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),LS=function(){function t(){}return t.initialize=function(){for(var e=0;e<Ye.SYMBOL_TABLE.length;e++)for(var r=Ye.SYMBOL_TABLE[e],n=r&1,a=0;a<Ye.BARS_IN_MODULE;a++){for(var s=0;(r&1)===n;)s+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Ye.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Ye.BARS_IN_MODULE-a-1]=Math.fround(s/Ye.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Qe.sum(e),n=new Int32Array(Ye.BARS_IN_MODULE),a=0,s=0,l=0;l<Ye.MODULES_IN_CODEWORD;l++){var u=r/(2*Ye.MODULES_IN_CODEWORD)+l*r/Ye.MODULES_IN_CODEWORD;s+e[a]<=u&&(s+=e[a],a++),n[a]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Ye.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Qe.sum(e),n=new Array(Ye.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/r);var s=Ed.MAX_VALUE,l=-1;this.bSymbolTableReady||t.initialize();for(var u=0;u<t.RATIOS_TABLE.length;u++){for(var h=0,m=t.RATIOS_TABLE[u],x=0;x<Ye.BARS_IN_MODULE;x++){var v=Math.fround(m[x]-n[x]);if(h+=Math.fround(v*v),h>=s)break}h<s&&(s=h,l=Ye.SYMBOL_TABLE[u])}return l},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Ye.SYMBOL_TABLE.length).map(function(e){return new Array(Ye.BARS_IN_MODULE)}),t}(),kS=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),Rx=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),FS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),US=function(t){FS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Ir),zS=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new US;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new r0;if(n===0)return;for(var a=0;a<n;a++)this.write(e[r+a])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),VS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HS=function(t){VS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ir),GS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZS=function(t){GS(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Te("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new HS;a=ze.MAX_VALUE}this.buf=zt.copyOfUint8Array(this.buf,a)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new r0;this.ensureCapacity(this.count+a),pt.arraycopy(r,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return zt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(zS),ut;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ut||(ut={}));function hg(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Hl;function _a(t){if(typeof Hl>"u"&&(Hl=hg()),Hl===null)throw new Error("BigInt is not supported!");return Hl(t)}function XS(){var t=[];t[0]=_a(1);var e=_a(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var qS=function(){function t(){}return t.decode=function(e,r){var n=new Fe(""),a=Ut.ISO8859_1;n.enableDecoding(a);for(var s=1,l=e[s++],u=new kS;s<e[0];){switch(l){case t.TEXT_COMPACTION_MODE_LATCH:s=t.textCompaction(e,s,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:s=t.byteCompaction(l,e,a,s,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:s=t.numericCompaction(e,s,n);break;case t.ECI_CHARSET:Ut.getCharacterSetECIByValue(e[s++]);break;case t.ECI_GENERAL_PURPOSE:s+=2;break;case t.ECI_USER_DEFINED:s++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=t.decodeMacroBlock(e,s,u);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ge;default:s--,s=t.textCompaction(e,s,n);break}if(s<e.length)l=e[s++];else throw ge.getFormatInstance()}if(n.length()===0)throw ge.getFormatInstance();var h=new Ac(null,n.toString(),null,r);return h.setOther(u),h},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ge.getFormatInstance();for(var a=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<t.NUMBER_OF_SEQUENCE_CODEWORDS;s++,r++)a[s]=e[r];n.setSegmentIndex(ze.parseInt(t.decodeBase900toBase10(a,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var l=new Fe;r=t.textCompaction(e,r,l),n.setFileId(l.toString());var u=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var h=new Fe;r=t.textCompaction(e,r+1,h),n.setFileName(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var m=new Fe;r=t.textCompaction(e,r+1,m),n.setSender(m.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var x=new Fe;r=t.textCompaction(e,r+1,x),n.setAddressee(x.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var v=new Fe;r=t.numericCompaction(e,r+1,v),n.setSegmentCount(ze.parseInt(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new Fe;r=t.numericCompaction(e,r+1,y),n.setTimestamp(Rx.parseLong(y.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var b=new Fe;r=t.numericCompaction(e,r+1,b),n.setChecksum(ze.parseInt(b.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var w=new Fe;r=t.numericCompaction(e,r+1,w),n.setFileSize(Rx.parseLong(w.toString()));break;default:throw ge.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ge.getFormatInstance()}if(u!==-1){var _=r-u;n.isLastSegment()&&_--,n.setOptionalData(zt.copyOfRange(e,u,u+_))}return r},t.textCompaction=function(e,r,n){for(var a=new Int32Array((e[0]-r)*2),s=new Int32Array((e[0]-r)*2),l=0,u=!1;r<e[0]&&!u;){var h=e[r++];if(h<t.TEXT_COMPACTION_MODE_LATCH)a[l]=h/30,a[l+1]=h%30,l+=2;else switch(h){case t.TEXT_COMPACTION_MODE_LATCH:a[l++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,u=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[l]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=e[r++],s[l]=h,l++;break}}return t.decodeTextCompaction(a,s,l,n),r},t.decodeTextCompaction=function(e,r,n,a){for(var s=ut.ALPHA,l=ut.ALPHA,u=0;u<n;){var h=e[u],m="";switch(s){case ut.ALPHA:if(h<26)m=String.fromCharCode(65+h);else switch(h){case 26:m=" ";break;case t.LL:s=ut.LOWER;break;case t.ML:s=ut.MIXED;break;case t.PS:l=s,s=ut.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=ut.ALPHA;break}break;case ut.LOWER:if(h<26)m=String.fromCharCode(97+h);else switch(h){case 26:m=" ";break;case t.AS:l=s,s=ut.ALPHA_SHIFT;break;case t.ML:s=ut.MIXED;break;case t.PS:l=s,s=ut.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=ut.ALPHA;break}break;case ut.MIXED:if(h<t.PL)m=t.MIXED_CHARS[h];else switch(h){case t.PL:s=ut.PUNCT;break;case 26:m=" ";break;case t.LL:s=ut.LOWER;break;case t.AL:s=ut.ALPHA;break;case t.PS:l=s,s=ut.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=ut.ALPHA;break}break;case ut.PUNCT:if(h<t.PAL)m=t.PUNCT_CHARS[h];else switch(h){case t.PAL:s=ut.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=ut.ALPHA;break}break;case ut.ALPHA_SHIFT:if(s=l,h<26)m=String.fromCharCode(65+h);else switch(h){case 26:m=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:s=ut.ALPHA;break}break;case ut.PUNCT_SHIFT:if(s=l,h<t.PAL)m=t.PUNCT_CHARS[h];else switch(h){case t.PAL:s=ut.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=ut.ALPHA;break}break}m!==""&&a.append(m),u++}},t.byteCompaction=function(e,r,n,a,s){var l=new ZS,u=0,h=0,m=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var x=new Int32Array(6),v=r[a++];a<r[0]&&!m;)switch(x[u++]=v,h=900*h+v,v=r[a++],v){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,m=!0;break;default:if(u%5===0&&u>0){for(var y=0;y<6;++y)l.write(Number(_a(h)>>_a(8*(5-y))));h=0,u=0}break}a===r[0]&&v<t.TEXT_COMPACTION_MODE_LATCH&&(x[u++]=v);for(var b=0;b<u;b++)l.write(x[b]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!m;){var w=r[a++];if(w<t.TEXT_COMPACTION_MODE_LATCH)u++,h=900*h+w;else switch(w){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,m=!0;break}if(u%5===0&&u>0){for(var y=0;y<6;++y)l.write(Number(_a(h)>>_a(8*(5-y))));h=0,u=0}}break}return s.append(Jr.decode(l.toByteArray(),n)),a},t.numericCompaction=function(e,r,n){for(var a=0,s=!1,l=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!s;){var u=e[r++];if(r===e[0]&&(s=!0),u<t.TEXT_COMPACTION_MODE_LATCH)l[a]=u,a++;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(a%t.MAX_NUMERIC_CODEWORDS===0||u===t.NUMERIC_COMPACTION_MODE_LATCH||s)&&a>0&&(n.append(t.decodeBase900toBase10(l,a)),a=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=_a(0),a=0;a<r;a++)n+=t.EXP900[r-a-1]*_a(e[a]);var s=n.toString();if(s.charAt(0)!=="1")throw new ge;return s.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=hg()?XS():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),ao=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$S=function(){function t(){}return t.decode=function(e,r,n,a,s,l,u){for(var h=new jd(e,r,n,a,s),m=null,x=null,v,y=!0;;y=!1){if(r!=null&&(m=t.getRowIndicatorColumn(e,h,r,!0,l,u)),a!=null&&(x=t.getRowIndicatorColumn(e,h,a,!1,l,u)),v=t.merge(m,x),v==null)throw ee.getNotFoundInstance();var b=v.getBoundingBox();if(y&&b!=null&&(b.getMinY()<h.getMinY()||b.getMaxY()>h.getMaxY()))h=b;else break}v.setBoundingBox(h);var w=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,m),v.setDetectionResultColumn(w,x);for(var _=m!=null,N=1;N<=w;N++){var C=_?N:w-N;if(v.getDetectionResultColumn(C)===void 0){var E=void 0;C===0||C===w?E=new Dx(h,C===0):E=new dg(h),v.setDetectionResultColumn(C,E);for(var O=-1,j=O,R=h.getMinY();R<=h.getMaxY();R++){if(O=t.getStartColumn(v,C,R,_),O<0||O>h.getMaxX()){if(j===-1)continue;O=j}var k=t.detectCodeword(e,h.getMinX(),h.getMaxX(),_,O,R,l,u);k!=null&&(E.setCodeword(R,k),j=O,l=Math.min(l,k.getWidth()),u=Math.max(u,k.getWidth()))}}}return t.createDecoderResult(v)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var a=jd.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new BS(n,a)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var s=t.getMax(a),l=0;try{for(var u=ao(a),h=u.next();!h.done;h=u.next()){var m=h.value;if(l+=s-m,m>0)break}}catch(b){r={error:b}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var x=e.getCodewords(),v=0;l>0&&x[v]==null;v++)l--;for(var y=0,v=a.length-1;v>=0&&(y+=s-a[v],!(a[v]>0));v--);for(var v=x.length-1;y>0&&x[v]==null;v--)y--;return e.getBoundingBox().addMissingRows(l,y,e.isLeft())},t.getMax=function(e){var r,n,a=-1;try{for(var s=ao(e),l=s.next();!l.done;l=s.next()){var u=l.value;a=Math.max(a,u)}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,a,s,l){for(var u=new Dx(r,a),h=0;h<2;h++)for(var m=h===0?1:-1,x=Math.trunc(Math.trunc(n.getX())),v=Math.trunc(Math.trunc(n.getY()));v<=r.getMaxY()&&v>=r.getMinY();v+=m){var y=t.detectCodeword(e,0,e.getWidth(),a,x,v,s,l);y!=null&&(u.setCodeword(v,y),a?x=y.getStartX():x=y.getEndX())}return u},t.adjustCodewordCount=function(e,r){var n=r[0][1],a=n.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(s<1||s>Ye.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();n.setValue(s)}else a[0]!==s&&n.setValue(s)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],l=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var h=0;h<e.getBarcodeColumnCount();h++){var m=r[u][h+1].getValue(),x=u*e.getBarcodeColumnCount()+h;m.length===0?n.push(x):m.length===1?a[x]=m[0]:(l.push(x),s.push(m))}for(var v=new Array(s.length),y=0;y<v.length;y++)v[y]=s[y];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,Ye.toIntArray(n),Ye.toIntArray(l),v)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,a,s){for(var l=new Int32Array(a.length),u=100;u-- >0;){for(var h=0;h<l.length;h++)r[a[h]]=s[h][l[h]];try{return t.decodeCodewords(r,e,n)}catch(x){var m=x instanceof Jt;if(!m)throw x}if(l.length===0)throw Jt.getChecksumInstance();for(var h=0;h<l.length;h++)if(l[h]<s[h].length-1){l[h]++;break}else if(l[h]=0,h===l.length-1)throw Jt.getChecksumInstance()}throw Jt.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,a,s,l=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<l.length;u++)for(var h=0;h<l[u].length;h++)l[u][h]=new co;var m=0;try{for(var x=ao(e.getDetectionResultColumns()),v=x.next();!v.done;v=x.next()){var y=v.value;if(y!=null)try{for(var b=(a=void 0,ao(y.getCodewords())),w=b.next();!w.done;w=b.next()){var _=w.value;if(_!=null){var N=_.getRowNumber();if(N>=0){if(N>=l.length)continue;l[N][m].setValue(_.getValue())}}}}catch(C){a={error:C}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}m++}}catch(C){r={error:C}}finally{try{v&&!v.done&&(n=x.return)&&n.call(x)}finally{if(r)throw r.error}}return l},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,a){var s,l,u=a?1:-1,h=null;if(t.isValidBarcodeColumn(e,r-u)&&(h=e.getDetectionResultColumn(r-u).getCodeword(n)),h!=null)return a?h.getEndX():h.getStartX();if(h=e.getDetectionResultColumn(r).getCodewordNearby(n),h!=null)return a?h.getStartX():h.getEndX();if(t.isValidBarcodeColumn(e,r-u)&&(h=e.getDetectionResultColumn(r-u).getCodewordNearby(n)),h!=null)return a?h.getEndX():h.getStartX();for(var m=0;t.isValidBarcodeColumn(e,r-u);){r-=u;try{for(var x=(s=void 0,ao(e.getDetectionResultColumn(r).getCodewords())),v=x.next();!v.done;v=x.next()){var y=v.value;if(y!=null)return(a?y.getEndX():y.getStartX())+u*m*(y.getEndX()-y.getStartX())}}catch(b){s={error:b}}finally{try{v&&!v.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}m++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,a,s,l,u,h){s=t.adjustCodewordStartColumn(e,r,n,a,s,l);var m=t.getModuleBitCount(e,r,n,a,s,l);if(m==null)return null;var x,v=Qe.sum(m);if(a)x=s+v;else{for(var y=0;y<m.length/2;y++){var b=m[y];m[y]=m[m.length-1-y],m[m.length-1-y]=b}x=s,s=x-v}if(!t.checkCodewordSkew(v,u,h))return null;var w=LS.getDecodedValue(m),_=Ye.getCodeword(w);return _===-1?null:new PS(s,x,t.getCodewordBucketNumber(w),_)},t.getModuleBitCount=function(e,r,n,a,s,l){for(var u=s,h=new Int32Array(8),m=0,x=a?1:-1,v=a;(a?u<n:u>=r)&&m<h.length;)e.get(u,l)===v?(h[m]++,u+=x):(m++,v=!v);return m===h.length||u===(a?n:r)&&m===h.length-1?h:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,a,s,l){for(var u=s,h=a?-1:1,m=0;m<2;m++){for(;(a?u>=r:u<n)&&a===e.get(u,l);){if(Math.abs(s-u)>t.CODEWORD_SKEW_SIZE)return s;u+=h}h=-h,a=!a}return u},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw ge.getFormatInstance();var a=1<<r+1,s=t.correctErrors(e,n,a);t.verifyCodewordCount(e,a);var l=qS.decode(e,""+r);return l.setErrorsCorrected(s),l.setErasures(n.length),l},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Jt.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw ge.getFormatInstance();var n=e[0];if(n>e.length)throw ge.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw ge.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,a=r.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)r[a]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new o0,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var s=e[n][a];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new OS,t}(),YS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw ee.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof ge||n instanceof Jt?ee.getNotFoundInstance():n}},t.decode=function(e,r,n){var a,s,l=new Array,u=wS.detectMultiple(e,r,n);try{for(var h=YS(u.getPoints()),m=h.next();!m.done;m=h.next()){var x=m.value,v=$S.decode(u.getBits(),x[4],x[5],x[6],x[7],t.getMinCodewordWidth(x),t.getMaxCodewordWidth(x)),y=new dr(v.getText(),v.getRawBytes(),void 0,x,Oe.PDF_417);y.putMetadata(sr.ERROR_CORRECTION_LEVEL,v.getECLevel());var b=v.getOther();b!=null&&y.putMetadata(sr.PDF417_EXTRA_METADATA,b),l.push(y)}}catch(w){a={error:w}}finally{try{m&&!m.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return l.map(function(w){return w})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?ze.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Ye.MODULES_IN_CODEWORD/Ye.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Ye.MODULES_IN_CODEWORD/Ye.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Ye.MODULES_IN_CODEWORD/Ye.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Ye.MODULES_IN_CODEWORD/Ye.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),KS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ix=function(t){KS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Ir),Mx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WS=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(bt.TRY_HARDER)!==void 0,n=e==null?null:e.get(bt.POSSIBLE_FORMATS),a=new Array;if(n!=null){var s=n.some(function(l){return l===Oe.UPC_A||l===Oe.UPC_E||l===Oe.EAN_13||l===Oe.EAN_8||l===Oe.CODABAR||l===Oe.CODE_39||l===Oe.CODE_93||l===Oe.CODE_128||l===Oe.ITF||l===Oe.RSS_14||l===Oe.RSS_EXPANDED});s&&!r&&a.push(new lo(e)),n.includes(Oe.QR_CODE)&&a.push(new Td),n.includes(Oe.DATA_MATRIX)&&a.push(new Od),n.includes(Oe.AZTEC)&&a.push(new Sd),n.includes(Oe.PDF_417)&&a.push(new Dd),s&&r&&a.push(new lo(e))}a.length===0&&(r||a.push(new lo(e)),a.push(new Td),a.push(new Od),a.push(new Sd),a.push(new Dd),r&&a.push(new lo(e))),this.readers=a},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=Mx(this.readers),a=n.next();!a.done;a=n.next()){var s=a.value;s.reset()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new Ix("No readers where selected, nothing can be read.");try{for(var a=Mx(this.readers),s=a.next();!s.done;s=a.next()){var l=s.value;try{return l.decode(e,this.hints)}catch(u){if(u instanceof Ix)continue}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new ee("No MultiFormat Readers were able to detect the code.")},t}(),QS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){QS(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,s=new WS;return s.setHints(r),a=t.call(this,s,n)||this,a}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(ni);var JS=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){JS(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Dd,r)||this}return e})(ni);var e8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){e8(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Td,r)||this}return e})(ni);var Rd;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Rd||(Rd={}));const Gl=Rd;var mg=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Aa(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],a=this.field,s=r.length;s<=e;s++){var l=n.multiply(new Aa(a,Int32Array.from([1,a.exp(s-1+a.getGeneratorBase())])));r.push(l),n=l}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Te("No error correction bytes");var n=e.length-r;if(n<=0)throw new Te("No data bytes provided");var a=this.buildGenerator(r),s=new Int32Array(n);pt.arraycopy(e,0,s,0,n);var l=new Aa(this.field,s);l=l.multiplyByMonomial(r,1);for(var u=l.divide(a)[1],h=u.getCoefficients(),m=r-h.length,x=0;x<m;x++)e[n+x]=0;pt.arraycopy(h,0,e,n+m,h.length)},t}(),uo=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),s=e.getHeight(),l=0;l<s-1;l++)for(var u=n[l],h=0;h<a-1;h++){var m=u[h];m===u[h+1]&&m===n[l+1][h]&&m===n[l+1][h+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),s=e.getHeight(),l=0;l<s;l++)for(var u=0;u<a;u++){var h=n[l];u+6<a&&h[u]===1&&h[u+1]===0&&h[u+2]===1&&h[u+3]===1&&h[u+4]===1&&h[u+5]===0&&h[u+6]===1&&(t.isWhiteHorizontal(h,u-4,u)||t.isWhiteHorizontal(h,u+7,u+11))&&r++,l+6<s&&n[l][u]===1&&n[l+1][u]===0&&n[l+2][u]===1&&n[l+3][u]===1&&n[l+4][u]===1&&n[l+5][u]===0&&n[l+6][u]===1&&(t.isWhiteVertical(n,u,l-4,l)||t.isWhiteVertical(n,u,l+7,l+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var a=r;a<n;a++)if(e[a]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var s=n;s<a;s++)if(e[s][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),s=e.getHeight(),l=0;l<s;l++)for(var u=n[l],h=0;h<a;h++)u[h]===1&&r++;var m=e.getHeight()*e.getWidth(),x=Math.floor(Math.abs(r*2-m)*10/m);return x*t.N4},t.getDataMaskBit=function(e,r,n){var a,s;switch(e){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:s=n*r,a=(s&1)+s%3;break;case 6:s=n*r,a=(s&1)+s%3&1;break;case 7:s=n*r,a=s%3+(n+r&1)&1;break;default:throw new Te("Invalid mask pattern: "+e)}return a===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,a=r?e.getHeight():e.getWidth(),s=r?e.getWidth():e.getHeight(),l=e.getArray(),u=0;u<a;u++){for(var h=0,m=-1,x=0;x<s;x++){var v=r?l[u][x]:l[x][u];v===m?h++:(h>=5&&(n+=t.N1+(h-5)),h=1,m=v)}h>=5&&(n+=t.N1+(h-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),t8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r8=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var a=t8(this.bytes),s=a.next();!s.done;s=a.next()){var l=s.value;zt.fill(l,e)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var s=this.bytes[n],l=r.bytes[n],u=0,h=this.width;u<h;++u)if(s[u]!==l[u])return!1;return!0},t.prototype.toString=function(){for(var e=new Fe,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],s=0,l=this.width;s<l;++s)switch(a[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Id=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Fe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),n8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xt=function(t){n8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Ir),Bx=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,a,s){t.clearMatrix(s),t.embedBasicPatterns(n,s),t.embedTypeInfo(r,a,s),t.maybeEmbedVersionInfo(n,s),t.embedDataBits(e,a,s)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var a=new er;t.makeTypeInfoBits(e,r,a);for(var s=0,l=a.getSize();s<l;++s){var u=a.get(a.getSize()-1-s),h=t.TYPE_INFO_COORDINATES[s],m=h[0],x=h[1];if(n.setBoolean(m,x,u),s<8){var v=n.getWidth()-s-1,y=8;n.setBoolean(v,y,u)}else{var v=8,y=n.getHeight()-7+(s-8);n.setBoolean(v,y,u)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new er;t.makeVersionInfoBits(e,n);for(var a=17,s=0;s<6;++s)for(var l=0;l<3;++l){var u=n.get(a);a--,r.setBoolean(s,r.getHeight()-11+l,u),r.setBoolean(r.getHeight()-11+l,s,u)}}},t.embedDataBits=function(e,r,n){for(var a=0,s=-1,l=n.getWidth()-1,u=n.getHeight()-1;l>0;){for(l===6&&(l-=1);u>=0&&u<n.getHeight();){for(var h=0;h<2;++h){var m=l-h;if(t.isEmpty(n.get(m,u))){var x=void 0;a<e.getSize()?(x=e.get(a),++a):x=!1,r!==255&&uo.getDataMaskBit(r,m,u)&&(x=!x),n.setBoolean(m,u,x)}}u+=s}s=-s,u+=s,l-=2}if(a!==e.getSize())throw new xt("Not all bits consumed: "+a+"/"+e.getSize())},t.findMSBSet=function(e){return 32-ze.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Te("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Id.isValidMaskPattern(r))throw new xt("Invalid mask pattern");var a=e.getBits()<<3|r;n.appendBits(a,5);var s=t.calculateBCHCode(a,t.TYPE_INFO_POLY);n.appendBits(s,10);var l=new er;if(l.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(l),n.getSize()!==15)throw new xt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new xt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new xt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var a=0;a<8;++a){if(!t.isEmpty(n.get(e+a,r)))throw new xt;n.setNumber(e+a,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var a=0;a<7;++a){if(!t.isEmpty(n.get(e,r+a)))throw new xt;n.setNumber(e,r+a,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var a=0;a<5;++a)for(var s=t.POSITION_ADJUSTMENT_PATTERN[a],l=0;l<5;++l)n.setNumber(e+l,r+a,s[l])},t.embedPositionDetectionPattern=function(e,r,n){for(var a=0;a<7;++a)for(var s=t.POSITION_DETECTION_PATTERN[a],l=0;l<7;++l)n.setNumber(e+l,r+a,s[l])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;t.embedVerticalSeparationPattern(a,0,e),t.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),t.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],s=0,l=a.length;s!==l;s++){var u=a[s];if(u>=0)for(var h=0;h!==l;h++){var m=a[h];m>=0&&t.isEmpty(r.get(m,u))&&t.embedPositionAdjustmentPattern(m-2,u-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),a8=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),Px=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return uo.applyMaskPenaltyRule1(e)+uo.applyMaskPenaltyRule2(e)+uo.applyMaskPenaltyRule3(e)+uo.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var a=t.DEFAULT_BYTE_MODE_ENCODING,s=n!==null&&n.get(Gl.CHARACTER_SET)!==void 0;s&&(a=n.get(Gl.CHARACTER_SET).toString());var l=this.chooseMode(e,a),u=new er;if(l===vt.BYTE&&(s||t.DEFAULT_BYTE_MODE_ENCODING!==a)){var h=Ut.getCharacterSetECIByName(a);h!==void 0&&this.appendECI(h,u)}this.appendModeInfo(l,u);var m=new er;this.appendBytes(e,l,m,a);var x;if(n!==null&&n.get(Gl.QR_VERSION)!==void 0){var v=Number.parseInt(n.get(Gl.QR_VERSION).toString(),10);x=Qa.getVersionForNumber(v);var y=this.calculateBitsNeeded(l,u,m,x);if(!this.willFit(y,x,r))throw new xt("Data too big for requested version")}else x=this.recommendVersion(r,l,u,m);var b=new er;b.appendBitArray(u);var w=l===vt.BYTE?m.getSizeInBytes():e.length;this.appendLengthInfo(w,x,l,b),b.appendBitArray(m);var _=x.getECBlocksForLevel(r),N=x.getTotalCodewords()-_.getTotalECCodewords();this.terminateBits(N,b);var C=this.interleaveWithECBytes(b,x.getTotalCodewords(),N,_.getNumBlocks()),E=new Id;E.setECLevel(r),E.setMode(l),E.setVersion(x);var O=x.getDimensionForVersion(),j=new r8(O,O),R=this.chooseMaskPattern(C,r,x,j);return E.setMaskPattern(R),Bx.buildMatrix(C,r,x,R,j),E.setMatrix(j),E},t.recommendVersion=function(e,r,n,a){var s=this.calculateBitsNeeded(r,n,a,Qa.getVersionForNumber(1)),l=this.chooseVersion(s,e),u=this.calculateBitsNeeded(r,n,a,l);return this.chooseVersion(u,e)},t.calculateBitsNeeded=function(e,r,n,a){return r.getSize()+e.getCharacterCountBits(a)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Ut.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return vt.KANJI;for(var n=!1,a=!1,s=0,l=e.length;s<l;++s){var u=e.charAt(s);if(t.isDigit(u))n=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)a=!0;else return vt.BYTE}return a?vt.ALPHANUMERIC:n?vt.NUMERIC:vt.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Jr.encode(e,Ut.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var s=r[a]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,a){for(var s=Number.MAX_SAFE_INTEGER,l=-1,u=0;u<Id.NUM_MASK_PATTERNS;u++){Bx.buildMatrix(e,r,n,u,a);var h=this.calculateMaskPenalty(a);h<s&&(s=h,l=u)}return l},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var a=Qa.getVersionForNumber(n);if(t.willFit(e,a,r))return a}throw new xt("Data too big")},t.willFit=function(e,r,n){var a=r.getTotalCodewords(),s=r.getECBlocksForLevel(n),l=s.getTotalECCodewords(),u=a-l,h=(e+7)/8;return u>=h},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new xt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var s=r.getSize()&7;if(s>0)for(var a=s;a<8;a++)r.appendBit(!1);for(var l=e-r.getSizeInBytes(),a=0;a<l;++a)r.appendBits((a&1)===0?236:17,8);if(r.getSize()!==n)throw new xt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,a,s,l){if(a>=n)throw new xt("Block ID too large");var u=e%n,h=n-u,m=Math.floor(e/n),x=m+1,v=Math.floor(r/n),y=v+1,b=m-v,w=x-y;if(b!==w)throw new xt("EC bytes mismatch");if(n!==h+u)throw new xt("RS blocks mismatch");if(e!==(v+b)*h+(y+w)*u)throw new xt("Total bytes mismatch");a<h?(s[0]=v,l[0]=b):(s[0]=y,l[0]=w)},t.interleaveWithECBytes=function(e,r,n,a){var s,l,u,h;if(e.getSizeInBytes()!==n)throw new xt("Number of bits and data bytes does not match");for(var m=0,x=0,v=0,y=new Array,b=0;b<a;++b){var w=new Int32Array(1),_=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,a,b,w,_);var N=w[0],C=new Uint8Array(N);e.toBytes(8*m,C,0,N);var E=t.generateECBytes(C,_[0]);y.push(new a8(C,E)),x=Math.max(x,N),v=Math.max(v,E.length),m+=w[0]}if(n!==m)throw new xt("Data bytes does not match offset");for(var O=new er,b=0;b<x;++b)try{for(var j=(s=void 0,Px(y)),R=j.next();!R.done;R=j.next()){var k=R.value,C=k.getDataBytes();b<C.length&&O.appendBits(C[b],8)}}catch(Z){s={error:Z}}finally{try{R&&!R.done&&(l=j.return)&&l.call(j)}finally{if(s)throw s.error}}for(var b=0;b<v;++b)try{for(var K=(u=void 0,Px(y)),W=K.next();!W.done;W=K.next()){var k=W.value,E=k.getErrorCorrectionBytes();b<E.length&&O.appendBits(E[b],8)}}catch(Z){u={error:Z}}finally{try{W&&!W.done&&(h=K.return)&&h.call(K)}finally{if(u)throw u.error}}if(r!==O.getSizeInBytes())throw new xt("Interleaving error: "+r+" and "+O.getSizeInBytes()+" differ.");return O},t.generateECBytes=function(e,r){for(var n=e.length,a=new Int32Array(n+r),s=0;s<n;s++)a[s]=e[s]&255;new mg(Tr.QR_CODE_FIELD_256).encode(a,r);for(var l=new Uint8Array(r),s=0;s<r;s++)l[s]=a[n+s];return l},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,a){var s=n.getCharacterCountBits(r);if(e>=1<<s)throw new xt(e+" is bigger than "+((1<<s)-1));a.appendBits(e,s)},t.appendBytes=function(e,r,n,a){switch(r){case vt.NUMERIC:t.appendNumericBytes(e,n);break;case vt.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case vt.BYTE:t.append8BitBytes(e,n,a);break;case vt.KANJI:t.appendKanjiBytes(e,n);break;default:throw new xt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var s=t.getDigit(e.charAt(a));if(a+2<n){var l=t.getDigit(e.charAt(a+1)),u=t.getDigit(e.charAt(a+2));r.appendBits(s*100+l*10+u,10),a+=3}else if(a+1<n){var l=t.getDigit(e.charAt(a+1));r.appendBits(s*10+l,7),a+=2}else r.appendBits(s,4),a++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var s=t.getAlphanumericCode(e.charCodeAt(a));if(s===-1)throw new xt;if(a+1<n){var l=t.getAlphanumericCode(e.charCodeAt(a+1));if(l===-1)throw new xt;r.appendBits(s*45+l,11),a+=2}else r.appendBits(s,6),a++}},t.append8BitBytes=function(e,r,n){var a;try{a=Jr.encode(e,n)}catch(h){throw new xt(h)}for(var s=0,l=a.length;s!==l;s++){var u=a[s];r.appendBits(u,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Jr.encode(e,Ut.SJIS)}catch(v){throw new xt(v)}for(var a=n.length,s=0;s<a;s+=2){var l=n[s]&255,u=n[s+1]&255,h=l<<8&4294967295|u,m=-1;if(h>=33088&&h<=40956?m=h-33088:h>=57408&&h<=60351&&(m=h-49472),m===-1)throw new xt("Invalid byte sequence");var x=(m>>8)*192+(m&255);r.appendBits(x,13)}},t.appendECI=function(e,r){r.appendBits(vt.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Ut.UTF8.getName(),t})();var i8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){i8(e,t);function e(r,n,a,s,l,u,h,m){var x=t.call(this,u,h)||this;if(x.yuvData=r,x.dataWidth=n,x.dataHeight=a,x.left=s,x.top=l,s+u>n||l+h>a)throw new Te("Crop rectangle does not fit within image data.");return m&&x.reverseHorizontal(u,h),x}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Te("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var s=(r+this.top)*this.dataWidth+this.left;return pt.arraycopy(this.yuvData,s,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,s=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return pt.arraycopy(this.yuvData,l,s,0,a),s;for(var u=0;u<n;u++){var h=u*r;pt.arraycopy(this.yuvData,l,s,h,r),l+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,s,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),s=this.yuvData,l=this.top*this.dataWidth+this.left,u=0;u<n;u++){for(var h=u*r,m=0;m<r;m++){var x=s[l+m*e.THUMBNAIL_SCALE_FACTOR]&255;a[h+m]=4278190080|x*65793}l+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,s=0,l=this.top*this.dataWidth+this.left;s<n;s++,l+=this.dataWidth)for(var u=l+r/2,h=l,m=l+r-1;h<u;h++,m--){var x=a[h];a[h]=a[m],a[m]=x}},e.prototype.invert=function(){return new n0(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(wc);var s8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){s8(e,t);function e(r,n,a,s,l,u,h){var m=t.call(this,n,a)||this;if(m.dataWidth=s,m.dataHeight=l,m.left=u,m.top=h,r.BYTES_PER_ELEMENT===4){for(var x=n*a,v=new Uint8ClampedArray(x),y=0;y<x;y++){var b=r[y],w=b>>16&255,_=b>>7&510,N=b&255;v[y]=(w+_+N)/4&255}m.luminances=v}else m.luminances=r;if(s===void 0&&(m.dataWidth=n),l===void 0&&(m.dataHeight=a),u===void 0&&(m.left=0),h===void 0&&(m.top=0),m.left+n>m.dataWidth||m.top+a>m.dataHeight)throw new Te("Crop rectangle does not fit within image data.");return m}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Te("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var s=(r+this.top)*this.dataWidth+this.left;return pt.arraycopy(this.luminances,s,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,s=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return pt.arraycopy(this.luminances,l,s,0,a),s;for(var u=0;u<n;u++){var h=u*r;pt.arraycopy(this.luminances,l,s,h,r),l+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,s){return new e(this.luminances,a,s,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new n0(this)},e})(wc);var o8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l8=function(t){o8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Ut),c8=function(){function t(){}return t.ISO_8859_1=Ut.ISO8859_1,t}(),Md,u8=301,f8=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=u8);return{LOG:t,ALOG:e}};Md=f8([],[]),Md.LOG;Md.ALOG;var Lx;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Lx||(Lx={}));var kx=129,pg=230,d8=231,h8=235,m8=236,p8=237,x8=238,v8=239,g8=240,nd=254,y8=254,Fx="[)>05",Ux="[)>06",zx="",st=0,ir=1,gr=2,kt=3,Wt=4,ur=5,b8=function(){function t(){}return t.prototype.getEncodingMode=function(){return st},t.prototype.encode=function(e){var r=mn.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=mn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case ur:e.writeCodeword(d8),e.signalEncoderChange(ur);return;case ir:e.writeCodeword(pg),e.signalEncoderChange(ir);return;case kt:e.writeCodeword(x8),e.signalEncoderChange(kt);break;case gr:e.writeCodeword(v8),e.signalEncoderChange(gr);break;case Wt:e.writeCodeword(g8),e.signalEncoderChange(Wt);break;default:throw new Error("Illegal mode: "+a)}else mn.isExtendedASCII(n)?(e.writeCodeword(h8),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(mn.isDigit(e)&&mn.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),_8=function(){function t(){}return t.prototype.getEncodingMode=function(){return ur},t.prototype.encode=function(e){var r=new Fe;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var a=mn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(st);break}}var s=r.length()-1,l=1,u=e.getCodewordCount()+s+l;e.updateSymbolInfo(u);var h=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||h)if(s<=249)r.setCharAt(0,$e.getCharAt(s));else if(s<=1555)r.setCharAt(0,$e.getCharAt(Math.floor(s/250)+249)),r.insert(1,$e.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var m=0,n=r.length();m<n;m++)e.writeCodeword(this.randomize255State(r.charAt(m).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,a=e+n;return a<=255?a:a-256},t}(),l0=function(){function t(){}return t.prototype.getEncodingMode=function(){return ir},t.prototype.encodeMaximal=function(e){for(var r=new Fe,n=0,a=e.pos,s=0;e.hasMoreCharacters();){var l=e.getCurrentChar();e.pos++,n=this.encodeChar(l,r),r.length()%3===0&&(a=e.pos,s=r.length())}if(s!==r.length()){var u=Math.floor(r.length()/3*2),h=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(h);var m=e.getSymbolInfo().getDataCapacity()-h,x=Math.floor(r.length()%3);(x===2&&m!==2||x===1&&(n>3||m!==1))&&(e.pos=a)}r.length()>0&&e.writeCodeword(pg),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Fe;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,r),s=Math.floor(r.length()/3)*2,l=e.getCodewordCount()+s;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l;if(!e.hasMoreCharacters()){var h=new Fe;for(r.length()%3===2&&u!==2&&(a=this.backtrackOneCharacter(e,r,h,a));r.length()%3===1&&(a>3||u!==1);)a=this.backtrackOneCharacter(e,r,h,a);break}var m=r.length();if(m%3===0){var x=mn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(x!==this.getEncodingMode()){e.signalEncoderChange(st);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,a){var s=r.length(),l=r.toString().substring(0,s-a);r.setLengthToZero(),r.append(l),e.pos--;var u=e.getCurrentChar();return a=this.encodeChar(u,n),e.resetSymbolInfo(),a},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,s=e.getCodewordCount()+n;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(nd)}else if(l===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(nd),e.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(l>0||e.hasMoreCharacters())&&e.writeCodeword(nd)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(st)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,a=r%256,s=new Fe;return s.append(n),s.append(a),s.toString()},t}(),w8=function(){function t(){}return t.prototype.getEncodingMode=function(){return Wt},t.prototype.encode=function(e){for(var r=new Fe;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var a=r.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var s=r.toString().substring(4);r.setLengthToZero(),r.append(s);var l=mn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){e.signalEncoderChange(st);break}}}r.append($e.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var l=n-1,u=this.encodeToCodewords(r.toString()),h=!e.hasMoreCharacters(),m=h&&l<=2;if(l<=2){e.updateSymbolInfo(e.getCodewordCount()+l);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(m=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}m?(e.resetSymbolInfo(),e.pos-=l):e.writeCodewords(u)}finally{e.signalEncoderChange(st)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append($e.getCharAt(e-64)):mn.illegalCharacter($e.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=r>=2?e.charAt(1).charCodeAt(0):0,s=r>=3?e.charAt(2).charCodeAt(0):0,l=r>=4?e.charAt(3).charCodeAt(0):0,u=(n<<18)+(a<<12)+(s<<6)+l,h=u>>16&255,m=u>>8&255,x=u&255,v=new Fe;return v.append(h),r>=2&&v.append(m),r>=3&&v.append(x),v.toString()},t}(),A8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tt=function(){function t(e,r,n,a,s,l,u,h){u===void 0&&(u=0),h===void 0&&(h=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=s,this.dataRegions=l,this.rsBlockData=u,this.rsBlockError=h}return t.lookup=function(e,r,n,a,s){var l,u;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),s===void 0&&(s=!0);try{for(var h=E8(S8),m=h.next();!m.done;m=h.next()){var x=m.value;if(!(r===1&&x.rectangular)&&!(r===2&&!x.rectangular)&&!(n!=null&&(x.getSymbolWidth()<n.getWidth()||x.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(x.getSymbolWidth()>a.getWidth()||x.getSymbolHeight()>a.getHeight()))&&e<=x.dataCapacity)return x}}catch(v){l={error:v}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),N8=function(t){A8(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(tt),S8=[new tt(!1,3,5,8,8,1),new tt(!1,5,7,10,10,1),new tt(!0,5,7,16,6,1),new tt(!1,8,10,12,12,1),new tt(!0,10,11,14,6,2),new tt(!1,12,12,14,14,1),new tt(!0,16,14,24,10,1),new tt(!1,18,14,16,16,1),new tt(!1,22,18,18,18,1),new tt(!0,22,18,16,10,2),new tt(!1,30,20,20,20,1),new tt(!0,32,24,16,14,2),new tt(!1,36,24,22,22,1),new tt(!1,44,28,24,24,1),new tt(!0,49,28,22,14,2),new tt(!1,62,36,14,14,4),new tt(!1,86,42,16,16,4),new tt(!1,114,48,18,18,4),new tt(!1,144,56,20,20,4),new tt(!1,174,68,22,22,4),new tt(!1,204,84,24,24,4,102,42),new tt(!1,280,112,14,14,16,140,56),new tt(!1,368,144,16,16,16,92,36),new tt(!1,456,192,18,18,16,114,48),new tt(!1,576,224,20,20,16,144,56),new tt(!1,696,272,22,22,16,174,68),new tt(!1,816,336,24,24,16,136,56),new tt(!1,1050,408,18,18,36,175,68),new tt(!1,1304,496,20,20,36,163,62),new N8],C8=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(u){return u.charCodeAt(0)}),n=new Fe,a=0,s=r.length;a<s;a++){var l=String.fromCharCode(r[a]&255);if(l==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(l)}this.msg=n.toString(),this.shape=0,this.codewords=new Fe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=tt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),O8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T8=function(t){O8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return kt},e.prototype.encode=function(r){for(var n=new Fe;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var s=n.length();if(s%3===0){this.writeNextTriplet(r,n);var l=mn.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){r.signalEncoderChange(st);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):mn.illegalCharacter($e.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),s=n.length();r.pos-=s,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(y8),r.getNewEncoding()<0&&r.signalEncoderChange(st)},e}(l0),j8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D8=function(t){j8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return gr},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},e}(l0),mn=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=kx+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,a,s){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),s===void 0&&(s=!1);var l=new l0,u=[new b8,l,new D8,new T8,new w8,new _8],h=new C8(e);h.setSymbolShape(r),h.setSizeConstraints(n,a),e.startsWith(Fx)&&e.endsWith(zx)?(h.writeCodeword(m8),h.setSkipAtEnd(2),h.pos+=Fx.length):e.startsWith(Ux)&&e.endsWith(zx)&&(h.writeCodeword(p8),h.setSkipAtEnd(2),h.pos+=Ux.length);var m=st;for(s&&(l.encodeMaximal(h),m=h.getNewEncoding(),h.resetEncoderSignal());h.hasMoreCharacters();)u[m].encode(h),h.getNewEncoding()>=0&&(m=h.getNewEncoding(),h.resetEncoderSignal());var x=h.getCodewordCount();h.updateSymbolInfo();var v=h.getSymbolInfo().getDataCapacity();x<v&&m!==st&&m!==ur&&m!==Wt&&h.writeCodeword("þ");var y=h.getCodewords();for(y.length()<v&&y.append(kx);y.length()<v;)y.append(this.randomize253State(y.length()+1));return h.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var a=this.lookAheadTestIntern(e,r,n);if(n===kt&&a===kt){for(var s=Math.min(r+3,e.length),l=r;l<s;l++)if(!this.isNativeX12(e.charCodeAt(l)))return st}else if(n===Wt&&a===Wt){for(var s=Math.min(r+4,e.length),l=r;l<s;l++)if(!this.isNativeEDIFACT(e.charCodeAt(l)))return st}return a},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var a;n===st?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var s=0,l=new Uint8Array(6),u=[];;){if(r+s===e.length){zt.fill(l,0),zt.fill(u,0);var h=this.findMinimums(a,u,ze.MAX_VALUE,l),m=this.getMinimumCount(l);if(u[st]===h)return st;if(m===1){if(l[ur]>0)return ur;if(l[Wt]>0)return Wt;if(l[gr]>0)return gr;if(l[kt]>0)return kt}return ir}var x=e.charCodeAt(r+s);if(s++,this.isDigit(x)?a[st]+=.5:this.isExtendedASCII(x)?(a[st]=Math.ceil(a[st]),a[st]+=2):(a[st]=Math.ceil(a[st]),a[st]++),this.isNativeC40(x)?a[ir]+=2/3:this.isExtendedASCII(x)?a[ir]+=8/3:a[ir]+=4/3,this.isNativeText(x)?a[gr]+=2/3:this.isExtendedASCII(x)?a[gr]+=8/3:a[gr]+=4/3,this.isNativeX12(x)?a[kt]+=2/3:this.isExtendedASCII(x)?a[kt]+=13/3:a[kt]+=10/3,this.isNativeEDIFACT(x)?a[Wt]+=3/4:this.isExtendedASCII(x)?a[Wt]+=17/4:a[Wt]+=13/4,this.isSpecialB256(x)?a[ur]+=4:a[ur]++,s>=4){if(zt.fill(l,0),zt.fill(u,0),this.findMinimums(a,u,ze.MAX_VALUE,l),u[st]<this.min(u[ur],u[ir],u[gr],u[kt],u[Wt]))return st;if(u[ur]<u[st]||u[ur]+1<this.min(u[ir],u[gr],u[kt],u[Wt]))return ur;if(u[Wt]+1<this.min(u[ur],u[ir],u[gr],u[kt],u[st]))return Wt;if(u[gr]+1<this.min(u[ur],u[ir],u[Wt],u[kt],u[st]))return gr;if(u[kt]+1<this.min(u[ur],u[ir],u[Wt],u[gr],u[st]))return kt;if(u[ir]+1<this.min(u[st],u[ur],u[Wt],u[gr])){if(u[ir]<u[kt])return ir;if(u[ir]===u[kt]){for(var v=r+s+1;v<e.length;){var y=e.charCodeAt(v);if(this.isX12TermSep(y))return kt;if(!this.isNativeX12(y))break;v++}return ir}}}}},t.min=function(e,r,n,a,s){var l=Math.min(e,Math.min(r,Math.min(n,a)));return s===void 0?l:Math.min(l,s)},t.findMinimums=function(e,r,n,a){for(var s=0;s<6;s++){var l=r[s]=Math.ceil(e[s]);n>l&&(n=l,zt.fill(a,0)),n===l&&(a[s]=a[s]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,a=r;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-r},t.illegalCharacter=function(e){var r=ze.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),ad=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vx=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Jr.encode(e,this.charset)!=null}catch{return!1}},t}(),R8=function(){function t(e,r,n){var a,s,l,u,h,m;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(J){return new Vx(l8.forName(J))}),this.encoders=[];var x=[];x.push(new Vx(c8.ISO_8859_1));for(var v=r!=null&&r.name.startsWith("UTF"),y=0;y<e.length;y++){var b=!1;try{for(var w=(a=void 0,ad(x)),_=w.next();!_.done;_=w.next()){var N=_.value,C=e.charAt(y),E=C.charCodeAt(0);if(E===n||N.canEncode(C)){b=!0;break}}}catch(J){a={error:J}}finally{try{_&&!_.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}if(!b)try{for(var O=(l=void 0,ad(this.ENCODERS)),j=O.next();!j.done;j=O.next()){var N=j.value;if(N.canEncode(e.charAt(y))){x.push(N),b=!0;break}}}catch(J){l={error:J}}finally{try{j&&!j.done&&(u=O.return)&&u.call(O)}finally{if(l)throw l.error}}b||(v=!0)}if(x.length===1&&!v)this.encoders=[x[0]];else{this.encoders=[];var R=0;try{for(var k=ad(x),K=k.next();!K.done;K=k.next()){var N=K.value;this.encoders[R++]=N}}catch(J){h={error:J}}finally{try{K&&!K.done&&(m=k.return)&&m.call(k)}finally{if(h)throw h.error}}}var W=-1;if(r!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&r.name===this.encoders[y].name){W=y;break}}this.priorityEncoderIndex=W}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Jr.encode($e.getCharAt(e),this.encoders[r].name)},t}(),I8=3,M8=function(){function t(e,r,n){this.fnc1=n;var a=new R8(e,r,n);if(a.length()===1)for(var s=0;s<this.bytes.length;s++){var l=e.charAt(s).charCodeAt(0);this.bytes[s]=l===n?1e3:l}else this.bytes=this.encodeMinimally(e,a,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Fe,a=e;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,a,s,l){var u=e.charAt(a).charCodeAt(0),h=0,m=r.length();r.getPriorityEncoderIndex()>=0&&(u===l||r.canEncode(u,r.getPriorityEncoderIndex()))&&(h=r.getPriorityEncoderIndex(),m=h+1);for(var x=h;x<m;x++)(u===l||r.canEncode(u,x))&&this.addEdge(n,a+1,new Hx(u,r,x,s,l))},t.prototype.encodeMinimally=function(e,r,n){var a=e.length,s=new Hx[a+1][r.length()];this.addEdges(e,r,s,0,null,n);for(var l=1;l<=a;l++){for(var u=0;u<r.length();u++)s[l][u]!=null&&l<a&&this.addEdges(e,r,s,l,s[l][u],n);for(var u=0;u<r.length();u++)s[l-1][u]=null}for(var h=-1,m=ze.MAX_VALUE,u=0;u<r.length();u++)if(s[a][u]!=null){var x=s[a][u];x.cachedTotalSize<m&&(m=x.cachedTotalSize,h=u)}if(h<0)throw new Error('Failed to encode "'+e+'"');for(var v=[],y=s[a][h];y!=null;){if(y.isFNC1())v.unshift(1e3);else for(var b=r.encode(y.c,y.encoderIndex),l=b.length-1;l>=0;l--)v.unshift(b[l]&255);var w=y.previous===null?0:y.previous.encoderIndex;w!==y.encoderIndex&&v.unshift(256+r.getECIValue(y.encoderIndex)),y=y.previous}for(var _=[],l=0;l<_.length;l++)_[l]=v[l];return _},t}(),Hx=function(){function t(e,r,n,a,s){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=s,this.c=e===s?1e3:e;var l=this.isFNC1()?1:r.encode(e,n).length,u=a===null?0:a.encoderIndex;u!==n&&(l+=I8),a!=null&&(l+=a.cachedTotalSize),this.cachedTotalSize=l}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),B8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Gx;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(Gx||(Gx={}));(function(t){B8(e,t);function e(r,n,a,s,l){var u=t.call(this,r,n,a)||this;return u.shape=s,u.macroId=l,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(M8);var P8=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),Zx=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),L8=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),k8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),c0=function(t){k8(e,t);function e(r,n,a){var s=t.call(this,r)||this;return s.value=n,s.bitCount=a,s}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+ze.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(L8),F8=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U8=function(t){F8(e,t);function e(r,n,a){var s=t.call(this,r,0,0)||this;return s.binaryShiftStart=n,s.binaryShiftByteCount=a,s}return e.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(c0);function z8(t,e,r){return new U8(t,e,r)}function io(t,e,r){return new c0(t,e,r)}var V8=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ea=0,oc=1,Qr=2,xg=3,Sn=4,H8=new c0(null,0,0),id=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],G8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Z8(t){var e,r;try{for(var n=G8(t),a=n.next();!a.done;a=n.next()){var s=a.value;zt.fill(s,-1)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Ea][Sn]=0,t[oc][Sn]=0,t[oc][Ea]=28,t[xg][Sn]=0,t[Qr][Sn]=0,t[Qr][Ea]=15,t}var vg=Z8(zt.createInt32Array(6,6)),X8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},q8=function(){function t(e,r,n,a){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,a=this.token;if(e!==this.mode){var s=id[this.mode][e];a=io(a,s&65535,s>>16),n+=s>>16}var l=e===Qr?4:5;return a=io(a,r,l),new t(a,e,0,n+l)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,a=this.mode===Qr?4:5;return n=io(n,vg[this.mode][e],a),n=io(n,r,5),new t(n,this.mode,0,this.bitCount+a+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===Sn||this.mode===Qr){var s=id[n][Ea];r=io(r,s&65535,s>>16),a+=s>>16,n=Ea}var l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new t(r,n,this.binaryShiftByteCount+1,a+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=z8(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(id[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,a=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())a.unshift(s);var l=new er;try{for(var u=X8(a),h=u.next();!h.done;h=u.next()){var m=h.value;m.appendTo(l,e)}}catch(x){r={error:x}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return l},t.prototype.toString=function(){return $e.format("%s bits=%d bytes=%d",V8[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(H8,Ea,0,0),t}();function $8(t){var e=$e.getCharCode(" "),r=$e.getCharCode("."),n=$e.getCharCode(",");t[Ea][e]=1;for(var a=$e.getCharCode("Z"),s=$e.getCharCode("A"),l=s;l<=a;l++)t[Ea][l]=l-s+2;t[oc][e]=1;for(var u=$e.getCharCode("z"),h=$e.getCharCode("a"),l=h;l<=u;l++)t[oc][l]=l-h+2;t[Qr][e]=1;for(var m=$e.getCharCode("9"),x=$e.getCharCode("0"),l=x;l<=m;l++)t[Qr][l]=l-x+2;t[Qr][n]=12,t[Qr][r]=13;for(var v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<v.length;y++)t[xg][$e.getCharCode(v[y])]=y;for(var b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<b.length;y++)$e.getCharCode(b[y])>0&&(t[Sn][$e.getCharCode(b[y])]=y);return t}var sd=$8(zt.createInt32Array(5,256)),Zl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y8=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=$e.getCharCode(" "),r=$e.getCharCode(`
`),n=Zx.singletonList(q8.INITIAL_STATE),a=0;a<this.text.length;a++){var s=void 0,l=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case $e.getCharCode("\r"):s=l===r?2:0;break;case $e.getCharCode("."):s=l===e?3:0;break;case $e.getCharCode(","):s=l===e?4:0;break;case $e.getCharCode(":"):s=l===e?5:0;break;default:s=0}s>0?(n=t.updateStateListForPair(n,a,s),a++):n=this.updateStateListForChar(n,a)}var u=Zx.min(n,function(h,m){return h.getBitCount()-m.getBitCount()});return u.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,a,s=[];try{for(var l=Zl(e),u=l.next();!u.done;u=l.next()){var h=u.value;this.updateStateForChar(h,r,s)}}catch(m){n={error:m}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return t.simplifyStates(s)},t.prototype.updateStateForChar=function(e,r,n){for(var a=this.text[r]&255,s=sd[e.getMode()][a]>0,l=null,u=0;u<=Sn;u++){var h=sd[u][a];if(h>0){if(l==null&&(l=e.endBinaryShift(r)),!s||u===e.getMode()||u===Qr){var m=l.latchAndAppend(u,h);n.push(m)}if(!s&&vg[e.getMode()][u]>=0){var x=l.shiftAndAppend(u,h);n.push(x)}}}if(e.getBinaryShiftByteCount()>0||sd[e.getMode()][a]===0){var v=e.addBinaryShiftChar(r);n.push(v)}},t.updateStateListForPair=function(e,r,n){var a,s,l=[];try{for(var u=Zl(e),h=u.next();!h.done;h=u.next()){var m=h.value;this.updateStateForPair(m,r,n,l)}}catch(x){a={error:x}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}return this.simplifyStates(l)},t.updateStateForPair=function(e,r,n,a){var s=e.endBinaryShift(r);if(a.push(s.latchAndAppend(Sn,n)),e.getMode()!==Sn&&a.push(s.shiftAndAppend(Sn,n)),n===3||n===4){var l=s.latchAndAppend(Qr,16-n).latchAndAppend(Qr,1);a.push(l)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(u)}},t.simplifyStates=function(e){var r,n,a,s,l=[];try{for(var u=Zl(e),h=u.next();!h.done;h=u.next()){var m=h.value,x=!0,v=function(N){if(N.isBetterThanOrEqualTo(m))return x=!1,"break";m.isBetterThanOrEqualTo(N)&&(l=l.filter(function(C){return C!==N}))};try{for(var y=(a=void 0,Zl(l)),b=y.next();!b.done;b=y.next()){var w=b.value,_=v(w);if(_==="break")break}}catch(N){a={error:N}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}x&&l.push(m)}}catch(N){r={error:N}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return l},t}(),K8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var a=new Y8(e).encode(),s=ze.truncDivision(a.getSize()*r,100)+11,l=a.getSize()+s,u,h,m,x,v;if(n!==t.DEFAULT_AZTEC_LAYERS){if(u=n<0,h=Math.abs(n),h>(u?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Te($e.format("Illegal value %s for layers",n));m=t.totalBitsInLayer(h,u),x=t.WORD_SIZE[h];var y=m-m%x;if(v=t.stuffBits(a,x),v.getSize()+s>y)throw new Te("Data to large for user specified layer");if(u&&v.getSize()>x*64)throw new Te("Data to large for user specified layer")}else{x=0,v=null;for(var b=0;;b++){if(b>t.MAX_NB_BITS)throw new Te("Data too large for an Aztec code");if(u=b<=3,h=u?b+1:b,m=t.totalBitsInLayer(h,u),!(l>m)){(v==null||x!==t.WORD_SIZE[h])&&(x=t.WORD_SIZE[h],v=t.stuffBits(a,x));var y=m-m%x;if(!(u&&v.getSize()>x*64)&&v.getSize()+s<=y)break}}}var w=t.generateCheckWords(v,m,x),_=v.getSize()/x,N=t.generateModeMessage(u,h,_),C=(u?11:14)+h*4,E=new Int32Array(C),O;if(u){O=C;for(var b=0;b<E.length;b++)E[b]=b}else{O=C+1+2*ze.truncDivision(ze.truncDivision(C,2)-1,15);for(var j=ze.truncDivision(C,2),R=ze.truncDivision(O,2),b=0;b<j;b++){var k=b+ze.truncDivision(b,15);E[j-b-1]=R-k-1,E[j+b]=R+k+1}}for(var K=new Cn(O),b=0,W=0;b<h;b++){for(var J=(h-b)*4+(u?9:12),Z=0;Z<J;Z++)for(var ve=Z*2,se=0;se<2;se++)w.get(W+ve+se)&&K.set(E[b*2+se],E[b*2+Z]),w.get(W+J*2+ve+se)&&K.set(E[b*2+Z],E[C-1-b*2-se]),w.get(W+J*4+ve+se)&&K.set(E[C-1-b*2-se],E[C-1-b*2-Z]),w.get(W+J*6+ve+se)&&K.set(E[C-1-b*2-Z],E[b*2+se]);W+=J*8}if(t.drawModeMessage(K,u,O,N),u)t.drawBullsEye(K,ze.truncDivision(O,2),5);else{t.drawBullsEye(K,ze.truncDivision(O,2),7);for(var b=0,Z=0;b<ze.truncDivision(C,2)-1;b+=15,Z+=16)for(var se=ze.truncDivision(O,2)&1;se<O;se+=2)K.set(ze.truncDivision(O,2)-Z,se),K.set(ze.truncDivision(O,2)+Z,se),K.set(se,ze.truncDivision(O,2)-Z),K.set(se,ze.truncDivision(O,2)+Z)}var he=new P8;return he.setCompact(u),he.setSize(O),he.setLayers(h),he.setCodeWords(_),he.setMatrix(K),he},t.drawBullsEye=function(e,r,n){for(var a=0;a<n;a+=2)for(var s=r-a;s<=r+a;s++)e.set(s,r-a),e.set(s,r+a),e.set(r-a,s),e.set(r+a,s);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var a=new er;return e?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=t.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=t.generateCheckWords(a,40,4)),a},t.drawModeMessage=function(e,r,n,a){var s=ze.truncDivision(n,2);if(r)for(var l=0;l<7;l++){var u=s-3+l;a.get(l)&&e.set(u,s-5),a.get(l+7)&&e.set(s+5,u),a.get(20-l)&&e.set(u,s+5),a.get(27-l)&&e.set(s-5,u)}else for(var l=0;l<10;l++){var u=s-5+l+ze.truncDivision(l,5);a.get(l)&&e.set(u,s-7),a.get(l+10)&&e.set(s+7,u),a.get(29-l)&&e.set(u,s+7),a.get(39-l)&&e.set(s-7,u)}},t.generateCheckWords=function(e,r,n){var a,s,l=e.getSize()/n,u=new mg(t.getGF(n)),h=ze.truncDivision(r,n),m=t.bitsToWords(e,n,h);u.encode(m,h-l);var x=r%n,v=new er;v.appendBits(0,x);try{for(var y=K8(Array.from(m)),b=y.next();!b.done;b=y.next()){var w=b.value;v.appendBits(w,n)}}catch(_){a={error:_}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}return v},t.bitsToWords=function(e,r,n){var a=new Int32Array(n),s,l;for(s=0,l=e.getSize()/r;s<l;s++){for(var u=0,h=0;h<r;h++)u|=e.get(s*r+h)?1<<r-h-1:0;a[s]=u}return a},t.getGF=function(e){switch(e){case 4:return Tr.AZTEC_PARAM;case 6:return Tr.AZTEC_DATA_6;case 8:return Tr.AZTEC_DATA_8;case 10:return Tr.AZTEC_DATA_10;case 12:return Tr.AZTEC_DATA_12;default:throw new Te("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new er,a=e.getSize(),s=(1<<r)-2,l=0;l<a;l+=r){for(var u=0,h=0;h<r;h++)(l+h>=a||e.get(l+h))&&(u|=1<<r-1-h);(u&s)===s?(n.appendBits(u&s,r),l--):(u&s)===0?(n.appendBits(u|1,r),l--):n.appendBits(u,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const W8=({onResult:t,onClose:e,isOpen:r})=>{const[n,a]=z.useState(!1),[s,l]=z.useState(""),[u,h]=z.useState(null),m=z.useRef(null),x=z.useRef(null),v=z.useRef(null),y=z.useCallback(()=>{x.current&&x.current.reset(),v.current&&(v.current.getTracks().forEach(_=>_.stop()),v.current=null),a(!1),l("")},[]),b=z.useCallback(async()=>{if(m.current){a(!0),l("");try{x.current=new ni;const _=await x.current.listVideoInputDevices();if(_.length===0)throw new Error("No se encontraron cámaras disponibles");const N=_.find(E=>E.label.toLowerCase().includes("back")||E.label.toLowerCase().includes("rear"))?.deviceId||_[0].deviceId,C=await navigator.mediaDevices.getUserMedia({video:{deviceId:N,width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"environment"}}});v.current=C,m.current.srcObject=C,h(!0),x.current.decodeFromVideoDevice(N,m.current,(E,O)=>{if(E){const j=E.getText();w(j)?(t(j.toUpperCase()),y(),e()):(l("El código escaneado no es un VIN válido"),setTimeout(()=>l(""),3e3))}O&&!(O instanceof ee)&&console.error("Error de escaneo:",O)}),a(!1)}catch(_){console.error("Error al iniciar el escáner:",_),a(!1);const N=_;N.name==="NotAllowedError"?(l("Permiso de cámara denegado. Por favor permite el acceso a la cámara."),h(!1)):N.name==="NotFoundError"?l("No se encontró una cámara disponible."):N.name==="NotReadableError"?l("La cámara está siendo usada por otra aplicación."):l(N.message||"Error al acceder a la cámara")}}},[t,e,y]),w=_=>/^[A-HJ-NPR-Z0-9]{17}$/i.test(_);return z.useEffect(()=>(r?b():y(),()=>{y()}),[r,b,y]),r?f.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex flex-col",children:[f.jsxs("div",{className:"bg-white p-4 shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Escanear Código VIN"}),f.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"✕"})]}),s&&f.jsx("div",{className:"mt-3 p-3 bg-red-100 border border-red-300 rounded-lg",children:f.jsx("p",{className:"text-red-700 text-sm",children:s})}),u===!1&&f.jsx("div",{className:"mt-3 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:f.jsx("p",{className:"text-yellow-700 text-sm",children:"Para usar el escáner, necesitas permitir el acceso a la cámara en tu navegador."})})]}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("video",{ref:m,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),n&&f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white p-4 rounded-lg flex items-center space-x-3",children:[f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),f.jsx("span",{className:"text-gray-700",children:"Iniciando cámara..."})]})}),f.jsx("div",{className:"absolute inset-0 pointer-events-none",children:f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:f.jsxs("div",{className:"w-80 h-20 border-2 border-red-500 rounded-lg relative",children:[f.jsx("div",{className:"absolute -top-8 left-0 text-white text-sm bg-black bg-opacity-50 px-2 py-1 rounded",children:"Apunte la cámara al código de barras del VIN"}),f.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-red-500"}),f.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-red-500"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-red-500"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-red-500"})]})})})]}),f.jsxs("div",{className:"bg-white p-4",children:[f.jsx("div",{className:"flex justify-center space-x-4",children:f.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"})}),f.jsx("div",{className:"mt-3 text-center",children:f.jsx("p",{className:"text-sm text-gray-600",children:"Mantén el código de barras dentro del recuadro rojo para escanearlo"})})]})]}):null},Q8=Qt().regex(/^\+52[0-9]{10}$/,"Formato: +52 seguido de 10 dígitos"),J8=es({nombre:Qt().min(1,"Nombre requerido"),telefono:Q8,rfc:Qt().optional()}),Bd=({customer:t,onSuccess:e,onCancel:r})=>{const[n,a]=z.useState(!1),[s,l]=z.useState(null),u=!!t,{register:h,handleSubmit:m,watch:x,setValue:v,formState:{errors:y}}=en({resolver:Ji(J8),defaultValues:t?{nombre:t.nombre,telefono:t.telefono,rfc:t.rfc||""}:{telefono:"+52"}}),b=async w=>{a(!0),l(null);try{const _=Object.fromEntries(Object.entries(w).filter(([C,E])=>E!==""&&E!==void 0));let N;u?N=await Xn.update(t.customer_id,_):N=await Xn.create(_),e?.(N.customer)}catch(_){l(_.response?.data?.message||"Error al guardar el cliente")}finally{a(!1)}};return f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:u?"Editar Cliente":"Registrar Nuevo Cliente"}),r&&f.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-red-600 text-sm",children:s})}),f.jsxs("form",{onSubmit:m(b),className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),f.jsx("input",{...h("nombre"),type:"text",className:"input-field",placeholder:"Juan Pérez García"}),y.nombre&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.nombre.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono / WhatsApp *"}),f.jsx("input",{...h("telefono"),type:"tel",className:"input-field",placeholder:"+5215512345678"}),y.telefono&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.telefono.message}),f.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formato: +52 seguido de 10 dígitos"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RFC (Opcional)"}),f.jsx("input",{...h("rfc"),type:"text",className:"input-field uppercase",placeholder:"PEGJ801215ABC (opcional)",maxLength:13}),f.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Solo para facturación empresarial"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r&&f.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:n,className:"btn-primary disabled:opacity-50",children:n?u?"Actualizando...":"Registrando...":u?"Actualizar Cliente":"Registrar Cliente"})]})]})]})},e6=es({vin:Qt().transform(t=>t===""?void 0:t).optional(),marca:Qt().min(1,"Marca requerida"),modelo:Qt().min(1,"Modelo requerido"),año:$i().int().min(1900).max(new Date().getFullYear()+1,"Año inválido"),placa_actual:Qt().min(1,"Placa requerida"),customer_id:$i().optional(),kilometraje_actual:$i().min(0,"Kilometraje no puede ser negativo"),color:Qt().optional(),numero_motor:Qt().optional(),tipo_combustible:Yi(["gasolina","diesel","hibrido","electrico"]),transmision:Yi(["manual","automatica"]),notas:Qt().optional()}),t6=["Nissan","Volkswagen","Chevrolet","Ford","Honda","Toyota","Hyundai","Kia","Mazda","Mitsubishi","Suzuki","Jeep"],Xx=({vehicle:t,onSuccess:e,onCancel:r})=>{const[n,a]=z.useState(!1),[s,l]=z.useState(null),[u,h]=z.useState([]),[m,x]=z.useState(""),[v,y]=z.useState(!1),[b,w]=z.useState(!1),_=!!t,{register:N,handleSubmit:C,setValue:E,watch:O,formState:{errors:j}}=en({resolver:Ji(e6),defaultValues:t?{vin:t.vin,marca:t.marca,modelo:t.modelo,año:t.año,placa_actual:t.placa_actual||"",customer_id:t.customer_id||void 0,kilometraje_actual:t.kilometraje_actual,color:t.color||"",numero_motor:t.numero_motor||"",tipo_combustible:t.tipo_combustible,transmision:t.transmision,notas:t.notas||""}:{kilometraje_actual:0,tipo_combustible:"gasolina",transmision:"manual"}}),R=O("customer_id");z.useEffect(()=>{const Z=setTimeout(async()=>{if(m.length>=2)try{const ve=await Xn.searchByName(m);h(ve.customers||[])}catch(ve){console.error("Error buscando clientes:",ve)}else h([])},300);return()=>clearTimeout(Z)},[m]);const k=async J=>{a(!0),l(null);try{const Z=Object.fromEntries(Object.entries(J).filter(([se,he])=>he!==""&&he!==void 0));let ve;_?ve=await Or.update(t.vin,Z):ve=await Or.create(Z),e?.(ve.vehicle)}catch(Z){l(Z.response?.data?.message||"Error al guardar el vehículo")}finally{a(!1)}},K=J=>{E("vin",J),y(!1)},W=J=>{E("customer_id",J.customer_id),x(J.nombre),w(!1),h([])};return f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:_?"Editar Vehículo":"Registrar Nuevo Vehículo"}),r&&f.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-red-600 text-sm",children:s})}),f.jsxs("form",{onSubmit:C(k),className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VIN"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{...N("vin"),type:"text",className:"input-field uppercase flex-1",placeholder:"Número de identificación del vehículo (opcional)",disabled:_}),!_&&f.jsxs("button",{type:"button",onClick:()=>y(!0),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-1 whitespace-nowrap",title:"Escanear código de barras VIN",children:[f.jsx("span",{children:"📷"}),f.jsx("span",{className:"hidden sm:inline",children:"Escanear VIN"})]})]}),j.vin&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.vin.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placas *"}),f.jsx("input",{...N("placa_actual"),type:"text",className:"input-field uppercase",placeholder:"Placas del vehículo"}),j.placa_actual&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.placa_actual.message})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),f.jsxs("select",{...N("marca"),className:"input-field",children:[f.jsx("option",{value:"",children:"Seleccionar marca"}),t6.map(J=>f.jsx("option",{value:J,children:J},J)),f.jsx("option",{value:"Otra",children:"Otra"})]}),j.marca&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.marca.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),f.jsx("input",{...N("modelo"),type:"text",className:"input-field",placeholder:"Tsuru, Jetta, Aveo..."}),j.modelo&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.modelo.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Año *"}),f.jsx("input",{...N("año",{valueAsNumber:!0}),type:"number",className:"input-field",min:"1900",max:new Date().getFullYear()+1}),j.año&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.año.message})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilometraje actual"}),f.jsx("input",{...N("kilometraje_actual",{valueAsNumber:!0}),type:"number",className:"input-field",min:"0",placeholder:"150000"}),j.kilometraje_actual&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.kilometraje_actual.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de combustible"}),f.jsxs("select",{...N("tipo_combustible"),className:"input-field",children:[f.jsx("option",{value:"gasolina",children:"Gasolina"}),f.jsx("option",{value:"diesel",children:"Diesel"}),f.jsx("option",{value:"hibrido",children:"Híbrido"}),f.jsx("option",{value:"electrico",children:"Eléctrico"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transmisión"}),f.jsxs("select",{...N("transmision"),className:"input-field",children:[f.jsx("option",{value:"manual",children:"Manual"}),f.jsx("option",{value:"automatica",children:"Automática"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),f.jsx("input",{...N("color"),type:"text",className:"input-field",placeholder:"Blanco, Azul, Rojo..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número de motor"}),f.jsx("input",{...N("numero_motor"),type:"text",className:"input-field",placeholder:"A15123456"})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Propietario"}),f.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-sm bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 transition-colors",children:"+ Nuevo Cliente"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("input",{type:"text",value:m,onChange:J=>x(J.target.value),className:"input-field",placeholder:"Buscar cliente por nombre..."}),u.length>0&&f.jsx("div",{className:"border border-gray-300 rounded-lg max-h-48 overflow-y-auto",children:u.map(J=>f.jsxs("button",{type:"button",onClick:()=>{E("customer_id",J.customer_id),x(J.nombre),h([])},className:`w-full text-left p-3 hover:bg-gray-50 border-b border-gray-200 last:border-b-0 ${R===J.customer_id?"bg-blue-50":""}`,children:[f.jsx("div",{className:"font-medium",children:J.nombre}),f.jsx("div",{className:"text-sm text-gray-600",children:J.telefono})]},J.customer_id))})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),f.jsx("textarea",{...N("notas"),rows:3,className:"input-field",placeholder:"Información adicional sobre el vehículo..."})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r&&f.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:n,className:"btn-primary disabled:opacity-50",children:n?_?"Actualizando...":"Registrando...":_?"Actualizar Vehículo":"Registrar Vehículo"})]})]}),f.jsx(W8,{isOpen:v,onResult:K,onClose:()=>y(!1)}),b&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:f.jsx(Bd,{onSuccess:W,onCancel:()=>w(!1)})})})]})},r6=es({vin:Qt().min(1,"Seleccione un vehículo"),customer_id:$i().positive("Seleccione un cliente"),tipo_oportunidad:Qt().min(1,"Tipo de oportunidad requerido"),descripcion:Qt().min(1,"Nota requerida"),precio_estimado:$i().positive("Precio debe ser positivo").optional(),fecha_sugerida:Qt().optional(),prioridad:Yi(["alta","media","baja"]),kilometraje_referencia:$i().min(0,"Kilometraje no puede ser negativo").optional()}),n6=["afinacion_mayor","cambio_aceite","servicio_frenos","suspension","direccion","alineacion"],Pd=({opportunity:t,preselectedVin:e,onSuccess:r,onCancel:n})=>{const{user:a}=xn(),[s,l]=z.useState(!1),[u,h]=z.useState(null),[m,x]=z.useState(null),[v,y]=z.useState(""),[b,w]=z.useState([]),[_,N]=z.useState([]),[C,E]=z.useState([]),[O,j]=z.useState(!1),R=!!t,{register:k,handleSubmit:K,setValue:W,watch:J,formState:{errors:Z}}=en({resolver:Ji(r6),defaultValues:t?{vin:t.vin,customer_id:t.customer_id,tipo_oportunidad:t.tipo_oportunidad,descripcion:t.descripcion,precio_estimado:t.precio_estimado||void 0,fecha_sugerida:t.fecha_sugerida?t.fecha_sugerida.split("T")[0]:"",prioridad:t.prioridad,kilometraje_referencia:t.kilometraje_referencia||void 0}:{vin:e||"",prioridad:"media"}}),ve=J("vin");z.useEffect(()=>{(async()=>{if(e)try{const xe=await Or.getByVin(e);x(xe.vehicle),xe.vehicle.customer_id&&W("customer_id",xe.vehicle.customer_id)}catch(xe){console.error("Error cargando vehículo preseleccionado:",xe)}})()},[e,W]),z.useEffect(()=>{const xe=setTimeout(async()=>{if(v.length>=2&&!O)try{console.log("Buscando vehículos con:",v);const P=await Or.search({placa:v,customer_name:v});console.log("Resultado de búsqueda:",P),w(P.vehicles||[])}catch(P){console.error("Error buscando vehículos:",P),w([])}else w([])},300);return()=>clearTimeout(xe)},[v,O]),z.useEffect(()=>{ve!==e&&(async()=>{if(ve&&ve.length===17)try{const xe=await Or.getByVin(ve);x(xe.vehicle),xe.vehicle.customer_id&&(W("customer_id",xe.vehicle.customer_id),W("kilometraje_referencia",xe.vehicle.kilometraje_actual))}catch(xe){console.error("Error cargando información del vehículo:",xe)}})()},[ve,W,e]),z.useEffect(()=>{(async()=>{try{const xe=await Xn.search({limit:100});N(xe.customers||[])}catch(xe){console.error("Error cargando clientes:",xe)}})()},[]),z.useEffect(()=>{(async()=>{try{a&&E([a])}catch(xe){console.error("Error cargando usuarios:",xe)}})()},[a]);const se=async ce=>{l(!0),h(null);try{const xe=Object.fromEntries(Object.entries(ce).filter(([ue,ae])=>ae!==""&&ae!==void 0&&ae!==null));let P;R?P=await zr.update(t.opportunity_id,xe):P=await zr.create(xe),r?.(P.opportunity)}catch(xe){h(xe.response?.data?.message||"Error al guardar la oportunidad")}finally{l(!1)}},he=ce=>`https://wa.me/52${ce.replace(/^\+52/,"")}`;return f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:R?"Editar Oportunidad":"Crear Nueva Oportunidad"}),n&&f.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),u&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-red-600 text-sm",children:u})}),f.jsxs("form",{onSubmit:K(se),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vehículo"}),!e&&f.jsxs("div",{className:"space-y-2 mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buscar vehículo (placas o cliente)"}),f.jsx("input",{type:"text",value:v,onChange:ce=>{y(ce.target.value),O&&j(!1)},className:"input-field",placeholder:"ABC-123-A o Juan Pérez"}),v.length>=2&&!O&&f.jsx("div",{className:"border border-gray-300 rounded-lg max-h-48 overflow-y-auto",children:b.length>0?b.map(ce=>f.jsxs("button",{type:"button",onClick:()=>{console.log("Seleccionando vehículo:",ce),W("vin",ce.vin),y(`${ce.marca} ${ce.modelo} - ${ce.placa_actual}`),w([]),j(!0)},className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-200 last:border-b-0",children:[f.jsxs("div",{className:"font-medium",children:[ce.marca," ",ce.modelo," ",ce.año]}),f.jsxs("div",{className:"text-sm text-gray-600",children:[ce.placa_actual," • VIN: ",ce.vin," • ",ce.customer?.nombre]})]},ce.vin)):f.jsxs("div",{className:"p-3 text-center text-gray-500 text-sm",children:['No se encontraron vehículos con "',v,'"']})})]}),m&&f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:[m.marca," ",m.modelo," ",m.año]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Placas:"})," ",m.placa_actual||"No asignadas"]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"VIN:"})," ",m.vin]})]}),f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",m.kilometraje_actual?.toLocaleString()," km"]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Propietario:"})," ",m.customer?.nombre||"No asignado"]})]})]}),m.customer?.whatsapp&&f.jsx("div",{className:"mt-2",children:f.jsx("a",{href:he(m.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium text-sm",children:"💬 Contactar por WhatsApp"})})]}),f.jsx("input",{type:"hidden",...k("vin")}),Z.vin&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:Z.vin.message})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información de la Oportunidad"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de oportunidad *"}),f.jsxs("select",{...k("tipo_oportunidad"),className:"input-field",children:[f.jsx("option",{value:"",children:"Seleccionar tipo"}),n6.map(ce=>f.jsx("option",{value:ce,children:ce.replace(/_/g," ").replace(/\b\w/g,xe=>xe.toUpperCase())},ce))]}),Z.tipo_oportunidad&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:Z.tipo_oportunidad.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),f.jsxs("select",{...k("prioridad"),className:"input-field",children:[f.jsx("option",{value:"baja",children:"Baja"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"alta",children:"Alta"})]})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nota *"}),f.jsx("textarea",{...k("descripcion"),rows:3,className:"input-field",placeholder:"Descripción detallada del servicio necesario..."}),Z.descripcion&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:Z.descripcion.message})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalles del Servicio"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio estimado (MXN)"}),f.jsx("input",{...k("precio_estimado",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"450.00",step:"0.01",min:"0"}),Z.precio_estimado&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:Z.precio_estimado.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha sugerida para el servicio"}),f.jsx("input",{...k("fecha_sugerida"),type:"date",className:"input-field",min:new Date().toISOString().split("T")[0]})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilometraje sugerido"}),f.jsx("input",{...k("kilometraje_referencia",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:m?.kilometraje_actual?.toString()||"0",min:"0"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cliente"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),f.jsxs("select",{...k("customer_id",{valueAsNumber:!0}),className:"input-field",children:[f.jsx("option",{value:"",children:"Seleccionar cliente"}),_.map(ce=>f.jsxs("option",{value:ce.customer_id,children:[ce.nombre," - ",ce.telefono]},ce.customer_id))]}),Z.customer_id&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:Z.customer_id.message})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[n&&f.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:s,className:"btn-primary disabled:opacity-50",children:s?R?"Actualizando...":"Creando...":R?"Actualizar Oportunidad":"Crear Oportunidad"})]})]})]})},a6=({initialMode:t="search",onModeUsed:e})=>{console.log("🚗 VEHICLES COMPONENT LOADED with initialMode:",t);const[r,n]=z.useState(t),[a,s]=z.useState(null);z.useEffect(()=>{t==="create"&&e&&(console.log("🧹 Cleaning up initialMode in parent"),e())},[t,e]);const l=!0,u=_=>{s(_),n("detail")},h=()=>{console.log("🚗 handleCreateNew called"),console.log("Current viewMode:",r),s(null),n("create"),console.log("ViewMode set to: create")},m=()=>{a&&n("edit")},x=_=>{s(_),n("detail")},v=()=>{n("detail")},y=()=>{n("search"),s(null)},b=_=>`https://wa.me/52${_.replace(/^\+52/,"")}`,w=()=>{switch(console.log("📱 Rendering Vehicles with viewMode:",r),r){case"create":return f.jsx(Xx,{onSuccess:x,onCancel:y});case"edit":return f.jsx(Xx,{vehicle:a,onSuccess:x,onCancel:y});case"create-opportunity":return f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:()=>n("detail"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar al vehículo"}),f.jsx(Pd,{preselectedVin:a?.vin,onSuccess:v,onCancel:()=>n("detail")})]});case"detail":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("button",{onClick:()=>n("search"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a búsqueda"}),f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[a?.marca," ",a?.modelo," ",a?.año]}),f.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[f.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:a?.placa_actual||"Sin placas"}),f.jsxs("span",{className:"text-gray-600 text-sm",children:["VIN: ",a?.vin]})]})]}),f.jsx("button",{onClick:m,className:"btn-secondary",children:"Editar Vehículo"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información Básica"}),f.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Marca:"})," ",a?.marca]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Modelo:"})," ",a?.modelo]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Año:"})," ",a?.año]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Color:"})," ",a?.color||"No especificado"]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información Técnica"}),f.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",a?.kilometraje_actual?.toLocaleString()," km"]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Combustible:"})," ",a?.tipo_combustible]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Transmisión:"})," ",a?.transmision]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Motor:"})," ",a?.numero_motor||"No especificado"]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Propietario"}),a?.customer?f.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[f.jsx("p",{className:"font-medium text-gray-900",children:a.customer.nombre}),f.jsxs("p",{children:["📞 ",a.customer.telefono]}),a.customer.whatsapp&&f.jsx("a",{href:b(a.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",children:"💬 Enviar WhatsApp"}),a.customer.email&&f.jsxs("p",{children:["✉️ ",a.customer.email]})]}):f.jsx("p",{className:"text-sm text-gray-500",children:"No asignado"})]})]}),a?.notas&&f.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Notas"}),f.jsx("p",{className:"text-sm text-gray-600",children:a.notas})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("button",{onClick:()=>{s(a),n("create-opportunity")},className:"card p-4 text-center hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"text-2xl mb-2",children:"🔧"}),f.jsx("div",{className:"font-medium",children:"Crear Oportunidad"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Programar servicio"})]}),f.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"text-2xl mb-2",children:"📋"}),f.jsx("div",{className:"font-medium",children:"Ver Historial"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Servicios realizados"})]}),a?.customer?.whatsapp&&f.jsxs("a",{href:b(a.customer.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"card p-4 text-center hover:shadow-md transition-shadow block",children:[f.jsx("div",{className:"text-2xl mb-2",children:"💬"}),f.jsx("div",{className:"font-medium",children:"Contactar Cliente"}),f.jsx("div",{className:"text-sm text-gray-600",children:"WhatsApp directo"})]})]})]});default:return console.log("🔍 Rendering VehicleSearch with canModifyVehicles:",l),console.log("🔍 handleCreateNew function:",h),f.jsx(dE,{onVehicleSelect:u,onCreateNew:h})}};return f.jsx("div",{className:"bg-gray-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:w()})})},i6=es({searchType:Yi(["nombre","telefono","email"]),searchValue:Qt().min(1,"Valor de búsqueda requerido")}),s6=({onCustomerSelect:t,onCreateNew:e})=>{const[r,n]=z.useState([]),[a,s]=z.useState(!1),[l,u]=z.useState(null),{register:h,handleSubmit:m,watch:x,formState:{errors:v}}=en({resolver:Ji(i6),defaultValues:{searchType:"nombre"}}),y=x("searchType"),b=()=>{switch(y){case"nombre":return"Juan Pérez";case"telefono":return"+5215512345678";case"email":return"juan@email.com";default:return""}},w=async E=>{s(!0),u(null),n([]);try{let O;switch(E.searchType){case"nombre":O=await Xn.searchByName(E.searchValue);break;case"telefono":O=await Xn.searchByPhone(E.searchValue);break;case"email":O=await Xn.search({email:E.searchValue});break;default:throw new Error("Tipo de búsqueda no válido")}n(O.customers||[]),O.customers?.length===0&&u("No se encontraron clientes que coincidan con la búsqueda")}catch(O){u(O.response?.data?.message||"Error al buscar clientes")}finally{s(!1)}},_=async()=>{s(!0),u(null),n([]);try{const E=await Xn.getAll(100);n(E.customers||[]),E.customers?.length===0&&u("No hay clientes registrados en el sistema")}catch(E){u(E.response?.data?.message||"Error al cargar clientes")}finally{s(!1)}},N=E=>`https://wa.me/52${E.replace(/^\+52/,"")}`,C=E=>E.length===13&&E.startsWith("+52")?`+52 ${E.slice(3,5)} ${E.slice(5,9)} ${E.slice(9)}`:E;return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Búsqueda de Clientes"}),f.jsx("form",{onSubmit:m(w),className:"space-y-4",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de búsqueda"}),f.jsxs("select",{...h("searchType"),className:"input-field",children:[f.jsx("option",{value:"nombre",children:"Por Nombre"}),f.jsx("option",{value:"telefono",children:"Por Teléfono"}),f.jsx("option",{value:"email",children:"Por Email"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor a buscar"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{...h("searchValue"),type:"text",className:"input-field flex-1",placeholder:b()}),f.jsx("button",{type:"submit",disabled:a,className:"btn-primary px-6 disabled:opacity-50",children:a?"Buscando...":"Buscar"}),f.jsx("button",{type:"button",onClick:_,disabled:a,className:"btn-secondary px-6 disabled:opacity-50",children:"Ver Todos"})]}),v.searchValue&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.searchValue.message})]})]})}),e&&f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:f.jsx("button",{onClick:e,className:"btn-secondary",children:"+ Registrar Nuevo Cliente"})})]}),l&&f.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:f.jsx("p",{className:"text-red-600 text-sm",children:l})}),r.length>0&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Resultados (",r.length,")"]}),r.map(E=>f.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t?.(E),children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:E.nombre}),E.rfc&&f.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["RFC: ",E.rfc]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{children:"📞"}),f.jsx("span",{children:C(E.telefono)})]}),E.whatsapp&&E.whatsapp!==E.telefono&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{children:"💬"}),f.jsx("span",{children:C(E.whatsapp)})]}),E.email&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{children:"✉️"}),f.jsx("span",{children:E.email})]})]}),f.jsxs("div",{className:"space-y-1",children:[E.direccion&&f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx("span",{children:"📍"}),f.jsx("span",{className:"line-clamp-2",children:E.direccion})]}),E.codigo_postal&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{children:"📮"}),f.jsxs("span",{children:["CP: ",E.codigo_postal]})]})]})]}),f.jsxs("div",{className:"mt-3 flex items-center space-x-4",children:[E.whatsapp&&f.jsx("a",{href:N(E.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium text-sm",onClick:O=>O.stopPropagation(),children:"💬 WhatsApp"}),f.jsx("a",{href:`tel:${E.telefono}`,className:"text-blue-600 hover:text-blue-700 font-medium text-sm",onClick:O=>O.stopPropagation(),children:"📞 Llamar"}),E.email&&f.jsx("a",{href:`mailto:${E.email}`,className:"text-purple-600 hover:text-purple-700 font-medium text-sm",onClick:O=>O.stopPropagation(),children:"✉️ Email"})]}),E.notas&&f.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:f.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',E.notas,'"']})})]}),f.jsx("div",{className:"text-right",children:f.jsxs("span",{className:"text-xs text-gray-500",children:["Registrado: ",new Date(E.fecha_registro).toLocaleDateString("es-MX")]})})]})},E.customer_id))]})]})},o6=()=>{const{user:t}=xn(),[e,r]=z.useState("search"),[n,a]=z.useState(null),[s,l]=z.useState([]),[u,h]=z.useState(!1),m=t?.rol==="administrador"||t?.rol==="mecanico",x=async E=>{a(E),r("detail"),h(!0);try{const O=await Or.search({customer_name:E.nombre});l(O.vehicles||[])}catch(O){console.error("Error cargando vehículos:",O),l([])}finally{h(!1)}},v=()=>{a(null),r("create")},y=()=>{n&&r("edit")},b=E=>{a(E),r("detail")},w=()=>{r("search"),a(null),l([])},_=E=>`https://wa.me/52${E.replace(/^\+52/,"")}`,N=E=>E.length===13&&E.startsWith("+52")?`+52 ${E.slice(3,5)} ${E.slice(5,9)} ${E.slice(9)}`:E,C=()=>{switch(e){case"create":return f.jsx(Bd,{onSuccess:b,onCancel:w});case"edit":return f.jsx(Bd,{customer:n,onSuccess:b,onCancel:w});case"detail":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("button",{onClick:()=>r("search"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a búsqueda"}),f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?.nombre}),f.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[n?.rfc&&f.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["RFC: ",n.rfc]}),f.jsxs("span",{className:"text-gray-600 text-sm",children:["Cliente desde: ",new Date(n?.fecha_registro||"").toLocaleDateString("es-MX")]})]})]}),m&&f.jsx("button",{onClick:y,className:"btn-secondary",children:"Editar Cliente"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información de Contacto"}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{children:"📞"}),f.jsx("span",{children:N(n?.telefono||"")}),f.jsx("a",{href:`tel:${n?.telefono}`,className:"text-blue-600 hover:text-blue-700 ml-2",children:"Llamar"})]}),n?.whatsapp&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{children:"💬"}),f.jsx("span",{children:N(n.whatsapp)}),f.jsx("a",{href:_(n.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 ml-2",children:"WhatsApp"})]}),n?.email&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{children:"✉️"}),f.jsx("span",{children:n.email}),f.jsx("a",{href:`mailto:${n.email}`,className:"text-purple-600 hover:text-purple-700 ml-2",children:"Email"})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Ubicación"}),f.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n?.direccion?f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx("span",{children:"📍"}),f.jsx("span",{children:n.direccion})]}):f.jsx("p",{className:"text-gray-500",children:"No especificada"}),n?.codigo_postal&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{children:"📮"}),f.jsxs("span",{children:["CP: ",n.codigo_postal]})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Estadísticas"}),f.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Vehículos:"})," ",s.length]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Último contacto:"})," Hace 2 días"]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Servicios totales:"})," --"]})]})]})]}),n?.notas&&f.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Notas"}),f.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:n.notas})]})]}),f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Vehículos del Cliente (",s.length,")"]}),f.jsx("button",{className:"btn-secondary text-sm",children:"+ Registrar Vehículo para este Cliente"})]}),u?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando vehículos..."})]}):s.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(E=>f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("h4",{className:"font-medium text-gray-900",children:[E.marca," ",E.modelo," ",E.año]}),f.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium",children:E.placa_actual||"Sin placas"})]}),f.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"VIN:"})," ",E.vin]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",E.kilometraje_actual?.toLocaleString()," km"]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Último servicio:"})," --"]})]}),f.jsxs("div",{className:"mt-3 flex space-x-2",children:[f.jsx("button",{className:"text-xs bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded",children:"Ver Historial"}),f.jsx("button",{className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded",children:"Crear Oportunidad"})]})]},E.vin))}):f.jsxs("div",{className:"text-center py-8 text-gray-500",children:[f.jsx("p",{children:"Este cliente no tiene vehículos registrados"}),f.jsx("button",{className:"mt-2 btn-secondary text-sm",children:"Registrar Primer Vehículo"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"text-2xl mb-2",children:"💬"}),f.jsx("div",{className:"font-medium",children:"Enviar WhatsApp"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Contacto directo"})]}),f.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"text-2xl mb-2",children:"🔧"}),f.jsx("div",{className:"font-medium",children:"Crear Oportunidad"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Nuevo servicio"})]}),f.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"text-2xl mb-2",children:"📋"}),f.jsx("div",{className:"font-medium",children:"Ver Historial"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Todos los servicios"})]})]})]});default:return f.jsx(s6,{onCustomerSelect:x,onCreateNew:m?v:void 0})}};return f.jsx("div",{className:"bg-gray-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:C()})})},l6={pendiente:"bg-yellow-100 text-yellow-800",contactado:"bg-blue-100 text-blue-800",agendado:"bg-purple-100 text-purple-800",en_proceso:"bg-orange-100 text-orange-800",completado:"bg-green-100 text-green-800",perdido:"bg-red-100 text-red-800"},c6={alta:"bg-red-100 text-red-800",media:"bg-yellow-100 text-yellow-800",baja:"bg-green-100 text-green-800"},u6={pendiente:"Pendiente",contactado:"Contactado",agendado:"Agendado",en_proceso:"En Proceso",completado:"Completado",perdido:"Perdido"},f6={alta:"Alta",media:"Media",baja:"Baja"},gg=({opportunity:t,onSelect:e,onStatusChange:r,showVehicleInfo:n=!0})=>{const a=x=>x?new Date(x).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"}):"",s=x=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0}).format(x),l=x=>`https://wa.me/52${x.replace(/^\+52/,"")}`,h=(()=>{if(!t.fecha_sugerida)return null;const x=new Date,y=new Date(t.fecha_sugerida).getTime()-x.getTime();return Math.ceil(y/(1e3*60*60*24))})(),m=()=>h?h<0?"border-l-4 border-red-500":h<=3?"border-l-4 border-orange-500":h<=7?"border-l-4 border-yellow-500":"border-l-4 border-green-500":"";return f.jsxs("div",{className:`card p-6 hover:shadow-md transition-shadow cursor-pointer ${m()}`,onClick:()=>e?.(t),children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.titulo}),f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l6[t.estado]}`,children:u6[t.estado]}),f.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c6[t.prioridad]}`,children:["Prioridad ",f6[t.prioridad]]}),t.precio_estimado&&f.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium",children:s(t.precio_estimado)})]})]}),r&&f.jsx("div",{className:"ml-4",children:f.jsxs("select",{value:t.estado,onChange:x=>{x.stopPropagation(),r(t.opportunity_id,x.target.value)},className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"pendiente",children:"Pendiente"}),f.jsx("option",{value:"contactado",children:"Contactado"}),f.jsx("option",{value:"agendado",children:"Agendado"}),f.jsx("option",{value:"en_proceso",children:"En Proceso"}),f.jsx("option",{value:"completado",children:"Completado"}),f.jsx("option",{value:"perdido",children:"Perdido"})]})})]}),n&&(t.vehicle_marca||t.vin)||t.customer_nombre?f.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:f.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-6",children:[n&&(t.vehicle_marca||t.vin)&&f.jsxs("div",{className:"flex-1 mb-3 lg:mb-0",children:[f.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["🚗 ",t.vehicle_marca," ",t.vehicle_modelo," ",t.vehicle_año]}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Placas: ",t.vehicle_placa||"No asignadas"," • VIN: ",t.vin]})]}),t.customer_nombre&&f.jsxs("div",{className:"flex-1",children:[f.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["👤 Cliente: ",t.customer_nombre]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[f.jsxs("span",{children:["📞 ",t.customer_telefono]}),t.customer_whatsapp&&f.jsx("a",{href:l(t.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",onClick:x=>x.stopPropagation(),children:"💬 WhatsApp"})]})]})]})}):null,f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-gray-700 text-sm line-clamp-2",children:t.descripcion}),t.servicio_sugerido&&f.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[f.jsx("span",{className:"font-medium",children:"Servicio:"})," ",t.servicio_sugerido]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[f.jsxs("div",{children:[t.fecha_sugerida&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Fecha sugerida:"})," ",a(t.fecha_sugerida),h!==null&&f.jsx("span",{className:`ml-2 ${h<0?"text-red-600 font-medium":h<=3?"text-orange-600 font-medium":h<=7?"text-yellow-600 font-medium":"text-green-600"}`,children:h<0?`(${Math.abs(h)} días vencido)`:h===0?"(Hoy)":h===1?"(Mañana)":`(en ${h} días)`})]}),t.fecha_contacto_sugerida&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Contactar:"})," ",a(t.fecha_contacto_sugerida)]})]}),f.jsxs("div",{children:[t.usuario_asignado_nombre&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Asignado a:"})," ",t.usuario_asignado_nombre]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Creado:"})," ",a(t.fecha_creacion)]})]})]}),f.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200 flex justify-between items-center",children:[f.jsxs("div",{className:"text-xs text-gray-500",children:["Tipo: ",t.tipo_oportunidad.replace(/_/g," "),t.kilometraje_referencia&&f.jsxs("span",{className:"ml-2",children:["• ",t.kilometraje_referencia.toLocaleString()," km"]})]}),f.jsxs("div",{className:"flex space-x-2",children:[t.customer_whatsapp&&f.jsx("a",{href:l(t.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded",onClick:x=>x.stopPropagation(),children:"WhatsApp"}),f.jsx("button",{onClick:x=>{x.stopPropagation(),e?.(t)},className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 px-2 py-1 rounded",children:"Ver Detalles"})]})]})]})},d6=()=>{const{user:t}=xn(),[e,r]=z.useState("search"),[n,a]=z.useState(null),[s,l]=z.useState([]),[u,h]=z.useState([]),[m,x]=z.useState(!1),[v,y]=z.useState(null),[b,w]=z.useState(!1),_=t?.rol==="administrador"||t?.rol==="mecanico",N=t?.rol==="administrador"||t?.rol==="seguimiento",{register:C,watch:E,reset:O}=en(),j=E();z.useEffect(()=>{R(),k()},[]),z.useEffect(()=>{Object.values(j).some(P=>P)&&R()},[j]);const R=async()=>{x(!0),y(null);try{const P=Object.fromEntries(Object.entries(j).filter(([ae,we])=>we&&we!=="")),ue=await zr.search(P);l(ue.opportunities||[])}catch(P){y(P.response?.data?.message||"Error al cargar oportunidades")}finally{x(!1)}},k=async()=>{try{const P=await zr.getRemindersToday();h(P.reminders||[])}catch(P){console.error("Error cargando recordatorios:",P)}},K=P=>{a(P),r("detail")},W=()=>{a(null),r("create")},J=()=>{n&&r("edit")},Z=P=>{a(P),r("detail"),R(),k()},ve=()=>{r("search"),a(null)},se=async(P,ue)=>{try{await zr.changeStatus(P,ue),R(),k()}catch(ae){y(ae.response?.data?.message||"Error al cambiar estado")}},he=()=>{O(),R()},ce=P=>`https://wa.me/52${P.replace(/^\+52/,"")}`,xe=()=>{switch(e){case"create":return f.jsx(Pd,{onSuccess:Z,onCancel:ve});case"edit":return f.jsx(Pd,{opportunity:n,onSuccess:Z,onCancel:ve});case"detail":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("button",{onClick:()=>r("search"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a oportunidades"}),f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?.titulo}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n?.estado==="pendiente"?"bg-yellow-100 text-yellow-800":n?.estado==="contactado"?"bg-blue-100 text-blue-800":n?.estado==="agendado"?"bg-purple-100 text-purple-800":n?.estado==="completado"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:n?.estado?n.estado.charAt(0).toUpperCase()+n.estado.slice(1):""}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n?.prioridad==="alta"?"bg-red-100 text-red-800":n?.prioridad==="media"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:["Prioridad ",n?.prioridad]})]})]}),N&&f.jsx("button",{onClick:J,className:"btn-secondary",children:"Editar Oportunidad"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Información del Servicio"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Descripción:"})," ",n?.descripcion]}),n?.servicio_sugerido&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Servicio:"})," ",n.servicio_sugerido]}),n?.precio_estimado&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Precio estimado:"})," $",n.precio_estimado.toLocaleString()]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Tipo:"})," ",n?.tipo_oportunidad.replace(/_/g," ")]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Fechas y Seguimiento"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[n?.fecha_sugerida&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Fecha sugerida:"})," ",new Date(n.fecha_sugerida).toLocaleDateString("es-MX")]}),n?.fecha_contacto_sugerida&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Contactar antes del:"})," ",new Date(n.fecha_contacto_sugerida).toLocaleDateString("es-MX")]}),n?.usuario_asignado_nombre&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Asignado a:"})," ",n.usuario_asignado_nombre]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Creado:"})," ",new Date(n?.fecha_creacion||"").toLocaleDateString("es-MX")]})]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"text-2xl mb-2",children:"💬"}),f.jsx("div",{className:"font-medium",children:"Contactar Cliente"}),f.jsx("div",{className:"text-sm text-gray-600",children:"WhatsApp o llamada"})]}),f.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"text-2xl mb-2",children:"📅"}),f.jsx("div",{className:"font-medium",children:"Programar Cita"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Agendar servicio"})]}),f.jsxs("button",{className:"card p-4 text-center hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"text-2xl mb-2",children:"📝"}),f.jsx("div",{className:"font-medium",children:"Agregar Nota"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Seguimiento"})]})]})]});default:return f.jsxs("div",{className:"space-y-6",children:[u.length>0&&f.jsxs("div",{className:"card p-6 border-l-4 border-orange-500",children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:["⏰ Recordatorios de Hoy (",u.length,")"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.slice(0,6).map(P=>f.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:P.titulo}),f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:P.customer_nombre}),f.jsxs("p",{className:"text-sm text-gray-600",children:[P.vehicle_marca," ",P.vehicle_modelo]}),f.jsxs("div",{className:"mt-2 flex space-x-2",children:[P.customer_whatsapp&&f.jsx("a",{href:ce(P.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded",children:"WhatsApp"}),f.jsx("button",{onClick:()=>K(P),className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 px-2 py-1 rounded",children:"Ver"})]})]},P.opportunity_id))}),u.length>6&&f.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["Y ",u.length-6," recordatorios más..."]})]}),f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Oportunidades de Venta"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>w(!b),className:"btn-secondary text-sm",children:b?"Ocultar Filtros":"Mostrar Filtros"}),_&&f.jsx("button",{onClick:W,className:"btn-primary text-sm",children:"+ Nueva Oportunidad"})]})]}),b&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),f.jsxs("select",{...C("estado"),className:"input-field text-sm",children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"pendiente",children:"Pendiente"}),f.jsx("option",{value:"contactado",children:"Contactado"}),f.jsx("option",{value:"agendado",children:"Agendado"}),f.jsx("option",{value:"en_proceso",children:"En Proceso"}),f.jsx("option",{value:"completado",children:"Completado"}),f.jsx("option",{value:"perdido",children:"Perdido"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),f.jsxs("select",{...C("prioridad"),className:"input-field text-sm",children:[f.jsx("option",{value:"",children:"Todas"}),f.jsx("option",{value:"alta",children:"Alta"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"baja",children:"Baja"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),f.jsx("input",{...C("fecha_desde"),type:"date",className:"input-field text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),f.jsx("input",{...C("fecha_hasta"),type:"date",className:"input-field text-sm"})]}),f.jsx("div",{className:"md:col-span-2 lg:col-span-4",children:f.jsx("button",{onClick:he,className:"btn-secondary text-sm",children:"Limpiar Filtros"})})]})]}),v&&f.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:f.jsx("p",{className:"text-red-600 text-sm",children:v})}),m?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando oportunidades..."})]}):s.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s.length," oportunidades encontradas"]}),s.map(P=>f.jsx(gg,{opportunity:P,onSelect:K,onStatusChange:N?se:void 0},P.opportunity_id))]}):f.jsx("div",{className:"card p-8 text-center",children:f.jsx("p",{className:"text-gray-600",children:"No hay oportunidades que coincidan con los filtros"})})]})}};return f.jsx("div",{className:"bg-gray-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:xe()})})},h6=()=>{const{user:t}=xn(),[e,r]=z.useState("list"),[n,a]=z.useState(null),[s,l]=z.useState([]),[u,h]=z.useState([]),[m,x]=z.useState(!1),[v,y]=z.useState(null),[b,w]=z.useState(!1),[_,N]=z.useState({page:1,limit:20,total:0,totalPages:0}),[C,E]=z.useState({active:!1}),O=t?.rol==="administrador"||t?.rol==="mecanico",{register:j,watch:R,reset:k,handleSubmit:K,setValue:W}=en(),J=R(),Z=le=>le.toISOString().split("T")[0],ve=async(le,Pe)=>{W("fecha_desde",Z(le)),W("fecha_hasta",Z(Pe)),W("estado",""),W("cliente",""),N(rn=>({...rn,page:1}));const Ke={fecha_desde:Z(le),fecha_hasta:Z(Pe)};await I(Ke)},se=async()=>{k(),N(le=>({...le,page:1})),await we()},he={yesterday:()=>{const le=new Date;le.setDate(le.getDate()-1),ve(le,le)},currentWeek:()=>{const le=new Date,Pe=new Date(le);Pe.setDate(le.getDate()-le.getDay()+1),ve(Pe,le)},currentMonth:()=>{const le=new Date,Pe=new Date(le.getFullYear(),le.getMonth(),1);ve(Pe,le)}},{register:ce,handleSubmit:xe,reset:P,formState:{isSubmitting:ue}}=en();z.useEffect(()=>{we(),X()},[]);const ae=le=>{const Pe=le.fecha_desde,Ke=le.fecha_hasta;if((Pe||Ke)&&(!Pe||!Ke)){y('Para buscar por fechas, debes completar ambos campos "Desde" y "Hasta"');return}N(rn=>({...rn,page:1})),we()},we=async(le=1)=>{x(!0),y(null);try{let Pe;if(C.active&&C.customerId)Pe=await Zn.getServicesByCustomer(C.customerId),l(Pe.services||[]),N({page:1,limit:Pe.services?.length||0,total:Pe.services?.length||0,totalPages:1});else{const Ke=Object.fromEntries(Object.entries(J).filter(([rn,Na])=>Na&&Na!==""));Pe=await Zn.getServices(Ke,le,_.limit),l(Pe.services||[]),N({page:Pe.page||1,limit:Pe.limit||20,total:Pe.total||0,totalPages:Pe.total_pages||0})}}catch(Pe){console.error("Error cargando servicios:",Pe),y(Pe.response?.data?.message||"Error al cargar servicios")}finally{x(!1)}},I=async(le,Pe=1)=>{x(!0),y(null);try{let Ke;if(C.active&&C.customerId)Ke=await Zn.getServicesByCustomer(C.customerId),l(Ke.services||[]),N({page:1,limit:Ke.services?.length||0,total:Ke.services?.length||0,totalPages:1});else{const rn=Object.fromEntries(Object.entries(le).filter(([Na,hr])=>hr&&hr!==""));Ke=await Zn.getServices(rn,Pe,_.limit),l(Ke.services||[]),N({page:Ke.page||1,limit:Ke.limit||20,total:Ke.total||0,totalPages:Ke.total_pages||0})}}catch(Ke){console.error("Error cargando servicios:",Ke),y(Ke.response?.data?.message||"Error al cargar servicios")}finally{x(!1)}},X=async()=>{try{const le=await Zn.getAvailableMechanics();h(le.mechanics||[])}catch(le){console.error("Error cargando mecánicos:",le)}},de=le=>{a(le),r("detail")},pe=()=>{n&&(P(n),r("edit"))},U=async(le,Pe)=>{try{await Zn.updateServiceStatus(le,Pe),we(_.page),n&&n.service_id===le&&a({...n,estado:Pe})}catch(Ke){console.error("Error cambiando estado:",Ke),y(Ke.response?.data?.message||"Error al cambiar estado")}},L=async le=>{if(n)try{y(null);const Pe=await Zn.updateService(n.service_id,{tipo_servicio:le.tipo_servicio,descripcion:le.descripcion,precio:le.precio?Number(le.precio):void 0,estado:le.estado,notas:le.notas,kilometraje_servicio:le.kilometraje_servicio?Number(le.kilometraje_servicio):void 0,refacciones_usadas:le.refacciones_usadas,proximo_servicio_km:le.proximo_servicio_km?Number(le.proximo_servicio_km):void 0,proximo_servicio_fecha:le.proximo_servicio_fecha,garantia_meses:le.garantia_meses?Number(le.garantia_meses):void 0,mechanic_id:le.mechanic_id?Number(le.mechanic_id):null}),Ke=await Zn.getServiceById(n.service_id);a(Ke.service),r("detail"),we(_.page)}catch(Pe){console.error("Error actualizando servicio:",Pe),y(Pe.response?.data?.message||"Error al actualizar servicio")}},fe=()=>{k(),N(le=>({...le,page:1})),we()},Ze=async(le,Pe)=>{E({active:!0,customerId:le,customerName:Pe}),r("list"),k(),await we()},Xe=async()=>{E({active:!1}),k(),await we()},Gt=le=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(le),tn=le=>{switch(le){case"cotizado":return"Cotizado";case"autorizado":return"Autorizado";case"en_proceso":return"En Proceso";case"completado":return"Completado";case"cancelado":return"Cancelado";default:return le}},qn=()=>{switch(e){case"edit":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("button",{onClick:()=>r("detail"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a detalle"}),f.jsxs("div",{className:"card p-6",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Editar Servicio #",n?.service_id]}),f.jsxs("form",{onSubmit:xe(L),className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:"Información del Servicio"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Servicio *"}),f.jsx("input",{...ce("tipo_servicio"),type:"text",className:"input-field",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción *"}),f.jsx("textarea",{...ce("descripcion"),className:"input-field",rows:3,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio ($)"}),f.jsx("input",{...ce("precio"),type:"number",step:"0.01",min:"0",className:"input-field"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),f.jsxs("select",{...ce("estado"),className:"input-field",children:[f.jsx("option",{value:"cotizado",children:"Cotizado"}),f.jsx("option",{value:"autorizado",children:"Autorizado"}),f.jsx("option",{value:"en_proceso",children:"En Proceso"}),f.jsx("option",{value:"completado",children:"Completado"}),f.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mecánico Asignado"}),f.jsxs("select",{...ce("mechanic_id"),className:"input-field",children:[f.jsx("option",{value:"",children:"Sin asignar"}),u.map(le=>f.jsxs("option",{value:le.mechanic_id,children:[le.alias?`"${le.alias}" - `:"",le.nombre," ",le.apellidos,"(",le.nivel_experiencia," - ",le.branch_nombre,")"]},le.mechanic_id))]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:"Detalles Adicionales"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilometraje del Servicio"}),f.jsx("input",{...ce("kilometraje_servicio"),type:"number",min:"0",className:"input-field"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refacciones Usadas"}),f.jsx("textarea",{...ce("refacciones_usadas"),className:"input-field",rows:2,placeholder:"Lista de refacciones utilizadas..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Próximo Servicio (KM)"}),f.jsx("input",{...ce("proximo_servicio_km"),type:"number",min:"0",className:"input-field"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Próximo Servicio (Fecha)"}),f.jsx("input",{...ce("proximo_servicio_fecha"),type:"date",className:"input-field"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Garantía (meses)"}),f.jsx("input",{...ce("garantia_meses"),type:"number",min:"0",max:"60",className:"input-field"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),f.jsx("textarea",{...ce("notas"),className:"input-field",rows:3,placeholder:"Notas adicionales sobre el servicio..."})]}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{type:"button",onClick:()=>r("detail"),className:"btn-secondary",disabled:ue,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary",disabled:ue,children:ue?"Guardando...":"Guardar Cambios"})]})]})]})]});case"detail":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("button",{onClick:()=>r("list"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a servicios"}),f.jsxs("div",{className:"card p-4 md:p-6",children:[f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsx("div",{children:f.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:["Servicio #",n?.service_id]})}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("div",{className:`self-start px-3 py-2 md:px-6 md:py-3 rounded-xl text-sm md:text-lg font-bold shadow-lg transform transition-all duration-200 hover:scale-105 ${n?.estado==="cotizado"?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900":n?.estado==="autorizado"?"bg-gradient-to-r from-blue-400 to-blue-500 text-blue-900":n?.estado==="en_proceso"?"bg-gradient-to-r from-purple-400 to-purple-500 text-purple-900":n?.estado==="completado"?"bg-gradient-to-r from-green-400 to-green-500 text-green-900":n?.estado==="cancelado"?"bg-gradient-to-r from-red-400 to-red-500 text-red-900":"bg-gradient-to-r from-gray-400 to-gray-500 text-gray-900"}`,children:f.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[f.jsx("span",{className:"text-lg md:text-2xl",children:n?.estado==="cotizado"?"📋":n?.estado==="autorizado"?"✅":n?.estado==="en_proceso"?"🔧":n?.estado==="completado"?"🎉":n?.estado==="cancelado"?"❌":"❓"}),f.jsx("span",{className:"uppercase tracking-wide",children:tn(n?.estado||"")})]})}),f.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 px-3 py-2 md:px-4 md:py-3 rounded-lg border-l-4 border-green-500 self-start",children:[f.jsx("div",{className:"text-xs md:text-sm text-green-700 font-medium",children:"Total Facturado"}),f.jsx("div",{className:"text-lg md:text-2xl font-bold text-green-800",children:n?.precio?Gt(n.precio):"$0.00"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Información del Servicio"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Tipo:"})," ",n?.tipo_servicio]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Descripción:"})," ",n?.descripcion]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Fecha:"})," ",n?.fecha_servicio?new Date(n.fecha_servicio).toLocaleDateString("es-MX"):""]}),n?.kilometraje_servicio&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",n.kilometraje_servicio.toLocaleString()," km"]}),n?.refacciones_usadas&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Refacciones:"})," ",n.refacciones_usadas]}),n?.notas&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Notas:"})," ",n.notas]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Cliente y Vehículo"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Cliente:"})," ",n?.cliente_nombre||"N/A"]}),n?.cliente_telefono&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",n.cliente_telefono]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Vehículo:"})," ",n?.vehiculo_marca," ",n?.vehiculo_modelo," ",n?.vehiculo_año]}),n?.placa_actual&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Placas:"})," ",n.placa_actual]}),n?.mecanico_nombre&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Mecánico:"})," ",n.mecanico_nombre]}),n?.sucursal_nombre&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Sucursal:"})," ",n.sucursal_nombre]})]}),n?.customer_id&&n?.cliente_nombre&&f.jsxs("div",{className:"mt-4",children:[f.jsxs("button",{onClick:()=>Ze(n.customer_id,n.cliente_nombre),className:"w-full px-4 py-2 text-sm bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg transition-all duration-200 hover:shadow-lg flex items-center justify-center space-x-2",children:[f.jsx("span",{children:"📚"}),f.jsxs("span",{children:["Ver Historial Completo de ",n.cliente_nombre]})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"Muestra todos los servicios históricos de este cliente"})]})]})]}),(n?.proximo_servicio_km||n?.proximo_servicio_fecha)&&f.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Próximo Servicio"}),f.jsxs("div",{className:"text-sm space-y-1",children:[n?.proximo_servicio_km&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Kilometraje:"})," ",n.proximo_servicio_km.toLocaleString()," km"]}),n?.proximo_servicio_fecha&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Fecha sugerida:"})," ",new Date(n.proximo_servicio_fecha).toLocaleDateString("es-MX")]})]})]}),O&&f.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Cambiar Estado Manualmente"}),f.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Puedes cambiar el estado a cualquier valor, incluso revertir cambios accidentales."}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[n?.estado!=="cotizado"&&f.jsx("button",{onClick:()=>U(n.service_id,"cotizado"),className:"px-3 py-2 text-sm bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-lg transition-colors",children:"→ Cotizado"}),n?.estado!=="autorizado"&&f.jsx("button",{onClick:()=>U(n.service_id,"autorizado"),className:"px-3 py-2 text-sm bg-blue-100 hover:bg-blue-200 text-blue-800 rounded-lg transition-colors",children:"→ Autorizado"}),n?.estado!=="en_proceso"&&f.jsx("button",{onClick:()=>U(n.service_id,"en_proceso"),className:"px-3 py-2 text-sm bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-lg transition-colors",children:"→ En Proceso"}),n?.estado!=="completado"&&f.jsx("button",{onClick:()=>U(n.service_id,"completado"),className:"px-3 py-2 text-sm bg-green-100 hover:bg-green-200 text-green-800 rounded-lg transition-colors",children:"→ Completado"}),n?.estado!=="cancelado"&&f.jsx("button",{onClick:()=>U(n.service_id,"cancelado"),className:"px-3 py-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 rounded-lg transition-colors",children:"→ Cancelado"})]}),f.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Estado actual: ",f.jsx("strong",{children:tn(n?.estado||"")})]})]}),O&&f.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:f.jsxs("button",{onClick:pe,className:"btn-primary flex items-center justify-center space-x-2 w-full",children:[f.jsx("span",{children:"✏️"}),f.jsx("span",{children:"Editar Servicio"})]})})]})]});default:return f.jsxs("div",{className:"space-y-6",children:[C.active&&f.jsx("div",{className:"card p-4 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"text-2xl",children:"📚"}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-semibold text-blue-900",children:["Historial Completo de ",C.customerName]}),f.jsx("p",{className:"text-sm text-blue-700",children:"Mostrando todos los servicios históricos de este cliente (incluye completados y cancelados)"})]})]}),f.jsxs("button",{onClick:Xe,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[f.jsx("span",{children:"←"}),f.jsx("span",{children:"Regresar a Vista Normal"})]})]})}),f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Servicios"}),f.jsx("button",{onClick:()=>w(!b),className:"btn-secondary text-sm",children:b?"Ocultar Filtros":"Mostrar Filtros"})]}),!C.active&&f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"🚀 Filtros Rápidos"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-2",children:[f.jsxs("button",{onClick:se,className:"px-3 py-2 text-sm font-semibold bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-yellow-900 rounded-lg border-2 border-yellow-600 transition-all duration-200 hover:shadow-md flex items-center justify-center space-x-1",disabled:m,children:[f.jsx("span",{children:"🏠"}),f.jsx("span",{children:"Vista Normal"})]}),f.jsx("button",{onClick:he.yesterday,className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg border border-blue-200 transition-all duration-200 hover:shadow-md",disabled:m,children:"📅 Ayer"}),f.jsx("button",{onClick:he.currentWeek,className:"px-3 py-2 text-sm bg-green-50 hover:bg-green-100 text-green-700 rounded-lg border border-green-200 transition-all duration-200 hover:shadow-md",disabled:m,children:"📊 Esta Semana"}),f.jsx("button",{onClick:he.currentMonth,className:"px-3 py-2 text-sm bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg border border-purple-200 transition-all duration-200 hover:shadow-md",disabled:m,children:"📈 Este Mes"})]}),f.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Acceso rápido a vistas comunes. Para rangos personalizados usa los filtros de fecha."})]}),b&&C.active&&f.jsx("div",{className:"p-4 bg-gray-50 rounded-lg mb-4 border border-gray-200",children:f.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[f.jsx("span",{children:"ℹ️"}),f.jsx("span",{className:"text-sm",children:"Los filtros están deshabilitados en el modo historial. Se muestran todos los servicios del cliente seleccionado."})]})}),b&&!C.active&&f.jsxs("form",{onSubmit:K(ae),className:"p-4 bg-gray-50 rounded-lg mb-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),f.jsxs("select",{...j("estado"),className:"input-field text-sm",children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"cotizado",children:"Cotizado"}),f.jsx("option",{value:"autorizado",children:"Autorizado"}),f.jsx("option",{value:"en_proceso",children:"En Proceso"}),f.jsx("option",{value:"completado",children:"Completado"}),f.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),f.jsx("input",{...j("cliente"),type:"text",placeholder:"Buscar por nombre...",className:"input-field text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),f.jsx("input",{...j("fecha_desde"),type:"date",className:"input-field text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),f.jsx("input",{...j("fecha_hasta"),type:"date",className:"input-field text-sm"})]})]}),(J.fecha_desde||J.fecha_hasta)&&!(J.fecha_desde&&J.fecha_hasta)&&f.jsx("div",{className:"mb-4",children:f.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[f.jsx("span",{className:"text-yellow-600",children:"⚠️"}),f.jsx("span",{className:"text-sm text-yellow-700",children:'Para buscar por fechas, completa ambos campos "Desde" y "Hasta"'})]})}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("button",{type:"submit",className:"btn-primary text-sm flex items-center space-x-2",disabled:m,children:[f.jsx("span",{children:"🔍"}),f.jsx("span",{children:m?"Buscando...":"Buscar"})]}),f.jsx("button",{type:"button",onClick:fe,className:"btn-secondary text-sm",children:"Limpiar Filtros"})]})]})]}),v&&f.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:f.jsx("p",{className:"text-red-600 text-sm",children:v})}),m?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando servicios..."})]}):s.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.active?`${_.total} servicios en el historial de ${C.customerName}`:`${_.total} servicios encontrados (página ${_.page} de ${_.totalPages})`}),f.jsx("div",{className:"space-y-4",children:s.map(le=>f.jsxs("div",{className:"card p-4 md:p-6 hover:shadow-lg hover:border-blue-200 transition-all duration-200 cursor-pointer transform hover:-translate-y-1",onClick:()=>de(le),children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"w-full",children:f.jsxs("h3",{className:"text-lg md:text-xl font-medium text-gray-900 leading-tight",children:["Servicio #",le.service_id," - ",le.tipo_servicio]})}),f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsx("div",{className:`px-3 py-2 rounded-lg font-semibold text-sm shadow-md ${le.estado==="cotizado"?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900":le.estado==="autorizado"?"bg-gradient-to-r from-blue-400 to-blue-500 text-blue-900":le.estado==="en_proceso"?"bg-gradient-to-r from-purple-400 to-purple-500 text-purple-900":le.estado==="completado"?"bg-gradient-to-r from-green-400 to-green-500 text-green-900":le.estado==="cancelado"?"bg-gradient-to-r from-red-400 to-red-500 text-red-900":"bg-gradient-to-r from-gray-400 to-gray-500 text-gray-900"}`,children:f.jsxs("span",{className:"flex items-center space-x-1",children:[f.jsx("span",{children:le.estado==="cotizado"?"📋":le.estado==="autorizado"?"✅":le.estado==="en_proceso"?"🔧":le.estado==="completado"?"🎉":le.estado==="cancelado"?"❌":"❓"}),f.jsx("span",{className:"uppercase tracking-wide",children:tn(le.estado)})]})}),f.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 px-3 py-2 rounded-lg border border-green-200",children:[f.jsx("div",{className:"text-xs text-green-700 font-medium mb-1",children:"Total"}),f.jsx("div",{className:"text-lg font-bold text-green-800",children:Gt(le.precio)})]})]}),f.jsx("div",{className:"w-full",children:f.jsx("p",{className:"text-sm text-gray-600",children:le.descripcion})}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 text-sm text-gray-500",children:[f.jsxs("span",{className:"flex items-center space-x-1",children:[f.jsx("span",{children:"📅"}),f.jsx("span",{className:"truncate",children:new Date(le.fecha_servicio).toLocaleDateString("es-MX")})]}),f.jsxs("span",{className:"flex items-center space-x-1",children:[f.jsx("span",{children:"👤"}),f.jsx("span",{className:"truncate",children:le.cliente_nombre||"Cliente no disponible"})]}),f.jsxs("span",{className:"flex items-center space-x-1",children:[f.jsx("span",{children:"🚗"}),f.jsxs("span",{className:"truncate",children:[le.vehiculo_marca," ",le.vehiculo_modelo]})]})]}),le.mecanico_nombre&&f.jsx("div",{className:"w-full",children:f.jsxs("span",{className:"inline-flex items-center space-x-1 text-sm text-gray-500 bg-gray-50 px-3 py-1 rounded-lg",children:[f.jsx("span",{children:"🔧"}),f.jsxs("span",{children:["Mecánico: ",le.mecanico_nombre]})]})})]}),le.notas&&f.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx("span",{className:"text-blue-500 font-medium text-sm",children:"💬 Notas:"}),f.jsx("span",{className:"text-sm text-blue-700",children:le.notas})]})})]},le.service_id))}),!C.active&&_.totalPages>1&&f.jsxs("div",{className:"flex justify-center space-x-2 mt-6",children:[f.jsx("button",{onClick:()=>we(_.page-1),disabled:_.page===1,className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"← Anterior"}),f.jsxs("span",{className:"px-4 py-2 text-sm text-gray-700",children:["Página ",_.page," de ",_.totalPages]}),f.jsx("button",{onClick:()=>we(_.page+1),disabled:_.page===_.totalPages,className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente →"})]})]}):f.jsxs("div",{className:"card p-8 text-center",children:[f.jsx("p",{className:"text-gray-600",children:"No hay servicios que coincidan con los filtros"}),Object.values(J).some(le=>le)&&f.jsx("button",{onClick:fe,className:"mt-4 btn-secondary text-sm",children:"Limpiar filtros"})]})]})}};return f.jsx("div",{className:"bg-gray-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:qn()})})},m6=()=>{const{user:t}=xn(),[e,r]=z.useState([]),[n,a]=z.useState(!0),[s,l]=z.useState(null),[u,h]=z.useState("today"),m=t?.rol==="administrador"||t?.rol==="seguimiento";z.useEffect(()=>{x()},[u]);const x=async()=>{a(!0),l(null);try{let _;switch(u){case"today":_=await zr.getRemindersToday(),r(_.reminders||[]);break;case"upcoming":const N=new Date;N.setDate(N.getDate()+7),_=await zr.search({estado:"pendiente",fecha_hasta:N.toISOString().split("T")[0]}),r(_.opportunities||[]);break;case"overdue":const C=new Date;C.setDate(C.getDate()-1),_=await zr.search({estado:"pendiente",fecha_hasta:C.toISOString().split("T")[0]}),r(_.opportunities||[]);break}}catch(_){l(_.response?.data?.message||"Error al cargar recordatorios")}finally{a(!1)}},v=async(_,N)=>{try{await zr.changeStatus(_,N),x()}catch(C){l(C.response?.data?.message||"Error al cambiar estado")}},y=_=>`https://wa.me/52${_.replace(/^\+52/,"")}`,w=(()=>{if(u!=="today")return null;const _=e.reduce((N,C)=>(N[C.prioridad]=(N[C.prioridad]||0)+1,N),{});return{total:e.length,alta:_.alta||0,media:_.media||0,baja:_.baja||0}})();return f.jsx("div",{className:"bg-gray-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recordatorios y Seguimiento"}),f.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona los recordatorios de contacto con clientes"})]}),w&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsx("div",{className:"card p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Hoy"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total})]}),f.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:f.jsx("span",{className:"text-blue-600 text-xl",children:"📅"})})]})}),f.jsx("div",{className:"card p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prioridad Alta"}),f.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.alta})]}),f.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:f.jsx("span",{className:"text-red-600 text-xl",children:"🔥"})})]})}),f.jsx("div",{className:"card p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prioridad Media"}),f.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:w.media})]}),f.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:f.jsx("span",{className:"text-yellow-600 text-xl",children:"⚡"})})]})}),f.jsx("div",{className:"card p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prioridad Baja"}),f.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.baja})]}),f.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:f.jsx("span",{className:"text-green-600 text-xl",children:"📝"})})]})})]}),f.jsxs("div",{className:"card",children:[f.jsx("div",{className:"border-b border-gray-200",children:f.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[f.jsxs("button",{onClick:()=>h("today"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="today"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Hoy",u==="today"&&f.jsx("span",{className:"bg-blue-100 text-blue-600 ml-2 py-0.5 px-2 rounded-full text-xs",children:e.length})]}),f.jsxs("button",{onClick:()=>h("upcoming"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="upcoming"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Próximos 7 días",u==="upcoming"&&f.jsx("span",{className:"bg-blue-100 text-blue-600 ml-2 py-0.5 px-2 rounded-full text-xs",children:e.length})]}),f.jsxs("button",{onClick:()=>h("overdue"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="overdue"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Vencidos",u==="overdue"&&f.jsx("span",{className:"bg-red-100 text-red-600 ml-2 py-0.5 px-2 rounded-full text-xs",children:e.length})]})]})}),f.jsxs("div",{className:"p-6",children:[s&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-red-600 text-sm",children:s})}),n?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando recordatorios..."})]}):e.length>0?f.jsxs("div",{className:"space-y-4",children:[u==="today"&&f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📞 Clientes para contactar hoy"}),f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsx("p",{className:"text-blue-800 text-sm mb-3",children:f.jsx("strong",{children:"Sugerencia de flujo de trabajo:"})}),f.jsxs("ol",{className:"text-blue-700 text-sm space-y-1 list-decimal list-inside",children:[f.jsx("li",{children:"Contactar primero las prioridades altas 🔥"}),f.jsx("li",{children:"Enviar mensaje de WhatsApp con el template sugerido"}),f.jsx("li",{children:'Marcar como "Contactado" después de enviar mensaje'}),f.jsx("li",{children:"Programar seguimiento si es necesario"})]})]})]}),e.map(_=>f.jsxs("div",{className:"relative",children:[f.jsx(gg,{opportunity:_,onStatusChange:m?v:void 0,showVehicleInfo:!0}),_.customer_whatsapp&&f.jsx("div",{className:"absolute top-4 right-4",children:f.jsxs("a",{href:y(_.customer_whatsapp),target:"_blank",rel:"noopener noreferrer",className:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm font-medium flex items-center space-x-2 shadow-lg",children:[f.jsx("span",{children:"💬"}),f.jsx("span",{children:"WhatsApp"})]})})]},_.opportunity_id))]}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-6xl mb-4",children:u==="today"?"🎉":u==="upcoming"?"📅":"✅"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u==="today"?"¡Excelente! No hay recordatorios para hoy":u==="upcoming"?"No hay recordatorios próximos":"¡Perfecto! No hay recordatorios vencidos"}),f.jsx("p",{className:"text-gray-600",children:u==="today"?"Puedes revisar los recordatorios próximos o crear nuevas oportunidades.":u==="upcoming"?"Los próximos recordatorios aparecerán aquí cuando se acerquen las fechas.":"Mantén este estado al día contactando a los clientes oportunamente."})]})]})]}),u==="today"&&e.length>0&&f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"💬 Templates de WhatsApp Sugeridos"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Recordatorio General"}),f.jsx("p",{className:"text-sm text-gray-700 italic",children:'"Hola [Cliente], espero que esté bien. Su [Marca Modelo Placas] necesita [Servicio]. ¿Cuándo le conviene traerlo al taller? Saludos - Henry Diagnostics"'})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Seguimiento de Cotización"}),f.jsx("p",{className:"text-sm text-gray-700 italic",children:'"Buenos días [Cliente], recordamos que tiene una cotización pendiente para su [Vehículo Placas]. ¿Podemos agendarlo? - Henry Diagnostics"'})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mantenimiento Programado"}),f.jsx("p",{className:"text-sm text-gray-700 italic",children:'"Su [Marca Modelo Placas] ha recorrido [Kilometraje] desde el último servicio. Es momento de [Servicio]. ¿Le conviene esta semana? - Henry Diagnostics"'})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Prioridad Alta"}),f.jsx("p",{className:"text-sm text-gray-700 italic",children:'"⚠️ [Cliente], es importante revisar su [Vehículo] para [Motivo]. ¿Puede traerlo hoy o mañana? - Henry Diagnostics"'})]})]})]})]})})})},p6=async()=>{try{return(await _e.get("/users/stats")).data}catch(t){throw console.error("Error al obtener estadísticas de usuarios:",t),t}},x6=async t=>{try{const e=new URLSearchParams;return t?.search&&e.append("search",t.search),t?.rol&&e.append("rol",t.rol),t?.activo!==void 0&&e.append("activo",t.activo.toString()),t?.page&&e.append("page",t.page.toString()),t?.limit&&e.append("limit",t.limit.toString()),(await _e.get(`/users?${e.toString()}`)).data}catch(e){throw console.error("Error al obtener usuarios:",e),e}},v6=async t=>{try{return(await _e.post("/users",t)).data}catch(e){throw console.error("Error al crear usuario:",e),e}},g6=async(t,e)=>{try{return(await _e.put(`/users/${t}`,e)).data}catch(r){throw console.error("Error al actualizar usuario:",r),r}},y6=async t=>{try{return(await _e.post(`/users/${t}/reset-password`)).data}catch(e){throw console.error("Error al restablecer contraseña:",e),e}},b6=async(t,e=1,r=20)=>{try{return(await _e.get(`/users/${t}/activity?page=${e}&limit=${r}`)).data}catch(n){throw console.error("Error al obtener actividades del usuario:",n),n}},_6=({user:t,isOpen:e,onClose:r,onSubmit:n,loading:a=!1})=>{const[s,l]=z.useState({email:"",nombre:"",rol:"mecanico",telefono:"",activo:!0}),[u,h]=z.useState({});z.useEffect(()=>{l(t?{email:t.email,nombre:t.nombre,rol:t.rol,telefono:t.telefono||"",activo:t.activo}:{email:"",nombre:"",rol:"mecanico",telefono:"",activo:!0}),h({})},[t,e]);const m=()=>{const y={};return s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(y.email="El email no es válido"):y.email="El email es requerido",s.nombre.trim()?s.nombre.trim().length<2&&(y.nombre="El nombre debe tener al menos 2 caracteres"):y.nombre="El nombre es requerido",s.rol||(y.rol="El rol es requerido"),h(y),Object.keys(y).length===0},x=y=>{if(y.preventDefault(),!m())return;const b={email:s.email.trim(),nombre:s.nombre.trim(),rol:s.rol,telefono:s.telefono.trim()||void 0,...t&&{activo:s.activo}};n(b)},v=(y,b)=>{l(w=>({...w,[y]:b})),u[y]&&h(w=>({...w,[y]:""}))};return e?f.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:f.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white",children:f.jsxs("div",{className:"mt-3",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t?"Editar Usuario":"Crear Nuevo Usuario"}),f.jsxs("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:[f.jsx("span",{className:"sr-only",children:"Cerrar"}),f.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),f.jsxs("form",{onSubmit:x,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),f.jsx("input",{type:"email",id:"email",value:s.email,onChange:y=>v("email",y.target.value),className:`input ${u.email?"border-red-500":""}`,placeholder:"usuario@ejemplo.com",disabled:a}),u.email&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo *"}),f.jsx("input",{type:"text",id:"nombre",value:s.nombre,onChange:y=>v("nombre",y.target.value),className:`input ${u.nombre?"border-red-500":""}`,placeholder:"Juan Pérez",disabled:a}),u.nombre&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.nombre})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"rol",className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol *"}),f.jsxs("select",{id:"rol",value:s.rol,onChange:y=>v("rol",y.target.value),className:`input ${u.rol?"border-red-500":""}`,disabled:a,children:[f.jsx("option",{value:"mecanico",children:"Técnico/Mecánico"}),f.jsx("option",{value:"seguimiento",children:"Personal de Seguimiento"}),f.jsx("option",{value:"administrador",children:"Administrador"})]}),u.rol&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.rol}),f.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[s.rol==="administrador"&&"Acceso completo al sistema",s.rol==="mecanico"&&"Gestión de vehículos y servicios",s.rol==="seguimiento"&&"Seguimiento de oportunidades y clientes"]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),f.jsx("input",{type:"tel",id:"telefono",value:s.telefono,onChange:y=>v("telefono",y.target.value),className:"input",placeholder:"+1 234 567 8900",disabled:a})]}),t&&f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",checked:s.activo,onChange:y=>v("activo",y.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:a}),f.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Usuario activo"})]}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Los usuarios inactivos no pueden iniciar sesión en el sistema"})]}),!t&&f.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Contraseña temporal"}),f.jsx("div",{className:"mt-2 text-sm text-blue-700",children:f.jsx("p",{children:"Se generará automáticamente una contraseña temporal que deberás proporcionar al usuario."})})]})]})}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[f.jsx("button",{type:"button",onClick:r,className:"btn-secondary",disabled:a,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?"Actualizando...":"Creando..."]}):t?"Actualizar Usuario":"Crear Usuario"})]})]})]})})}):null},w6=({user:t,activities:e,isOpen:r,onClose:n})=>{if(!r||!t)return null;const a=m=>new Date(m).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),s=m=>{switch(m){case"user_created":return"Usuario creado";case"user_updated":return"Usuario actualizado";case"password_reset":return"Contraseña restablecida";case"login":return"Inicio de sesión";case"logout":return"Cierre de sesión";case"password_changed":return"Contraseña cambiada";default:return m}},l=m=>{switch(m){case"user_created":return"➕";case"user_updated":return"✏️";case"password_reset":return"🔑";case"login":return"🔓";case"logout":return"🔒";case"password_changed":return"🔐";default:return"📝"}},u=m=>{switch(m){case"user_created":return"text-green-600 bg-green-50";case"user_updated":return"text-blue-600 bg-blue-50";case"password_reset":return"text-yellow-600 bg-yellow-50";case"login":return"text-green-600 bg-green-50";case"logout":return"text-gray-600 bg-gray-50";case"password_changed":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},h=m=>{if(!m.detalles)return null;try{const x=typeof m.detalles=="string"?JSON.parse(m.detalles):m.detalles;return f.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[m.accion==="user_updated"&&x.changes&&f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Cambios realizados:"}),f.jsx("ul",{className:"list-disc list-inside ml-2 mt-1",children:Object.entries(x.changes).map(([v,y])=>f.jsxs("li",{children:[f.jsxs("span",{className:"capitalize",children:[v,":"]})," ",String(y)]},v))})]}),m.accion==="user_created"&&x.created_user&&f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Usuario creado:"}),f.jsxs("div",{className:"ml-2 mt-1",children:["Email: ",x.created_user.email,f.jsx("br",{}),"Rol: ",x.created_user.rol]})]}),m.accion==="password_reset"&&x.reset_by&&f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Restablecido por:"})," ",x.reset_by]})]})}catch{return f.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Detalles: ",String(m.detalles)]})}};return f.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:f.jsxs("div",{className:"relative top-10 mx-auto p-0 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[f.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-md",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Actividad de Usuario"}),f.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.nombre," (",t.email,")"]})]}),f.jsxs("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:[f.jsx("span",{className:"sr-only",children:"Cerrar"}),f.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),f.jsx("div",{className:"px-6 py-4 max-h-96 overflow-y-auto",children:e.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"📋"}),f.jsx("p",{className:"text-gray-500",children:"No hay actividades registradas para este usuario"})]}):f.jsx("div",{className:"space-y-4",children:e.map(m=>f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("div",{className:"flex items-start justify-between",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${u(m.accion)}`,children:f.jsx("span",{className:"text-sm",children:l(m.accion)})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:s(m.accion)}),f.jsx("p",{className:"text-sm text-gray-500",children:a(m.fecha)}),m.performed_by_name&&f.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Realizado por: ",m.performed_by_name]}),h(m)]})]})}),(m.ip_address||m.user_agent)&&f.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:f.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[m.ip_address&&f.jsxs("div",{children:["IP: ",m.ip_address]}),m.user_agent&&f.jsxs("div",{className:"truncate",children:["Navegador: ",m.user_agent]})]})})]},m.log_id))})}),f.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-3 rounded-b-md",children:f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{onClick:n,className:"btn-secondary",children:"Cerrar"})})})]})})},A6=()=>{const[t,e]=z.useState([]),[r,n]=z.useState(null),[a,s]=z.useState(!0),[l,u]=z.useState(""),[h,m]=z.useState(null),[x,v]=z.useState(!1),[y,b]=z.useState(!1),[w,_]=z.useState(!1),[N,C]=z.useState([]),[E,O]=z.useState(""),[j,R]=z.useState(!1),[k,K]=z.useState({page:1,limit:10}),[W,J]=z.useState({page:1,limit:10,total:0,totalPages:0,hasNext:!1,hasPrev:!1});z.useEffect(()=>{Z()},[k]);const Z=async()=>{try{s(!0);const[ae,we]=await Promise.all([x6(k),p6()]);e(ae.users),J(ae.pagination),n(we)}catch(ae){u("Error al cargar datos de usuarios"),console.error(ae)}finally{s(!1)}},ve=async ae=>{try{const we=await v6(ae);O(we.temporary_password),R(!0),v(!1),Z()}catch(we){u("Error al crear usuario"),console.error(we)}},se=async ae=>{if(h)try{await g6(h.user_id,ae),b(!1),m(null),Z()}catch(we){u("Error al actualizar usuario"),console.error(we)}},he=async ae=>{try{const we=await y6(ae);O(we.temporary_password),R(!0)}catch(we){u("Error al restablecer contraseña"),console.error(we)}},ce=async ae=>{try{m(ae);const we=await b6(ae.user_id);C(we.activities),_(!0)}catch(we){u("Error al cargar actividades del usuario"),console.error(we)}},xe=ae=>{switch(ae){case"administrador":return"Administrador";case"mecanico":return"Técnico/Mecánico";case"seguimiento":return"Personal de Seguimiento";default:return ae}},P=ae=>{switch(ae){case"administrador":return"bg-red-100 text-red-800";case"mecanico":return"bg-blue-100 text-blue-800";case"seguimiento":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},ue=ae=>new Date(ae).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Usuarios"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Administra usuarios del sistema"})]}),l&&f.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),r&&f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.total_usuarios}),f.jsx("div",{className:"text-sm text-gray-600",children:"Total Usuarios"})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[f.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.usuarios_activos}),f.jsx("div",{className:"text-sm text-gray-600",children:"Activos"})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[f.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.passwords_temporales}),f.jsx("div",{className:"text-sm text-gray-600",children:"Contraseñas Temp."})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[f.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.activos_mes}),f.jsx("div",{className:"text-sm text-gray-600",children:"Activos Este Mes"})]})]}),f.jsx("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",className:"input",value:k.search||"",onChange:ae=>K({...k,search:ae.target.value,page:1})}),f.jsxs("select",{className:"input",value:k.rol||"",onChange:ae=>K({...k,rol:ae.target.value||void 0,page:1}),children:[f.jsx("option",{value:"",children:"Todos los roles"}),f.jsx("option",{value:"administrador",children:"Administrador"}),f.jsx("option",{value:"mecanico",children:"Técnico/Mecánico"}),f.jsx("option",{value:"seguimiento",children:"Personal de Seguimiento"})]}),f.jsxs("select",{className:"input",value:k.activo?.toString()||"",onChange:ae=>K({...k,activo:ae.target.value?ae.target.value==="true":void 0,page:1}),children:[f.jsx("option",{value:"",children:"Todos los estados"}),f.jsx("option",{value:"true",children:"Activos"}),f.jsx("option",{value:"false",children:"Inactivos"})]})]}),f.jsx("button",{onClick:()=>v(!0),className:"btn-primary whitespace-nowrap",children:"+ Nuevo Usuario"})]})}),f.jsxs("div",{className:"bg-white shadow border rounded-lg overflow-hidden",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Último Acceso"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(ae=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae.nombre}),f.jsx("div",{className:"text-sm text-gray-500",children:ae.email}),ae.password_temp&&f.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Contraseña temporal"})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P(ae.rol)}`,children:xe(ae.rol)})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ae.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ae.activo?"Activo":"Inactivo"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ae.ultimo_login?ue(ae.ultimo_login):"Nunca"}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[f.jsx("button",{onClick:()=>{m(ae),b(!0)},className:"text-blue-600 hover:text-blue-900",children:"Editar"}),f.jsx("button",{onClick:()=>he(ae.user_id),className:"text-yellow-600 hover:text-yellow-900",children:"Reset Password"}),f.jsx("button",{onClick:()=>ce(ae),className:"text-green-600 hover:text-green-900",children:"Actividad"})]})]},ae.user_id))})]})}),W.totalPages>1&&f.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[f.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",(W.page-1)*W.limit+1," a ",Math.min(W.page*W.limit,W.total)," de ",W.total," usuarios"]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>K({...k,page:W.page-1}),disabled:!W.hasPrev,className:"btn-secondary disabled:opacity-50",children:"Anterior"}),f.jsx("button",{onClick:()=>K({...k,page:W.page+1}),disabled:!W.hasNext,className:"btn-secondary disabled:opacity-50",children:"Siguiente"})]})]})]}),j&&f.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:f.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:f.jsxs("div",{className:"mt-3",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contraseña Temporal Generada"}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded border",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Contraseña temporal:"}),f.jsx("p",{className:"text-lg font-mono font-bold text-blue-600 bg-white p-2 rounded border",children:E})]}),f.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"⚠️ Guarda esta contraseña temporal. El usuario deberá cambiarla en su primer inicio de sesión."}),f.jsx("div",{className:"flex justify-end mt-6",children:f.jsx("button",{onClick:()=>{R(!1),O("")},className:"btn-primary",children:"Entendido"})})]})})}),f.jsx(_6,{user:y?h:void 0,isOpen:x||y,onClose:()=>{v(!1),b(!1),m(null)},onSubmit:y?se:ve,loading:a}),f.jsx(w6,{user:h,activities:N,isOpen:w,onClose:()=>{_(!1),m(null),C([])}})]})};class E6{async getCitasDelDia(e){const r=e?`?fecha=${e}`:"";return(await _e.get(`/reception/citas${r}`)).data}async processWalkInClient(e){return(await _e.post("/reception/walk-in",e)).data}async convertOpportunityToCita(e){return(await _e.post("/reception/convert-opportunity",e)).data}async receptionarCita(e,r){return(await _e.post(`/reception/recepcionar/${e}`,r)).data}async buscarCliente(e){return(await _e.get(`/customers/search?nombre=${encodeURIComponent(e)}`)).data}async getVehiculosCliente(e){return(await _e.get(`/customers/${e}/vehicles`)).data}async buscarVehiculo(e){return(await _e.get(`/vehicles/search?placa=${encodeURIComponent(e)}`)).data}}const so=new E6,N6=()=>{const[t,e]=z.useState([]),[r,n]=z.useState(!0),[a,s]=z.useState(new Date().toISOString().split("T")[0]),[l,u]=z.useState(!1),[h,m]=z.useState(!1),[x,v]=z.useState(null),[y,b]=z.useState(""),[w,_]=z.useState([]),[N,C]=z.useState(null),[E,O]=z.useState([]),[j,R]=z.useState(!0),[k,K]=z.useState("nuevo"),[W,J]=z.useState({accion:"servicio_inmediato",cliente_nuevo:{nombre:"",telefono:"",whatsapp:"",email:"",direccion:""},vehiculo_nuevo:{marca:"",modelo:"",año:new Date().getFullYear(),placa_actual:"",color:"",kilometraje_actual:0},servicio_inmediato:{tipo_servicio:"",descripcion:"",precio_estimado:0}}),[Z,ve]=z.useState({tipo_servicio:"",descripcion:"",precio_estimado:0,usuario_mecanico:null}),se=async()=>{try{n(!0);const U=await so.getCitasDelDia(a);e(U.citas)}catch(U){console.error("Error cargando citas:",U),alert("Error cargando citas del día")}finally{n(!1)}},he=async()=>{if(y.trim().length<2){_([]);return}try{console.log("🔍 Buscando clientes con query:",y);const U=await so.buscarCliente(y.trim());console.log("📋 Respuesta de búsqueda:",U);const L=U.customers||[];_(L),console.log("✅ Clientes encontrados:",L.length)}catch(U){console.error("❌ Error buscando clientes:",U),_([])}},ce=async U=>{C(U),b(U.nombre),_([]);try{console.log("🚗 Cargando vehículos para cliente:",U.customer_id,U.nombre);const L=await so.getVehiculosCliente(U.customer_id);console.log("📋 Respuesta de vehículos:",L);const fe=L.vehicles||[];O(fe),R(!0),console.log("✅ Vehículos encontrados:",fe.length),fe.length>0&&console.log("🚙 Lista de vehículos:",fe)}catch(L){console.error("❌ Error cargando vehículos:",L),O([]),R(!1)}},xe=U=>{console.log("🚗 Vehículo seleccionado:",U),J(L=>({...L,cliente_existente_id:N.customer_id,vehiculo_existente_id:U.vehicle_id,cliente_nuevo:void 0,vehiculo_nuevo:void 0})),R(!1),setTimeout(()=>{const L=document.querySelector("h4");L&&L.textContent?.includes("Servicio")&&L.scrollIntoView({behavior:"smooth",block:"center"})},100)},P=z.useCallback(ue(()=>{he()},500),[y]);z.useEffect(()=>{se()},[a]),z.useEffect(()=>(y.trim().length>=2?P():_([]),()=>{P.cancel&&P.cancel()}),[y,P]);function ue(U,L){let fe;const Ze=(...Xe)=>{clearTimeout(fe),fe=setTimeout(()=>U.apply(null,Xe),L)};return Ze.cancel=()=>clearTimeout(fe),Ze}const ae=async U=>{U.preventDefault();try{await so.processWalkInClient(W),alert("Cliente walk-in procesado exitosamente"),u(!1),I(),se()}catch(L){console.error("Error procesando walk-in:",L),alert(L.response?.data?.details||"Error procesando cliente")}},we=async U=>{if(U.preventDefault(),!!x)try{await so.receptionarCita(x.opportunity_id,Z),alert("Cita recepcionada exitosamente"),m(!1),v(null),X(),se()}catch(L){console.error("Error recepcionando cita:",L),alert(L.response?.data?.details||"Error recepcionando cita")}},I=()=>{J({accion:"servicio_inmediato",cliente_nuevo:{nombre:"",telefono:"",whatsapp:"",email:"",direccion:""},vehiculo_nuevo:{marca:"",modelo:"",año:new Date().getFullYear(),placa_actual:"",color:"",kilometraje_actual:0},servicio_inmediato:{tipo_servicio:"",descripcion:"",precio_estimado:0}}),b(""),_([]),C(null),O([]),R(!0),K("nuevo")},X=()=>{ve({tipo_servicio:"",descripcion:"",precio_estimado:0,usuario_mecanico:null})},de=U=>{const L={opportunity:"bg-blue-100 text-blue-800",llamada_cliente:"bg-green-100 text-green-800",walk_in:"bg-purple-100 text-purple-800",seguimiento:"bg-orange-100 text-orange-800",manual:"bg-gray-100 text-gray-800"},fe={opportunity:"Seguimiento",llamada_cliente:"Llamada",walk_in:"Walk-in",seguimiento:"Seguimiento",manual:"Manual"},Ze=L[U]||"bg-gray-100 text-gray-800",Xe=fe[U]||U;return f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ze}`,children:Xe})},pe=U=>U==="cita_rapida"?f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Datos Incompletos"}):f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Datos Completos"});return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recepción"}),f.jsx("p",{className:"text-gray-600",children:"Gestión de llegada de clientes y citas"})]}),f.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[f.jsx("span",{className:"mr-2",children:"👤"}),"Cliente Walk-In"]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Fecha"}),f.jsx("input",{id:"date",type:"date",value:a,onChange:U=>s(U.target.value),className:"mt-1 block w-48 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsx("div",{className:"bg-white shadow rounded-lg",children:f.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[f.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["📅 Citas del Día - ",new Date(a).toLocaleDateString("es-MX")]}),r?f.jsx("p",{children:"Cargando citas..."}):t.length===0?f.jsx("p",{className:"text-gray-500",children:"No hay citas programadas para este día"}):f.jsx("div",{className:"space-y-4",children:t.map(U=>f.jsx("div",{className:"border border-gray-200 rounded-lg p-4 border-l-4 border-l-blue-500",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{children:"⏰"}),f.jsx("span",{className:"font-semibold",children:U.cita_hora})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{children:"👤"}),f.jsx("span",{children:U.cita_nombre_contacto})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{children:"📞"}),f.jsx("span",{children:U.cita_telefono_contacto})]})]}),f.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[f.jsx("span",{children:"🚗"}),f.jsx("span",{children:U.cita_descripcion_breve})]}),U.placa_actual&&f.jsxs("div",{className:"text-sm text-gray-600",children:[U.marca," ",U.modelo," - ",U.placa_actual]}),f.jsxs("div",{className:"flex gap-2",children:[de(U.origen_cita),pe(U.tipo_cita)]})]}),f.jsx("div",{className:"flex gap-2",children:U.tipo_cita==="cita_completa"?f.jsxs("button",{onClick:()=>{v(U),m(!0)},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[f.jsx("span",{className:"mr-1",children:"✅"}),"Recepcionar"]}):f.jsx("button",{disabled:!0,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-400 bg-gray-100 cursor-not-allowed",children:"Completar Datos Primero"})})]})},U.opportunity_id))})]})}),l&&f.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:f.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:f.jsxs("div",{className:"mt-3",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cliente Walk-In"}),f.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Procesar cliente que llegó sin cita previa"}),f.jsxs("form",{onSubmit:ae,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Cliente"}),f.jsxs("div",{className:"flex space-x-4 mb-4",children:[f.jsxs("label",{className:"inline-flex items-center",children:[f.jsx("input",{type:"radio",value:"nuevo",checked:k==="nuevo",onChange:U=>{const L=U.target.value;K(L),b(""),_([]),C(null),O([]),J(fe=>({...fe,cliente_existente_id:void 0,vehiculo_existente_id:void 0,cliente_nuevo:L==="nuevo"?fe.cliente_nuevo:void 0,vehiculo_nuevo:fe.vehiculo_nuevo}))},className:"form-radio h-4 w-4 text-blue-600"}),f.jsx("span",{className:"ml-2 text-sm",children:"Cliente Nuevo"})]}),f.jsxs("label",{className:"inline-flex items-center",children:[f.jsx("input",{type:"radio",value:"existente",checked:k==="existente",onChange:U=>{const L=U.target.value;K(L),b(""),_([]),C(null),O([]),J(fe=>({...fe,cliente_existente_id:void 0,vehiculo_existente_id:void 0,cliente_nuevo:L==="nuevo"?fe.cliente_nuevo:void 0,vehiculo_nuevo:fe.vehiculo_nuevo}))},className:"form-radio h-4 w-4 text-blue-600"}),f.jsx("span",{className:"ml-2 text-sm",children:"Cliente Existente"})]})]}),k==="existente"?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buscar Cliente"}),f.jsx("input",{type:"text",value:y,onChange:U=>b(U.target.value),placeholder:"Buscar por nombre o teléfono... (mín. 2 caracteres)",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),w.length>0&&f.jsx("div",{className:"mt-2 border border-gray-300 rounded-md shadow-sm max-h-40 overflow-y-auto",children:w.map(U=>f.jsxs("div",{onClick:()=>ce(U),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",children:[f.jsx("div",{className:"font-medium text-sm",children:U.nombre}),f.jsx("div",{className:"text-xs text-gray-600",children:U.telefono})]},U.customer_id))})]}),N&&f.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[f.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Cliente Seleccionado:"}),f.jsx("div",{className:"text-sm text-blue-800",children:N.nombre}),f.jsx("div",{className:"text-xs text-blue-700",children:N.telefono})]})]}):f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre *"}),f.jsx("input",{type:"text",required:!0,value:W.cliente_nuevo?.nombre||"",onChange:U=>J(L=>({...L,cliente_nuevo:{...L.cliente_nuevo,nombre:U.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teléfono *"}),f.jsx("input",{type:"tel",required:!0,value:W.cliente_nuevo?.telefono||"",onChange:U=>J(L=>({...L,cliente_nuevo:{...L.cliente_nuevo,telefono:U.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Vehículo"}),k==="existente"&&N?f.jsxs("div",{className:"space-y-4",children:[E.length>0?f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccionar Vehículo del Cliente"}),f.jsx("button",{type:"button",onClick:()=>R(!j),className:"text-xs text-blue-600 hover:text-blue-800",children:j?"▼ Ocultar":"▶ Mostrar"})]}),j&&f.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:E.map(U=>f.jsxs("div",{onClick:()=>xe(U),className:`p-3 border rounded-md cursor-pointer hover:bg-gray-50 ${W.vehiculo_existente_id===U.vehicle_id?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[f.jsxs("div",{className:"font-medium text-sm",children:[U.marca," ",U.modelo," ",U.año]}),f.jsxs("div",{className:"text-xs text-gray-600",children:["Placas: ",U.placa_actual," • KM: ",U.kilometraje_actual]})]},U.vehicle_id))}),f.jsx("div",{className:"mt-3 pt-3 border-t",children:f.jsxs("label",{className:"inline-flex items-center",children:[f.jsx("input",{type:"checkbox",checked:!W.vehiculo_existente_id,onChange:U=>{U.target.checked&&J(L=>({...L,vehiculo_existente_id:void 0,vehiculo_nuevo:{marca:"",modelo:"",año:new Date().getFullYear(),placa_actual:"",color:"",kilometraje_actual:0}}))},className:"form-checkbox h-4 w-4 text-blue-600"}),f.jsx("span",{className:"ml-2 text-sm",children:"Es un vehículo nuevo del cliente"})]})})]}):f.jsx("div",{className:"bg-yellow-50 p-3 rounded-md",children:f.jsx("div",{className:"text-sm text-yellow-800",children:"Este cliente no tiene vehículos registrados. Se registrará un nuevo vehículo."})}),W.vehiculo_existente_id&&f.jsx("div",{className:"bg-green-50 p-4 rounded-md border border-green-200",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("div",{className:"text-sm font-medium text-green-800",children:"Vehículo Seleccionado:"}),(()=>{const U=E.find(L=>L.vehicle_id===W.vehiculo_existente_id);return U?f.jsxs("div",{className:"text-sm text-green-700",children:[U.marca," ",U.modelo," ",U.año," - Placas: ",U.placa_actual]}):null})()]})]})}),(E.length===0||!W.vehiculo_existente_id)&&f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marca *"}),f.jsx("input",{type:"text",required:!0,value:W.vehiculo_nuevo?.marca||"",onChange:U=>J(L=>({...L,vehiculo_nuevo:{...L.vehiculo_nuevo,marca:U.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modelo *"}),f.jsx("input",{type:"text",required:!0,value:W.vehiculo_nuevo?.modelo||"",onChange:U=>J(L=>({...L,vehiculo_nuevo:{...L.vehiculo_nuevo,modelo:U.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Año *"}),f.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:W.vehiculo_nuevo?.año||new Date().getFullYear(),onChange:U=>J(L=>({...L,vehiculo_nuevo:{...L.vehiculo_nuevo,año:parseInt(U.target.value)}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Placas *"}),f.jsx("input",{type:"text",required:!0,value:W.vehiculo_nuevo?.placa_actual||"",onChange:U=>J(L=>({...L,vehiculo_nuevo:{...L.vehiculo_nuevo,placa_actual:U.target.value.toUpperCase()}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}):f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marca *"}),f.jsx("input",{type:"text",required:!0,value:W.vehiculo_nuevo?.marca||"",onChange:U=>J(L=>({...L,vehiculo_nuevo:{...L.vehiculo_nuevo,marca:U.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modelo *"}),f.jsx("input",{type:"text",required:!0,value:W.vehiculo_nuevo?.modelo||"",onChange:U=>J(L=>({...L,vehiculo_nuevo:{...L.vehiculo_nuevo,modelo:U.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Año *"}),f.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:W.vehiculo_nuevo?.año||new Date().getFullYear(),onChange:U=>J(L=>({...L,vehiculo_nuevo:{...L.vehiculo_nuevo,año:parseInt(U.target.value)}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Placas *"}),f.jsx("input",{type:"text",required:!0,value:W.vehiculo_nuevo?.placa_actual||"",onChange:U=>J(L=>({...L,vehiculo_nuevo:{...L.vehiculo_nuevo,placa_actual:U.target.value.toUpperCase()}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Servicio"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"¿Qué quiere hacer el cliente?"}),f.jsxs("select",{value:W.accion,onChange:U=>J(L=>({...L,accion:U.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[f.jsx("option",{value:"servicio_inmediato",children:"Servicio inmediato"}),f.jsx("option",{value:"agendar_cita",children:"Agendar cita para después"})]})]}),W.accion==="servicio_inmediato"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de servicio *"}),f.jsx("input",{type:"text",required:!0,value:W.servicio_inmediato?.tipo_servicio||"",onChange:U=>J(L=>({...L,servicio_inmediato:{...L.servicio_inmediato,tipo_servicio:U.target.value}})),placeholder:"Ej: Cambio de aceite, Reparación de frenos...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción"}),f.jsx("textarea",{value:W.servicio_inmediato?.descripcion||"",onChange:U=>J(L=>({...L,servicio_inmediato:{...L.servicio_inmediato,descripcion:U.target.value}})),placeholder:"Detalles del servicio requerido...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3})]})]})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:W.accion==="servicio_inmediato"?"Crear Servicio":"Agendar Cita"})]})]})]})})}),h&&x&&f.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:f.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/3 shadow-lg rounded-md bg-white",children:f.jsxs("div",{className:"mt-3",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recepcionar Cita"}),f.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Cliente: ",x.cita_nombre_contacto," - ",x.cita_descripcion_breve]}),f.jsxs("form",{onSubmit:we,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de servicio"}),f.jsx("input",{type:"text",value:Z.tipo_servicio,onChange:U=>ve(L=>({...L,tipo_servicio:U.target.value})),placeholder:x.cita_descripcion_breve,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción detallada"}),f.jsx("textarea",{value:Z.descripcion,onChange:U=>ve(L=>({...L,descripcion:U.target.value})),placeholder:"Detalles del diagnóstico y trabajo a realizar...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Precio estimado"}),f.jsx("input",{type:"number",min:"0",step:"0.01",value:Z.precio_estimado,onChange:U=>ve(L=>({...L,precio_estimado:parseFloat(U.target.value)||0})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Crear Servicio"})]})]})]})})})]})},S6=()=>{const{user:t}=xn(),[e,r]=z.useState("list"),[n,a]=z.useState(null),[s,l]=z.useState([]),[u,h]=z.useState([]),[m,x]=z.useState(!1),[v,y]=z.useState(null),[b,w]=z.useState(!1),[_,N]=z.useState({page:1,limit:20,total:0,totalPages:0}),C=t?.rol==="administrador",{register:E,watch:O,reset:j}=en(),R=O(),{register:k,handleSubmit:K,reset:W,formState:{isSubmitting:J},setValue:Z,watch:ve}=en(),se=ve("especialidades")||[];z.useEffect(()=>{he(),ce()},[]),z.useEffect(()=>{Object.values(R).some(L=>L)&&(N(L=>({...L,page:1})),he())},[R]);const he=async(L=1)=>{x(!0),y(null);try{const fe=Object.fromEntries(Object.entries(R).filter(([Xe,Gt])=>Gt&&Gt!=="")),Ze=await vr.getMechanics({...fe,page:L,limit:_.limit});l(Ze.mechanics||[]),N({page:Ze.pagination?.page||1,limit:Ze.pagination?.limit||20,total:Ze.pagination?.total||0,totalPages:Ze.pagination?.totalPages||0})}catch(fe){console.error("Error cargando mecánicos:",fe),y(fe.response?.data?.message||"Error al cargar mecánicos")}finally{x(!1)}},ce=async()=>{try{const L=await vr.getBranches();h(L.branches||[])}catch(L){console.error("Error cargando sucursales:",L)}},xe=async L=>{try{const fe=await vr.getMechanicById(L.mechanic_id);a(fe.mechanic),r("detail")}catch(fe){console.error("Error cargando detalle del mecánico:",fe),y(fe.response?.data?.message||"Error al cargar detalle del mecánico")}},P=()=>{W({branch_id:u[0]?.branch_id||1,especialidades:[],nivel_experiencia:"junior",comision_porcentaje:0}),r("create")},ue=()=>{n&&(W({...n}),r("edit"))},ae=async L=>{try{if(y(null),e==="create")await vr.createMechanic(L);else if(e==="edit"&&n){const fe=await vr.updateMechanic(n.mechanic_id,L);a(fe.mechanic)}await he(_.page),r(e==="create"?"list":"detail")}catch(fe){console.error("Error guardando mecánico:",fe),y(fe.response?.data?.message||"Error al guardar mecánico")}},we=async L=>{if(confirm("¿Estás seguro de que deseas eliminar este mecánico?"))try{y(null),await vr.deleteMechanic(L),await he(_.page),r("list"),a(null)}catch(fe){console.error("Error eliminando mecánico:",fe),y(fe.response?.data?.message||"Error al eliminar mecánico")}},I=()=>{j(),N(L=>({...L,page:1})),he()},X=L=>{L&&!se.includes(L)&&Z("especialidades",[...se,L])},de=L=>{Z("especialidades",se.filter((fe,Ze)=>Ze!==L))},pe=L=>{switch(L){case"master":return"bg-gradient-to-r from-purple-500 to-purple-600 text-white";case"senior":return"bg-gradient-to-r from-blue-500 to-blue-600 text-white";case"intermedio":return"bg-gradient-to-r from-green-500 to-green-600 text-white";case"junior":return"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white";default:return"bg-gray-100 text-gray-800"}},U=()=>{switch(e){case"create":case"edit":return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("button",{onClick:()=>r(e==="create"?"list":"detail"),className:"flex items-center text-gray-600 hover:text-gray-800",children:["← Regresar ",e==="create"?"a lista":"a detalle"]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e==="create"?"Crear Nuevo Mecánico":`Editar Mecánico #${n?.mechanic_id}`}),f.jsxs("form",{onSubmit:K(ae),className:"space-y-6",children:[f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:"Información del Mecánico"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sucursal *"}),f.jsx("select",{...k("branch_id"),className:"input-field",required:!0,children:u.map(L=>f.jsx("option",{value:L.branch_id,children:L.nombre},L.branch_id))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),f.jsx("input",{...k("nombre"),type:"text",className:"input-field",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellidos *"}),f.jsx("input",{...k("apellidos"),type:"text",className:"input-field",required:!0})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Alias/Sobrenombre",f.jsx("span",{className:"text-xs text-gray-500 ml-2",children:'(máximo 15 caracteres - ej: "Pepe", "El Checo")'})]}),f.jsx("input",{...k("alias"),type:"text",className:"input-field",placeholder:"Sobrenombre para identificación rápida",maxLength:15})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),f.jsx("input",{...k("telefono"),type:"tel",className:"input-field",placeholder:"Opcional"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nivel de Experiencia *"}),f.jsxs("select",{...k("nivel_experiencia"),className:"input-field",required:!0,children:[f.jsx("option",{value:"junior",children:"Junior"}),f.jsx("option",{value:"intermedio",children:"Intermedio"}),f.jsx("option",{value:"senior",children:"Senior"}),f.jsx("option",{value:"master",children:"Master"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salario Base"}),f.jsx("input",{...k("salario_base"),type:"number",step:"0.01",className:"input-field",placeholder:"Opcional"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comisión (%)"}),f.jsx("input",{...k("comision_porcentaje"),type:"number",step:"0.01",min:"0",max:"100",className:"input-field",placeholder:"0"})]})]}),e==="edit"&&f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{...k("activo"),type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f.jsx("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"Activo"})]})]})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especialidades"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"flex flex-wrap gap-2",children:se.map((L,fe)=>f.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[L,f.jsx("button",{type:"button",onClick:()=>de(fe),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},fe))}),f.jsx("div",{className:"flex flex-wrap gap-2",children:vr.getCommonSpecialties().filter(L=>!se.includes(L)).map(L=>f.jsxs("button",{type:"button",onClick:()=>X(L),className:"px-3 py-1 text-sm border border-gray-300 rounded-full hover:bg-gray-50",children:["+ ",L]},L))})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),f.jsx("textarea",{...k("notas"),className:"input-field",rows:3,placeholder:"Notas adicionales sobre el mecánico..."})]}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{type:"button",onClick:()=>r(e==="create"?"list":"detail"),className:"btn-secondary",disabled:J,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary",disabled:J,children:J?"Guardando...":e==="create"?"Crear Mecánico":"Guardar Cambios"})]})]})]})]});case"detail":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("button",{onClick:()=>r("list"),className:"flex items-center text-gray-600 hover:text-gray-800",children:"← Regresar a mecánicos"}),f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:vr.formatName(n)}),f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsxs("span",{className:`px-4 py-2 rounded-lg font-semibold text-sm ${pe(n.nivel_experiencia)}`,children:["🏆 ",vr.formatExperienceLevel(n.nivel_experiencia)]}),f.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${n.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.activo?"✅ Activo":"❌ Inactivo"})]})]}),C&&f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs("button",{onClick:ue,className:"btn-primary flex items-center space-x-2",children:[f.jsx("span",{children:"✏️"}),f.jsx("span",{children:"Editar"})]}),f.jsx("button",{onClick:()=>we(n.mechanic_id),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"🗑️ Eliminar"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Información Personal"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Empleado:"})," ",n.numero_empleado]}),n.alias&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Alias:"})," ",f.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:['"',n.alias,'"']})]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Sucursal:"})," ",n.branch_nombre]}),n.telefono&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",n.telefono]}),n.email&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email]}),n.fecha_nacimiento&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Nacimiento:"})," ",vr.formatDate(n.fecha_nacimiento)]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Ingreso:"})," ",vr.formatDate(n.fecha_ingreso)]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Información Laboral"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[n.salario_base&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Salario:"})," ",vr.formatSalary(n.salario_base)]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Comisión:"})," ",n.comision_porcentaje,"%"]}),n.horario_trabajo&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Horario:"})," ",n.horario_trabajo]})]})]})]}),n.especialidades.length>0&&f.jsxs("div",{className:"mt-6",children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Especialidades"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:n.especialidades.map((L,fe)=>f.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:L},fe))})]}),n.notas&&f.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Notas"}),f.jsx("p",{className:"text-sm text-gray-700",children:n.notas})]})]})]});default:return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Mecánicos"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>w(!b),className:"btn-secondary text-sm",children:b?"Ocultar Filtros":"Mostrar Filtros"}),C&&f.jsxs("button",{onClick:P,className:"btn-primary text-sm flex items-center space-x-2",children:[f.jsx("span",{children:"➕"}),f.jsx("span",{children:"Nuevo Mecánico"})]})]})]}),b&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),f.jsx("input",{...E("search"),type:"text",placeholder:"Nombre, apellido o número...",className:"input-field text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sucursal"}),f.jsxs("select",{...E("branch_id"),className:"input-field text-sm",children:[f.jsx("option",{value:"",children:"Todas"}),u.map(L=>f.jsx("option",{value:L.branch_id,children:L.nombre},L.branch_id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experiencia"}),f.jsxs("select",{...E("nivel_experiencia"),className:"input-field text-sm",children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"junior",children:"Junior"}),f.jsx("option",{value:"intermedio",children:"Intermedio"}),f.jsx("option",{value:"senior",children:"Senior"}),f.jsx("option",{value:"master",children:"Master"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),f.jsxs("select",{...E("activo"),className:"input-field text-sm",children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"true",children:"Activos"}),f.jsx("option",{value:"false",children:"Inactivos"})]})]}),f.jsx("div",{className:"md:col-span-2 lg:col-span-4",children:f.jsx("button",{onClick:I,className:"btn-secondary text-sm",children:"Limpiar Filtros"})})]})]}),v&&f.jsx("div",{className:"card p-4 bg-red-50 border border-red-200",children:f.jsx("p",{className:"text-red-600 text-sm",children:v})}),m?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando mecánicos..."})]}):s.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[_.total," mecánicos encontrados (página ",_.page," de ",_.totalPages,")"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(L=>f.jsxs("div",{className:"card p-6 hover:shadow-lg hover:border-blue-200 transition-all duration-200 cursor-pointer",onClick:()=>xe(L),children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[L.nombre," ",L.apellidos]}),L.alias&&f.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:['"',L.alias,'"']})]}),f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["#",L.numero_empleado]}),f.jsx("p",{className:"text-sm text-gray-600",children:L.branch_nombre})]}),f.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${L.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.activo?"✅":"❌"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm font-semibold ${pe(L.nivel_experiencia)}`,children:["🏆 ",vr.formatExperienceLevel(L.nivel_experiencia)]}),L.especialidades.length>0&&f.jsxs("div",{className:"flex flex-wrap gap-1",children:[L.especialidades.slice(0,2).map((fe,Ze)=>f.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:fe},Ze)),L.especialidades.length>2&&f.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",L.especialidades.length-2]})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mt-3",children:[f.jsxs("span",{children:["📅 ",vr.formatDate(L.fecha_ingreso)]}),L.telefono&&f.jsxs("span",{children:["📱 ",L.telefono]})]})]})]},L.mechanic_id))}),_.totalPages>1&&f.jsxs("div",{className:"flex justify-center space-x-2 mt-6",children:[f.jsx("button",{onClick:()=>he(_.page-1),disabled:_.page===1,className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"← Anterior"}),f.jsxs("span",{className:"px-4 py-2 text-sm text-gray-700",children:["Página ",_.page," de ",_.totalPages]}),f.jsx("button",{onClick:()=>he(_.page+1),disabled:_.page===_.totalPages,className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente →"})]})]}):f.jsxs("div",{className:"card p-8 text-center",children:[f.jsx("p",{className:"text-gray-600 mb-4",children:"No hay mecánicos que coincidan con los filtros"}),C&&f.jsx("button",{onClick:P,className:"btn-primary",children:"Crear Primer Mecánico"}),Object.values(R).some(L=>L)&&f.jsx("button",{onClick:I,className:"mt-4 btn-secondary text-sm",children:"Limpiar filtros"})]})]})}};return f.jsx("div",{className:"bg-gray-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:U()})})},C6=()=>{const[t,e]=z.useState("dashboard");z.useEffect(()=>{const l=u=>{e(u.detail)};return window.addEventListener("navigate",l),()=>window.removeEventListener("navigate",l)},[]);const[r,n]=z.useState(!1),a=()=>{console.log("🎯 MainApp: Navigating to vehicle creation form"),n(!0),e("vehicles")},s=()=>{switch(t){case"appointmentList":return f.jsx(uE,{});case"appointments":return f.jsx(cE,{});case"vehicles":return f.jsx(a6,{initialMode:r?"create":"search",onModeUsed:()=>n(!1)});case"customers":return f.jsx(o6,{});case"opportunities":return f.jsx(d6,{});case"services":return f.jsx(h6,{});case"reminders":return f.jsx(m6,{});case"reception":return f.jsx(N6,{});case"users":return f.jsx(A6,{});case"mechanics":return f.jsx(S6,{});default:return f.jsx(lE,{onNavigate:e,onNavigateToVehicleForm:a})}};return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(sE,{currentPage:t,onPageChange:e}),s()]})},O6=new ub({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function T6(){const{user:t,isLoading:e}=xn();return e?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):t?f.jsx(C6,{}):f.jsx(iE,{})}function j6(){return f.jsx(db,{client:O6,children:f.jsx(G_,{children:f.jsx(T6,{})})})}z2.createRoot(document.getElementById("root")).render(f.jsx(z.StrictMode,{children:f.jsx(j6,{})}));
